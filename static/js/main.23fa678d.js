/*! For license information please see main.23fa678d.js.LICENSE.txt */
!function(){var e={1694:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var a=typeof n;if("string"===a||"number"===a)e.push(n);else if(Array.isArray(n)){if(n.length){var o=i.apply(null,n);o&&e.push(o)}}else if("object"===a){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var s in n)r.call(n,s)&&n[s]&&e.push(s)}}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},2176:function(e){"use strict";e.exports=function(e,t,n,r,i,a,o,s){if(!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,i,a,o,s],c=0;(u=new Error(t.replace(/%s/g,(function(){return l[c++]})))).name="Invariant Violation"}throw u.framesToPop=1,u}}},3573:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,a.default)((function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=null;return t.forEach((function(e){if(null==i){var t=e.apply(void 0,n);null!=t&&(i=t)}})),i}))};var r,i=n(6054),a=(r=i)&&r.__esModule?r:{default:r};e.exports=t.default},6054:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){function t(t,n,r,i,a,o){var s=i||"<<anonymous>>",u=o||r;if(null==n[r])return t?new Error("Required "+a+" `"+u+"` was not specified in `"+s+"`."):null;for(var l=arguments.length,c=Array(l>6?l-6:0),f=6;f<l;f++)c[f-6]=arguments[f];return e.apply(void 0,[n,r,s,a,u].concat(c))}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n},e.exports=t.default},888:function(e,t,n){"use strict";var r=n(9047);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},2007:function(e,t,n){e.exports=n(888)()},9047:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},4463:function(e,t,n){"use strict";var r=n(2791),i=n(5296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function u(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},h={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){y[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];y[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){y[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){y[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){y[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){y[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){y[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){y[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){y[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var m=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=y.hasOwnProperty(t)?y[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(h,e)||!f.call(p,e)&&(d.test(e)?h[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(m,g);y[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(m,g);y[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(m,g);y[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){y[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),y.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){y[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var x=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),S=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),_=Symbol.for("react.provider"),C=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),D=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var N=Symbol.iterator;function M(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=N&&e[N]||e["@@iterator"])?e:null}var F,L=Object.assign;function B(e){if(void 0===F)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);F=t&&t[1]||""}return"\n"+F+e}var j=!1;function z(e,t){if(!e||j)return"";j=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&"string"===typeof l.stack){for(var i=l.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s]){var u="\n"+i[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=o&&0<=s);break}}}finally{j=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?B(e):""}function W(e){switch(e.tag){case 5:return B(e.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return e=z(e.type,!1);case 11:return e=z(e.type.render,!1);case 1:return e=z(e.type,!0);default:return""}}function V(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case T:return"Fragment";case S:return"Portal";case k:return"Profiler";case E:return"StrictMode";case O:return"Suspense";case I:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case _:return(e._context.displayName||"Context")+".Provider";case P:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case A:return null!==(t=e.displayName||null)?t:V(e.type)||"Memo";case D:t=e._payload,e=e._init;try{return V(e(t))}catch(n){}}return null}function U(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return V(t);case 8:return t===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function K(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function q(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function X(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return L({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function J(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=K(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function $(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function Q(e,t){$(e,t);var n=K(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,K(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&X(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+K(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return L({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:K(n)}}function ae(e,t){var n=K(t.value),r=K(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var le,ce,fe=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((le=le||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=le.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},he=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function ye(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(pe).forEach((function(e){he.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]}))}));var me=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(me[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xe=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,Te=null,Ee=null;function ke(e){if(e=bi(e)){if("function"!==typeof Se)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),Se(e.stateNode,e.type,t))}}function _e(e){Te?Ee?Ee.push(e):Ee=[e]:Te=e}function Ce(){if(Te){var e=Te,t=Ee;if(Ee=Te=null,ke(e),t)for(e=0;e<t.length;e++)ke(t[e])}}function Pe(e,t){return e(t)}function Oe(){}var Ie=!1;function Ae(e,t,n){if(Ie)return e(t,n);Ie=!0;try{return Pe(e,t,n)}finally{Ie=!1,(null!==Te||null!==Ee)&&(Oe(),Ce())}}function De(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Re=!1;if(c)try{var Ne={};Object.defineProperty(Ne,"passive",{get:function(){Re=!0}}),window.addEventListener("test",Ne,Ne),window.removeEventListener("test",Ne,Ne)}catch(ce){Re=!1}function Me(e,t,n,r,i,a,o,s,u){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(c){this.onError(c)}}var Fe=!1,Le=null,Be=!1,je=null,ze={onError:function(e){Fe=!0,Le=e}};function We(e,t,n,r,i,a,o,s,u){Fe=!1,Le=null,Me.apply(ze,arguments)}function Ve(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ue(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ke(e){if(Ve(e)!==e)throw Error(a(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ve(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Ke(i),e;if(o===r)return Ke(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?qe(e):null}function qe(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=qe(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Xe=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,Je=i.unstable_requestPaint,$e=i.unstable_now,Qe=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/ut|0)|0},st=Math.log,ut=Math.LN2;var lt=64,ct=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~i;0!==s?r=ft(s):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ht(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=lt;return 0===(4194240&(lt<<=1))&&(lt=64),e}function yt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function mt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function xt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,St,Tt,Et,kt,_t=!1,Ct=[],Pt=null,Ot=null,It=null,At=new Map,Dt=new Map,Rt=[],Nt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mt(e,t){switch(e){case"focusin":case"focusout":Pt=null;break;case"dragenter":case"dragleave":Ot=null;break;case"mouseover":case"mouseout":It=null;break;case"pointerover":case"pointerout":At.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dt.delete(t.pointerId)}}function Ft(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&St(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Lt(e){var t=gi(e.target);if(null!==t){var n=Ve(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ue(n)))return e.blockedOn=t,void kt(e.priority,(function(){Tt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Bt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&St(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);xe=r,n.target.dispatchEvent(r),xe=null,t.shift()}return!0}function jt(e,t,n){Bt(e)&&n.delete(t)}function zt(){_t=!1,null!==Pt&&Bt(Pt)&&(Pt=null),null!==Ot&&Bt(Ot)&&(Ot=null),null!==It&&Bt(It)&&(It=null),At.forEach(jt),Dt.forEach(jt)}function Wt(e,t){e.blockedOn===t&&(e.blockedOn=null,_t||(_t=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,zt)))}function Vt(e){function t(t){return Wt(t,e)}if(0<Ct.length){Wt(Ct[0],e);for(var n=1;n<Ct.length;n++){var r=Ct[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Pt&&Wt(Pt,e),null!==Ot&&Wt(Ot,e),null!==It&&Wt(It,e),At.forEach(t),Dt.forEach(t),n=0;n<Rt.length;n++)(r=Rt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Rt.length&&null===(n=Rt[0]).blockedOn;)Lt(n),null===n.blockedOn&&Rt.shift()}var Ut=x.ReactCurrentBatchConfig,Kt=!0;function Ht(e,t,n,r){var i=bt,a=Ut.transition;Ut.transition=null;try{bt=1,Gt(e,t,n,r)}finally{bt=i,Ut.transition=a}}function qt(e,t,n,r){var i=bt,a=Ut.transition;Ut.transition=null;try{bt=4,Gt(e,t,n,r)}finally{bt=i,Ut.transition=a}}function Gt(e,t,n,r){if(Kt){var i=Yt(e,t,n,r);if(null===i)Kr(e,t,r,Xt,n),Mt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Pt=Ft(Pt,e,t,n,r,i),!0;case"dragenter":return Ot=Ft(Ot,e,t,n,r,i),!0;case"mouseover":return It=Ft(It,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return At.set(a,Ft(At.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Dt.set(a,Ft(Dt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Mt(e,r),4&t&&-1<Nt.indexOf(e)){for(;null!==i;){var a=bi(i);if(null!==a&&wt(a),null===(a=Yt(e,t,n,r))&&Kr(e,t,r,Xt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Kr(e,t,r,null,n)}}var Xt=null;function Yt(e,t,n,r){if(Xt=null,null!==(e=gi(e=we(r))))if(null===(t=Ve(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ue(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Xt=e,null}function Jt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Qe()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var $t=null,Qt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Qt,r=n.length,i="value"in $t?$t.value:$t.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return L(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,sn,un,ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=an(ln),fn=L({},ln,{view:0,detail:0}),dn=an(fn),pn=L({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(on=e.screenX-un.screenX,sn=e.screenY-un.screenY):sn=on=0,un=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),hn=an(pn),vn=an(L({},pn,{dataTransfer:0})),yn=an(L({},fn,{relatedTarget:0})),mn=an(L({},ln,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=L({},ln,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=an(gn),xn=an(L({},ln,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function En(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Tn[e])&&!!t[e]}function kn(){return En}var _n=L({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Cn=an(_n),Pn=an(L({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),On=an(L({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kn})),In=an(L({},ln,{propertyName:0,elapsedTime:0,pseudoElement:0})),An=L({},pn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Dn=an(An),Rn=[9,13,27,32],Nn=c&&"CompositionEvent"in window,Mn=null;c&&"documentMode"in document&&(Mn=document.documentMode);var Fn=c&&"TextEvent"in window&&!Mn,Ln=c&&(!Nn||Mn&&8<Mn&&11>=Mn),Bn=String.fromCharCode(32),jn=!1;function zn(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Vn=!1;var Un={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Un[e.type]:"textarea"===t}function Hn(e,t,n,r){_e(r),0<(t=qr(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var qn=null,Gn=null;function Xn(e){Br(e,0)}function Yn(e){if(G(xi(e)))return e}function Jn(e,t){if("change"===e)return t}var $n=!1;if(c){var Qn;if(c){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Qn=Zn}else Qn=!1;$n=Qn&&(!document.documentMode||9<document.documentMode)}function tr(){qn&&(qn.detachEvent("onpropertychange",nr),Gn=qn=null)}function nr(e){if("value"===e.propertyName&&Yn(Gn)){var t=[];Hn(t,Gn,e,we(e)),Ae(Xn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(qn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Gn)}function ar(e,t){if("click"===e)return Yn(t)}function or(e,t){if("input"===e||"change"===e)return Yn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ur(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function lr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=lr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=lr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=X();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=X((e=t.contentWindow).document)}return t}function pr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function hr(e){var t=dr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&pr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=cr(n,a);var o=cr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=c&&"documentMode"in document&&11>=document.documentMode,yr=null,mr=null,gr=null,br=!1;function xr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==yr||yr!==X(r)||("selectionStart"in(r=yr)&&pr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&ur(gr,r)||(gr=r,0<(r=qr(mr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=yr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Sr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},Tr={},Er={};function kr(e){if(Tr[e])return Tr[e];if(!Sr[e])return e;var t,n=Sr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Er)return Tr[e]=n[t];return e}c&&(Er=document.createElement("div").style,"AnimationEvent"in window||(delete Sr.animationend.animation,delete Sr.animationiteration.animation,delete Sr.animationstart.animation),"TransitionEvent"in window||delete Sr.transitionend.transition);var _r=kr("animationend"),Cr=kr("animationiteration"),Pr=kr("animationstart"),Or=kr("transitionend"),Ir=new Map,Ar="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Dr(e,t){Ir.set(e,t),u(t,[e])}for(var Rr=0;Rr<Ar.length;Rr++){var Nr=Ar[Rr];Dr(Nr.toLowerCase(),"on"+(Nr[0].toUpperCase()+Nr.slice(1)))}Dr(_r,"onAnimationEnd"),Dr(Cr,"onAnimationIteration"),Dr(Pr,"onAnimationStart"),Dr("dblclick","onDoubleClick"),Dr("focusin","onFocus"),Dr("focusout","onBlur"),Dr(Or,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mr));function Lr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,u,l){if(We.apply(this,arguments),Fe){if(!Fe)throw Error(a(198));var c=Le;Fe=!1,Le=null,Be||(Be=!0,je=c)}}(r,t,void 0,e),e.currentTarget=null}function Br(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],u=s.instance,l=s.currentTarget;if(s=s.listener,u!==a&&i.isPropagationStopped())break e;Lr(i,s,l),a=u}else for(o=0;o<r.length;o++){if(u=(s=r[o]).instance,l=s.currentTarget,s=s.listener,u!==a&&i.isPropagationStopped())break e;Lr(i,s,l),a=u}}}if(Be)throw e=je,Be=!1,je=null,e}function jr(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(Ur(t,e,2,!1),n.add(r))}function zr(e,t,n){var r=0;t&&(r|=4),Ur(n,e,r,t)}var Wr="_reactListening"+Math.random().toString(36).slice(2);function Vr(e){if(!e[Wr]){e[Wr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Fr.has(t)||zr(t,!1,e),zr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Wr]||(t[Wr]=!0,zr("selectionchange",!1,t))}}function Ur(e,t,n,r){switch(Jt(t)){case 1:var i=Ht;break;case 4:i=qt;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Kr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=gi(s)))return;if(5===(u=o.tag)||6===u){r=a=o;continue e}s=s.parentNode}}r=r.return}Ae((function(){var r=a,i=we(n),o=[];e:{var s=Ir.get(e);if(void 0!==s){var u=cn,l=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":u=Cn;break;case"focusin":l="focus",u=yn;break;case"focusout":l="blur",u=yn;break;case"beforeblur":case"afterblur":u=yn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=hn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=On;break;case _r:case Cr:case Pr:u=mn;break;case Or:u=In;break;case"scroll":u=dn;break;case"wheel":u=Dn;break;case"copy":case"cut":case"paste":u=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Pn}var c=0!==(4&t),f=!c&&"scroll"===e,d=c?null!==s?s+"Capture":null:s;c=[];for(var p,h=r;null!==h;){var v=(p=h).stateNode;if(5===p.tag&&null!==v&&(p=v,null!==d&&(null!=(v=De(h,d))&&c.push(Hr(h,v,p)))),f)break;h=h.return}0<c.length&&(s=new u(s,l,null,n,i),o.push({event:s,listeners:c}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===xe||!(l=n.relatedTarget||n.fromElement)||!gi(l)&&!l[hi])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(l=(l=n.relatedTarget||n.toElement)?gi(l):null)&&(l!==(f=Ve(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(u=null,l=r),u!==l)){if(c=hn,v="onMouseLeave",d="onMouseEnter",h="mouse","pointerout"!==e&&"pointerover"!==e||(c=Pn,v="onPointerLeave",d="onPointerEnter",h="pointer"),f=null==u?s:xi(u),p=null==l?s:xi(l),(s=new c(v,h+"leave",u,n,i)).target=f,s.relatedTarget=p,v=null,gi(i)===r&&((c=new c(d,h+"enter",l,n,i)).target=p,c.relatedTarget=f,v=c),f=v,u&&l)e:{for(d=l,h=0,p=c=u;p;p=Gr(p))h++;for(p=0,v=d;v;v=Gr(v))p++;for(;0<h-p;)c=Gr(c),h--;for(;0<p-h;)d=Gr(d),p--;for(;h--;){if(c===d||null!==d&&c===d.alternate)break e;c=Gr(c),d=Gr(d)}c=null}else c=null;null!==u&&Xr(o,s,u,c,!1),null!==l&&null!==f&&Xr(o,f,l,c,!0)}if("select"===(u=(s=r?xi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var y=Jn;else if(Kn(s))if($n)y=or;else{y=ir;var m=rr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(y=ar);switch(y&&(y=y(e,r))?Hn(o,y,n,i):(m&&m(e,s,r),"focusout"===e&&(m=s._wrapperState)&&m.controlled&&"number"===s.type&&ee(s,"number",s.value)),m=r?xi(r):window,e){case"focusin":(Kn(m)||"true"===m.contentEditable)&&(yr=m,mr=r,gr=null);break;case"focusout":gr=mr=yr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,xr(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":xr(o,n,i)}var g;if(Nn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Vn?zn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Ln&&"ko"!==n.locale&&(Vn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Vn&&(g=en()):(Qt="value"in($t=i)?$t.value:$t.textContent,Vn=!0)),0<(m=qr(r,b)).length&&(b=new xn(b,e,null,n,i),o.push({event:b,listeners:m}),g?b.data=g:null!==(g=Wn(n))&&(b.data=g))),(g=Fn?function(e,t){switch(e){case"compositionend":return Wn(t);case"keypress":return 32!==t.which?null:(jn=!0,Bn);case"textInput":return(e=t.data)===Bn&&jn?null:e;default:return null}}(e,n):function(e,t){if(Vn)return"compositionend"===e||!Nn&&zn(e,t)?(e=en(),Zt=Qt=$t=null,Vn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ln&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=qr(r,"onBeforeInput")).length&&(i=new xn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Br(o,t)}))}function Hr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function qr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=De(e,n))&&r.unshift(Hr(e,a,i)),null!=(a=De(e,t))&&r.push(Hr(e,a,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Xr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,u=s.alternate,l=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==l&&(s=l,i?null!=(u=De(n,a))&&o.unshift(Hr(n,u,s)):i||null!=(u=De(n,a))&&o.push(Hr(n,u,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Yr=/\r\n?/g,Jr=/\u0000|\uFFFD/g;function $r(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace(Jr,"")}function Qr(e,t,n){if(t=$r(t),$r(e)!==t&&n)throw Error(a(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function ui(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Vt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Vt(t)}function li(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ci(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),di="__reactFiber$"+fi,pi="__reactProps$"+fi,hi="__reactContainer$"+fi,vi="__reactEvents$"+fi,yi="__reactListeners$"+fi,mi="__reactHandles$"+fi;function gi(e){var t=e[di];if(t)return t;for(var n=e.parentNode;n;){if(t=n[hi]||n[di]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ci(e);null!==e;){if(n=e[di])return n;e=ci(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[di]||e[hi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function xi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[pi]||null}var Si=[],Ti=-1;function Ei(e){return{current:e}}function ki(e){0>Ti||(e.current=Si[Ti],Si[Ti]=null,Ti--)}function _i(e,t){Ti++,Si[Ti]=e.current,e.current=t}var Ci={},Pi=Ei(Ci),Oi=Ei(!1),Ii=Ci;function Ai(e,t){var n=e.type.contextTypes;if(!n)return Ci;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Di(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ri(){ki(Oi),ki(Pi)}function Ni(e,t,n){if(Pi.current!==Ci)throw Error(a(168));_i(Pi,t),_i(Oi,n)}function Mi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,U(e)||"Unknown",i));return L({},n,r)}function Fi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ci,Ii=Pi.current,_i(Pi,e),_i(Oi,Oi.current),!0}function Li(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Mi(e,t,Ii),r.__reactInternalMemoizedMergedChildContext=e,ki(Oi),ki(Pi),_i(Pi,e)):ki(Oi),_i(Oi,n)}var Bi=null,ji=!1,zi=!1;function Wi(e){null===Bi?Bi=[e]:Bi.push(e)}function Vi(){if(!zi&&null!==Bi){zi=!0;var e=0,t=bt;try{var n=Bi;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Bi=null,ji=!1}catch(i){throw null!==Bi&&(Bi=Bi.slice(e+1)),Ge(Ze,Vi),i}finally{bt=t,zi=!1}}return null}var Ui=[],Ki=0,Hi=null,qi=0,Gi=[],Xi=0,Yi=null,Ji=1,$i="";function Qi(e,t){Ui[Ki++]=qi,Ui[Ki++]=Hi,Hi=e,qi=t}function Zi(e,t,n){Gi[Xi++]=Ji,Gi[Xi++]=$i,Gi[Xi++]=Yi,Yi=e;var r=Ji;e=$i;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Ji=1<<32-ot(t)+i|n<<i|r,$i=a+e}else Ji=1<<a|n<<i|r,$i=e}function ea(e){null!==e.return&&(Qi(e,1),Zi(e,1,0))}function ta(e){for(;e===Hi;)Hi=Ui[--Ki],Ui[Ki]=null,qi=Ui[--Ki],Ui[Ki]=null;for(;e===Yi;)Yi=Gi[--Xi],Gi[Xi]=null,$i=Gi[--Xi],Gi[Xi]=null,Ji=Gi[--Xi],Gi[Xi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Dl(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function sa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=li(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yi?{id:Ji,overflow:$i}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Dl(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function ua(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function la(e){if(ia){var t=ra;if(t){var n=t;if(!sa(e,t)){if(ua(e))throw Error(a(418));t=li(n.nextSibling);var r=na;t&&sa(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(ua(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function ca(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function fa(e){if(e!==na)return!1;if(!ia)return ca(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(ua(e))throw da(),Error(a(418));for(;t;)oa(e,t),t=li(t.nextSibling)}if(ca(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=li(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?li(e.stateNode.nextSibling):null;return!0}function da(){for(var e=ra;e;)e=li(e.nextSibling)}function pa(){ra=na=null,ia=!1}function ha(e){null===aa?aa=[e]:aa.push(e)}var va=x.ReactCurrentBatchConfig;function ya(e,t){if(e&&e.defaultProps){for(var n in t=L({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ma=Ei(null),ga=null,ba=null,xa=null;function wa(){xa=ba=ga=null}function Sa(e){var t=ma.current;ki(ma),e._currentValue=t}function Ta(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ea(e,t){ga=e,xa=ba=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(xs=!0),e.firstContext=null)}function ka(e){var t=e._currentValue;if(xa!==e)if(e={context:e,memoizedValue:t,next:null},null===ba){if(null===ga)throw Error(a(308));ba=e,ga.dependencies={lanes:0,firstContext:e}}else ba=ba.next=e;return t}var _a=null;function Ca(e){null===_a?_a=[e]:_a.push(e)}function Pa(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ca(t)):(n.next=i.next,i.next=n),t.interleaved=n,Oa(e,r)}function Oa(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ia=!1;function Aa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Da(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ra(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Na(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Ou)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Oa(e,n)}return null===(i=r.interleaved)?(t.next=t,Ca(r)):(t.next=i.next,i.next=t),r.interleaved=t,Oa(e,n)}function Ma(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function Fa(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function La(e,t,n,r){var i=e.updateQueue;Ia=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var u=s,l=u.next;u.next=null,null===o?a=l:o.next=l,o=u;var c=e.alternate;null!==c&&((s=(c=c.updateQueue).lastBaseUpdate)!==o&&(null===s?c.firstBaseUpdate=l:s.next=l,c.lastBaseUpdate=u))}if(null!==a){var f=i.baseState;for(o=0,c=l=u=null,s=a;;){var d=s.lane,p=s.eventTime;if((r&d)===d){null!==c&&(c=c.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var h=e,v=s;switch(d=t,p=n,v.tag){case 1:if("function"===typeof(h=v.payload)){f=h.call(p,f,d);break e}f=h;break e;case 3:h.flags=-65537&h.flags|128;case 0:if(null===(d="function"===typeof(h=v.payload)?h.call(p,f,d):h)||void 0===d)break e;f=L({},f,d);break e;case 2:Ia=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[s]:d.push(s))}else p={eventTime:p,lane:d,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===c?(l=c=p,u=f):c=c.next=p,o|=d;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(d=s).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===c&&(u=f),i.baseState=u,i.firstBaseUpdate=l,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Lu|=o,e.lanes=o,e.memoizedState=f}}function Ba(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var ja=(new r.Component).refs;function za(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:L({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Wa={isMounted:function(e){return!!(e=e._reactInternals)&&Ve(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tl(),i=nl(e),a=Ra(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Na(e,a,i))&&(rl(t,e,i,r),Ma(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tl(),i=nl(e),a=Ra(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Na(e,a,i))&&(rl(t,e,i,r),Ma(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tl(),r=nl(e),i=Ra(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Na(e,i,r))&&(rl(t,e,r,n),Ma(t,e,r))}};function Va(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!ur(n,r)||!ur(i,a))}function Ua(e,t,n){var r=!1,i=Ci,a=t.contextType;return"object"===typeof a&&null!==a?a=ka(a):(i=Di(t)?Ii:Pi.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ai(e,i):Ci),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Wa,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Ka(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Wa.enqueueReplaceState(t,t.state,null)}function Ha(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=ja,Aa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=ka(a):(a=Di(t)?Ii:Pi.current,i.context=Ai(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(za(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Wa.enqueueReplaceState(i,i.state,null),La(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function qa(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===ja&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ga(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Xa(e){return(0,e._init)(e._payload)}function Ya(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Nl(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Bl(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){var a=n.type;return a===T?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===D&&Xa(a)===t.type)?((r=i(t,n.props)).ref=qa(e,t,n),r.return=e,r):((r=Ml(n.type,n.key,n.props,null,e.mode,r)).ref=qa(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=jl(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Fl(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Bl(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Ml(t.type,t.key,t.props,null,e.mode,n)).ref=qa(e,null,t),n.return=e,n;case S:return(t=jl(t,e.mode,n)).return=e,t;case D:return d(e,(0,t._init)(t._payload),n)}if(te(t)||M(t))return(t=Fl(t,e.mode,n,null)).return=e,t;Ga(e,t)}return null}function p(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?l(e,t,n,r):null;case S:return n.key===i?c(e,t,n,r):null;case D:return p(e,t,(i=n._init)(n._payload),r)}if(te(n)||M(n))return null!==i?null:f(e,t,n,r,null);Ga(e,n)}return null}function h(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case S:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case D:return h(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||M(r))return f(t,e=e.get(n)||null,r,i,null);Ga(t,r)}return null}function v(i,a,s,u){for(var l=null,c=null,f=a,v=a=0,y=null;null!==f&&v<s.length;v++){f.index>v?(y=f,f=null):y=f.sibling;var m=p(i,f,s[v],u);if(null===m){null===f&&(f=y);break}e&&f&&null===m.alternate&&t(i,f),a=o(m,a,v),null===c?l=m:c.sibling=m,c=m,f=y}if(v===s.length)return n(i,f),ia&&Qi(i,v),l;if(null===f){for(;v<s.length;v++)null!==(f=d(i,s[v],u))&&(a=o(f,a,v),null===c?l=f:c.sibling=f,c=f);return ia&&Qi(i,v),l}for(f=r(i,f);v<s.length;v++)null!==(y=h(f,i,v,s[v],u))&&(e&&null!==y.alternate&&f.delete(null===y.key?v:y.key),a=o(y,a,v),null===c?l=y:c.sibling=y,c=y);return e&&f.forEach((function(e){return t(i,e)})),ia&&Qi(i,v),l}function y(i,s,u,l){var c=M(u);if("function"!==typeof c)throw Error(a(150));if(null==(u=c.call(u)))throw Error(a(151));for(var f=c=null,v=s,y=s=0,m=null,g=u.next();null!==v&&!g.done;y++,g=u.next()){v.index>y?(m=v,v=null):m=v.sibling;var b=p(i,v,g.value,l);if(null===b){null===v&&(v=m);break}e&&v&&null===b.alternate&&t(i,v),s=o(b,s,y),null===f?c=b:f.sibling=b,f=b,v=m}if(g.done)return n(i,v),ia&&Qi(i,y),c;if(null===v){for(;!g.done;y++,g=u.next())null!==(g=d(i,g.value,l))&&(s=o(g,s,y),null===f?c=g:f.sibling=g,f=g);return ia&&Qi(i,y),c}for(v=r(i,v);!g.done;y++,g=u.next())null!==(g=h(v,i,y,g.value,l))&&(e&&null!==g.alternate&&v.delete(null===g.key?y:g.key),s=o(g,s,y),null===f?c=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),ia&&Qi(i,y),c}return function e(r,a,o,u){if("object"===typeof o&&null!==o&&o.type===T&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var l=o.key,c=a;null!==c;){if(c.key===l){if((l=o.type)===T){if(7===c.tag){n(r,c.sibling),(a=i(c,o.props.children)).return=r,r=a;break e}}else if(c.elementType===l||"object"===typeof l&&null!==l&&l.$$typeof===D&&Xa(l)===c.type){n(r,c.sibling),(a=i(c,o.props)).ref=qa(r,c,o),a.return=r,r=a;break e}n(r,c);break}t(r,c),c=c.sibling}o.type===T?((a=Fl(o.props.children,r.mode,u,o.key)).return=r,r=a):((u=Ml(o.type,o.key,o.props,null,r.mode,u)).ref=qa(r,a,o),u.return=r,r=u)}return s(r);case S:e:{for(c=o.key;null!==a;){if(a.key===c){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=jl(o,r.mode,u)).return=r,r=a}return s(r);case D:return e(r,a,(c=o._init)(o._payload),u)}if(te(o))return v(r,a,o,u);if(M(o))return y(r,a,o,u);Ga(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Bl(o,r.mode,u)).return=r,r=a),s(r)):n(r,a)}}var Ja=Ya(!0),$a=Ya(!1),Qa={},Za=Ei(Qa),eo=Ei(Qa),to=Ei(Qa);function no(e){if(e===Qa)throw Error(a(174));return e}function ro(e,t){switch(_i(to,t),_i(eo,e),_i(Za,Qa),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ki(Za),_i(Za,t)}function io(){ki(Za),ki(eo),ki(to)}function ao(e){no(to.current);var t=no(Za.current),n=ue(t,e.type);t!==n&&(_i(eo,e),_i(Za,n))}function oo(e){eo.current===e&&(ki(Za),ki(eo))}var so=Ei(0);function uo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var lo=[];function co(){for(var e=0;e<lo.length;e++)lo[e]._workInProgressVersionPrimary=null;lo.length=0}var fo=x.ReactCurrentDispatcher,po=x.ReactCurrentBatchConfig,ho=0,vo=null,yo=null,mo=null,go=!1,bo=!1,xo=0,wo=0;function So(){throw Error(a(321))}function To(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function Eo(e,t,n,r,i,o){if(ho=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?ss:us,e=n(r,i),bo){o=0;do{if(bo=!1,xo=0,25<=o)throw Error(a(301));o+=1,mo=yo=null,t.updateQueue=null,fo.current=ls,e=n(r,i)}while(bo)}if(fo.current=os,t=null!==yo&&null!==yo.next,ho=0,mo=yo=vo=null,go=!1,t)throw Error(a(300));return e}function ko(){var e=0!==xo;return xo=0,e}function _o(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===mo?vo.memoizedState=mo=e:mo=mo.next=e,mo}function Co(){if(null===yo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=yo.next;var t=null===mo?vo.memoizedState:mo.next;if(null!==t)mo=t,yo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(yo=e).memoizedState,baseState:yo.baseState,baseQueue:yo.baseQueue,queue:yo.queue,next:null},null===mo?vo.memoizedState=mo=e:mo=mo.next=e}return mo}function Po(e,t){return"function"===typeof t?t(e):t}function Oo(e){var t=Co(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=yo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var u=s=null,l=null,c=o;do{var f=c.lane;if((ho&f)===f)null!==l&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var d={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===l?(u=l=d,s=r):l=l.next=d,vo.lanes|=f,Lu|=f}c=c.next}while(null!==c&&c!==o);null===l?s=r:l.next=u,sr(r,t.memoizedState)||(xs=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,Lu|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Io(e){var t=Co(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);sr(o,t.memoizedState)||(xs=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Ao(){}function Do(e,t){var n=vo,r=Co(),i=t(),o=!sr(r.memoizedState,i);if(o&&(r.memoizedState=i,xs=!0),r=r.queue,Ko(Mo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==mo&&1&mo.memoizedState.tag){if(n.flags|=2048,jo(9,No.bind(null,n,r,i,t),void 0,null),null===Iu)throw Error(a(349));0!==(30&ho)||Ro(n,t,i)}return i}function Ro(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function No(e,t,n,r){t.value=n,t.getSnapshot=r,Fo(t)&&Lo(e)}function Mo(e,t,n){return n((function(){Fo(t)&&Lo(e)}))}function Fo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Lo(e){var t=Oa(e,1);null!==t&&rl(t,e,1,-1)}function Bo(e){var t=_o();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Po,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,vo,e),[t.memoizedState,e]}function jo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function zo(){return Co().memoizedState}function Wo(e,t,n,r){var i=_o();vo.flags|=e,i.memoizedState=jo(1|t,n,void 0,void 0===r?null:r)}function Vo(e,t,n,r){var i=Co();r=void 0===r?null:r;var a=void 0;if(null!==yo){var o=yo.memoizedState;if(a=o.destroy,null!==r&&To(r,o.deps))return void(i.memoizedState=jo(t,n,a,r))}vo.flags|=e,i.memoizedState=jo(1|t,n,a,r)}function Uo(e,t){return Wo(8390656,8,e,t)}function Ko(e,t){return Vo(2048,8,e,t)}function Ho(e,t){return Vo(4,2,e,t)}function qo(e,t){return Vo(4,4,e,t)}function Go(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Xo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Vo(4,4,Go.bind(null,t,e),n)}function Yo(){}function Jo(e,t){var n=Co();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&To(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function $o(e,t){var n=Co();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&To(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Qo(e,t,n){return 0===(21&ho)?(e.baseState&&(e.baseState=!1,xs=!0),e.memoizedState=n):(sr(n,t)||(n=vt(),vo.lanes|=n,Lu|=n,e.baseState=!0),t)}function Zo(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=po.transition;po.transition={};try{e(!1),t()}finally{bt=n,po.transition=r}}function es(){return Co().memoizedState}function ts(e,t,n){var r=nl(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e))is(t,n);else if(null!==(n=Pa(e,t,n,r))){rl(n,e,r,tl()),as(n,t,r)}}function ns(e,t,n){var r=nl(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))is(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,o)){var u=t.interleaved;return null===u?(i.next=i,Ca(t)):(i.next=u.next,u.next=i),void(t.interleaved=i)}}catch(l){}null!==(n=Pa(e,t,i,r))&&(rl(n,e,r,i=tl()),as(n,t,r))}}function rs(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function is(e,t){bo=go=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function as(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var os={readContext:ka,useCallback:So,useContext:So,useEffect:So,useImperativeHandle:So,useInsertionEffect:So,useLayoutEffect:So,useMemo:So,useReducer:So,useRef:So,useState:So,useDebugValue:So,useDeferredValue:So,useTransition:So,useMutableSource:So,useSyncExternalStore:So,useId:So,unstable_isNewReconciler:!1},ss={readContext:ka,useCallback:function(e,t){return _o().memoizedState=[e,void 0===t?null:t],e},useContext:ka,useEffect:Uo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Wo(4194308,4,Go.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Wo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Wo(4,2,e,t)},useMemo:function(e,t){var n=_o();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=_o();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},_o().memoizedState=e},useState:Bo,useDebugValue:Yo,useDeferredValue:function(e){return _o().memoizedState=e},useTransition:function(){var e=Bo(!1),t=e[0];return e=Zo.bind(null,e[1]),_o().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=_o();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Iu)throw Error(a(349));0!==(30&ho)||Ro(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Uo(Mo.bind(null,r,o,e),[e]),r.flags|=2048,jo(9,No.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=_o(),t=Iu.identifierPrefix;if(ia){var n=$i;t=":"+t+"R"+(n=(Ji&~(1<<32-ot(Ji)-1)).toString(32)+n),0<(n=xo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},us={readContext:ka,useCallback:Jo,useContext:ka,useEffect:Ko,useImperativeHandle:Xo,useInsertionEffect:Ho,useLayoutEffect:qo,useMemo:$o,useReducer:Oo,useRef:zo,useState:function(){return Oo(Po)},useDebugValue:Yo,useDeferredValue:function(e){return Qo(Co(),yo.memoizedState,e)},useTransition:function(){return[Oo(Po)[0],Co().memoizedState]},useMutableSource:Ao,useSyncExternalStore:Do,useId:es,unstable_isNewReconciler:!1},ls={readContext:ka,useCallback:Jo,useContext:ka,useEffect:Ko,useImperativeHandle:Xo,useInsertionEffect:Ho,useLayoutEffect:qo,useMemo:$o,useReducer:Io,useRef:zo,useState:function(){return Io(Po)},useDebugValue:Yo,useDeferredValue:function(e){var t=Co();return null===yo?t.memoizedState=e:Qo(t,yo.memoizedState,e)},useTransition:function(){return[Io(Po)[0],Co().memoizedState]},useMutableSource:Ao,useSyncExternalStore:Do,useId:es,unstable_isNewReconciler:!1};function cs(e,t){try{var n="",r=t;do{n+=W(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function fs(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ds(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ps="function"===typeof WeakMap?WeakMap:Map;function hs(e,t,n){(n=Ra(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hu||(Hu=!0,qu=r),ds(0,t)},n}function vs(e,t,n){(n=Ra(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ds(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){ds(0,t),"function"!==typeof r&&(null===Gu?Gu=new Set([this]):Gu.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ys(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ps;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=_l.bind(null,e,t,n),t.then(e,e))}function ms(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gs(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ra(-1,1)).tag=2,Na(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var bs=x.ReactCurrentOwner,xs=!1;function ws(e,t,n,r){t.child=null===e?$a(t,null,n,r):Ja(t,e.child,n,r)}function Ss(e,t,n,r,i){n=n.render;var a=t.ref;return Ea(t,i),r=Eo(e,t,n,r,a,i),n=ko(),null===e||xs?(ia&&n&&ea(t),t.flags|=1,ws(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hs(e,t,i))}function Ts(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Rl(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ml(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Es(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:ur)(o,r)&&e.ref===t.ref)return Hs(e,t,i)}return t.flags|=1,(e=Nl(a,r)).ref=t.ref,e.return=t,t.child=e}function Es(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(ur(a,r)&&e.ref===t.ref){if(xs=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Hs(e,t,i);0!==(131072&e.flags)&&(xs=!0)}}return Cs(e,t,n,r,i)}function ks(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},_i(Nu,Ru),Ru|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,_i(Nu,Ru),Ru|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,_i(Nu,Ru),Ru|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,_i(Nu,Ru),Ru|=r;return ws(e,t,i,n),t.child}function _s(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Cs(e,t,n,r,i){var a=Di(n)?Ii:Pi.current;return a=Ai(t,a),Ea(t,i),n=Eo(e,t,n,r,a,i),r=ko(),null===e||xs?(ia&&r&&ea(t),t.flags|=1,ws(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hs(e,t,i))}function Ps(e,t,n,r,i){if(Di(n)){var a=!0;Fi(t)}else a=!1;if(Ea(t,i),null===t.stateNode)Ks(e,t),Ua(t,n,r),Ha(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,l=n.contextType;"object"===typeof l&&null!==l?l=ka(l):l=Ai(t,l=Di(n)?Ii:Pi.current);var c=n.getDerivedStateFromProps,f="function"===typeof c||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==l)&&Ka(t,o,r,l),Ia=!1;var d=t.memoizedState;o.state=d,La(t,r,o,i),u=t.memoizedState,s!==r||d!==u||Oi.current||Ia?("function"===typeof c&&(za(t,n,c,r),u=t.memoizedState),(s=Ia||Va(t,n,s,r,d,u,l))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=l,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Da(e,t),s=t.memoizedProps,l=t.type===t.elementType?s:ya(t.type,s),o.props=l,f=t.pendingProps,d=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=ka(u):u=Ai(t,u=Di(n)?Ii:Pi.current);var p=n.getDerivedStateFromProps;(c="function"===typeof p||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==f||d!==u)&&Ka(t,o,r,u),Ia=!1,d=t.memoizedState,o.state=d,La(t,r,o,i);var h=t.memoizedState;s!==f||d!==h||Oi.current||Ia?("function"===typeof p&&(za(t,n,p,r),h=t.memoizedState),(l=Ia||Va(t,n,l,r,d,h,u)||!1)?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,h,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,h,u)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=h),o.props=r,o.state=h,o.context=u,r=l):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Os(e,t,n,r,a,i)}function Os(e,t,n,r,i,a){_s(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Li(t,n,!1),Hs(e,t,a);r=t.stateNode,bs.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ja(t,e.child,null,a),t.child=Ja(t,null,s,a)):ws(e,t,s,a),t.memoizedState=r.state,i&&Li(t,n,!0),t.child}function Is(e){var t=e.stateNode;t.pendingContext?Ni(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ni(0,t.context,!1),ro(e,t.containerInfo)}function As(e,t,n,r,i){return pa(),ha(i),t.flags|=256,ws(e,t,n,r),t.child}var Ds,Rs,Ns,Ms,Fs={dehydrated:null,treeContext:null,retryLane:0};function Ls(e){return{baseLanes:e,cachePool:null,transitions:null}}function Bs(e,t,n){var r,i=t.pendingProps,o=so.current,s=!1,u=0!==(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),_i(so,1&o),null===e)return la(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(u=i.children,e=i.fallback,s?(i=t.mode,s=t.child,u={mode:"hidden",children:u},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=u):s=Ll(u,i,0,null),e=Fl(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ls(n),t.memoizedState=Fs,e):js(t,u));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,s){if(n)return 256&t.flags?(t.flags&=-257,zs(e,t,s,r=fs(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Ll({mode:"visible",children:r.children},i,0,null),(o=Fl(o,i,s,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Ja(t,e.child,null,s),t.child.memoizedState=Ls(s),t.memoizedState=Fs,o);if(0===(1&t.mode))return zs(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var u=r.dgst;return r=u,zs(e,t,s,r=fs(o=Error(a(419)),r,void 0))}if(u=0!==(s&e.childLanes),xs||u){if(null!==(r=Iu)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Oa(e,i),rl(r,e,i,-1))}return yl(),zs(e,t,s,r=fs(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Pl.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=li(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Gi[Xi++]=Ji,Gi[Xi++]=$i,Gi[Xi++]=Yi,Ji=e.id,$i=e.overflow,Yi=t),t=js(t,r.children),t.flags|=4096,t)}(e,t,u,i,r,o,n);if(s){s=i.fallback,u=t.mode,r=(o=e.child).sibling;var l={mode:"hidden",children:i.children};return 0===(1&u)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=l,t.deletions=null):(i=Nl(o,l)).subtreeFlags=14680064&o.subtreeFlags,null!==r?s=Nl(r,s):(s=Fl(s,u,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,u=null===(u=e.child.memoizedState)?Ls(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},s.memoizedState=u,s.childLanes=e.childLanes&~n,t.memoizedState=Fs,i}return e=(s=e.child).sibling,i=Nl(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function js(e,t){return(t=Ll({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function zs(e,t,n,r){return null!==r&&ha(r),Ja(t,e.child,null,n),(e=js(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ws(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ta(e.return,t,n)}function Vs(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Us(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(ws(e,t,r.children,n),0!==(2&(r=so.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ws(e,n,t);else if(19===e.tag)Ws(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(_i(so,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===uo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Vs(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===uo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Vs(t,!0,n,null,a);break;case"together":Vs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ks(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Hs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Lu|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Nl(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Nl(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function qs(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Gs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Xs(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gs(t),null;case 1:case 17:return Di(t.type)&&Ri(),Gs(t),null;case 3:return r=t.stateNode,io(),ki(Oi),ki(Pi),co(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(sl(aa),aa=null))),Rs(e,t),Gs(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Ns(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Gs(t),null}if(e=no(Za.current),fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[di]=t,r[pi]=o,e=0!==(1&t.mode),n){case"dialog":jr("cancel",r),jr("close",r);break;case"iframe":case"object":case"embed":jr("load",r);break;case"video":case"audio":for(i=0;i<Mr.length;i++)jr(Mr[i],r);break;case"source":jr("error",r);break;case"img":case"image":case"link":jr("error",r),jr("load",r);break;case"details":jr("toggle",r);break;case"input":J(r,o),jr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},jr("invalid",r);break;case"textarea":ie(r,o),jr("invalid",r)}for(var u in ge(n,o),i=null,o)if(o.hasOwnProperty(u)){var l=o[u];"children"===u?"string"===typeof l?r.textContent!==l&&(!0!==o.suppressHydrationWarning&&Qr(r.textContent,l,e),i=["children",l]):"number"===typeof l&&r.textContent!==""+l&&(!0!==o.suppressHydrationWarning&&Qr(r.textContent,l,e),i=["children",""+l]):s.hasOwnProperty(u)&&null!=l&&"onScroll"===u&&jr("scroll",r)}switch(n){case"input":q(r),Z(r,o,!0);break;case"textarea":q(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{u=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[di]=t,e[pi]=r,Ds(e,t,!1,!1),t.stateNode=e;e:{switch(u=be(n,r),n){case"dialog":jr("cancel",e),jr("close",e),i=r;break;case"iframe":case"object":case"embed":jr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Mr.length;i++)jr(Mr[i],e);i=r;break;case"source":jr("error",e),i=r;break;case"img":case"image":case"link":jr("error",e),jr("load",e),i=r;break;case"details":jr("toggle",e),i=r;break;case"input":J(e,r),i=Y(e,r),jr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=L({},r,{value:void 0}),jr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),jr("invalid",e)}for(o in ge(n,i),l=i)if(l.hasOwnProperty(o)){var c=l[o];"style"===o?ye(e,c):"dangerouslySetInnerHTML"===o?null!=(c=c?c.__html:void 0)&&fe(e,c):"children"===o?"string"===typeof c?("textarea"!==n||""!==c)&&de(e,c):"number"===typeof c&&de(e,""+c):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=c&&"onScroll"===o&&jr("scroll",e):null!=c&&b(e,o,c,u))}switch(n){case"input":q(e),Z(e,r,!1);break;case"textarea":q(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+K(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Gs(t),null;case 6:if(e&&null!=t.stateNode)Ms(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no(Za.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[di]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Qr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Qr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[di]=t,t.stateNode=r}return Gs(t),null;case 13:if(ki(so),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))da(),pa(),t.flags|=98560,o=!1;else if(o=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[di]=t}else pa(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Gs(t),o=!1}else null!==aa&&(sl(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&so.current)?0===Mu&&(Mu=3):yl())),null!==t.updateQueue&&(t.flags|=4),Gs(t),null);case 4:return io(),Rs(e,t),null===e&&Vr(t.stateNode.containerInfo),Gs(t),null;case 10:return Sa(t.type._context),Gs(t),null;case 19:if(ki(so),null===(o=t.memoizedState))return Gs(t),null;if(r=0!==(128&t.flags),null===(u=o.rendering))if(r)qs(o,!1);else{if(0!==Mu||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=uo(e))){for(t.flags|=128,qs(o,!1),null!==(r=u.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(u=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=u.childLanes,o.lanes=u.lanes,o.child=u.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=u.memoizedProps,o.memoizedState=u.memoizedState,o.updateQueue=u.updateQueue,o.type=u.type,e=u.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return _i(so,1&so.current|2),t.child}e=e.sibling}null!==o.tail&&$e()>Uu&&(t.flags|=128,r=!0,qs(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=uo(u))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),qs(o,!0),null===o.tail&&"hidden"===o.tailMode&&!u.alternate&&!ia)return Gs(t),null}else 2*$e()-o.renderingStartTime>Uu&&1073741824!==n&&(t.flags|=128,r=!0,qs(o,!1),t.lanes=4194304);o.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=o.last)?n.sibling=u:t.child=u,o.last=u)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=$e(),t.sibling=null,n=so.current,_i(so,r?1&n|2:1&n),t):(Gs(t),null);case 22:case 23:return dl(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ru)&&(Gs(t),6&t.subtreeFlags&&(t.flags|=8192)):Gs(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Ys(e,t){switch(ta(t),t.tag){case 1:return Di(t.type)&&Ri(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),ki(Oi),ki(Pi),co(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(ki(so),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));pa()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return ki(so),null;case 4:return io(),null;case 10:return Sa(t.type._context),null;case 22:case 23:return dl(),null;default:return null}}Ds=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Rs=function(){},Ns=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Za.current);var a,o=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),o=[];break;case"select":i=L({},i,{value:void 0}),r=L({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(c in ge(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var u=i[c];for(a in u)u.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(s.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(u=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&l!==u&&(null!=l||null!=u))if("style"===c)if(u){for(a in u)!u.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&u[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(o||(o=[]),o.push(c,n)),n=l;else"dangerouslySetInnerHTML"===c?(l=l?l.__html:void 0,u=u?u.__html:void 0,null!=l&&u!==l&&(o=o||[]).push(c,l)):"children"===c?"string"!==typeof l&&"number"!==typeof l||(o=o||[]).push(c,""+l):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(s.hasOwnProperty(c)?(null!=l&&"onScroll"===c&&jr("scroll",e),o||u===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(t.updateQueue=c)&&(t.flags|=4)}},Ms=function(e,t,n,r){n!==r&&(t.flags|=4)};var Js=!1,$s=!1,Qs="function"===typeof WeakSet?WeakSet:Set,Zs=null;function eu(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){kl(e,t,r)}else n.current=null}function tu(e,t,n){try{n()}catch(r){kl(e,t,r)}}var nu=!1;function ru(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&tu(t,n,a)}i=i.next}while(i!==r)}}function iu(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function au(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ou(e){var t=e.alternate;null!==t&&(e.alternate=null,ou(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[di],delete t[pi],delete t[vi],delete t[yi],delete t[mi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function su(e){return 5===e.tag||3===e.tag||4===e.tag}function uu(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||su(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function lu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(lu(e,t,n),e=e.sibling;null!==e;)lu(e,t,n),e=e.sibling}function cu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cu(e,t,n),e=e.sibling;null!==e;)cu(e,t,n),e=e.sibling}var fu=null,du=!1;function pu(e,t,n){for(n=n.child;null!==n;)hu(e,t,n),n=n.sibling}function hu(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:$s||eu(n,t);case 6:var r=fu,i=du;fu=null,pu(e,t,n),du=i,null!==(fu=r)&&(du?(e=fu,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):fu.removeChild(n.stateNode));break;case 18:null!==fu&&(du?(e=fu,n=n.stateNode,8===e.nodeType?ui(e.parentNode,n):1===e.nodeType&&ui(e,n),Vt(e)):ui(fu,n.stateNode));break;case 4:r=fu,i=du,fu=n.stateNode.containerInfo,du=!0,pu(e,t,n),fu=r,du=i;break;case 0:case 11:case 14:case 15:if(!$s&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&tu(n,t,o),i=i.next}while(i!==r)}pu(e,t,n);break;case 1:if(!$s&&(eu(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){kl(n,t,s)}pu(e,t,n);break;case 21:pu(e,t,n);break;case 22:1&n.mode?($s=(r=$s)||null!==n.memoizedState,pu(e,t,n),$s=r):pu(e,t,n);break;default:pu(e,t,n)}}function vu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Qs),t.forEach((function(t){var r=Ol.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function yu(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,u=s;e:for(;null!==u;){switch(u.tag){case 5:fu=u.stateNode,du=!1;break e;case 3:case 4:fu=u.stateNode.containerInfo,du=!0;break e}u=u.return}if(null===fu)throw Error(a(160));hu(o,s,i),fu=null,du=!1;var l=i.alternate;null!==l&&(l.return=null),i.return=null}catch(c){kl(i,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)mu(t,e),t=t.sibling}function mu(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(yu(t,e),gu(e),4&r){try{ru(3,e,e.return),iu(3,e)}catch(y){kl(e,e.return,y)}try{ru(5,e,e.return)}catch(y){kl(e,e.return,y)}}break;case 1:yu(t,e),gu(e),512&r&&null!==n&&eu(n,n.return);break;case 5:if(yu(t,e),gu(e),512&r&&null!==n&&eu(n,n.return),32&e.flags){var i=e.stateNode;try{de(i,"")}catch(y){kl(e,e.return,y)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,s=null!==n?n.memoizedProps:o,u=e.type,l=e.updateQueue;if(e.updateQueue=null,null!==l)try{"input"===u&&"radio"===o.type&&null!=o.name&&$(i,o),be(u,s);var c=be(u,o);for(s=0;s<l.length;s+=2){var f=l[s],d=l[s+1];"style"===f?ye(i,d):"dangerouslySetInnerHTML"===f?fe(i,d):"children"===f?de(i,d):b(i,f,d,c)}switch(u){case"input":Q(i,o);break;case"textarea":ae(i,o);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var h=o.value;null!=h?ne(i,!!o.multiple,h,!1):p!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[pi]=o}catch(y){kl(e,e.return,y)}}break;case 6:if(yu(t,e),gu(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(y){kl(e,e.return,y)}}break;case 3:if(yu(t,e),gu(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Vt(t.containerInfo)}catch(y){kl(e,e.return,y)}break;case 4:default:yu(t,e),gu(e);break;case 13:yu(t,e),gu(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Vu=$e())),4&r&&vu(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?($s=(c=$s)||f,yu(t,e),$s=c):yu(t,e),gu(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!f&&0!==(1&e.mode))for(Zs=e,f=e.child;null!==f;){for(d=Zs=f;null!==Zs;){switch(h=(p=Zs).child,p.tag){case 0:case 11:case 14:case 15:ru(4,p,p.return);break;case 1:eu(p,p.return);var v=p.stateNode;if("function"===typeof v.componentWillUnmount){r=p,n=p.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(y){kl(r,n,y)}}break;case 5:eu(p,p.return);break;case 22:if(null!==p.memoizedState){Su(d);continue}}null!==h?(h.return=p,Zs=h):Su(d)}f=f.sibling}e:for(f=null,d=e;;){if(5===d.tag){if(null===f){f=d;try{i=d.stateNode,c?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(u=d.stateNode,s=void 0!==(l=d.memoizedProps.style)&&null!==l&&l.hasOwnProperty("display")?l.display:null,u.style.display=ve("display",s))}catch(y){kl(e,e.return,y)}}}else if(6===d.tag){if(null===f)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(y){kl(e,e.return,y)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:yu(t,e),gu(e),4&r&&vu(e);case 21:}}function gu(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(su(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(de(i,""),r.flags&=-33),cu(e,uu(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;lu(e,uu(e),o);break;default:throw Error(a(161))}}catch(s){kl(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bu(e,t,n){Zs=e,xu(e,t,n)}function xu(e,t,n){for(var r=0!==(1&e.mode);null!==Zs;){var i=Zs,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Js;if(!o){var s=i.alternate,u=null!==s&&null!==s.memoizedState||$s;s=Js;var l=$s;if(Js=o,($s=u)&&!l)for(Zs=i;null!==Zs;)u=(o=Zs).child,22===o.tag&&null!==o.memoizedState?Tu(i):null!==u?(u.return=o,Zs=u):Tu(i);for(;null!==a;)Zs=a,xu(a,t,n),a=a.sibling;Zs=i,Js=s,$s=l}wu(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Zs=a):wu(e)}}function wu(e){for(;null!==Zs;){var t=Zs;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:$s||iu(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!$s)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ya(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Ba(t,o,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Ba(t,s,n)}break;case 5:var u=t.stateNode;if(null===n&&4&t.flags){n=u;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var f=c.memoizedState;if(null!==f){var d=f.dehydrated;null!==d&&Vt(d)}}}break;default:throw Error(a(163))}$s||512&t.flags&&au(t)}catch(p){kl(t,t.return,p)}}if(t===e){Zs=null;break}if(null!==(n=t.sibling)){n.return=t.return,Zs=n;break}Zs=t.return}}function Su(e){for(;null!==Zs;){var t=Zs;if(t===e){Zs=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Zs=n;break}Zs=t.return}}function Tu(e){for(;null!==Zs;){var t=Zs;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{iu(4,t)}catch(u){kl(t,n,u)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(u){kl(t,i,u)}}var a=t.return;try{au(t)}catch(u){kl(t,a,u)}break;case 5:var o=t.return;try{au(t)}catch(u){kl(t,o,u)}}}catch(u){kl(t,t.return,u)}if(t===e){Zs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Zs=s;break}Zs=t.return}}var Eu,ku=Math.ceil,_u=x.ReactCurrentDispatcher,Cu=x.ReactCurrentOwner,Pu=x.ReactCurrentBatchConfig,Ou=0,Iu=null,Au=null,Du=0,Ru=0,Nu=Ei(0),Mu=0,Fu=null,Lu=0,Bu=0,ju=0,zu=null,Wu=null,Vu=0,Uu=1/0,Ku=null,Hu=!1,qu=null,Gu=null,Xu=!1,Yu=null,Ju=0,$u=0,Qu=null,Zu=-1,el=0;function tl(){return 0!==(6&Ou)?$e():-1!==Zu?Zu:Zu=$e()}function nl(e){return 0===(1&e.mode)?1:0!==(2&Ou)&&0!==Du?Du&-Du:null!==va.transition?(0===el&&(el=vt()),el):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Jt(e.type)}function rl(e,t,n,r){if(50<$u)throw $u=0,Qu=null,Error(a(185));mt(e,n,r),0!==(2&Ou)&&e===Iu||(e===Iu&&(0===(2&Ou)&&(Bu|=n),4===Mu&&ul(e,Du)),il(e,r),1===n&&0===Ou&&0===(1&t.mode)&&(Uu=$e()+500,ji&&Vi()))}function il(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),s=1<<o,u=i[o];-1===u?0!==(s&n)&&0===(s&r)||(i[o]=pt(s,t)):u<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var r=dt(e,e===Iu?Du:0);if(0===r)null!==n&&Xe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Xe(n),1===t)0===e.tag?function(e){ji=!0,Wi(e)}(ll.bind(null,e)):Wi(ll.bind(null,e)),oi((function(){0===(6&Ou)&&Vi()})),n=null;else{switch(xt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Il(n,al.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function al(e,t){if(Zu=-1,el=0,0!==(6&Ou))throw Error(a(327));var n=e.callbackNode;if(Tl()&&e.callbackNode!==n)return null;var r=dt(e,e===Iu?Du:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=ml(e,r);else{t=r;var i=Ou;Ou|=2;var o=vl();for(Iu===e&&Du===t||(Ku=null,Uu=$e()+500,pl(e,t));;)try{bl();break}catch(u){hl(e,u)}wa(),_u.current=o,Ou=i,null!==Au?t=0:(Iu=null,Du=0,t=Mu)}if(0!==t){if(2===t&&(0!==(i=ht(e))&&(r=i,t=ol(e,i))),1===t)throw n=Fu,pl(e,0),ul(e,r),il(e,$e()),n;if(6===t)ul(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!sr(a(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=ml(e,r))&&(0!==(o=ht(e))&&(r=o,t=ol(e,o))),1===t))throw n=Fu,pl(e,0),ul(e,r),il(e,$e()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:Sl(e,Wu,Ku);break;case 3:if(ul(e,r),(130023424&r)===r&&10<(t=Vu+500-$e())){if(0!==dt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tl(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(Sl.bind(null,e,Wu,Ku),t);break}Sl(e,Wu,Ku);break;case 4:if(ul(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-ot(r);o=1<<s,(s=t[s])>i&&(i=s),r&=~o}if(r=i,10<(r=(120>(r=$e()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ku(r/1960))-r)){e.timeoutHandle=ri(Sl.bind(null,e,Wu,Ku),r);break}Sl(e,Wu,Ku);break;default:throw Error(a(329))}}}return il(e,$e()),e.callbackNode===n?al.bind(null,e):null}function ol(e,t){var n=zu;return e.current.memoizedState.isDehydrated&&(pl(e,t).flags|=256),2!==(e=ml(e,t))&&(t=Wu,Wu=n,null!==t&&sl(t)),e}function sl(e){null===Wu?Wu=e:Wu.push.apply(Wu,e)}function ul(e,t){for(t&=~ju,t&=~Bu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function ll(e){if(0!==(6&Ou))throw Error(a(327));Tl();var t=dt(e,0);if(0===(1&t))return il(e,$e()),null;var n=ml(e,t);if(0!==e.tag&&2===n){var r=ht(e);0!==r&&(t=r,n=ol(e,r))}if(1===n)throw n=Fu,pl(e,0),ul(e,t),il(e,$e()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Sl(e,Wu,Ku),il(e,$e()),null}function cl(e,t){var n=Ou;Ou|=1;try{return e(t)}finally{0===(Ou=n)&&(Uu=$e()+500,ji&&Vi())}}function fl(e){null!==Yu&&0===Yu.tag&&0===(6&Ou)&&Tl();var t=Ou;Ou|=1;var n=Pu.transition,r=bt;try{if(Pu.transition=null,bt=1,e)return e()}finally{bt=r,Pu.transition=n,0===(6&(Ou=t))&&Vi()}}function dl(){Ru=Nu.current,ki(Nu)}function pl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Au)for(n=Au.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ri();break;case 3:io(),ki(Oi),ki(Pi),co();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:ki(so);break;case 10:Sa(r.type._context);break;case 22:case 23:dl()}n=n.return}if(Iu=e,Au=e=Nl(e.current,null),Du=Ru=t,Mu=0,Fu=null,ju=Bu=Lu=0,Wu=zu=null,null!==_a){for(t=0;t<_a.length;t++)if(null!==(r=(n=_a[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}_a=null}return e}function hl(e,t){for(;;){var n=Au;try{if(wa(),fo.current=os,go){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}go=!1}if(ho=0,mo=yo=vo=null,bo=!1,xo=0,Cu.current=null,null===n||null===n.return){Mu=1,Fu=t,Au=null;break}e:{var o=e,s=n.return,u=n,l=t;if(t=Du,u.flags|=32768,null!==l&&"object"===typeof l&&"function"===typeof l.then){var c=l,f=u,d=f.tag;if(0===(1&f.mode)&&(0===d||11===d||15===d)){var p=f.alternate;p?(f.updateQueue=p.updateQueue,f.memoizedState=p.memoizedState,f.lanes=p.lanes):(f.updateQueue=null,f.memoizedState=null)}var h=ms(s);if(null!==h){h.flags&=-257,gs(h,s,u,0,t),1&h.mode&&ys(o,c,t),l=c;var v=(t=h).updateQueue;if(null===v){var y=new Set;y.add(l),t.updateQueue=y}else v.add(l);break e}if(0===(1&t)){ys(o,c,t),yl();break e}l=Error(a(426))}else if(ia&&1&u.mode){var m=ms(s);if(null!==m){0===(65536&m.flags)&&(m.flags|=256),gs(m,s,u,0,t),ha(cs(l,u));break e}}o=l=cs(l,u),4!==Mu&&(Mu=2),null===zu?zu=[o]:zu.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Fa(o,hs(0,l,t));break e;case 1:u=l;var g=o.type,b=o.stateNode;if(0===(128&o.flags)&&("function"===typeof g.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Gu||!Gu.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t,Fa(o,vs(o,u,t));break e}}o=o.return}while(null!==o)}wl(n)}catch(x){t=x,Au===n&&null!==n&&(Au=n=n.return);continue}break}}function vl(){var e=_u.current;return _u.current=os,null===e?os:e}function yl(){0!==Mu&&3!==Mu&&2!==Mu||(Mu=4),null===Iu||0===(268435455&Lu)&&0===(268435455&Bu)||ul(Iu,Du)}function ml(e,t){var n=Ou;Ou|=2;var r=vl();for(Iu===e&&Du===t||(Ku=null,pl(e,t));;)try{gl();break}catch(i){hl(e,i)}if(wa(),Ou=n,_u.current=r,null!==Au)throw Error(a(261));return Iu=null,Du=0,Mu}function gl(){for(;null!==Au;)xl(Au)}function bl(){for(;null!==Au&&!Ye();)xl(Au)}function xl(e){var t=Eu(e.alternate,e,Ru);e.memoizedProps=e.pendingProps,null===t?wl(e):Au=t,Cu.current=null}function wl(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Xs(n,t,Ru)))return void(Au=n)}else{if(null!==(n=Ys(n,t)))return n.flags&=32767,void(Au=n);if(null===e)return Mu=6,void(Au=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Au=t);Au=t=e}while(null!==t);0===Mu&&(Mu=5)}function Sl(e,t,n){var r=bt,i=Pu.transition;try{Pu.transition=null,bt=1,function(e,t,n,r){do{Tl()}while(null!==Yu);if(0!==(6&Ou))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Iu&&(Au=Iu=null,Du=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Xu||(Xu=!0,Il(tt,(function(){return Tl(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Pu.transition,Pu.transition=null;var s=bt;bt=1;var u=Ou;Ou|=4,Cu.current=null,function(e,t){if(ei=Kt,pr(e=dr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var s=0,u=-1,l=-1,c=0,f=0,d=e,p=null;t:for(;;){for(var h;d!==n||0!==i&&3!==d.nodeType||(u=s+i),d!==o||0!==r&&3!==d.nodeType||(l=s+r),3===d.nodeType&&(s+=d.nodeValue.length),null!==(h=d.firstChild);)p=d,d=h;for(;;){if(d===e)break t;if(p===n&&++c===i&&(u=s),p===o&&++f===r&&(l=s),null!==(h=d.nextSibling))break;p=(d=p).parentNode}d=h}n=-1===u||-1===l?null:{start:u,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Kt=!1,Zs=t;null!==Zs;)if(e=(t=Zs).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Zs=e;else for(;null!==Zs;){t=Zs;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var y=v.memoizedProps,m=v.memoizedState,g=t.stateNode,b=g.getSnapshotBeforeUpdate(t.elementType===t.type?y:ya(t.type,y),m);g.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var x=t.stateNode.containerInfo;1===x.nodeType?x.textContent="":9===x.nodeType&&x.documentElement&&x.removeChild(x.documentElement);break;default:throw Error(a(163))}}catch(w){kl(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Zs=e;break}Zs=t.return}v=nu,nu=!1}(e,n),mu(n,e),hr(ti),Kt=!!ei,ti=ei=null,e.current=n,bu(n,e,i),Je(),Ou=u,bt=s,Pu.transition=o}else e.current=n;if(Xu&&(Xu=!1,Yu=e,Ju=i),o=e.pendingLanes,0===o&&(Gu=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),il(e,$e()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Hu)throw Hu=!1,e=qu,qu=null,e;0!==(1&Ju)&&0!==e.tag&&Tl(),o=e.pendingLanes,0!==(1&o)?e===Qu?$u++:($u=0,Qu=e):$u=0,Vi()}(e,t,n,r)}finally{Pu.transition=i,bt=r}return null}function Tl(){if(null!==Yu){var e=xt(Ju),t=Pu.transition,n=bt;try{if(Pu.transition=null,bt=16>e?16:e,null===Yu)var r=!1;else{if(e=Yu,Yu=null,Ju=0,0!==(6&Ou))throw Error(a(331));var i=Ou;for(Ou|=4,Zs=e.current;null!==Zs;){var o=Zs,s=o.child;if(0!==(16&Zs.flags)){var u=o.deletions;if(null!==u){for(var l=0;l<u.length;l++){var c=u[l];for(Zs=c;null!==Zs;){var f=Zs;switch(f.tag){case 0:case 11:case 15:ru(8,f,o)}var d=f.child;if(null!==d)d.return=f,Zs=d;else for(;null!==Zs;){var p=(f=Zs).sibling,h=f.return;if(ou(f),f===c){Zs=null;break}if(null!==p){p.return=h,Zs=p;break}Zs=h}}}var v=o.alternate;if(null!==v){var y=v.child;if(null!==y){v.child=null;do{var m=y.sibling;y.sibling=null,y=m}while(null!==y)}}Zs=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,Zs=s;else e:for(;null!==Zs;){if(0!==(2048&(o=Zs).flags))switch(o.tag){case 0:case 11:case 15:ru(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,Zs=g;break e}Zs=o.return}}var b=e.current;for(Zs=b;null!==Zs;){var x=(s=Zs).child;if(0!==(2064&s.subtreeFlags)&&null!==x)x.return=s,Zs=x;else e:for(s=b;null!==Zs;){if(0!==(2048&(u=Zs).flags))try{switch(u.tag){case 0:case 11:case 15:iu(9,u)}}catch(S){kl(u,u.return,S)}if(u===s){Zs=null;break e}var w=u.sibling;if(null!==w){w.return=u.return,Zs=w;break e}Zs=u.return}}if(Ou=i,Vi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(S){}r=!0}return r}finally{bt=n,Pu.transition=t}}return!1}function El(e,t,n){e=Na(e,t=hs(0,t=cs(n,t),1),1),t=tl(),null!==e&&(mt(e,1,t),il(e,t))}function kl(e,t,n){if(3===e.tag)El(e,e,n);else for(;null!==t;){if(3===t.tag){El(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Gu||!Gu.has(r))){t=Na(t,e=vs(t,e=cs(n,e),1),1),e=tl(),null!==t&&(mt(t,1,e),il(t,e));break}}t=t.return}}function _l(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tl(),e.pingedLanes|=e.suspendedLanes&n,Iu===e&&(Du&n)===n&&(4===Mu||3===Mu&&(130023424&Du)===Du&&500>$e()-Vu?pl(e,0):ju|=n),il(e,t)}function Cl(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=tl();null!==(e=Oa(e,t))&&(mt(e,t,n),il(e,n))}function Pl(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Cl(e,n)}function Ol(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Cl(e,n)}function Il(e,t){return Ge(e,t)}function Al(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dl(e,t,n,r){return new Al(e,t,n,r)}function Rl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Nl(e,t){var n=e.alternate;return null===n?((n=Dl(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ml(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)Rl(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case T:return Fl(n.children,i,o,t);case E:s=8,i|=8;break;case k:return(e=Dl(12,n,t,2|i)).elementType=k,e.lanes=o,e;case O:return(e=Dl(13,n,t,i)).elementType=O,e.lanes=o,e;case I:return(e=Dl(19,n,t,i)).elementType=I,e.lanes=o,e;case R:return Ll(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case _:s=10;break e;case C:s=9;break e;case P:s=11;break e;case A:s=14;break e;case D:s=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Dl(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Fl(e,t,n,r){return(e=Dl(7,e,r,t)).lanes=n,e}function Ll(e,t,n,r){return(e=Dl(22,e,r,t)).elementType=R,e.lanes=n,e.stateNode={isHidden:!1},e}function Bl(e,t,n){return(e=Dl(6,e,null,t)).lanes=n,e}function jl(e,t,n){return(t=Dl(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function zl(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=yt(0),this.expirationTimes=yt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Wl(e,t,n,r,i,a,o,s,u){return e=new zl(e,t,n,s,u),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Dl(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Aa(a),e}function Vl(e){if(!e)return Ci;e:{if(Ve(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Di(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Di(n))return Mi(e,n,t)}return t}function Ul(e,t,n,r,i,a,o,s,u){return(e=Wl(n,r,!0,e,0,a,0,s,u)).context=Vl(null),n=e.current,(a=Ra(r=tl(),i=nl(n))).callback=void 0!==t&&null!==t?t:null,Na(n,a,i),e.current.lanes=i,mt(e,i,r),il(e,r),e}function Kl(e,t,n,r){var i=t.current,a=tl(),o=nl(i);return n=Vl(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ra(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Na(i,t,o))&&(rl(e,i,o,a),Ma(e,i,o)),o}function Hl(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function ql(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gl(e,t){ql(e,t),(e=e.alternate)&&ql(e,t)}Eu=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Oi.current)xs=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return xs=!1,function(e,t,n){switch(t.tag){case 3:Is(t),pa();break;case 5:ao(t);break;case 1:Di(t.type)&&Fi(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;_i(ma,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(_i(so,1&so.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Bs(e,t,n):(_i(so,1&so.current),null!==(e=Hs(e,t,n))?e.sibling:null);_i(so,1&so.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Us(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),_i(so,so.current),r)break;return null;case 22:case 23:return t.lanes=0,ks(e,t,n)}return Hs(e,t,n)}(e,t,n);xs=0!==(131072&e.flags)}else xs=!1,ia&&0!==(1048576&t.flags)&&Zi(t,qi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ks(e,t),e=t.pendingProps;var i=Ai(t,Pi.current);Ea(t,n),i=Eo(null,t,r,e,i,n);var o=ko();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Di(r)?(o=!0,Fi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Aa(t),i.updater=Wa,t.stateNode=i,i._reactInternals=t,Ha(t,r,e,n),t=Os(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),ws(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ks(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Rl(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===P)return 11;if(e===A)return 14}return 2}(r),e=ya(r,e),i){case 0:t=Cs(null,t,r,e,n);break e;case 1:t=Ps(null,t,r,e,n);break e;case 11:t=Ss(null,t,r,e,n);break e;case 14:t=Ts(null,t,r,ya(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Cs(e,t,r,i=t.elementType===r?i:ya(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ps(e,t,r,i=t.elementType===r?i:ya(r,i),n);case 3:e:{if(Is(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Da(e,t),La(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=As(e,t,r,n,i=cs(Error(a(423)),t));break e}if(r!==i){t=As(e,t,r,n,i=cs(Error(a(424)),t));break e}for(ra=li(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=$a(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(pa(),r===i){t=Hs(e,t,n);break e}ws(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&la(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==o&&ni(r,o)&&(t.flags|=32),_s(e,t),ws(e,t,s,n),t.child;case 6:return null===e&&la(t),null;case 13:return Bs(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ja(t,null,r,n):ws(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Ss(e,t,r,i=t.elementType===r?i:ya(r,i),n);case 7:return ws(e,t,t.pendingProps,n),t.child;case 8:case 12:return ws(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,_i(ma,r._currentValue),r._currentValue=s,null!==o)if(sr(o.value,s)){if(o.children===i.children&&!Oi.current){t=Hs(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var u=o.dependencies;if(null!==u){s=o.child;for(var l=u.firstContext;null!==l;){if(l.context===r){if(1===o.tag){(l=Ra(-1,n&-n)).tag=2;var c=o.updateQueue;if(null!==c){var f=(c=c.shared).pending;null===f?l.next=l:(l.next=f.next,f.next=l),c.pending=l}}o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Ta(o.return,n,t),u.lanes|=n;break}l=l.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(a(341));s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),Ta(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}ws(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ea(t,n),r=r(i=ka(i)),t.flags|=1,ws(e,t,r,n),t.child;case 14:return i=ya(r=t.type,t.pendingProps),Ts(e,t,r,i=ya(r.type,i),n);case 15:return Es(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ya(r,i),Ks(e,t),t.tag=1,Di(r)?(e=!0,Fi(t)):e=!1,Ea(t,n),Ua(t,r,i),Ha(t,r,i,n),Os(null,t,r,!0,e,n);case 19:return Us(e,t,n);case 22:return ks(e,t,n)}throw Error(a(156,t.tag))};var Xl="function"===typeof reportError?reportError:function(e){console.error(e)};function Yl(e){this._internalRoot=e}function Jl(e){this._internalRoot=e}function $l(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Ql(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zl(){}function ec(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var s=i;i=function(){var e=Hl(o);s.call(e)}}Kl(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Hl(o);a.call(e)}}var o=Ul(t,r,e,0,null,!1,0,"",Zl);return e._reactRootContainer=o,e[hi]=o.current,Vr(8===e.nodeType?e.parentNode:e),fl(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Hl(u);s.call(e)}}var u=Wl(e,0,!1,null,0,!1,0,"",Zl);return e._reactRootContainer=u,e[hi]=u.current,Vr(8===e.nodeType?e.parentNode:e),fl((function(){Kl(t,u,n,r)})),u}(n,t,e,i,r);return Hl(o)}Jl.prototype.render=Yl.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Kl(e,t,null,null)},Jl.prototype.unmount=Yl.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;fl((function(){Kl(null,e,null,null)})),t[hi]=null}},Jl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Et();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rt.length&&0!==t&&t<Rt[n].priority;n++);Rt.splice(n,0,e),0===n&&Lt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(gt(t,1|n),il(t,$e()),0===(6&Ou)&&(Uu=$e()+500,Vi()))}break;case 13:fl((function(){var t=Oa(e,1);if(null!==t){var n=tl();rl(t,e,1,n)}})),Gl(e,1)}},St=function(e){if(13===e.tag){var t=Oa(e,134217728);if(null!==t)rl(t,e,134217728,tl());Gl(e,134217728)}},Tt=function(e){if(13===e.tag){var t=nl(e),n=Oa(e,t);if(null!==n)rl(n,e,t,tl());Gl(e,t)}},Et=function(){return bt},kt=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},Se=function(e,t,n){switch(t){case"input":if(Q(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));G(r),Q(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Pe=cl,Oe=fl;var tc={usingClientEntryPoint:!1,Events:[bi,xi,wi,_e,Ce,cl]},nc={findFiberByHostInstance:gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rc={bundleType:nc.bundleType,version:nc.version,rendererPackageName:nc.rendererPackageName,rendererConfig:nc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:nc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ic.isDisabled&&ic.supportsFiber)try{it=ic.inject(rc),at=ic}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tc,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!$l(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!$l(e))throw Error(a(299));var n=!1,r="",i=Xl;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Wl(e,1,!1,null,0,n,0,r,i),e[hi]=t.current,Vr(8===e.nodeType?e.parentNode:e),new Yl(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return fl(e)},t.hydrate=function(e,t,n){if(!Ql(t))throw Error(a(200));return ec(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!$l(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",s=Xl;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Ul(t,null,e,1,null!=n?n:null,i,0,o,s),e[hi]=t.current,Vr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Jl(t)},t.render=function(e,t,n){if(!Ql(t))throw Error(a(200));return ec(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Ql(e))throw Error(a(40));return!!e._reactRootContainer&&(fl((function(){ec(null,null,e,!1,(function(){e._reactRootContainer=null,e[hi]=null}))})),!0)},t.unstable_batchedUpdates=cl,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Ql(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return ec(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},1250:function(e,t,n){"use strict";var r=n(4164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},4164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4463)},6374:function(e,t,n){"use strict";var r=n(2791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var r,a={},l=null,c=null;for(r in void 0!==n&&(l=""+n),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(c=t.ref),t)o.call(t,r)&&!u.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:l,ref:c,props:a,_owner:s.current}}t.Fragment=a,t.jsx=l,t.jsxs=l},9117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),p=Symbol.iterator;var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,y={};function m(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||h}function g(){}function b(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||h}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=m.prototype;var x=b.prototype=new g;x.constructor=b,v(x,m.prototype),x.isPureReactComponent=!0;var w=Array.isArray,S=Object.prototype.hasOwnProperty,T={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,r){var i,a={},o=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)S.call(t,i)&&!E.hasOwnProperty(i)&&(a[i]=t[i]);var u=arguments.length-2;if(1===u)a.children=r;else if(1<u){for(var l=Array(u),c=0;c<u;c++)l[c]=arguments[c+2];a.children=l}if(e&&e.defaultProps)for(i in u=e.defaultProps)void 0===a[i]&&(a[i]=u[i]);return{$$typeof:n,type:e,key:o,ref:s,props:a,_owner:T.current}}function _(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function P(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function O(e,t,i,a,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0}}if(u)return o=o(u=e),e=""===a?"."+P(u,0):a,w(o)?(i="",null!=e&&(i=e.replace(C,"$&/")+"/"),O(o,t,i,"",(function(e){return e}))):null!=o&&(_(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(C,"$&/")+"/")+e)),t.push(o)),1;if(u=0,a=""===a?".":a+":",w(e))for(var l=0;l<e.length;l++){var c=a+P(s=e[l],l);u+=O(s,t,i,c,o)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),l=0;!(s=e.next()).done;)u+=O(s=s.value,t,i,c=a+P(s,l++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function I(e,t,n){if(null==e)return e;var r=[],i=0;return O(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function A(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var D={current:null},R={transition:null},N={ReactCurrentDispatcher:D,ReactCurrentBatchConfig:R,ReactCurrentOwner:T};t.Children={map:I,forEach:function(e,t,n){I(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return I(e,(function(){t++})),t},toArray:function(e){return I(e,(function(e){return e}))||[]},only:function(e){if(!_(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=m,t.Fragment=i,t.Profiler=o,t.PureComponent=b,t.StrictMode=a,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=N,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=T.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(l in t)S.call(t,l)&&!E.hasOwnProperty(l)&&(i[l]=void 0===t[l]&&void 0!==u?u[l]:t[l])}var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){u=Array(l);for(var c=0;c<l;c++)u[c]=arguments[c+2];i.children=u}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=k,t.createFactory=function(e){var t=k.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=_,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return D.current.useCallback(e,t)},t.useContext=function(e){return D.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return D.current.useDeferredValue(e)},t.useEffect=function(e,t){return D.current.useEffect(e,t)},t.useId=function(){return D.current.useId()},t.useImperativeHandle=function(e,t,n){return D.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return D.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return D.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return D.current.useMemo(e,t)},t.useReducer=function(e,t,n){return D.current.useReducer(e,t,n)},t.useRef=function(e){return D.current.useRef(e)},t.useState=function(e){return D.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return D.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return D.current.useTransition()},t.version="18.2.0"},2791:function(e,t,n){"use strict";e.exports=n(9117)},184:function(e,t,n){"use strict";e.exports=n(6374)},6813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,u=e[s],l=s+1,c=e[l];if(0>a(u,n))l<i&&0>a(c,u)?(e[r]=c,e[l]=n,r=l):(e[r]=u,e[s]=n,r=s);else{if(!(l<i&&0>a(c,n)))break e;e[r]=c,e[l]=n,r=l}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var l=[],c=[],f=1,d=null,p=3,h=!1,v=!1,y=!1,m="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function x(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(l,t)}t=r(c)}}function w(e){if(y=!1,x(e),!v)if(null!==r(l))v=!0,R(S);else{var t=r(c);null!==t&&N(w,t.startTime-e)}}function S(e,n){v=!1,y&&(y=!1,g(_),_=-1),h=!0;var a=p;try{for(x(n),d=r(l);null!==d&&(!(d.expirationTime>n)||e&&!O());){var o=d.callback;if("function"===typeof o){d.callback=null,p=d.priorityLevel;var s=o(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?d.callback=s:d===r(l)&&i(l),x(n)}else i(l);d=r(l)}if(null!==d)var u=!0;else{var f=r(c);null!==f&&N(w,f.startTime-n),u=!1}return u}finally{d=null,p=a,h=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var T,E=!1,k=null,_=-1,C=5,P=-1;function O(){return!(t.unstable_now()-P<C)}function I(){if(null!==k){var e=t.unstable_now();P=e;var n=!0;try{n=k(!0,e)}finally{n?T():(E=!1,k=null)}}else E=!1}if("function"===typeof b)T=function(){b(I)};else if("undefined"!==typeof MessageChannel){var A=new MessageChannel,D=A.port2;A.port1.onmessage=I,T=function(){D.postMessage(null)}}else T=function(){m(I,0)};function R(e){k=e,E||(E=!0,T())}function N(e,n){_=m((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||h||(v=!0,R(S))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(c,e),null===r(l)&&e===r(c)&&(y?(g(_),_=-1):y=!0,N(w,a-o))):(e.sortIndex=s,n(l,e),v||h||(v=!0,R(S))),e},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},5296:function(e,t,n){"use strict";e.exports=n(6813)},1158:function(e){"use strict";var t=null;function n(e){if(null!==t&&(t.property,1)){var r=t;return t=n.prototype=null,r}return t=n.prototype=null==e?Object.create(null):e,new n}n(),e.exports=function(e){return n(e)}},2391:function(e){"use strict";var t=function(){};e.exports=t},4902:function(){},522:function(){},753:function(){},3897:function(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.__esModule=!0,e.exports.default=e.exports},5372:function(e){e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},3405:function(e,t,n){var r=n(3897);e.exports=function(e){if(Array.isArray(e))return r(e)},e.exports.__esModule=!0,e.exports.default=e.exports},4704:function(e,t,n){var r=n(6116);e.exports=function(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=r(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,a=function(){};return{s:a,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw o}}}},e.exports.__esModule=!0,e.exports.default=e.exports},8416:function(e,t,n){var r=n(4062);e.exports=function(e,t,n){return(t=r(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},9498:function(e){e.exports=function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},8872:function(e){e.exports=function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],u=!0,l=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){l=!0,i=e}finally{try{if(!u&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw i}}return s}},e.exports.__esModule=!0,e.exports.default=e.exports},2218:function(e){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},2281:function(e){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},7424:function(e,t,n){var r=n(5372),i=n(8872),a=n(6116),o=n(2218);e.exports=function(e,t){return r(e)||i(e,t)||a(e,t)||o()},e.exports.__esModule=!0,e.exports.default=e.exports},861:function(e,t,n){var r=n(3405),i=n(9498),a=n(6116),o=n(2281);e.exports=function(e){return r(e)||i(e)||a(e)||o()},e.exports.__esModule=!0,e.exports.default=e.exports},5036:function(e,t,n){var r=n(8698).default;e.exports=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},4062:function(e,t,n){var r=n(8698).default,i=n(5036);e.exports=function(e){var t=i(e,"string");return"symbol"===r(t)?t:String(t)},e.exports.__esModule=!0,e.exports.default=e.exports},8698:function(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},6116:function(e,t,n){var r=n(3897);e.exports=function(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},405:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.readCodePoint=l,t.readInt=u,t.readStringContents=function(e,t,n,r,i,s){for(var u=n,l=r,c=i,f="",d=null,p=n,h=t.length;;){if(n>=h){s.unterminated(u,l,c),f+=t.slice(p,n);break}var v=t.charCodeAt(n);if(a(e,v,t,n)){f+=t.slice(p,n);break}if(92===v){f+=t.slice(p,n);var y=o(t,n,r,i,"template"===e,s);null!==y.ch||d?f+=y.ch:d={pos:n,lineStart:r,curLine:i},n=y.pos,r=y.lineStart,i=y.curLine,p=n}else 8232===v||8233===v?(++i,r=++n):10===v||13===v?"template"===e?(f+=t.slice(p,n)+"\n",++n,13===v&&10===t.charCodeAt(n)&&++n,++i,p=r=n):s.unterminated(u,l,c):++n}return{pos:n,str:f,firstInvalidLoc:d,lineStart:r,curLine:i,containsInvalid:!!d}};var n=function(e){return e>=48&&e<=57},r={decBinOct:new Set([46,66,69,79,95,98,101,111]),hex:new Set([46,88,95,120])},i={bin:function(e){return 48===e||49===e},oct:function(e){return e>=48&&e<=55},dec:function(e){return e>=48&&e<=57},hex:function(e){return e>=48&&e<=57||e>=65&&e<=70||e>=97&&e<=102}};function a(e,t,n,r){return"template"===e?96===t||36===t&&123===n.charCodeAt(r+1):t===("double"===e?34:39)}function o(e,t,n,r,i,a){var o=!i;t++;var u=function(e){return{pos:t,ch:e,lineStart:n,curLine:r}},c=e.charCodeAt(t++);switch(c){case 110:return u("\n");case 114:return u("\r");case 120:var f,d=s(e,t,n,r,2,!1,o,a);return f=d.code,t=d.pos,u(null===f?null:String.fromCharCode(f));case 117:var p,h=l(e,t,n,r,o,a);return p=h.code,t=h.pos,u(null===p?null:String.fromCodePoint(p));case 116:return u("\t");case 98:return u("\b");case 118:return u("\v");case 102:return u("\f");case 13:10===e.charCodeAt(t)&&++t;case 10:n=t,++r;case 8232:case 8233:return u("");case 56:case 57:if(i)return u(null);a.strictNumericEscape(t-1,n,r);default:if(c>=48&&c<=55){var v=t-1,y=e.slice(v,t+2).match(/^[0-7]+/)[0],m=parseInt(y,8);m>255&&(y=y.slice(0,-1),m=parseInt(y,8)),t+=y.length-1;var g=e.charCodeAt(t);if("0"!==y||56===g||57===g){if(i)return u(null);a.strictNumericEscape(v,n,r)}return u(String.fromCharCode(m))}return u(String.fromCharCode(c))}}function s(e,t,n,r,i,a,o,s){var l,c=t,f=u(e,t,n,r,16,i,a,!1,s,!o);return l=f.n,t=f.pos,null===l&&(o?s.invalidEscapeSequence(c,n,r):t=c-1),{code:l,pos:t}}function u(e,t,a,o,s,u,l,c,f,d){for(var p=t,h=16===s?r.hex:r.decBinOct,v=16===s?i.hex:10===s?i.dec:8===s?i.oct:i.bin,y=!1,m=0,g=0,b=null==u?1/0:u;g<b;++g){var x=e.charCodeAt(t),w=void 0;if(95!==x||"bail"===c){if((w=x>=97?x-97+10:x>=65?x-65+10:n(x)?x-48:1/0)>=s){if(w<=9&&d)return{n:null,pos:t};if(w<=9&&f.invalidDigit(t,a,o,s))w=0;else{if(!l)break;w=0,y=!0}}++t,m=m*s+w}else{var S=e.charCodeAt(t-1),T=e.charCodeAt(t+1);if(c){if(Number.isNaN(T)||!v(T)||h.has(S)||h.has(T)){if(d)return{n:null,pos:t};f.unexpectedNumericSeparator(t,a,o)}}else{if(d)return{n:null,pos:t};f.numericSeparatorInEscapeSequence(t,a,o)}++t}}return t===p||null!=u&&t-p!==u||y?{n:null,pos:t}:{n:m,pos:t}}function l(e,t,n,r,i,a){var o;if(123===e.charCodeAt(t)){var u=s(e,++t,n,r,e.indexOf("}",t)-t,!0,i,a);if(o=u.code,t=u.pos,++t,null!==o&&o>1114111){if(!i)return{code:null,pos:t};a.invalidCodePoint(t,n,r)}}else{var l=s(e,t,n,r,4,!1,i,a);o=l.code,t=l.pos}return{code:o,pos:t}}},9018:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isIdentifierChar=c,t.isIdentifierName=function(e){for(var t=!0,n=0;n<e.length;n++){var r=e.charCodeAt(n);if(55296===(64512&r)&&n+1<e.length){var i=e.charCodeAt(++n);56320===(64512&i)&&(r=65536+((1023&r)<<10)+(1023&i))}if(t){if(t=!1,!l(r))return!1}else if(!c(r))return!1}return!t},t.isIdentifierStart=l;var n="\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u037f\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u052f\u0531-\u0556\u0559\u0560-\u0588\u05d0-\u05ea\u05ef-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u0860-\u086a\u0870-\u0887\u0889-\u088e\u08a0-\u08c9\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u09fc\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0af9\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c39\u0c3d\u0c58-\u0c5a\u0c5d\u0c60\u0c61\u0c80\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cdd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d04-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d54-\u0d56\u0d5f-\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e86-\u0e8a\u0e8c-\u0ea3\u0ea5\u0ea7-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f5\u13f8-\u13fd\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f8\u1700-\u1711\u171f-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1878\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191e\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19b0-\u19c9\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4c\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1c80-\u1c88\u1c90-\u1cba\u1cbd-\u1cbf\u1ce9-\u1cec\u1cee-\u1cf3\u1cf5\u1cf6\u1cfa\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2118-\u211d\u2124\u2126\u2128\u212a-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309b-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312f\u3131-\u318e\u31a0-\u31bf\u31f0-\u31ff\u3400-\u4dbf\u4e00-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua69d\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua7ca\ua7d0\ua7d1\ua7d3\ua7d5-\ua7d9\ua7f2-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua8fd\ua8fe\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\ua9e0-\ua9e4\ua9e6-\ua9ef\ua9fa-\ua9fe\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa7e-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uab30-\uab5a\uab5c-\uab69\uab70-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc",r="\u200c\u200d\xb7\u0300-\u036f\u0387\u0483-\u0487\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u0669\u0670\u06d6-\u06dc\u06df-\u06e4\u06e7\u06e8\u06ea-\u06ed\u06f0-\u06f9\u0711\u0730-\u074a\u07a6-\u07b0\u07c0-\u07c9\u07eb-\u07f3\u07fd\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0859-\u085b\u0898-\u089f\u08ca-\u08e1\u08e3-\u0903\u093a-\u093c\u093e-\u094f\u0951-\u0957\u0962\u0963\u0966-\u096f\u0981-\u0983\u09bc\u09be-\u09c4\u09c7\u09c8\u09cb-\u09cd\u09d7\u09e2\u09e3\u09e6-\u09ef\u09fe\u0a01-\u0a03\u0a3c\u0a3e-\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a66-\u0a71\u0a75\u0a81-\u0a83\u0abc\u0abe-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ae2\u0ae3\u0ae6-\u0aef\u0afa-\u0aff\u0b01-\u0b03\u0b3c\u0b3e-\u0b44\u0b47\u0b48\u0b4b-\u0b4d\u0b55-\u0b57\u0b62\u0b63\u0b66-\u0b6f\u0b82\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd7\u0be6-\u0bef\u0c00-\u0c04\u0c3c\u0c3e-\u0c44\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0c66-\u0c6f\u0c81-\u0c83\u0cbc\u0cbe-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0ce6-\u0cef\u0cf3\u0d00-\u0d03\u0d3b\u0d3c\u0d3e-\u0d44\u0d46-\u0d48\u0d4a-\u0d4d\u0d57\u0d62\u0d63\u0d66-\u0d6f\u0d81-\u0d83\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0de6-\u0def\u0df2\u0df3\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0e50-\u0e59\u0eb1\u0eb4-\u0ebc\u0ec8-\u0ece\u0ed0-\u0ed9\u0f18\u0f19\u0f20-\u0f29\u0f35\u0f37\u0f39\u0f3e\u0f3f\u0f71-\u0f84\u0f86\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u102b-\u103e\u1040-\u1049\u1056-\u1059\u105e-\u1060\u1062-\u1064\u1067-\u106d\u1071-\u1074\u1082-\u108d\u108f-\u109d\u135d-\u135f\u1369-\u1371\u1712-\u1715\u1732-\u1734\u1752\u1753\u1772\u1773\u17b4-\u17d3\u17dd\u17e0-\u17e9\u180b-\u180d\u180f-\u1819\u18a9\u1920-\u192b\u1930-\u193b\u1946-\u194f\u19d0-\u19da\u1a17-\u1a1b\u1a55-\u1a5e\u1a60-\u1a7c\u1a7f-\u1a89\u1a90-\u1a99\u1ab0-\u1abd\u1abf-\u1ace\u1b00-\u1b04\u1b34-\u1b44\u1b50-\u1b59\u1b6b-\u1b73\u1b80-\u1b82\u1ba1-\u1bad\u1bb0-\u1bb9\u1be6-\u1bf3\u1c24-\u1c37\u1c40-\u1c49\u1c50-\u1c59\u1cd0-\u1cd2\u1cd4-\u1ce8\u1ced\u1cf4\u1cf7-\u1cf9\u1dc0-\u1dff\u203f\u2040\u2054\u20d0-\u20dc\u20e1\u20e5-\u20f0\u2cef-\u2cf1\u2d7f\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua620-\ua629\ua66f\ua674-\ua67d\ua69e\ua69f\ua6f0\ua6f1\ua802\ua806\ua80b\ua823-\ua827\ua82c\ua880\ua881\ua8b4-\ua8c5\ua8d0-\ua8d9\ua8e0-\ua8f1\ua8ff-\ua909\ua926-\ua92d\ua947-\ua953\ua980-\ua983\ua9b3-\ua9c0\ua9d0-\ua9d9\ua9e5\ua9f0-\ua9f9\uaa29-\uaa36\uaa43\uaa4c\uaa4d\uaa50-\uaa59\uaa7b-\uaa7d\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uaaeb-\uaaef\uaaf5\uaaf6\uabe3-\uabea\uabec\uabed\uabf0-\uabf9\ufb1e\ufe00-\ufe0f\ufe20-\ufe2f\ufe33\ufe34\ufe4d-\ufe4f\uff10-\uff19\uff3f",i=new RegExp("["+n+"]"),a=new RegExp("["+n+r+"]");n=r=null;var o=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,68,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,349,41,7,1,79,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,20,1,64,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,16,0,2,12,2,33,125,0,80,921,103,110,18,195,2637,96,16,1071,18,5,4026,582,8634,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,43,8,8936,3,2,6,2,1,2,290,16,0,30,2,3,0,15,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,7,5,262,61,147,44,11,6,17,0,322,29,19,43,485,27,757,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4153,7,221,3,5761,15,7472,3104,541,1507,4938,6,4191],s=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,370,1,81,2,71,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,3,0,158,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,10,1,2,0,49,6,4,4,14,9,5351,0,7,14,13835,9,87,9,39,4,60,6,26,9,1014,0,2,54,8,3,82,0,12,1,19628,1,4706,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,101,0,161,6,10,9,357,0,62,13,499,13,983,6,110,6,6,9,4759,9,787719,239];function u(e,t){for(var n=65536,r=0,i=t.length;r<i;r+=2){if((n+=t[r])>e)return!1;if((n+=t[r+1])>=e)return!0}return!1}function l(e){return e<65?36===e:e<=90||(e<97?95===e:e<=122||(e<=65535?e>=170&&i.test(String.fromCharCode(e)):u(e,o)))}function c(e){return e<48?36===e:e<58||!(e<65)&&(e<=90||(e<97?95===e:e<=122||(e<=65535?e>=170&&a.test(String.fromCharCode(e)):u(e,o)||u(e,s))))}},4405:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"isIdentifierChar",{enumerable:!0,get:function(){return r.isIdentifierChar}}),Object.defineProperty(t,"isIdentifierName",{enumerable:!0,get:function(){return r.isIdentifierName}}),Object.defineProperty(t,"isIdentifierStart",{enumerable:!0,get:function(){return r.isIdentifierStart}}),Object.defineProperty(t,"isKeyword",{enumerable:!0,get:function(){return i.isKeyword}}),Object.defineProperty(t,"isReservedWord",{enumerable:!0,get:function(){return i.isReservedWord}}),Object.defineProperty(t,"isStrictBindOnlyReservedWord",{enumerable:!0,get:function(){return i.isStrictBindOnlyReservedWord}}),Object.defineProperty(t,"isStrictBindReservedWord",{enumerable:!0,get:function(){return i.isStrictBindReservedWord}}),Object.defineProperty(t,"isStrictReservedWord",{enumerable:!0,get:function(){return i.isStrictReservedWord}});var r=n(9018),i=n(401)},401:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isKeyword=function(e){return i.has(e)},t.isReservedWord=s,t.isStrictBindOnlyReservedWord=l,t.isStrictBindReservedWord=function(e,t){return u(e,t)||l(e)},t.isStrictReservedWord=u;var n=["implements","interface","let","package","private","protected","public","static","yield"],r=["eval","arguments"],i=new Set(["break","case","catch","continue","debugger","default","do","else","finally","for","function","if","return","switch","throw","try","var","const","while","with","new","this","super","class","extends","export","import","null","true","false","in","instanceof","typeof","void","delete"]),a=new Set(n),o=new Set(r);function s(e,t){return t&&"await"===e||"enum"===e}function u(e,t){return s(e,t)||a.has(e)}function l(e){return o.has(e)}},817:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(!(0,r.default)(e)){var t,n=null!=(t=null==e?void 0:e.type)?t:JSON.stringify(e);throw new TypeError('Not a valid node of type "'.concat(n,'"'))}};var r=n(8127)},9274:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assertAccessor=function(e,t){a("Accessor",e,t)},t.assertAnyTypeAnnotation=function(e,t){a("AnyTypeAnnotation",e,t)},t.assertArgumentPlaceholder=function(e,t){a("ArgumentPlaceholder",e,t)},t.assertArrayExpression=function(e,t){a("ArrayExpression",e,t)},t.assertArrayPattern=function(e,t){a("ArrayPattern",e,t)},t.assertArrayTypeAnnotation=function(e,t){a("ArrayTypeAnnotation",e,t)},t.assertArrowFunctionExpression=function(e,t){a("ArrowFunctionExpression",e,t)},t.assertAssignmentExpression=function(e,t){a("AssignmentExpression",e,t)},t.assertAssignmentPattern=function(e,t){a("AssignmentPattern",e,t)},t.assertAwaitExpression=function(e,t){a("AwaitExpression",e,t)},t.assertBigIntLiteral=function(e,t){a("BigIntLiteral",e,t)},t.assertBinary=function(e,t){a("Binary",e,t)},t.assertBinaryExpression=function(e,t){a("BinaryExpression",e,t)},t.assertBindExpression=function(e,t){a("BindExpression",e,t)},t.assertBlock=function(e,t){a("Block",e,t)},t.assertBlockParent=function(e,t){a("BlockParent",e,t)},t.assertBlockStatement=function(e,t){a("BlockStatement",e,t)},t.assertBooleanLiteral=function(e,t){a("BooleanLiteral",e,t)},t.assertBooleanLiteralTypeAnnotation=function(e,t){a("BooleanLiteralTypeAnnotation",e,t)},t.assertBooleanTypeAnnotation=function(e,t){a("BooleanTypeAnnotation",e,t)},t.assertBreakStatement=function(e,t){a("BreakStatement",e,t)},t.assertCallExpression=function(e,t){a("CallExpression",e,t)},t.assertCatchClause=function(e,t){a("CatchClause",e,t)},t.assertClass=function(e,t){a("Class",e,t)},t.assertClassAccessorProperty=function(e,t){a("ClassAccessorProperty",e,t)},t.assertClassBody=function(e,t){a("ClassBody",e,t)},t.assertClassDeclaration=function(e,t){a("ClassDeclaration",e,t)},t.assertClassExpression=function(e,t){a("ClassExpression",e,t)},t.assertClassImplements=function(e,t){a("ClassImplements",e,t)},t.assertClassMethod=function(e,t){a("ClassMethod",e,t)},t.assertClassPrivateMethod=function(e,t){a("ClassPrivateMethod",e,t)},t.assertClassPrivateProperty=function(e,t){a("ClassPrivateProperty",e,t)},t.assertClassProperty=function(e,t){a("ClassProperty",e,t)},t.assertCompletionStatement=function(e,t){a("CompletionStatement",e,t)},t.assertConditional=function(e,t){a("Conditional",e,t)},t.assertConditionalExpression=function(e,t){a("ConditionalExpression",e,t)},t.assertContinueStatement=function(e,t){a("ContinueStatement",e,t)},t.assertDebuggerStatement=function(e,t){a("DebuggerStatement",e,t)},t.assertDecimalLiteral=function(e,t){a("DecimalLiteral",e,t)},t.assertDeclaration=function(e,t){a("Declaration",e,t)},t.assertDeclareClass=function(e,t){a("DeclareClass",e,t)},t.assertDeclareExportAllDeclaration=function(e,t){a("DeclareExportAllDeclaration",e,t)},t.assertDeclareExportDeclaration=function(e,t){a("DeclareExportDeclaration",e,t)},t.assertDeclareFunction=function(e,t){a("DeclareFunction",e,t)},t.assertDeclareInterface=function(e,t){a("DeclareInterface",e,t)},t.assertDeclareModule=function(e,t){a("DeclareModule",e,t)},t.assertDeclareModuleExports=function(e,t){a("DeclareModuleExports",e,t)},t.assertDeclareOpaqueType=function(e,t){a("DeclareOpaqueType",e,t)},t.assertDeclareTypeAlias=function(e,t){a("DeclareTypeAlias",e,t)},t.assertDeclareVariable=function(e,t){a("DeclareVariable",e,t)},t.assertDeclaredPredicate=function(e,t){a("DeclaredPredicate",e,t)},t.assertDecorator=function(e,t){a("Decorator",e,t)},t.assertDirective=function(e,t){a("Directive",e,t)},t.assertDirectiveLiteral=function(e,t){a("DirectiveLiteral",e,t)},t.assertDoExpression=function(e,t){a("DoExpression",e,t)},t.assertDoWhileStatement=function(e,t){a("DoWhileStatement",e,t)},t.assertEmptyStatement=function(e,t){a("EmptyStatement",e,t)},t.assertEmptyTypeAnnotation=function(e,t){a("EmptyTypeAnnotation",e,t)},t.assertEnumBody=function(e,t){a("EnumBody",e,t)},t.assertEnumBooleanBody=function(e,t){a("EnumBooleanBody",e,t)},t.assertEnumBooleanMember=function(e,t){a("EnumBooleanMember",e,t)},t.assertEnumDeclaration=function(e,t){a("EnumDeclaration",e,t)},t.assertEnumDefaultedMember=function(e,t){a("EnumDefaultedMember",e,t)},t.assertEnumMember=function(e,t){a("EnumMember",e,t)},t.assertEnumNumberBody=function(e,t){a("EnumNumberBody",e,t)},t.assertEnumNumberMember=function(e,t){a("EnumNumberMember",e,t)},t.assertEnumStringBody=function(e,t){a("EnumStringBody",e,t)},t.assertEnumStringMember=function(e,t){a("EnumStringMember",e,t)},t.assertEnumSymbolBody=function(e,t){a("EnumSymbolBody",e,t)},t.assertExistsTypeAnnotation=function(e,t){a("ExistsTypeAnnotation",e,t)},t.assertExportAllDeclaration=function(e,t){a("ExportAllDeclaration",e,t)},t.assertExportDeclaration=function(e,t){a("ExportDeclaration",e,t)},t.assertExportDefaultDeclaration=function(e,t){a("ExportDefaultDeclaration",e,t)},t.assertExportDefaultSpecifier=function(e,t){a("ExportDefaultSpecifier",e,t)},t.assertExportNamedDeclaration=function(e,t){a("ExportNamedDeclaration",e,t)},t.assertExportNamespaceSpecifier=function(e,t){a("ExportNamespaceSpecifier",e,t)},t.assertExportSpecifier=function(e,t){a("ExportSpecifier",e,t)},t.assertExpression=function(e,t){a("Expression",e,t)},t.assertExpressionStatement=function(e,t){a("ExpressionStatement",e,t)},t.assertExpressionWrapper=function(e,t){a("ExpressionWrapper",e,t)},t.assertFile=function(e,t){a("File",e,t)},t.assertFlow=function(e,t){a("Flow",e,t)},t.assertFlowBaseAnnotation=function(e,t){a("FlowBaseAnnotation",e,t)},t.assertFlowDeclaration=function(e,t){a("FlowDeclaration",e,t)},t.assertFlowPredicate=function(e,t){a("FlowPredicate",e,t)},t.assertFlowType=function(e,t){a("FlowType",e,t)},t.assertFor=function(e,t){a("For",e,t)},t.assertForInStatement=function(e,t){a("ForInStatement",e,t)},t.assertForOfStatement=function(e,t){a("ForOfStatement",e,t)},t.assertForStatement=function(e,t){a("ForStatement",e,t)},t.assertForXStatement=function(e,t){a("ForXStatement",e,t)},t.assertFunction=function(e,t){a("Function",e,t)},t.assertFunctionDeclaration=function(e,t){a("FunctionDeclaration",e,t)},t.assertFunctionExpression=function(e,t){a("FunctionExpression",e,t)},t.assertFunctionParent=function(e,t){a("FunctionParent",e,t)},t.assertFunctionTypeAnnotation=function(e,t){a("FunctionTypeAnnotation",e,t)},t.assertFunctionTypeParam=function(e,t){a("FunctionTypeParam",e,t)},t.assertGenericTypeAnnotation=function(e,t){a("GenericTypeAnnotation",e,t)},t.assertIdentifier=function(e,t){a("Identifier",e,t)},t.assertIfStatement=function(e,t){a("IfStatement",e,t)},t.assertImmutable=function(e,t){a("Immutable",e,t)},t.assertImport=function(e,t){a("Import",e,t)},t.assertImportAttribute=function(e,t){a("ImportAttribute",e,t)},t.assertImportDeclaration=function(e,t){a("ImportDeclaration",e,t)},t.assertImportDefaultSpecifier=function(e,t){a("ImportDefaultSpecifier",e,t)},t.assertImportNamespaceSpecifier=function(e,t){a("ImportNamespaceSpecifier",e,t)},t.assertImportOrExportDeclaration=function(e,t){a("ImportOrExportDeclaration",e,t)},t.assertImportSpecifier=function(e,t){a("ImportSpecifier",e,t)},t.assertIndexedAccessType=function(e,t){a("IndexedAccessType",e,t)},t.assertInferredPredicate=function(e,t){a("InferredPredicate",e,t)},t.assertInterfaceDeclaration=function(e,t){a("InterfaceDeclaration",e,t)},t.assertInterfaceExtends=function(e,t){a("InterfaceExtends",e,t)},t.assertInterfaceTypeAnnotation=function(e,t){a("InterfaceTypeAnnotation",e,t)},t.assertInterpreterDirective=function(e,t){a("InterpreterDirective",e,t)},t.assertIntersectionTypeAnnotation=function(e,t){a("IntersectionTypeAnnotation",e,t)},t.assertJSX=function(e,t){a("JSX",e,t)},t.assertJSXAttribute=function(e,t){a("JSXAttribute",e,t)},t.assertJSXClosingElement=function(e,t){a("JSXClosingElement",e,t)},t.assertJSXClosingFragment=function(e,t){a("JSXClosingFragment",e,t)},t.assertJSXElement=function(e,t){a("JSXElement",e,t)},t.assertJSXEmptyExpression=function(e,t){a("JSXEmptyExpression",e,t)},t.assertJSXExpressionContainer=function(e,t){a("JSXExpressionContainer",e,t)},t.assertJSXFragment=function(e,t){a("JSXFragment",e,t)},t.assertJSXIdentifier=function(e,t){a("JSXIdentifier",e,t)},t.assertJSXMemberExpression=function(e,t){a("JSXMemberExpression",e,t)},t.assertJSXNamespacedName=function(e,t){a("JSXNamespacedName",e,t)},t.assertJSXOpeningElement=function(e,t){a("JSXOpeningElement",e,t)},t.assertJSXOpeningFragment=function(e,t){a("JSXOpeningFragment",e,t)},t.assertJSXSpreadAttribute=function(e,t){a("JSXSpreadAttribute",e,t)},t.assertJSXSpreadChild=function(e,t){a("JSXSpreadChild",e,t)},t.assertJSXText=function(e,t){a("JSXText",e,t)},t.assertLVal=function(e,t){a("LVal",e,t)},t.assertLabeledStatement=function(e,t){a("LabeledStatement",e,t)},t.assertLiteral=function(e,t){a("Literal",e,t)},t.assertLogicalExpression=function(e,t){a("LogicalExpression",e,t)},t.assertLoop=function(e,t){a("Loop",e,t)},t.assertMemberExpression=function(e,t){a("MemberExpression",e,t)},t.assertMetaProperty=function(e,t){a("MetaProperty",e,t)},t.assertMethod=function(e,t){a("Method",e,t)},t.assertMiscellaneous=function(e,t){a("Miscellaneous",e,t)},t.assertMixedTypeAnnotation=function(e,t){a("MixedTypeAnnotation",e,t)},t.assertModuleDeclaration=function(e,t){(0,i.default)("assertModuleDeclaration","assertImportOrExportDeclaration"),a("ModuleDeclaration",e,t)},t.assertModuleExpression=function(e,t){a("ModuleExpression",e,t)},t.assertModuleSpecifier=function(e,t){a("ModuleSpecifier",e,t)},t.assertNewExpression=function(e,t){a("NewExpression",e,t)},t.assertNoop=function(e,t){a("Noop",e,t)},t.assertNullLiteral=function(e,t){a("NullLiteral",e,t)},t.assertNullLiteralTypeAnnotation=function(e,t){a("NullLiteralTypeAnnotation",e,t)},t.assertNullableTypeAnnotation=function(e,t){a("NullableTypeAnnotation",e,t)},t.assertNumberLiteral=function(e,t){(0,i.default)("assertNumberLiteral","assertNumericLiteral"),a("NumberLiteral",e,t)},t.assertNumberLiteralTypeAnnotation=function(e,t){a("NumberLiteralTypeAnnotation",e,t)},t.assertNumberTypeAnnotation=function(e,t){a("NumberTypeAnnotation",e,t)},t.assertNumericLiteral=function(e,t){a("NumericLiteral",e,t)},t.assertObjectExpression=function(e,t){a("ObjectExpression",e,t)},t.assertObjectMember=function(e,t){a("ObjectMember",e,t)},t.assertObjectMethod=function(e,t){a("ObjectMethod",e,t)},t.assertObjectPattern=function(e,t){a("ObjectPattern",e,t)},t.assertObjectProperty=function(e,t){a("ObjectProperty",e,t)},t.assertObjectTypeAnnotation=function(e,t){a("ObjectTypeAnnotation",e,t)},t.assertObjectTypeCallProperty=function(e,t){a("ObjectTypeCallProperty",e,t)},t.assertObjectTypeIndexer=function(e,t){a("ObjectTypeIndexer",e,t)},t.assertObjectTypeInternalSlot=function(e,t){a("ObjectTypeInternalSlot",e,t)},t.assertObjectTypeProperty=function(e,t){a("ObjectTypeProperty",e,t)},t.assertObjectTypeSpreadProperty=function(e,t){a("ObjectTypeSpreadProperty",e,t)},t.assertOpaqueType=function(e,t){a("OpaqueType",e,t)},t.assertOptionalCallExpression=function(e,t){a("OptionalCallExpression",e,t)},t.assertOptionalIndexedAccessType=function(e,t){a("OptionalIndexedAccessType",e,t)},t.assertOptionalMemberExpression=function(e,t){a("OptionalMemberExpression",e,t)},t.assertParenthesizedExpression=function(e,t){a("ParenthesizedExpression",e,t)},t.assertPattern=function(e,t){a("Pattern",e,t)},t.assertPatternLike=function(e,t){a("PatternLike",e,t)},t.assertPipelineBareFunction=function(e,t){a("PipelineBareFunction",e,t)},t.assertPipelinePrimaryTopicReference=function(e,t){a("PipelinePrimaryTopicReference",e,t)},t.assertPipelineTopicExpression=function(e,t){a("PipelineTopicExpression",e,t)},t.assertPlaceholder=function(e,t){a("Placeholder",e,t)},t.assertPrivate=function(e,t){a("Private",e,t)},t.assertPrivateName=function(e,t){a("PrivateName",e,t)},t.assertProgram=function(e,t){a("Program",e,t)},t.assertProperty=function(e,t){a("Property",e,t)},t.assertPureish=function(e,t){a("Pureish",e,t)},t.assertQualifiedTypeIdentifier=function(e,t){a("QualifiedTypeIdentifier",e,t)},t.assertRecordExpression=function(e,t){a("RecordExpression",e,t)},t.assertRegExpLiteral=function(e,t){a("RegExpLiteral",e,t)},t.assertRegexLiteral=function(e,t){(0,i.default)("assertRegexLiteral","assertRegExpLiteral"),a("RegexLiteral",e,t)},t.assertRestElement=function(e,t){a("RestElement",e,t)},t.assertRestProperty=function(e,t){(0,i.default)("assertRestProperty","assertRestElement"),a("RestProperty",e,t)},t.assertReturnStatement=function(e,t){a("ReturnStatement",e,t)},t.assertScopable=function(e,t){a("Scopable",e,t)},t.assertSequenceExpression=function(e,t){a("SequenceExpression",e,t)},t.assertSpreadElement=function(e,t){a("SpreadElement",e,t)},t.assertSpreadProperty=function(e,t){(0,i.default)("assertSpreadProperty","assertSpreadElement"),a("SpreadProperty",e,t)},t.assertStandardized=function(e,t){a("Standardized",e,t)},t.assertStatement=function(e,t){a("Statement",e,t)},t.assertStaticBlock=function(e,t){a("StaticBlock",e,t)},t.assertStringLiteral=function(e,t){a("StringLiteral",e,t)},t.assertStringLiteralTypeAnnotation=function(e,t){a("StringLiteralTypeAnnotation",e,t)},t.assertStringTypeAnnotation=function(e,t){a("StringTypeAnnotation",e,t)},t.assertSuper=function(e,t){a("Super",e,t)},t.assertSwitchCase=function(e,t){a("SwitchCase",e,t)},t.assertSwitchStatement=function(e,t){a("SwitchStatement",e,t)},t.assertSymbolTypeAnnotation=function(e,t){a("SymbolTypeAnnotation",e,t)},t.assertTSAnyKeyword=function(e,t){a("TSAnyKeyword",e,t)},t.assertTSArrayType=function(e,t){a("TSArrayType",e,t)},t.assertTSAsExpression=function(e,t){a("TSAsExpression",e,t)},t.assertTSBaseType=function(e,t){a("TSBaseType",e,t)},t.assertTSBigIntKeyword=function(e,t){a("TSBigIntKeyword",e,t)},t.assertTSBooleanKeyword=function(e,t){a("TSBooleanKeyword",e,t)},t.assertTSCallSignatureDeclaration=function(e,t){a("TSCallSignatureDeclaration",e,t)},t.assertTSConditionalType=function(e,t){a("TSConditionalType",e,t)},t.assertTSConstructSignatureDeclaration=function(e,t){a("TSConstructSignatureDeclaration",e,t)},t.assertTSConstructorType=function(e,t){a("TSConstructorType",e,t)},t.assertTSDeclareFunction=function(e,t){a("TSDeclareFunction",e,t)},t.assertTSDeclareMethod=function(e,t){a("TSDeclareMethod",e,t)},t.assertTSEntityName=function(e,t){a("TSEntityName",e,t)},t.assertTSEnumDeclaration=function(e,t){a("TSEnumDeclaration",e,t)},t.assertTSEnumMember=function(e,t){a("TSEnumMember",e,t)},t.assertTSExportAssignment=function(e,t){a("TSExportAssignment",e,t)},t.assertTSExpressionWithTypeArguments=function(e,t){a("TSExpressionWithTypeArguments",e,t)},t.assertTSExternalModuleReference=function(e,t){a("TSExternalModuleReference",e,t)},t.assertTSFunctionType=function(e,t){a("TSFunctionType",e,t)},t.assertTSImportEqualsDeclaration=function(e,t){a("TSImportEqualsDeclaration",e,t)},t.assertTSImportType=function(e,t){a("TSImportType",e,t)},t.assertTSIndexSignature=function(e,t){a("TSIndexSignature",e,t)},t.assertTSIndexedAccessType=function(e,t){a("TSIndexedAccessType",e,t)},t.assertTSInferType=function(e,t){a("TSInferType",e,t)},t.assertTSInstantiationExpression=function(e,t){a("TSInstantiationExpression",e,t)},t.assertTSInterfaceBody=function(e,t){a("TSInterfaceBody",e,t)},t.assertTSInterfaceDeclaration=function(e,t){a("TSInterfaceDeclaration",e,t)},t.assertTSIntersectionType=function(e,t){a("TSIntersectionType",e,t)},t.assertTSIntrinsicKeyword=function(e,t){a("TSIntrinsicKeyword",e,t)},t.assertTSLiteralType=function(e,t){a("TSLiteralType",e,t)},t.assertTSMappedType=function(e,t){a("TSMappedType",e,t)},t.assertTSMethodSignature=function(e,t){a("TSMethodSignature",e,t)},t.assertTSModuleBlock=function(e,t){a("TSModuleBlock",e,t)},t.assertTSModuleDeclaration=function(e,t){a("TSModuleDeclaration",e,t)},t.assertTSNamedTupleMember=function(e,t){a("TSNamedTupleMember",e,t)},t.assertTSNamespaceExportDeclaration=function(e,t){a("TSNamespaceExportDeclaration",e,t)},t.assertTSNeverKeyword=function(e,t){a("TSNeverKeyword",e,t)},t.assertTSNonNullExpression=function(e,t){a("TSNonNullExpression",e,t)},t.assertTSNullKeyword=function(e,t){a("TSNullKeyword",e,t)},t.assertTSNumberKeyword=function(e,t){a("TSNumberKeyword",e,t)},t.assertTSObjectKeyword=function(e,t){a("TSObjectKeyword",e,t)},t.assertTSOptionalType=function(e,t){a("TSOptionalType",e,t)},t.assertTSParameterProperty=function(e,t){a("TSParameterProperty",e,t)},t.assertTSParenthesizedType=function(e,t){a("TSParenthesizedType",e,t)},t.assertTSPropertySignature=function(e,t){a("TSPropertySignature",e,t)},t.assertTSQualifiedName=function(e,t){a("TSQualifiedName",e,t)},t.assertTSRestType=function(e,t){a("TSRestType",e,t)},t.assertTSSatisfiesExpression=function(e,t){a("TSSatisfiesExpression",e,t)},t.assertTSStringKeyword=function(e,t){a("TSStringKeyword",e,t)},t.assertTSSymbolKeyword=function(e,t){a("TSSymbolKeyword",e,t)},t.assertTSThisType=function(e,t){a("TSThisType",e,t)},t.assertTSTupleType=function(e,t){a("TSTupleType",e,t)},t.assertTSType=function(e,t){a("TSType",e,t)},t.assertTSTypeAliasDeclaration=function(e,t){a("TSTypeAliasDeclaration",e,t)},t.assertTSTypeAnnotation=function(e,t){a("TSTypeAnnotation",e,t)},t.assertTSTypeAssertion=function(e,t){a("TSTypeAssertion",e,t)},t.assertTSTypeElement=function(e,t){a("TSTypeElement",e,t)},t.assertTSTypeLiteral=function(e,t){a("TSTypeLiteral",e,t)},t.assertTSTypeOperator=function(e,t){a("TSTypeOperator",e,t)},t.assertTSTypeParameter=function(e,t){a("TSTypeParameter",e,t)},t.assertTSTypeParameterDeclaration=function(e,t){a("TSTypeParameterDeclaration",e,t)},t.assertTSTypeParameterInstantiation=function(e,t){a("TSTypeParameterInstantiation",e,t)},t.assertTSTypePredicate=function(e,t){a("TSTypePredicate",e,t)},t.assertTSTypeQuery=function(e,t){a("TSTypeQuery",e,t)},t.assertTSTypeReference=function(e,t){a("TSTypeReference",e,t)},t.assertTSUndefinedKeyword=function(e,t){a("TSUndefinedKeyword",e,t)},t.assertTSUnionType=function(e,t){a("TSUnionType",e,t)},t.assertTSUnknownKeyword=function(e,t){a("TSUnknownKeyword",e,t)},t.assertTSVoidKeyword=function(e,t){a("TSVoidKeyword",e,t)},t.assertTaggedTemplateExpression=function(e,t){a("TaggedTemplateExpression",e,t)},t.assertTemplateElement=function(e,t){a("TemplateElement",e,t)},t.assertTemplateLiteral=function(e,t){a("TemplateLiteral",e,t)},t.assertTerminatorless=function(e,t){a("Terminatorless",e,t)},t.assertThisExpression=function(e,t){a("ThisExpression",e,t)},t.assertThisTypeAnnotation=function(e,t){a("ThisTypeAnnotation",e,t)},t.assertThrowStatement=function(e,t){a("ThrowStatement",e,t)},t.assertTopicReference=function(e,t){a("TopicReference",e,t)},t.assertTryStatement=function(e,t){a("TryStatement",e,t)},t.assertTupleExpression=function(e,t){a("TupleExpression",e,t)},t.assertTupleTypeAnnotation=function(e,t){a("TupleTypeAnnotation",e,t)},t.assertTypeAlias=function(e,t){a("TypeAlias",e,t)},t.assertTypeAnnotation=function(e,t){a("TypeAnnotation",e,t)},t.assertTypeCastExpression=function(e,t){a("TypeCastExpression",e,t)},t.assertTypeParameter=function(e,t){a("TypeParameter",e,t)},t.assertTypeParameterDeclaration=function(e,t){a("TypeParameterDeclaration",e,t)},t.assertTypeParameterInstantiation=function(e,t){a("TypeParameterInstantiation",e,t)},t.assertTypeScript=function(e,t){a("TypeScript",e,t)},t.assertTypeofTypeAnnotation=function(e,t){a("TypeofTypeAnnotation",e,t)},t.assertUnaryExpression=function(e,t){a("UnaryExpression",e,t)},t.assertUnaryLike=function(e,t){a("UnaryLike",e,t)},t.assertUnionTypeAnnotation=function(e,t){a("UnionTypeAnnotation",e,t)},t.assertUpdateExpression=function(e,t){a("UpdateExpression",e,t)},t.assertUserWhitespacable=function(e,t){a("UserWhitespacable",e,t)},t.assertV8IntrinsicIdentifier=function(e,t){a("V8IntrinsicIdentifier",e,t)},t.assertVariableDeclaration=function(e,t){a("VariableDeclaration",e,t)},t.assertVariableDeclarator=function(e,t){a("VariableDeclarator",e,t)},t.assertVariance=function(e,t){a("Variance",e,t)},t.assertVoidTypeAnnotation=function(e,t){a("VoidTypeAnnotation",e,t)},t.assertWhile=function(e,t){a("While",e,t)},t.assertWhileStatement=function(e,t){a("WhileStatement",e,t)},t.assertWithStatement=function(e,t){a("WithStatement",e,t)},t.assertYieldExpression=function(e,t){a("YieldExpression",e,t)};var r=n(5639),i=n(3046);function a(e,t,n){if(!(0,r.default)(e,t,n))throw new Error('Expected type "'.concat(e,'" with option ').concat(JSON.stringify(n),", ")+'but instead got "'.concat(t.type,'".'))}},6915:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=(0,i.default)(e);return 1===t.length?t[0]:(0,r.unionTypeAnnotation)(t)};var r=n(3977),i=n(3570)},4016:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(3977),i=function(e){switch(e){case"string":return(0,r.stringTypeAnnotation)();case"number":return(0,r.numberTypeAnnotation)();case"undefined":return(0,r.voidTypeAnnotation)();case"boolean":return(0,r.booleanTypeAnnotation)();case"function":return(0,r.genericTypeAnnotation)((0,r.identifier)("Function"));case"object":return(0,r.genericTypeAnnotation)((0,r.identifier)("Object"));case"symbol":return(0,r.genericTypeAnnotation)((0,r.identifier)("Symbol"));case"bigint":return(0,r.anyTypeAnnotation)()}throw new Error("Invalid typeof value: "+e)};t.default=i},3977:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.anyTypeAnnotation=function(){return{type:"AnyTypeAnnotation"}},t.argumentPlaceholder=function(){return{type:"ArgumentPlaceholder"}},t.arrayExpression=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return(0,r.default)({type:"ArrayExpression",elements:e})},t.arrayPattern=function(e){return(0,r.default)({type:"ArrayPattern",elements:e})},t.arrayTypeAnnotation=function(e){return(0,r.default)({type:"ArrayTypeAnnotation",elementType:e})},t.arrowFunctionExpression=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(0,r.default)({type:"ArrowFunctionExpression",params:e,body:t,async:n,expression:null})},t.assignmentExpression=function(e,t,n){return(0,r.default)({type:"AssignmentExpression",operator:e,left:t,right:n})},t.assignmentPattern=function(e,t){return(0,r.default)({type:"AssignmentPattern",left:e,right:t})},t.awaitExpression=function(e){return(0,r.default)({type:"AwaitExpression",argument:e})},t.bigIntLiteral=function(e){return(0,r.default)({type:"BigIntLiteral",value:e})},t.binaryExpression=function(e,t,n){return(0,r.default)({type:"BinaryExpression",operator:e,left:t,right:n})},t.bindExpression=function(e,t){return(0,r.default)({type:"BindExpression",object:e,callee:t})},t.blockStatement=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return(0,r.default)({type:"BlockStatement",body:e,directives:t})},t.booleanLiteral=function(e){return(0,r.default)({type:"BooleanLiteral",value:e})},t.booleanLiteralTypeAnnotation=function(e){return(0,r.default)({type:"BooleanLiteralTypeAnnotation",value:e})},t.booleanTypeAnnotation=function(){return{type:"BooleanTypeAnnotation"}},t.breakStatement=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return(0,r.default)({type:"BreakStatement",label:e})},t.callExpression=function(e,t){return(0,r.default)({type:"CallExpression",callee:e,arguments:t})},t.catchClause=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return(0,r.default)({type:"CatchClause",param:e,body:t})},t.classAccessorProperty=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];return(0,r.default)({type:"ClassAccessorProperty",key:e,value:t,typeAnnotation:n,decorators:i,computed:a,static:o})},t.classBody=function(e){return(0,r.default)({type:"ClassBody",body:e})},t.classDeclaration=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return(0,r.default)({type:"ClassDeclaration",id:e,superClass:t,body:n,decorators:i})},t.classExpression=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return(0,r.default)({type:"ClassExpression",id:e,superClass:t,body:n,decorators:i})},t.classImplements=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(0,r.default)({type:"ClassImplements",id:e,typeParameters:t})},t.classMethod=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"method",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],u=arguments.length>7&&void 0!==arguments[7]&&arguments[7];return(0,r.default)({type:"ClassMethod",kind:e,key:t,params:n,body:i,computed:a,static:o,generator:s,async:u})},t.classPrivateMethod=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"method",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return(0,r.default)({type:"ClassPrivateMethod",kind:e,key:t,params:n,body:i,static:a})},t.classPrivateProperty=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return(0,r.default)({type:"ClassPrivateProperty",key:e,value:t,decorators:n,static:i})},t.classProperty=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];return(0,r.default)({type:"ClassProperty",key:e,value:t,typeAnnotation:n,decorators:i,computed:a,static:o})},t.conditionalExpression=function(e,t,n){return(0,r.default)({type:"ConditionalExpression",test:e,consequent:t,alternate:n})},t.continueStatement=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return(0,r.default)({type:"ContinueStatement",label:e})},t.debuggerStatement=function(){return{type:"DebuggerStatement"}},t.decimalLiteral=function(e){return(0,r.default)({type:"DecimalLiteral",value:e})},t.declareClass=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3?arguments[3]:void 0;return(0,r.default)({type:"DeclareClass",id:e,typeParameters:t,extends:n,body:i})},t.declareExportAllDeclaration=function(e){return(0,r.default)({type:"DeclareExportAllDeclaration",source:e})},t.declareExportDeclaration=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return(0,r.default)({type:"DeclareExportDeclaration",declaration:e,specifiers:t,source:n})},t.declareFunction=function(e){return(0,r.default)({type:"DeclareFunction",id:e})},t.declareInterface=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3?arguments[3]:void 0;return(0,r.default)({type:"DeclareInterface",id:e,typeParameters:t,extends:n,body:i})},t.declareModule=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return(0,r.default)({type:"DeclareModule",id:e,body:t,kind:n})},t.declareModuleExports=function(e){return(0,r.default)({type:"DeclareModuleExports",typeAnnotation:e})},t.declareOpaqueType=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return(0,r.default)({type:"DeclareOpaqueType",id:e,typeParameters:t,supertype:n})},t.declareTypeAlias=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2?arguments[2]:void 0;return(0,r.default)({type:"DeclareTypeAlias",id:e,typeParameters:t,right:n})},t.declareVariable=function(e){return(0,r.default)({type:"DeclareVariable",id:e})},t.declaredPredicate=function(e){return(0,r.default)({type:"DeclaredPredicate",value:e})},t.decorator=function(e){return(0,r.default)({type:"Decorator",expression:e})},t.directive=function(e){return(0,r.default)({type:"Directive",value:e})},t.directiveLiteral=function(e){return(0,r.default)({type:"DirectiveLiteral",value:e})},t.doExpression=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(0,r.default)({type:"DoExpression",body:e,async:t})},t.doWhileStatement=function(e,t){return(0,r.default)({type:"DoWhileStatement",test:e,body:t})},t.emptyStatement=function(){return{type:"EmptyStatement"}},t.emptyTypeAnnotation=function(){return{type:"EmptyTypeAnnotation"}},t.enumBooleanBody=function(e){return(0,r.default)({type:"EnumBooleanBody",members:e,explicitType:null,hasUnknownMembers:null})},t.enumBooleanMember=function(e){return(0,r.default)({type:"EnumBooleanMember",id:e,init:null})},t.enumDeclaration=function(e,t){return(0,r.default)({type:"EnumDeclaration",id:e,body:t})},t.enumDefaultedMember=function(e){return(0,r.default)({type:"EnumDefaultedMember",id:e})},t.enumNumberBody=function(e){return(0,r.default)({type:"EnumNumberBody",members:e,explicitType:null,hasUnknownMembers:null})},t.enumNumberMember=function(e,t){return(0,r.default)({type:"EnumNumberMember",id:e,init:t})},t.enumStringBody=function(e){return(0,r.default)({type:"EnumStringBody",members:e,explicitType:null,hasUnknownMembers:null})},t.enumStringMember=function(e,t){return(0,r.default)({type:"EnumStringMember",id:e,init:t})},t.enumSymbolBody=function(e){return(0,r.default)({type:"EnumSymbolBody",members:e,hasUnknownMembers:null})},t.existsTypeAnnotation=function(){return{type:"ExistsTypeAnnotation"}},t.exportAllDeclaration=function(e){return(0,r.default)({type:"ExportAllDeclaration",source:e})},t.exportDefaultDeclaration=function(e){return(0,r.default)({type:"ExportDefaultDeclaration",declaration:e})},t.exportDefaultSpecifier=function(e){return(0,r.default)({type:"ExportDefaultSpecifier",exported:e})},t.exportNamedDeclaration=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return(0,r.default)({type:"ExportNamedDeclaration",declaration:e,specifiers:t,source:n})},t.exportNamespaceSpecifier=function(e){return(0,r.default)({type:"ExportNamespaceSpecifier",exported:e})},t.exportSpecifier=function(e,t){return(0,r.default)({type:"ExportSpecifier",local:e,exported:t})},t.expressionStatement=function(e){return(0,r.default)({type:"ExpressionStatement",expression:e})},t.file=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return(0,r.default)({type:"File",program:e,comments:t,tokens:n})},t.forInStatement=function(e,t,n){return(0,r.default)({type:"ForInStatement",left:e,right:t,body:n})},t.forOfStatement=function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return(0,r.default)({type:"ForOfStatement",left:e,right:t,body:n,await:i})},t.forStatement=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3?arguments[3]:void 0;return(0,r.default)({type:"ForStatement",init:e,test:t,update:n,body:i})},t.functionDeclaration=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return(0,r.default)({type:"FunctionDeclaration",id:e,params:t,body:n,generator:i,async:a})},t.functionExpression=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return(0,r.default)({type:"FunctionExpression",id:e,params:t,body:n,generator:i,async:a})},t.functionTypeAnnotation=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3?arguments[3]:void 0;return(0,r.default)({type:"FunctionTypeAnnotation",typeParameters:e,params:t,rest:n,returnType:i})},t.functionTypeParam=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return(0,r.default)({type:"FunctionTypeParam",name:e,typeAnnotation:t})},t.genericTypeAnnotation=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(0,r.default)({type:"GenericTypeAnnotation",id:e,typeParameters:t})},t.identifier=function(e){return(0,r.default)({type:"Identifier",name:e})},t.ifStatement=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return(0,r.default)({type:"IfStatement",test:e,consequent:t,alternate:n})},t.import=function(){return{type:"Import"}},t.importAttribute=function(e,t){return(0,r.default)({type:"ImportAttribute",key:e,value:t})},t.importDeclaration=function(e,t){return(0,r.default)({type:"ImportDeclaration",specifiers:e,source:t})},t.importDefaultSpecifier=function(e){return(0,r.default)({type:"ImportDefaultSpecifier",local:e})},t.importNamespaceSpecifier=function(e){return(0,r.default)({type:"ImportNamespaceSpecifier",local:e})},t.importSpecifier=function(e,t){return(0,r.default)({type:"ImportSpecifier",local:e,imported:t})},t.indexedAccessType=function(e,t){return(0,r.default)({type:"IndexedAccessType",objectType:e,indexType:t})},t.inferredPredicate=function(){return{type:"InferredPredicate"}},t.interfaceDeclaration=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3?arguments[3]:void 0;return(0,r.default)({type:"InterfaceDeclaration",id:e,typeParameters:t,extends:n,body:i})},t.interfaceExtends=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(0,r.default)({type:"InterfaceExtends",id:e,typeParameters:t})},t.interfaceTypeAnnotation=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return(0,r.default)({type:"InterfaceTypeAnnotation",extends:e,body:t})},t.interpreterDirective=function(e){return(0,r.default)({type:"InterpreterDirective",value:e})},t.intersectionTypeAnnotation=function(e){return(0,r.default)({type:"IntersectionTypeAnnotation",types:e})},t.jSXAttribute=t.jsxAttribute=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(0,r.default)({type:"JSXAttribute",name:e,value:t})},t.jSXClosingElement=t.jsxClosingElement=function(e){return(0,r.default)({type:"JSXClosingElement",name:e})},t.jSXClosingFragment=t.jsxClosingFragment=function(){return{type:"JSXClosingFragment"}},t.jSXElement=t.jsxElement=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return(0,r.default)({type:"JSXElement",openingElement:e,closingElement:t,children:n,selfClosing:i})},t.jSXEmptyExpression=t.jsxEmptyExpression=function(){return{type:"JSXEmptyExpression"}},t.jSXExpressionContainer=t.jsxExpressionContainer=function(e){return(0,r.default)({type:"JSXExpressionContainer",expression:e})},t.jSXFragment=t.jsxFragment=function(e,t,n){return(0,r.default)({type:"JSXFragment",openingFragment:e,closingFragment:t,children:n})},t.jSXIdentifier=t.jsxIdentifier=function(e){return(0,r.default)({type:"JSXIdentifier",name:e})},t.jSXMemberExpression=t.jsxMemberExpression=function(e,t){return(0,r.default)({type:"JSXMemberExpression",object:e,property:t})},t.jSXNamespacedName=t.jsxNamespacedName=function(e,t){return(0,r.default)({type:"JSXNamespacedName",namespace:e,name:t})},t.jSXOpeningElement=t.jsxOpeningElement=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(0,r.default)({type:"JSXOpeningElement",name:e,attributes:t,selfClosing:n})},t.jSXOpeningFragment=t.jsxOpeningFragment=function(){return{type:"JSXOpeningFragment"}},t.jSXSpreadAttribute=t.jsxSpreadAttribute=function(e){return(0,r.default)({type:"JSXSpreadAttribute",argument:e})},t.jSXSpreadChild=t.jsxSpreadChild=function(e){return(0,r.default)({type:"JSXSpreadChild",expression:e})},t.jSXText=t.jsxText=function(e){return(0,r.default)({type:"JSXText",value:e})},t.labeledStatement=function(e,t){return(0,r.default)({type:"LabeledStatement",label:e,body:t})},t.logicalExpression=function(e,t,n){return(0,r.default)({type:"LogicalExpression",operator:e,left:t,right:n})},t.memberExpression=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return(0,r.default)({type:"MemberExpression",object:e,property:t,computed:n,optional:i})},t.metaProperty=function(e,t){return(0,r.default)({type:"MetaProperty",meta:e,property:t})},t.mixedTypeAnnotation=function(){return{type:"MixedTypeAnnotation"}},t.moduleExpression=function(e){return(0,r.default)({type:"ModuleExpression",body:e})},t.newExpression=function(e,t){return(0,r.default)({type:"NewExpression",callee:e,arguments:t})},t.noop=function(){return{type:"Noop"}},t.nullLiteral=function(){return{type:"NullLiteral"}},t.nullLiteralTypeAnnotation=function(){return{type:"NullLiteralTypeAnnotation"}},t.nullableTypeAnnotation=function(e){return(0,r.default)({type:"NullableTypeAnnotation",typeAnnotation:e})},t.numberLiteral=function(e){return(0,i.default)("NumberLiteral","NumericLiteral","The node type "),a(e)},t.numberLiteralTypeAnnotation=function(e){return(0,r.default)({type:"NumberLiteralTypeAnnotation",value:e})},t.numberTypeAnnotation=function(){return{type:"NumberTypeAnnotation"}},t.numericLiteral=a,t.objectExpression=function(e){return(0,r.default)({type:"ObjectExpression",properties:e})},t.objectMethod=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"method",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],s=arguments.length>6&&void 0!==arguments[6]&&arguments[6];return(0,r.default)({type:"ObjectMethod",kind:e,key:t,params:n,body:i,computed:a,generator:o,async:s})},t.objectPattern=function(e){return(0,r.default)({type:"ObjectPattern",properties:e})},t.objectProperty=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;return(0,r.default)({type:"ObjectProperty",key:e,value:t,computed:n,shorthand:i,decorators:a})},t.objectTypeAnnotation=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return(0,r.default)({type:"ObjectTypeAnnotation",properties:e,indexers:t,callProperties:n,internalSlots:i,exact:a})},t.objectTypeCallProperty=function(e){return(0,r.default)({type:"ObjectTypeCallProperty",value:e,static:null})},t.objectTypeIndexer=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return(0,r.default)({type:"ObjectTypeIndexer",id:e,key:t,value:n,variance:i,static:null})},t.objectTypeInternalSlot=function(e,t,n,i,a){return(0,r.default)({type:"ObjectTypeInternalSlot",id:e,value:t,optional:n,static:i,method:a})},t.objectTypeProperty=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return(0,r.default)({type:"ObjectTypeProperty",key:e,value:t,variance:n,kind:null,method:null,optional:null,proto:null,static:null})},t.objectTypeSpreadProperty=function(e){return(0,r.default)({type:"ObjectTypeSpreadProperty",argument:e})},t.opaqueType=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3?arguments[3]:void 0;return(0,r.default)({type:"OpaqueType",id:e,typeParameters:t,supertype:n,impltype:i})},t.optionalCallExpression=function(e,t,n){return(0,r.default)({type:"OptionalCallExpression",callee:e,arguments:t,optional:n})},t.optionalIndexedAccessType=function(e,t){return(0,r.default)({type:"OptionalIndexedAccessType",objectType:e,indexType:t,optional:null})},t.optionalMemberExpression=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3?arguments[3]:void 0;return(0,r.default)({type:"OptionalMemberExpression",object:e,property:t,computed:n,optional:i})},t.parenthesizedExpression=function(e){return(0,r.default)({type:"ParenthesizedExpression",expression:e})},t.pipelineBareFunction=function(e){return(0,r.default)({type:"PipelineBareFunction",callee:e})},t.pipelinePrimaryTopicReference=function(){return{type:"PipelinePrimaryTopicReference"}},t.pipelineTopicExpression=function(e){return(0,r.default)({type:"PipelineTopicExpression",expression:e})},t.placeholder=function(e,t){return(0,r.default)({type:"Placeholder",expectedNode:e,name:t})},t.privateName=function(e){return(0,r.default)({type:"PrivateName",id:e})},t.program=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"script",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return(0,r.default)({type:"Program",body:e,directives:t,sourceType:n,interpreter:i,sourceFile:null})},t.qualifiedTypeIdentifier=function(e,t){return(0,r.default)({type:"QualifiedTypeIdentifier",id:e,qualification:t})},t.recordExpression=function(e){return(0,r.default)({type:"RecordExpression",properties:e})},t.regExpLiteral=o,t.regexLiteral=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return(0,i.default)("RegexLiteral","RegExpLiteral","The node type "),o(e,t)},t.restElement=s,t.restProperty=function(e){return(0,i.default)("RestProperty","RestElement","The node type "),s(e)},t.returnStatement=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return(0,r.default)({type:"ReturnStatement",argument:e})},t.sequenceExpression=function(e){return(0,r.default)({type:"SequenceExpression",expressions:e})},t.spreadElement=u,t.spreadProperty=function(e){return(0,i.default)("SpreadProperty","SpreadElement","The node type "),u(e)},t.staticBlock=function(e){return(0,r.default)({type:"StaticBlock",body:e})},t.stringLiteral=function(e){return(0,r.default)({type:"StringLiteral",value:e})},t.stringLiteralTypeAnnotation=function(e){return(0,r.default)({type:"StringLiteralTypeAnnotation",value:e})},t.stringTypeAnnotation=function(){return{type:"StringTypeAnnotation"}},t.super=function(){return{type:"Super"}},t.switchCase=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return(0,r.default)({type:"SwitchCase",test:e,consequent:t})},t.switchStatement=function(e,t){return(0,r.default)({type:"SwitchStatement",discriminant:e,cases:t})},t.symbolTypeAnnotation=function(){return{type:"SymbolTypeAnnotation"}},t.taggedTemplateExpression=function(e,t){return(0,r.default)({type:"TaggedTemplateExpression",tag:e,quasi:t})},t.templateElement=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(0,r.default)({type:"TemplateElement",value:e,tail:t})},t.templateLiteral=function(e,t){return(0,r.default)({type:"TemplateLiteral",quasis:e,expressions:t})},t.thisExpression=function(){return{type:"ThisExpression"}},t.thisTypeAnnotation=function(){return{type:"ThisTypeAnnotation"}},t.throwStatement=function(e){return(0,r.default)({type:"ThrowStatement",argument:e})},t.topicReference=function(){return{type:"TopicReference"}},t.tryStatement=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return(0,r.default)({type:"TryStatement",block:e,handler:t,finalizer:n})},t.tSAnyKeyword=t.tsAnyKeyword=function(){return{type:"TSAnyKeyword"}},t.tSArrayType=t.tsArrayType=function(e){return(0,r.default)({type:"TSArrayType",elementType:e})},t.tSAsExpression=t.tsAsExpression=function(e,t){return(0,r.default)({type:"TSAsExpression",expression:e,typeAnnotation:t})},t.tSBigIntKeyword=t.tsBigIntKeyword=function(){return{type:"TSBigIntKeyword"}},t.tSBooleanKeyword=t.tsBooleanKeyword=function(){return{type:"TSBooleanKeyword"}},t.tSCallSignatureDeclaration=t.tsCallSignatureDeclaration=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return(0,r.default)({type:"TSCallSignatureDeclaration",typeParameters:e,parameters:t,typeAnnotation:n})},t.tSConditionalType=t.tsConditionalType=function(e,t,n,i){return(0,r.default)({type:"TSConditionalType",checkType:e,extendsType:t,trueType:n,falseType:i})},t.tSConstructSignatureDeclaration=t.tsConstructSignatureDeclaration=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return(0,r.default)({type:"TSConstructSignatureDeclaration",typeParameters:e,parameters:t,typeAnnotation:n})},t.tSConstructorType=t.tsConstructorType=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return(0,r.default)({type:"TSConstructorType",typeParameters:e,parameters:t,typeAnnotation:n})},t.tSDeclareFunction=t.tsDeclareFunction=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return(0,r.default)({type:"TSDeclareFunction",id:e,typeParameters:t,params:n,returnType:i})},t.tSDeclareMethod=t.tsDeclareMethod=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3?arguments[3]:void 0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;return(0,r.default)({type:"TSDeclareMethod",decorators:e,key:t,typeParameters:n,params:i,returnType:a})},t.tSEnumDeclaration=t.tsEnumDeclaration=function(e,t){return(0,r.default)({type:"TSEnumDeclaration",id:e,members:t})},t.tSEnumMember=t.tsEnumMember=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(0,r.default)({type:"TSEnumMember",id:e,initializer:t})},t.tSExportAssignment=t.tsExportAssignment=function(e){return(0,r.default)({type:"TSExportAssignment",expression:e})},t.tSExpressionWithTypeArguments=t.tsExpressionWithTypeArguments=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(0,r.default)({type:"TSExpressionWithTypeArguments",expression:e,typeParameters:t})},t.tSExternalModuleReference=t.tsExternalModuleReference=function(e){return(0,r.default)({type:"TSExternalModuleReference",expression:e})},t.tSFunctionType=t.tsFunctionType=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return(0,r.default)({type:"TSFunctionType",typeParameters:e,parameters:t,typeAnnotation:n})},t.tSImportEqualsDeclaration=t.tsImportEqualsDeclaration=function(e,t){return(0,r.default)({type:"TSImportEqualsDeclaration",id:e,moduleReference:t,isExport:null})},t.tSImportType=t.tsImportType=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return(0,r.default)({type:"TSImportType",argument:e,qualifier:t,typeParameters:n})},t.tSIndexSignature=t.tsIndexSignature=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(0,r.default)({type:"TSIndexSignature",parameters:e,typeAnnotation:t})},t.tSIndexedAccessType=t.tsIndexedAccessType=function(e,t){return(0,r.default)({type:"TSIndexedAccessType",objectType:e,indexType:t})},t.tSInferType=t.tsInferType=function(e){return(0,r.default)({type:"TSInferType",typeParameter:e})},t.tSInstantiationExpression=t.tsInstantiationExpression=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(0,r.default)({type:"TSInstantiationExpression",expression:e,typeParameters:t})},t.tSInterfaceBody=t.tsInterfaceBody=function(e){return(0,r.default)({type:"TSInterfaceBody",body:e})},t.tSInterfaceDeclaration=t.tsInterfaceDeclaration=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3?arguments[3]:void 0;return(0,r.default)({type:"TSInterfaceDeclaration",id:e,typeParameters:t,extends:n,body:i})},t.tSIntersectionType=t.tsIntersectionType=function(e){return(0,r.default)({type:"TSIntersectionType",types:e})},t.tSIntrinsicKeyword=t.tsIntrinsicKeyword=function(){return{type:"TSIntrinsicKeyword"}},t.tSLiteralType=t.tsLiteralType=function(e){return(0,r.default)({type:"TSLiteralType",literal:e})},t.tSMappedType=t.tsMappedType=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return(0,r.default)({type:"TSMappedType",typeParameter:e,typeAnnotation:t,nameType:n})},t.tSMethodSignature=t.tsMethodSignature=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return(0,r.default)({type:"TSMethodSignature",key:e,typeParameters:t,parameters:n,typeAnnotation:i,kind:null})},t.tSModuleBlock=t.tsModuleBlock=function(e){return(0,r.default)({type:"TSModuleBlock",body:e})},t.tSModuleDeclaration=t.tsModuleDeclaration=function(e,t){return(0,r.default)({type:"TSModuleDeclaration",id:e,body:t})},t.tSNamedTupleMember=t.tsNamedTupleMember=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(0,r.default)({type:"TSNamedTupleMember",label:e,elementType:t,optional:n})},t.tSNamespaceExportDeclaration=t.tsNamespaceExportDeclaration=function(e){return(0,r.default)({type:"TSNamespaceExportDeclaration",id:e})},t.tSNeverKeyword=t.tsNeverKeyword=function(){return{type:"TSNeverKeyword"}},t.tSNonNullExpression=t.tsNonNullExpression=function(e){return(0,r.default)({type:"TSNonNullExpression",expression:e})},t.tSNullKeyword=t.tsNullKeyword=function(){return{type:"TSNullKeyword"}},t.tSNumberKeyword=t.tsNumberKeyword=function(){return{type:"TSNumberKeyword"}},t.tSObjectKeyword=t.tsObjectKeyword=function(){return{type:"TSObjectKeyword"}},t.tSOptionalType=t.tsOptionalType=function(e){return(0,r.default)({type:"TSOptionalType",typeAnnotation:e})},t.tSParameterProperty=t.tsParameterProperty=function(e){return(0,r.default)({type:"TSParameterProperty",parameter:e})},t.tSParenthesizedType=t.tsParenthesizedType=function(e){return(0,r.default)({type:"TSParenthesizedType",typeAnnotation:e})},t.tSPropertySignature=t.tsPropertySignature=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return(0,r.default)({type:"TSPropertySignature",key:e,typeAnnotation:t,initializer:n,kind:null})},t.tSQualifiedName=t.tsQualifiedName=function(e,t){return(0,r.default)({type:"TSQualifiedName",left:e,right:t})},t.tSRestType=t.tsRestType=function(e){return(0,r.default)({type:"TSRestType",typeAnnotation:e})},t.tSSatisfiesExpression=t.tsSatisfiesExpression=function(e,t){return(0,r.default)({type:"TSSatisfiesExpression",expression:e,typeAnnotation:t})},t.tSStringKeyword=t.tsStringKeyword=function(){return{type:"TSStringKeyword"}},t.tSSymbolKeyword=t.tsSymbolKeyword=function(){return{type:"TSSymbolKeyword"}},t.tSThisType=t.tsThisType=function(){return{type:"TSThisType"}},t.tSTupleType=t.tsTupleType=function(e){return(0,r.default)({type:"TSTupleType",elementTypes:e})},t.tSTypeAliasDeclaration=t.tsTypeAliasDeclaration=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2?arguments[2]:void 0;return(0,r.default)({type:"TSTypeAliasDeclaration",id:e,typeParameters:t,typeAnnotation:n})},t.tSTypeAnnotation=t.tsTypeAnnotation=function(e){return(0,r.default)({type:"TSTypeAnnotation",typeAnnotation:e})},t.tSTypeAssertion=t.tsTypeAssertion=function(e,t){return(0,r.default)({type:"TSTypeAssertion",typeAnnotation:e,expression:t})},t.tSTypeLiteral=t.tsTypeLiteral=function(e){return(0,r.default)({type:"TSTypeLiteral",members:e})},t.tSTypeOperator=t.tsTypeOperator=function(e){return(0,r.default)({type:"TSTypeOperator",typeAnnotation:e,operator:null})},t.tSTypeParameter=t.tsTypeParameter=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2?arguments[2]:void 0;return(0,r.default)({type:"TSTypeParameter",constraint:e,default:t,name:n})},t.tSTypeParameterDeclaration=t.tsTypeParameterDeclaration=function(e){return(0,r.default)({type:"TSTypeParameterDeclaration",params:e})},t.tSTypeParameterInstantiation=t.tsTypeParameterInstantiation=function(e){return(0,r.default)({type:"TSTypeParameterInstantiation",params:e})},t.tSTypePredicate=t.tsTypePredicate=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return(0,r.default)({type:"TSTypePredicate",parameterName:e,typeAnnotation:t,asserts:n})},t.tSTypeQuery=t.tsTypeQuery=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(0,r.default)({type:"TSTypeQuery",exprName:e,typeParameters:t})},t.tSTypeReference=t.tsTypeReference=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(0,r.default)({type:"TSTypeReference",typeName:e,typeParameters:t})},t.tSUndefinedKeyword=t.tsUndefinedKeyword=function(){return{type:"TSUndefinedKeyword"}},t.tSUnionType=t.tsUnionType=function(e){return(0,r.default)({type:"TSUnionType",types:e})},t.tSUnknownKeyword=t.tsUnknownKeyword=function(){return{type:"TSUnknownKeyword"}},t.tSVoidKeyword=t.tsVoidKeyword=function(){return{type:"TSVoidKeyword"}},t.tupleExpression=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return(0,r.default)({type:"TupleExpression",elements:e})},t.tupleTypeAnnotation=function(e){return(0,r.default)({type:"TupleTypeAnnotation",types:e})},t.typeAlias=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2?arguments[2]:void 0;return(0,r.default)({type:"TypeAlias",id:e,typeParameters:t,right:n})},t.typeAnnotation=function(e){return(0,r.default)({type:"TypeAnnotation",typeAnnotation:e})},t.typeCastExpression=function(e,t){return(0,r.default)({type:"TypeCastExpression",expression:e,typeAnnotation:t})},t.typeParameter=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return(0,r.default)({type:"TypeParameter",bound:e,default:t,variance:n,name:null})},t.typeParameterDeclaration=function(e){return(0,r.default)({type:"TypeParameterDeclaration",params:e})},t.typeParameterInstantiation=function(e){return(0,r.default)({type:"TypeParameterInstantiation",params:e})},t.typeofTypeAnnotation=function(e){return(0,r.default)({type:"TypeofTypeAnnotation",argument:e})},t.unaryExpression=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return(0,r.default)({type:"UnaryExpression",operator:e,argument:t,prefix:n})},t.unionTypeAnnotation=function(e){return(0,r.default)({type:"UnionTypeAnnotation",types:e})},t.updateExpression=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(0,r.default)({type:"UpdateExpression",operator:e,argument:t,prefix:n})},t.v8IntrinsicIdentifier=function(e){return(0,r.default)({type:"V8IntrinsicIdentifier",name:e})},t.variableDeclaration=function(e,t){return(0,r.default)({type:"VariableDeclaration",kind:e,declarations:t})},t.variableDeclarator=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(0,r.default)({type:"VariableDeclarator",id:e,init:t})},t.variance=function(e){return(0,r.default)({type:"Variance",kind:e})},t.voidTypeAnnotation=function(){return{type:"VoidTypeAnnotation"}},t.whileStatement=function(e,t){return(0,r.default)({type:"WhileStatement",test:e,body:t})},t.withStatement=function(e,t){return(0,r.default)({type:"WithStatement",object:e,body:t})},t.yieldExpression=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(0,r.default)({type:"YieldExpression",argument:e,delegate:t})};var r=n(8354),i=n(3046);function a(e){return(0,r.default)({type:"NumericLiteral",value:e})}function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return(0,r.default)({type:"RegExpLiteral",pattern:e,flags:t})}function s(e){return(0,r.default)({type:"RestElement",argument:e})}function u(e){return(0,r.default)({type:"SpreadElement",argument:e})}},8648:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"AnyTypeAnnotation",{enumerable:!0,get:function(){return r.anyTypeAnnotation}}),Object.defineProperty(t,"ArgumentPlaceholder",{enumerable:!0,get:function(){return r.argumentPlaceholder}}),Object.defineProperty(t,"ArrayExpression",{enumerable:!0,get:function(){return r.arrayExpression}}),Object.defineProperty(t,"ArrayPattern",{enumerable:!0,get:function(){return r.arrayPattern}}),Object.defineProperty(t,"ArrayTypeAnnotation",{enumerable:!0,get:function(){return r.arrayTypeAnnotation}}),Object.defineProperty(t,"ArrowFunctionExpression",{enumerable:!0,get:function(){return r.arrowFunctionExpression}}),Object.defineProperty(t,"AssignmentExpression",{enumerable:!0,get:function(){return r.assignmentExpression}}),Object.defineProperty(t,"AssignmentPattern",{enumerable:!0,get:function(){return r.assignmentPattern}}),Object.defineProperty(t,"AwaitExpression",{enumerable:!0,get:function(){return r.awaitExpression}}),Object.defineProperty(t,"BigIntLiteral",{enumerable:!0,get:function(){return r.bigIntLiteral}}),Object.defineProperty(t,"BinaryExpression",{enumerable:!0,get:function(){return r.binaryExpression}}),Object.defineProperty(t,"BindExpression",{enumerable:!0,get:function(){return r.bindExpression}}),Object.defineProperty(t,"BlockStatement",{enumerable:!0,get:function(){return r.blockStatement}}),Object.defineProperty(t,"BooleanLiteral",{enumerable:!0,get:function(){return r.booleanLiteral}}),Object.defineProperty(t,"BooleanLiteralTypeAnnotation",{enumerable:!0,get:function(){return r.booleanLiteralTypeAnnotation}}),Object.defineProperty(t,"BooleanTypeAnnotation",{enumerable:!0,get:function(){return r.booleanTypeAnnotation}}),Object.defineProperty(t,"BreakStatement",{enumerable:!0,get:function(){return r.breakStatement}}),Object.defineProperty(t,"CallExpression",{enumerable:!0,get:function(){return r.callExpression}}),Object.defineProperty(t,"CatchClause",{enumerable:!0,get:function(){return r.catchClause}}),Object.defineProperty(t,"ClassAccessorProperty",{enumerable:!0,get:function(){return r.classAccessorProperty}}),Object.defineProperty(t,"ClassBody",{enumerable:!0,get:function(){return r.classBody}}),Object.defineProperty(t,"ClassDeclaration",{enumerable:!0,get:function(){return r.classDeclaration}}),Object.defineProperty(t,"ClassExpression",{enumerable:!0,get:function(){return r.classExpression}}),Object.defineProperty(t,"ClassImplements",{enumerable:!0,get:function(){return r.classImplements}}),Object.defineProperty(t,"ClassMethod",{enumerable:!0,get:function(){return r.classMethod}}),Object.defineProperty(t,"ClassPrivateMethod",{enumerable:!0,get:function(){return r.classPrivateMethod}}),Object.defineProperty(t,"ClassPrivateProperty",{enumerable:!0,get:function(){return r.classPrivateProperty}}),Object.defineProperty(t,"ClassProperty",{enumerable:!0,get:function(){return r.classProperty}}),Object.defineProperty(t,"ConditionalExpression",{enumerable:!0,get:function(){return r.conditionalExpression}}),Object.defineProperty(t,"ContinueStatement",{enumerable:!0,get:function(){return r.continueStatement}}),Object.defineProperty(t,"DebuggerStatement",{enumerable:!0,get:function(){return r.debuggerStatement}}),Object.defineProperty(t,"DecimalLiteral",{enumerable:!0,get:function(){return r.decimalLiteral}}),Object.defineProperty(t,"DeclareClass",{enumerable:!0,get:function(){return r.declareClass}}),Object.defineProperty(t,"DeclareExportAllDeclaration",{enumerable:!0,get:function(){return r.declareExportAllDeclaration}}),Object.defineProperty(t,"DeclareExportDeclaration",{enumerable:!0,get:function(){return r.declareExportDeclaration}}),Object.defineProperty(t,"DeclareFunction",{enumerable:!0,get:function(){return r.declareFunction}}),Object.defineProperty(t,"DeclareInterface",{enumerable:!0,get:function(){return r.declareInterface}}),Object.defineProperty(t,"DeclareModule",{enumerable:!0,get:function(){return r.declareModule}}),Object.defineProperty(t,"DeclareModuleExports",{enumerable:!0,get:function(){return r.declareModuleExports}}),Object.defineProperty(t,"DeclareOpaqueType",{enumerable:!0,get:function(){return r.declareOpaqueType}}),Object.defineProperty(t,"DeclareTypeAlias",{enumerable:!0,get:function(){return r.declareTypeAlias}}),Object.defineProperty(t,"DeclareVariable",{enumerable:!0,get:function(){return r.declareVariable}}),Object.defineProperty(t,"DeclaredPredicate",{enumerable:!0,get:function(){return r.declaredPredicate}}),Object.defineProperty(t,"Decorator",{enumerable:!0,get:function(){return r.decorator}}),Object.defineProperty(t,"Directive",{enumerable:!0,get:function(){return r.directive}}),Object.defineProperty(t,"DirectiveLiteral",{enumerable:!0,get:function(){return r.directiveLiteral}}),Object.defineProperty(t,"DoExpression",{enumerable:!0,get:function(){return r.doExpression}}),Object.defineProperty(t,"DoWhileStatement",{enumerable:!0,get:function(){return r.doWhileStatement}}),Object.defineProperty(t,"EmptyStatement",{enumerable:!0,get:function(){return r.emptyStatement}}),Object.defineProperty(t,"EmptyTypeAnnotation",{enumerable:!0,get:function(){return r.emptyTypeAnnotation}}),Object.defineProperty(t,"EnumBooleanBody",{enumerable:!0,get:function(){return r.enumBooleanBody}}),Object.defineProperty(t,"EnumBooleanMember",{enumerable:!0,get:function(){return r.enumBooleanMember}}),Object.defineProperty(t,"EnumDeclaration",{enumerable:!0,get:function(){return r.enumDeclaration}}),Object.defineProperty(t,"EnumDefaultedMember",{enumerable:!0,get:function(){return r.enumDefaultedMember}}),Object.defineProperty(t,"EnumNumberBody",{enumerable:!0,get:function(){return r.enumNumberBody}}),Object.defineProperty(t,"EnumNumberMember",{enumerable:!0,get:function(){return r.enumNumberMember}}),Object.defineProperty(t,"EnumStringBody",{enumerable:!0,get:function(){return r.enumStringBody}}),Object.defineProperty(t,"EnumStringMember",{enumerable:!0,get:function(){return r.enumStringMember}}),Object.defineProperty(t,"EnumSymbolBody",{enumerable:!0,get:function(){return r.enumSymbolBody}}),Object.defineProperty(t,"ExistsTypeAnnotation",{enumerable:!0,get:function(){return r.existsTypeAnnotation}}),Object.defineProperty(t,"ExportAllDeclaration",{enumerable:!0,get:function(){return r.exportAllDeclaration}}),Object.defineProperty(t,"ExportDefaultDeclaration",{enumerable:!0,get:function(){return r.exportDefaultDeclaration}}),Object.defineProperty(t,"ExportDefaultSpecifier",{enumerable:!0,get:function(){return r.exportDefaultSpecifier}}),Object.defineProperty(t,"ExportNamedDeclaration",{enumerable:!0,get:function(){return r.exportNamedDeclaration}}),Object.defineProperty(t,"ExportNamespaceSpecifier",{enumerable:!0,get:function(){return r.exportNamespaceSpecifier}}),Object.defineProperty(t,"ExportSpecifier",{enumerable:!0,get:function(){return r.exportSpecifier}}),Object.defineProperty(t,"ExpressionStatement",{enumerable:!0,get:function(){return r.expressionStatement}}),Object.defineProperty(t,"File",{enumerable:!0,get:function(){return r.file}}),Object.defineProperty(t,"ForInStatement",{enumerable:!0,get:function(){return r.forInStatement}}),Object.defineProperty(t,"ForOfStatement",{enumerable:!0,get:function(){return r.forOfStatement}}),Object.defineProperty(t,"ForStatement",{enumerable:!0,get:function(){return r.forStatement}}),Object.defineProperty(t,"FunctionDeclaration",{enumerable:!0,get:function(){return r.functionDeclaration}}),Object.defineProperty(t,"FunctionExpression",{enumerable:!0,get:function(){return r.functionExpression}}),Object.defineProperty(t,"FunctionTypeAnnotation",{enumerable:!0,get:function(){return r.functionTypeAnnotation}}),Object.defineProperty(t,"FunctionTypeParam",{enumerable:!0,get:function(){return r.functionTypeParam}}),Object.defineProperty(t,"GenericTypeAnnotation",{enumerable:!0,get:function(){return r.genericTypeAnnotation}}),Object.defineProperty(t,"Identifier",{enumerable:!0,get:function(){return r.identifier}}),Object.defineProperty(t,"IfStatement",{enumerable:!0,get:function(){return r.ifStatement}}),Object.defineProperty(t,"Import",{enumerable:!0,get:function(){return r.import}}),Object.defineProperty(t,"ImportAttribute",{enumerable:!0,get:function(){return r.importAttribute}}),Object.defineProperty(t,"ImportDeclaration",{enumerable:!0,get:function(){return r.importDeclaration}}),Object.defineProperty(t,"ImportDefaultSpecifier",{enumerable:!0,get:function(){return r.importDefaultSpecifier}}),Object.defineProperty(t,"ImportNamespaceSpecifier",{enumerable:!0,get:function(){return r.importNamespaceSpecifier}}),Object.defineProperty(t,"ImportSpecifier",{enumerable:!0,get:function(){return r.importSpecifier}}),Object.defineProperty(t,"IndexedAccessType",{enumerable:!0,get:function(){return r.indexedAccessType}}),Object.defineProperty(t,"InferredPredicate",{enumerable:!0,get:function(){return r.inferredPredicate}}),Object.defineProperty(t,"InterfaceDeclaration",{enumerable:!0,get:function(){return r.interfaceDeclaration}}),Object.defineProperty(t,"InterfaceExtends",{enumerable:!0,get:function(){return r.interfaceExtends}}),Object.defineProperty(t,"InterfaceTypeAnnotation",{enumerable:!0,get:function(){return r.interfaceTypeAnnotation}}),Object.defineProperty(t,"InterpreterDirective",{enumerable:!0,get:function(){return r.interpreterDirective}}),Object.defineProperty(t,"IntersectionTypeAnnotation",{enumerable:!0,get:function(){return r.intersectionTypeAnnotation}}),Object.defineProperty(t,"JSXAttribute",{enumerable:!0,get:function(){return r.jsxAttribute}}),Object.defineProperty(t,"JSXClosingElement",{enumerable:!0,get:function(){return r.jsxClosingElement}}),Object.defineProperty(t,"JSXClosingFragment",{enumerable:!0,get:function(){return r.jsxClosingFragment}}),Object.defineProperty(t,"JSXElement",{enumerable:!0,get:function(){return r.jsxElement}}),Object.defineProperty(t,"JSXEmptyExpression",{enumerable:!0,get:function(){return r.jsxEmptyExpression}}),Object.defineProperty(t,"JSXExpressionContainer",{enumerable:!0,get:function(){return r.jsxExpressionContainer}}),Object.defineProperty(t,"JSXFragment",{enumerable:!0,get:function(){return r.jsxFragment}}),Object.defineProperty(t,"JSXIdentifier",{enumerable:!0,get:function(){return r.jsxIdentifier}}),Object.defineProperty(t,"JSXMemberExpression",{enumerable:!0,get:function(){return r.jsxMemberExpression}}),Object.defineProperty(t,"JSXNamespacedName",{enumerable:!0,get:function(){return r.jsxNamespacedName}}),Object.defineProperty(t,"JSXOpeningElement",{enumerable:!0,get:function(){return r.jsxOpeningElement}}),Object.defineProperty(t,"JSXOpeningFragment",{enumerable:!0,get:function(){return r.jsxOpeningFragment}}),Object.defineProperty(t,"JSXSpreadAttribute",{enumerable:!0,get:function(){return r.jsxSpreadAttribute}}),Object.defineProperty(t,"JSXSpreadChild",{enumerable:!0,get:function(){return r.jsxSpreadChild}}),Object.defineProperty(t,"JSXText",{enumerable:!0,get:function(){return r.jsxText}}),Object.defineProperty(t,"LabeledStatement",{enumerable:!0,get:function(){return r.labeledStatement}}),Object.defineProperty(t,"LogicalExpression",{enumerable:!0,get:function(){return r.logicalExpression}}),Object.defineProperty(t,"MemberExpression",{enumerable:!0,get:function(){return r.memberExpression}}),Object.defineProperty(t,"MetaProperty",{enumerable:!0,get:function(){return r.metaProperty}}),Object.defineProperty(t,"MixedTypeAnnotation",{enumerable:!0,get:function(){return r.mixedTypeAnnotation}}),Object.defineProperty(t,"ModuleExpression",{enumerable:!0,get:function(){return r.moduleExpression}}),Object.defineProperty(t,"NewExpression",{enumerable:!0,get:function(){return r.newExpression}}),Object.defineProperty(t,"Noop",{enumerable:!0,get:function(){return r.noop}}),Object.defineProperty(t,"NullLiteral",{enumerable:!0,get:function(){return r.nullLiteral}}),Object.defineProperty(t,"NullLiteralTypeAnnotation",{enumerable:!0,get:function(){return r.nullLiteralTypeAnnotation}}),Object.defineProperty(t,"NullableTypeAnnotation",{enumerable:!0,get:function(){return r.nullableTypeAnnotation}}),Object.defineProperty(t,"NumberLiteral",{enumerable:!0,get:function(){return r.numberLiteral}}),Object.defineProperty(t,"NumberLiteralTypeAnnotation",{enumerable:!0,get:function(){return r.numberLiteralTypeAnnotation}}),Object.defineProperty(t,"NumberTypeAnnotation",{enumerable:!0,get:function(){return r.numberTypeAnnotation}}),Object.defineProperty(t,"NumericLiteral",{enumerable:!0,get:function(){return r.numericLiteral}}),Object.defineProperty(t,"ObjectExpression",{enumerable:!0,get:function(){return r.objectExpression}}),Object.defineProperty(t,"ObjectMethod",{enumerable:!0,get:function(){return r.objectMethod}}),Object.defineProperty(t,"ObjectPattern",{enumerable:!0,get:function(){return r.objectPattern}}),Object.defineProperty(t,"ObjectProperty",{enumerable:!0,get:function(){return r.objectProperty}}),Object.defineProperty(t,"ObjectTypeAnnotation",{enumerable:!0,get:function(){return r.objectTypeAnnotation}}),Object.defineProperty(t,"ObjectTypeCallProperty",{enumerable:!0,get:function(){return r.objectTypeCallProperty}}),Object.defineProperty(t,"ObjectTypeIndexer",{enumerable:!0,get:function(){return r.objectTypeIndexer}}),Object.defineProperty(t,"ObjectTypeInternalSlot",{enumerable:!0,get:function(){return r.objectTypeInternalSlot}}),Object.defineProperty(t,"ObjectTypeProperty",{enumerable:!0,get:function(){return r.objectTypeProperty}}),Object.defineProperty(t,"ObjectTypeSpreadProperty",{enumerable:!0,get:function(){return r.objectTypeSpreadProperty}}),Object.defineProperty(t,"OpaqueType",{enumerable:!0,get:function(){return r.opaqueType}}),Object.defineProperty(t,"OptionalCallExpression",{enumerable:!0,get:function(){return r.optionalCallExpression}}),Object.defineProperty(t,"OptionalIndexedAccessType",{enumerable:!0,get:function(){return r.optionalIndexedAccessType}}),Object.defineProperty(t,"OptionalMemberExpression",{enumerable:!0,get:function(){return r.optionalMemberExpression}}),Object.defineProperty(t,"ParenthesizedExpression",{enumerable:!0,get:function(){return r.parenthesizedExpression}}),Object.defineProperty(t,"PipelineBareFunction",{enumerable:!0,get:function(){return r.pipelineBareFunction}}),Object.defineProperty(t,"PipelinePrimaryTopicReference",{enumerable:!0,get:function(){return r.pipelinePrimaryTopicReference}}),Object.defineProperty(t,"PipelineTopicExpression",{enumerable:!0,get:function(){return r.pipelineTopicExpression}}),Object.defineProperty(t,"Placeholder",{enumerable:!0,get:function(){return r.placeholder}}),Object.defineProperty(t,"PrivateName",{enumerable:!0,get:function(){return r.privateName}}),Object.defineProperty(t,"Program",{enumerable:!0,get:function(){return r.program}}),Object.defineProperty(t,"QualifiedTypeIdentifier",{enumerable:!0,get:function(){return r.qualifiedTypeIdentifier}}),Object.defineProperty(t,"RecordExpression",{enumerable:!0,get:function(){return r.recordExpression}}),Object.defineProperty(t,"RegExpLiteral",{enumerable:!0,get:function(){return r.regExpLiteral}}),Object.defineProperty(t,"RegexLiteral",{enumerable:!0,get:function(){return r.regexLiteral}}),Object.defineProperty(t,"RestElement",{enumerable:!0,get:function(){return r.restElement}}),Object.defineProperty(t,"RestProperty",{enumerable:!0,get:function(){return r.restProperty}}),Object.defineProperty(t,"ReturnStatement",{enumerable:!0,get:function(){return r.returnStatement}}),Object.defineProperty(t,"SequenceExpression",{enumerable:!0,get:function(){return r.sequenceExpression}}),Object.defineProperty(t,"SpreadElement",{enumerable:!0,get:function(){return r.spreadElement}}),Object.defineProperty(t,"SpreadProperty",{enumerable:!0,get:function(){return r.spreadProperty}}),Object.defineProperty(t,"StaticBlock",{enumerable:!0,get:function(){return r.staticBlock}}),Object.defineProperty(t,"StringLiteral",{enumerable:!0,get:function(){return r.stringLiteral}}),Object.defineProperty(t,"StringLiteralTypeAnnotation",{enumerable:!0,get:function(){return r.stringLiteralTypeAnnotation}}),Object.defineProperty(t,"StringTypeAnnotation",{enumerable:!0,get:function(){return r.stringTypeAnnotation}}),Object.defineProperty(t,"Super",{enumerable:!0,get:function(){return r.super}}),Object.defineProperty(t,"SwitchCase",{enumerable:!0,get:function(){return r.switchCase}}),Object.defineProperty(t,"SwitchStatement",{enumerable:!0,get:function(){return r.switchStatement}}),Object.defineProperty(t,"SymbolTypeAnnotation",{enumerable:!0,get:function(){return r.symbolTypeAnnotation}}),Object.defineProperty(t,"TSAnyKeyword",{enumerable:!0,get:function(){return r.tsAnyKeyword}}),Object.defineProperty(t,"TSArrayType",{enumerable:!0,get:function(){return r.tsArrayType}}),Object.defineProperty(t,"TSAsExpression",{enumerable:!0,get:function(){return r.tsAsExpression}}),Object.defineProperty(t,"TSBigIntKeyword",{enumerable:!0,get:function(){return r.tsBigIntKeyword}}),Object.defineProperty(t,"TSBooleanKeyword",{enumerable:!0,get:function(){return r.tsBooleanKeyword}}),Object.defineProperty(t,"TSCallSignatureDeclaration",{enumerable:!0,get:function(){return r.tsCallSignatureDeclaration}}),Object.defineProperty(t,"TSConditionalType",{enumerable:!0,get:function(){return r.tsConditionalType}}),Object.defineProperty(t,"TSConstructSignatureDeclaration",{enumerable:!0,get:function(){return r.tsConstructSignatureDeclaration}}),Object.defineProperty(t,"TSConstructorType",{enumerable:!0,get:function(){return r.tsConstructorType}}),Object.defineProperty(t,"TSDeclareFunction",{enumerable:!0,get:function(){return r.tsDeclareFunction}}),Object.defineProperty(t,"TSDeclareMethod",{enumerable:!0,get:function(){return r.tsDeclareMethod}}),Object.defineProperty(t,"TSEnumDeclaration",{enumerable:!0,get:function(){return r.tsEnumDeclaration}}),Object.defineProperty(t,"TSEnumMember",{enumerable:!0,get:function(){return r.tsEnumMember}}),Object.defineProperty(t,"TSExportAssignment",{enumerable:!0,get:function(){return r.tsExportAssignment}}),Object.defineProperty(t,"TSExpressionWithTypeArguments",{enumerable:!0,get:function(){return r.tsExpressionWithTypeArguments}}),Object.defineProperty(t,"TSExternalModuleReference",{enumerable:!0,get:function(){return r.tsExternalModuleReference}}),Object.defineProperty(t,"TSFunctionType",{enumerable:!0,get:function(){return r.tsFunctionType}}),Object.defineProperty(t,"TSImportEqualsDeclaration",{enumerable:!0,get:function(){return r.tsImportEqualsDeclaration}}),Object.defineProperty(t,"TSImportType",{enumerable:!0,get:function(){return r.tsImportType}}),Object.defineProperty(t,"TSIndexSignature",{enumerable:!0,get:function(){return r.tsIndexSignature}}),Object.defineProperty(t,"TSIndexedAccessType",{enumerable:!0,get:function(){return r.tsIndexedAccessType}}),Object.defineProperty(t,"TSInferType",{enumerable:!0,get:function(){return r.tsInferType}}),Object.defineProperty(t,"TSInstantiationExpression",{enumerable:!0,get:function(){return r.tsInstantiationExpression}}),Object.defineProperty(t,"TSInterfaceBody",{enumerable:!0,get:function(){return r.tsInterfaceBody}}),Object.defineProperty(t,"TSInterfaceDeclaration",{enumerable:!0,get:function(){return r.tsInterfaceDeclaration}}),Object.defineProperty(t,"TSIntersectionType",{enumerable:!0,get:function(){return r.tsIntersectionType}}),Object.defineProperty(t,"TSIntrinsicKeyword",{enumerable:!0,get:function(){return r.tsIntrinsicKeyword}}),Object.defineProperty(t,"TSLiteralType",{enumerable:!0,get:function(){return r.tsLiteralType}}),Object.defineProperty(t,"TSMappedType",{enumerable:!0,get:function(){return r.tsMappedType}}),Object.defineProperty(t,"TSMethodSignature",{enumerable:!0,get:function(){return r.tsMethodSignature}}),Object.defineProperty(t,"TSModuleBlock",{enumerable:!0,get:function(){return r.tsModuleBlock}}),Object.defineProperty(t,"TSModuleDeclaration",{enumerable:!0,get:function(){return r.tsModuleDeclaration}}),Object.defineProperty(t,"TSNamedTupleMember",{enumerable:!0,get:function(){return r.tsNamedTupleMember}}),Object.defineProperty(t,"TSNamespaceExportDeclaration",{enumerable:!0,get:function(){return r.tsNamespaceExportDeclaration}}),Object.defineProperty(t,"TSNeverKeyword",{enumerable:!0,get:function(){return r.tsNeverKeyword}}),Object.defineProperty(t,"TSNonNullExpression",{enumerable:!0,get:function(){return r.tsNonNullExpression}}),Object.defineProperty(t,"TSNullKeyword",{enumerable:!0,get:function(){return r.tsNullKeyword}}),Object.defineProperty(t,"TSNumberKeyword",{enumerable:!0,get:function(){return r.tsNumberKeyword}}),Object.defineProperty(t,"TSObjectKeyword",{enumerable:!0,get:function(){return r.tsObjectKeyword}}),Object.defineProperty(t,"TSOptionalType",{enumerable:!0,get:function(){return r.tsOptionalType}}),Object.defineProperty(t,"TSParameterProperty",{enumerable:!0,get:function(){return r.tsParameterProperty}}),Object.defineProperty(t,"TSParenthesizedType",{enumerable:!0,get:function(){return r.tsParenthesizedType}}),Object.defineProperty(t,"TSPropertySignature",{enumerable:!0,get:function(){return r.tsPropertySignature}}),Object.defineProperty(t,"TSQualifiedName",{enumerable:!0,get:function(){return r.tsQualifiedName}}),Object.defineProperty(t,"TSRestType",{enumerable:!0,get:function(){return r.tsRestType}}),Object.defineProperty(t,"TSSatisfiesExpression",{enumerable:!0,get:function(){return r.tsSatisfiesExpression}}),Object.defineProperty(t,"TSStringKeyword",{enumerable:!0,get:function(){return r.tsStringKeyword}}),Object.defineProperty(t,"TSSymbolKeyword",{enumerable:!0,get:function(){return r.tsSymbolKeyword}}),Object.defineProperty(t,"TSThisType",{enumerable:!0,get:function(){return r.tsThisType}}),Object.defineProperty(t,"TSTupleType",{enumerable:!0,get:function(){return r.tsTupleType}}),Object.defineProperty(t,"TSTypeAliasDeclaration",{enumerable:!0,get:function(){return r.tsTypeAliasDeclaration}}),Object.defineProperty(t,"TSTypeAnnotation",{enumerable:!0,get:function(){return r.tsTypeAnnotation}}),Object.defineProperty(t,"TSTypeAssertion",{enumerable:!0,get:function(){return r.tsTypeAssertion}}),Object.defineProperty(t,"TSTypeLiteral",{enumerable:!0,get:function(){return r.tsTypeLiteral}}),Object.defineProperty(t,"TSTypeOperator",{enumerable:!0,get:function(){return r.tsTypeOperator}}),Object.defineProperty(t,"TSTypeParameter",{enumerable:!0,get:function(){return r.tsTypeParameter}}),Object.defineProperty(t,"TSTypeParameterDeclaration",{enumerable:!0,get:function(){return r.tsTypeParameterDeclaration}}),Object.defineProperty(t,"TSTypeParameterInstantiation",{enumerable:!0,get:function(){return r.tsTypeParameterInstantiation}}),Object.defineProperty(t,"TSTypePredicate",{enumerable:!0,get:function(){return r.tsTypePredicate}}),Object.defineProperty(t,"TSTypeQuery",{enumerable:!0,get:function(){return r.tsTypeQuery}}),Object.defineProperty(t,"TSTypeReference",{enumerable:!0,get:function(){return r.tsTypeReference}}),Object.defineProperty(t,"TSUndefinedKeyword",{enumerable:!0,get:function(){return r.tsUndefinedKeyword}}),Object.defineProperty(t,"TSUnionType",{enumerable:!0,get:function(){return r.tsUnionType}}),Object.defineProperty(t,"TSUnknownKeyword",{enumerable:!0,get:function(){return r.tsUnknownKeyword}}),Object.defineProperty(t,"TSVoidKeyword",{enumerable:!0,get:function(){return r.tsVoidKeyword}}),Object.defineProperty(t,"TaggedTemplateExpression",{enumerable:!0,get:function(){return r.taggedTemplateExpression}}),Object.defineProperty(t,"TemplateElement",{enumerable:!0,get:function(){return r.templateElement}}),Object.defineProperty(t,"TemplateLiteral",{enumerable:!0,get:function(){return r.templateLiteral}}),Object.defineProperty(t,"ThisExpression",{enumerable:!0,get:function(){return r.thisExpression}}),Object.defineProperty(t,"ThisTypeAnnotation",{enumerable:!0,get:function(){return r.thisTypeAnnotation}}),Object.defineProperty(t,"ThrowStatement",{enumerable:!0,get:function(){return r.throwStatement}}),Object.defineProperty(t,"TopicReference",{enumerable:!0,get:function(){return r.topicReference}}),Object.defineProperty(t,"TryStatement",{enumerable:!0,get:function(){return r.tryStatement}}),Object.defineProperty(t,"TupleExpression",{enumerable:!0,get:function(){return r.tupleExpression}}),Object.defineProperty(t,"TupleTypeAnnotation",{enumerable:!0,get:function(){return r.tupleTypeAnnotation}}),Object.defineProperty(t,"TypeAlias",{enumerable:!0,get:function(){return r.typeAlias}}),Object.defineProperty(t,"TypeAnnotation",{enumerable:!0,get:function(){return r.typeAnnotation}}),Object.defineProperty(t,"TypeCastExpression",{enumerable:!0,get:function(){return r.typeCastExpression}}),Object.defineProperty(t,"TypeParameter",{enumerable:!0,get:function(){return r.typeParameter}}),Object.defineProperty(t,"TypeParameterDeclaration",{enumerable:!0,get:function(){return r.typeParameterDeclaration}}),Object.defineProperty(t,"TypeParameterInstantiation",{enumerable:!0,get:function(){return r.typeParameterInstantiation}}),Object.defineProperty(t,"TypeofTypeAnnotation",{enumerable:!0,get:function(){return r.typeofTypeAnnotation}}),Object.defineProperty(t,"UnaryExpression",{enumerable:!0,get:function(){return r.unaryExpression}}),Object.defineProperty(t,"UnionTypeAnnotation",{enumerable:!0,get:function(){return r.unionTypeAnnotation}}),Object.defineProperty(t,"UpdateExpression",{enumerable:!0,get:function(){return r.updateExpression}}),Object.defineProperty(t,"V8IntrinsicIdentifier",{enumerable:!0,get:function(){return r.v8IntrinsicIdentifier}}),Object.defineProperty(t,"VariableDeclaration",{enumerable:!0,get:function(){return r.variableDeclaration}}),Object.defineProperty(t,"VariableDeclarator",{enumerable:!0,get:function(){return r.variableDeclarator}}),Object.defineProperty(t,"Variance",{enumerable:!0,get:function(){return r.variance}}),Object.defineProperty(t,"VoidTypeAnnotation",{enumerable:!0,get:function(){return r.voidTypeAnnotation}}),Object.defineProperty(t,"WhileStatement",{enumerable:!0,get:function(){return r.whileStatement}}),Object.defineProperty(t,"WithStatement",{enumerable:!0,get:function(){return r.withStatement}}),Object.defineProperty(t,"YieldExpression",{enumerable:!0,get:function(){return r.yieldExpression}});var r=n(3977)},702:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){for(var t=[],n=0;n<e.children.length;n++){var a=e.children[n];(0,r.isJSXText)(a)?(0,i.default)(a,t):((0,r.isJSXExpressionContainer)(a)&&(a=a.expression),(0,r.isJSXEmptyExpression)(a)||t.push(a))}return t};var r=n(7308),i=n(7966)},1003:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.map((function(e){return(0,a.isTSTypeAnnotation)(e)?e.typeAnnotation:e})),n=(0,i.default)(t);return 1===n.length?n[0]:(0,r.tsUnionType)(n)};var r=n(3977),i=n(2336),a=n(7308)},8354:function(e,t,n){"use strict";var r=n(4704).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,n=a.BUILDER_KEYS[e.type],o=r(n);try{for(o.s();!(t=o.n()).done;){var s=t.value;(0,i.default)(e,s,e[s])}}catch(u){o.e(u)}finally{o.f()}return e};var i=n(3145),a=n(7951)},4041:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(e,!1)};var r=n(4639)},6806:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(e)};var r=n(4639)},2380:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(e,!0,!0)};var r=n(4639)},4639:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return u(e,t,n,new Map)};var r=n(2455),i=n(7308),a=Function.call.bind(Object.prototype.hasOwnProperty);function o(e,t,n,r){return e&&"string"===typeof e.type?u(e,t,n,r):e}function s(e,t,n,r){return Array.isArray(e)?e.map((function(e){return o(e,t,n,r)})):o(e,t,n,r)}function u(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3?arguments[3]:void 0;if(!e)return e;var u=e.type,c={type:e.type};if((0,i.isIdentifier)(e))c.name=e.name,a(e,"optional")&&"boolean"===typeof e.optional&&(c.optional=e.optional),a(e,"typeAnnotation")&&(c.typeAnnotation=t?s(e.typeAnnotation,!0,n,o):e.typeAnnotation);else{if(!a(r.NODE_FIELDS,u))throw new Error('Unknown node type: "'.concat(u,'"'));for(var f=0,d=Object.keys(r.NODE_FIELDS[u]);f<d.length;f++){var p=d[f];a(e,p)&&(c[p]=t?(0,i.isFile)(e)&&"comments"===p?l(e.comments,t,n,o):s(e[p],!0,n,o):e[p])}}return a(e,"loc")&&(c.loc=n?null:e.loc),a(e,"leadingComments")&&(c.leadingComments=l(e.leadingComments,t,n,o)),a(e,"innerComments")&&(c.innerComments=l(e.innerComments,t,n,o)),a(e,"trailingComments")&&(c.trailingComments=l(e.trailingComments,t,n,o)),a(e,"extra")&&(c.extra=Object.assign({},e.extra)),c}function l(e,t,n,r){return e&&t?e.map((function(e){var t=r.get(e);if(t)return t;var i={type:e.type,value:e.value,loc:e.loc};return n&&(i.loc=null),r.set(e,i),i})):e}},7627:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(e,!1,!0)};var r=n(4639)},8133:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,i){return(0,r.default)(e,t,[{type:i?"CommentLine":"CommentBlock",value:n}])};var r=n(7373)},7373:function(e,t,n){"use strict";var r=n(861).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){if(!n||!e)return e;var i="".concat(t,"Comments");if(e[i]){var a;if("leading"===t)e[i]=n.concat(e[i]);else(a=e[i]).push.apply(a,r(n))}else e[i]=n;return e}},4264:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,r.default)("innerComments",e,t)};var r=n(7777)},150:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,r.default)("leadingComments",e,t)};var r=n(7777)},4675:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,r.default)("trailingComments",e,t)};var r=n(7777)},1164:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,r.default)(e,t),(0,i.default)(e,t),(0,a.default)(e,t),e};var r=n(4675),i=n(150),a=n(4264)},6770:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return r.COMMENT_KEYS.forEach((function(t){e[t]=null})),e};var r=n(5482)},9631:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WHILE_TYPES=t.USERWHITESPACABLE_TYPES=t.UNARYLIKE_TYPES=t.TYPESCRIPT_TYPES=t.TSTYPE_TYPES=t.TSTYPEELEMENT_TYPES=t.TSENTITYNAME_TYPES=t.TSBASETYPE_TYPES=t.TERMINATORLESS_TYPES=t.STATEMENT_TYPES=t.STANDARDIZED_TYPES=t.SCOPABLE_TYPES=t.PUREISH_TYPES=t.PROPERTY_TYPES=t.PRIVATE_TYPES=t.PATTERN_TYPES=t.PATTERNLIKE_TYPES=t.OBJECTMEMBER_TYPES=t.MODULESPECIFIER_TYPES=t.MODULEDECLARATION_TYPES=t.MISCELLANEOUS_TYPES=t.METHOD_TYPES=t.LVAL_TYPES=t.LOOP_TYPES=t.LITERAL_TYPES=t.JSX_TYPES=t.IMPORTOREXPORTDECLARATION_TYPES=t.IMMUTABLE_TYPES=t.FUNCTION_TYPES=t.FUNCTIONPARENT_TYPES=t.FOR_TYPES=t.FORXSTATEMENT_TYPES=t.FLOW_TYPES=t.FLOWTYPE_TYPES=t.FLOWPREDICATE_TYPES=t.FLOWDECLARATION_TYPES=t.FLOWBASEANNOTATION_TYPES=t.EXPRESSION_TYPES=t.EXPRESSIONWRAPPER_TYPES=t.EXPORTDECLARATION_TYPES=t.ENUMMEMBER_TYPES=t.ENUMBODY_TYPES=t.DECLARATION_TYPES=t.CONDITIONAL_TYPES=t.COMPLETIONSTATEMENT_TYPES=t.CLASS_TYPES=t.BLOCK_TYPES=t.BLOCKPARENT_TYPES=t.BINARY_TYPES=t.ACCESSOR_TYPES=void 0;var r=n(2455),i=r.FLIPPED_ALIAS_KEYS.Standardized;t.STANDARDIZED_TYPES=i;var a=r.FLIPPED_ALIAS_KEYS.Expression;t.EXPRESSION_TYPES=a;var o=r.FLIPPED_ALIAS_KEYS.Binary;t.BINARY_TYPES=o;var s=r.FLIPPED_ALIAS_KEYS.Scopable;t.SCOPABLE_TYPES=s;var u=r.FLIPPED_ALIAS_KEYS.BlockParent;t.BLOCKPARENT_TYPES=u;var l=r.FLIPPED_ALIAS_KEYS.Block;t.BLOCK_TYPES=l;var c=r.FLIPPED_ALIAS_KEYS.Statement;t.STATEMENT_TYPES=c;var f=r.FLIPPED_ALIAS_KEYS.Terminatorless;t.TERMINATORLESS_TYPES=f;var d=r.FLIPPED_ALIAS_KEYS.CompletionStatement;t.COMPLETIONSTATEMENT_TYPES=d;var p=r.FLIPPED_ALIAS_KEYS.Conditional;t.CONDITIONAL_TYPES=p;var h=r.FLIPPED_ALIAS_KEYS.Loop;t.LOOP_TYPES=h;var v=r.FLIPPED_ALIAS_KEYS.While;t.WHILE_TYPES=v;var y=r.FLIPPED_ALIAS_KEYS.ExpressionWrapper;t.EXPRESSIONWRAPPER_TYPES=y;var m=r.FLIPPED_ALIAS_KEYS.For;t.FOR_TYPES=m;var g=r.FLIPPED_ALIAS_KEYS.ForXStatement;t.FORXSTATEMENT_TYPES=g;var b=r.FLIPPED_ALIAS_KEYS.Function;t.FUNCTION_TYPES=b;var x=r.FLIPPED_ALIAS_KEYS.FunctionParent;t.FUNCTIONPARENT_TYPES=x;var w=r.FLIPPED_ALIAS_KEYS.Pureish;t.PUREISH_TYPES=w;var S=r.FLIPPED_ALIAS_KEYS.Declaration;t.DECLARATION_TYPES=S;var T=r.FLIPPED_ALIAS_KEYS.PatternLike;t.PATTERNLIKE_TYPES=T;var E=r.FLIPPED_ALIAS_KEYS.LVal;t.LVAL_TYPES=E;var k=r.FLIPPED_ALIAS_KEYS.TSEntityName;t.TSENTITYNAME_TYPES=k;var _=r.FLIPPED_ALIAS_KEYS.Literal;t.LITERAL_TYPES=_;var C=r.FLIPPED_ALIAS_KEYS.Immutable;t.IMMUTABLE_TYPES=C;var P=r.FLIPPED_ALIAS_KEYS.UserWhitespacable;t.USERWHITESPACABLE_TYPES=P;var O=r.FLIPPED_ALIAS_KEYS.Method;t.METHOD_TYPES=O;var I=r.FLIPPED_ALIAS_KEYS.ObjectMember;t.OBJECTMEMBER_TYPES=I;var A=r.FLIPPED_ALIAS_KEYS.Property;t.PROPERTY_TYPES=A;var D=r.FLIPPED_ALIAS_KEYS.UnaryLike;t.UNARYLIKE_TYPES=D;var R=r.FLIPPED_ALIAS_KEYS.Pattern;t.PATTERN_TYPES=R;var N=r.FLIPPED_ALIAS_KEYS.Class;t.CLASS_TYPES=N;var M=r.FLIPPED_ALIAS_KEYS.ImportOrExportDeclaration;t.IMPORTOREXPORTDECLARATION_TYPES=M;var F=r.FLIPPED_ALIAS_KEYS.ExportDeclaration;t.EXPORTDECLARATION_TYPES=F;var L=r.FLIPPED_ALIAS_KEYS.ModuleSpecifier;t.MODULESPECIFIER_TYPES=L;var B=r.FLIPPED_ALIAS_KEYS.Accessor;t.ACCESSOR_TYPES=B;var j=r.FLIPPED_ALIAS_KEYS.Private;t.PRIVATE_TYPES=j;var z=r.FLIPPED_ALIAS_KEYS.Flow;t.FLOW_TYPES=z;var W=r.FLIPPED_ALIAS_KEYS.FlowType;t.FLOWTYPE_TYPES=W;var V=r.FLIPPED_ALIAS_KEYS.FlowBaseAnnotation;t.FLOWBASEANNOTATION_TYPES=V;var U=r.FLIPPED_ALIAS_KEYS.FlowDeclaration;t.FLOWDECLARATION_TYPES=U;var K=r.FLIPPED_ALIAS_KEYS.FlowPredicate;t.FLOWPREDICATE_TYPES=K;var H=r.FLIPPED_ALIAS_KEYS.EnumBody;t.ENUMBODY_TYPES=H;var q=r.FLIPPED_ALIAS_KEYS.EnumMember;t.ENUMMEMBER_TYPES=q;var G=r.FLIPPED_ALIAS_KEYS.JSX;t.JSX_TYPES=G;var X=r.FLIPPED_ALIAS_KEYS.Miscellaneous;t.MISCELLANEOUS_TYPES=X;var Y=r.FLIPPED_ALIAS_KEYS.TypeScript;t.TYPESCRIPT_TYPES=Y;var J=r.FLIPPED_ALIAS_KEYS.TSTypeElement;t.TSTYPEELEMENT_TYPES=J;var $=r.FLIPPED_ALIAS_KEYS.TSType;t.TSTYPE_TYPES=$;var Q=r.FLIPPED_ALIAS_KEYS.TSBaseType;t.TSBASETYPE_TYPES=Q;var Z=M;t.MODULEDECLARATION_TYPES=Z},5482:function(e,t,n){"use strict";var r=n(861).default;Object.defineProperty(t,"__esModule",{value:!0}),t.UPDATE_OPERATORS=t.UNARY_OPERATORS=t.STRING_UNARY_OPERATORS=t.STATEMENT_OR_BLOCK_KEYS=t.NUMBER_UNARY_OPERATORS=t.NUMBER_BINARY_OPERATORS=t.NOT_LOCAL_BINDING=t.LOGICAL_OPERATORS=t.INHERIT_KEYS=t.FOR_INIT_KEYS=t.FLATTENABLE_KEYS=t.EQUALITY_BINARY_OPERATORS=t.COMPARISON_BINARY_OPERATORS=t.COMMENT_KEYS=t.BOOLEAN_UNARY_OPERATORS=t.BOOLEAN_NUMBER_BINARY_OPERATORS=t.BOOLEAN_BINARY_OPERATORS=t.BLOCK_SCOPED_SYMBOL=t.BINARY_OPERATORS=t.ASSIGNMENT_OPERATORS=void 0;t.STATEMENT_OR_BLOCK_KEYS=["consequent","body","alternate"];t.FLATTENABLE_KEYS=["body","expressions"];t.FOR_INIT_KEYS=["left","init"];t.COMMENT_KEYS=["leadingComments","trailingComments","innerComments"];var i=["||","&&","??"];t.LOGICAL_OPERATORS=i;t.UPDATE_OPERATORS=["++","--"];var a=[">","<",">=","<="];t.BOOLEAN_NUMBER_BINARY_OPERATORS=a;var o=["==","===","!=","!=="];t.EQUALITY_BINARY_OPERATORS=o;var s=[].concat(o,["in","instanceof"]);t.COMPARISON_BINARY_OPERATORS=s;var u=[].concat(r(s),a);t.BOOLEAN_BINARY_OPERATORS=u;var l=["-","/","%","*","**","&","|",">>",">>>","<<","^"];t.NUMBER_BINARY_OPERATORS=l;var c=["+"].concat(l,r(u),["|>"]);t.BINARY_OPERATORS=c;var f=["=","+="].concat(r(l.map((function(e){return e+"="}))),r(i.map((function(e){return e+"="}))));t.ASSIGNMENT_OPERATORS=f;var d=["delete","!"];t.BOOLEAN_UNARY_OPERATORS=d;var p=["+","-","~"];t.NUMBER_UNARY_OPERATORS=p;var h=["typeof"];t.STRING_UNARY_OPERATORS=h;var v=["void","throw"].concat(d,p,h);t.UNARY_OPERATORS=v;t.INHERIT_KEYS={optional:["typeAnnotation","typeParameters","returnType"],force:["start","loc","end"]};var y=Symbol.for("var used to be block scoped");t.BLOCK_SCOPED_SYMBOL=y;var m=Symbol.for("should not be considered a local binding");t.NOT_LOCAL_BINDING=m},5919:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"body",n=(0,r.default)(e[t],e);return e[t]=n,n};var r=n(8507)},5413:function(e,t,n){"use strict";var r=n(4704).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t,n,u){var l,c=[],f=!0,d=r(t);try{for(d.s();!(l=d.n()).done;){var p=l.value;if((0,a.isEmptyStatement)(p)||(f=!1),(0,a.isExpression)(p))c.push(p);else if((0,a.isExpressionStatement)(p))c.push(p.expression);else if((0,a.isVariableDeclaration)(p)){if("var"!==p.kind)return;var h,v=r(p.declarations);try{for(v.s();!(h=v.n()).done;){for(var y=h.value,m=(0,i.default)(y),g=0,b=Object.keys(m);g<b.length;g++){var x=b[g];u.push({kind:p.kind,id:(0,s.default)(m[x])})}y.init&&c.push((0,o.assignmentExpression)("=",y.id,y.init))}}catch(E){v.e(E)}finally{v.f()}f=!0}else if((0,a.isIfStatement)(p)){var w=p.consequent?e([p.consequent],n,u):n.buildUndefinedNode(),S=p.alternate?e([p.alternate],n,u):n.buildUndefinedNode();if(!w||!S)return;c.push((0,o.conditionalExpression)(p.test,w,S))}else if((0,a.isBlockStatement)(p)){var T=e(p.body,n,u);if(!T)return;c.push(T)}else{if(!(0,a.isEmptyStatement)(p))return;0===t.indexOf(p)&&(f=!0)}}}catch(E){d.e(E)}finally{d.f()}f&&c.push(n.buildUndefinedNode());return 1===c.length?c[0]:(0,o.sequenceExpression)(c)};var i=n(2975),a=n(7308),o=n(3977),s=n(4639)},7312:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){"eval"!==(e=(0,r.default)(e))&&"arguments"!==e||(e="_"+e);return e};var r=n(8604)},8507:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if((0,r.isBlockStatement)(e))return e;var n=[];(0,r.isEmptyStatement)(e)?n=[]:((0,r.isStatement)(e)||(e=(0,r.isFunction)(t)?(0,i.returnStatement)(e):(0,i.expressionStatement)(e)),n=[e]);return(0,i.blockStatement)(n)};var r=n(7308),i=n(3977)},4660:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.key||e.property;!e.computed&&(0,r.isIdentifier)(t)&&(t=(0,i.stringLiteral)(t.name));return t};var r=n(7308),i=n(3977)},5979:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(7308),i=function(e){(0,r.isExpressionStatement)(e)&&(e=e.expression);if((0,r.isExpression)(e))return e;(0,r.isClass)(e)?e.type="ClassExpression":(0,r.isFunction)(e)&&(e.type="FunctionExpression");if(!(0,r.isExpression)(e))throw new Error("cannot turn ".concat(e.type," to an expression"));return e};t.default=i},8604:function(e,t,n){"use strict";var r=n(4704).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,n="",o=r(e+="");try{for(o.s();!(t=o.n()).done;){var s=t.value;n+=(0,a.isIdentifierChar)(s.codePointAt(0))?s:"-"}}catch(u){o.e(u)}finally{o.f()}n=(n=n.replace(/^[-0-9]+/,"")).replace(/[-\s]+(.)?/g,(function(e,t){return t?t.toUpperCase():""})),(0,i.default)(n)||(n="_".concat(n));return n||"_"};var i=n(3283),a=n(4405)},4834:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var r=n(7308),i=n(4639),a=n(8800);function o(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.key;return"method"===e.kind?o.increment()+"":(t=(0,r.isIdentifier)(n)?n.name:(0,r.isStringLiteral)(n)?JSON.stringify(n.value):JSON.stringify((0,a.default)((0,i.default)(n))),e.computed&&(t="[".concat(t,"]")),e.static&&(t="static:".concat(t)),t)}o.uid=0,o.increment=function(){return o.uid>=Number.MAX_SAFE_INTEGER?o.uid=0:o.uid++}},4621:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(null==e||!e.length)return;var n=[],i=(0,r.default)(e,t,n);if(!i)return;for(var a=0,o=n;a<o.length;a++){var s=o[a];t.push(s)}return i};var r=n(5413)},5559:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(7308),i=n(3977),a=function(e,t){if((0,r.isStatement)(e))return e;var n,a=!1;if((0,r.isClass)(e))a=!0,n="ClassDeclaration";else if((0,r.isFunction)(e))a=!0,n="FunctionDeclaration";else if((0,r.isAssignmentExpression)(e))return(0,i.expressionStatement)(e);a&&!e.id&&(n=!1);if(!n){if(t)return!1;throw new Error("cannot turn ".concat(e.type," to a statement"))}return e.type=n,e};t.default=a},9454:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(3283),i=n(3977),a=function e(t){if(void 0===t)return(0,i.identifier)("undefined");if(!0===t||!1===t)return(0,i.booleanLiteral)(t);if(null===t)return(0,i.nullLiteral)();if("string"===typeof t)return(0,i.stringLiteral)(t);if("number"===typeof t){var n,a;if(Number.isFinite(t))n=(0,i.numericLiteral)(Math.abs(t));else a=Number.isNaN(t)?(0,i.numericLiteral)(0):(0,i.numericLiteral)(1),n=(0,i.binaryExpression)("/",a,(0,i.numericLiteral)(0));return(t<0||Object.is(t,-0))&&(n=(0,i.unaryExpression)("-",n)),n}if(function(e){return"[object RegExp]"===o(e)}(t)){var s=t.source,u=t.toString().match(/\/([a-z]+|)$/)[1];return(0,i.regExpLiteral)(s,u)}if(Array.isArray(t))return(0,i.arrayExpression)(t.map(e));if(function(e){if("object"!==typeof e||null===e||"[object Object]"!==Object.prototype.toString.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||null===Object.getPrototypeOf(t)}(t)){for(var l=[],c=0,f=Object.keys(t);c<f.length;c++){var d=f[c],p=void 0;p=(0,r.default)(d)?(0,i.identifier)(d):(0,i.stringLiteral)(d),l.push((0,i.objectProperty)(p,e(t[d])))}return(0,i.objectExpression)(l)}throw new Error("don't know how to turn this value into a node")};t.default=a;var o=Function.call.bind(Object.prototype.toString)},2792:function(e,t,n){"use strict";var r=n(7424).default,i=n(861).default;Object.defineProperty(t,"__esModule",{value:!0}),t.patternLikeCommon=t.functionTypeAnnotationCommon=t.functionDeclarationCommon=t.functionCommon=t.classMethodOrPropertyCommon=t.classMethodOrDeclareMethodCommon=void 0;var a=n(5639),o=n(3283),s=n(4405),u=n(405),l=n(5482),c=n(7007),f=(0,c.defineAliasedType)("Standardized");f("ArrayExpression",{fields:{elements:{validate:(0,c.chain)((0,c.assertValueType)("array"),(0,c.assertEach)((0,c.assertNodeOrValueType)("null","Expression","SpreadElement"))),default:{NODE_ENV:"production",PUBLIC_URL:"/ignitionhacks2023",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.BABEL_TYPES_8_BREAKING?void 0:[]}},visitor:["elements"],aliases:["Expression"]}),f("AssignmentExpression",{fields:{operator:{validate:function(){if(!{NODE_ENV:"production",PUBLIC_URL:"/ignitionhacks2023",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.BABEL_TYPES_8_BREAKING)return(0,c.assertValueType)("string");var e=c.assertOneOf.apply(void 0,i(l.ASSIGNMENT_OPERATORS)),t=(0,c.assertOneOf)("=");return function(n,r,i){((0,a.default)("Pattern",n.left)?t:e)(n,r,i)}}()},left:{validate:{NODE_ENV:"production",PUBLIC_URL:"/ignitionhacks2023",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.BABEL_TYPES_8_BREAKING?(0,c.assertNodeType)("Identifier","MemberExpression","ArrayPattern","ObjectPattern","TSAsExpression","TSSatisfiesExpression","TSTypeAssertion","TSNonNullExpression"):(0,c.assertNodeType)("LVal")},right:{validate:(0,c.assertNodeType)("Expression")}},builder:["operator","left","right"],visitor:["left","right"],aliases:["Expression"]}),f("BinaryExpression",{builder:["operator","left","right"],fields:{operator:{validate:c.assertOneOf.apply(void 0,i(l.BINARY_OPERATORS))},left:{validate:function(){var e=(0,c.assertNodeType)("Expression"),t=(0,c.assertNodeType)("Expression","PrivateName");return Object.assign((function(n,r,i){("in"===n.operator?t:e)(n,r,i)}),{oneOfNodeTypes:["Expression","PrivateName"]})}()},right:{validate:(0,c.assertNodeType)("Expression")}},visitor:["left","right"],aliases:["Binary","Expression"]}),f("InterpreterDirective",{builder:["value"],fields:{value:{validate:(0,c.assertValueType)("string")}}}),f("Directive",{visitor:["value"],fields:{value:{validate:(0,c.assertNodeType)("DirectiveLiteral")}}}),f("DirectiveLiteral",{builder:["value"],fields:{value:{validate:(0,c.assertValueType)("string")}}}),f("BlockStatement",{builder:["body","directives"],visitor:["directives","body"],fields:{directives:{validate:(0,c.chain)((0,c.assertValueType)("array"),(0,c.assertEach)((0,c.assertNodeType)("Directive"))),default:[]},body:{validate:(0,c.chain)((0,c.assertValueType)("array"),(0,c.assertEach)((0,c.assertNodeType)("Statement")))}},aliases:["Scopable","BlockParent","Block","Statement"]}),f("BreakStatement",{visitor:["label"],fields:{label:{validate:(0,c.assertNodeType)("Identifier"),optional:!0}},aliases:["Statement","Terminatorless","CompletionStatement"]}),f("CallExpression",{visitor:["callee","arguments","typeParameters","typeArguments"],builder:["callee","arguments"],aliases:["Expression"],fields:Object.assign({callee:{validate:(0,c.assertNodeType)("Expression","Super","V8IntrinsicIdentifier")},arguments:{validate:(0,c.chain)((0,c.assertValueType)("array"),(0,c.assertEach)((0,c.assertNodeType)("Expression","SpreadElement","JSXNamespacedName","ArgumentPlaceholder")))}},{NODE_ENV:"production",PUBLIC_URL:"/ignitionhacks2023",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.BABEL_TYPES_8_BREAKING?{}:{optional:{validate:(0,c.assertOneOf)(!0,!1),optional:!0}},{typeArguments:{validate:(0,c.assertNodeType)("TypeParameterInstantiation"),optional:!0},typeParameters:{validate:(0,c.assertNodeType)("TSTypeParameterInstantiation"),optional:!0}})}),f("CatchClause",{visitor:["param","body"],fields:{param:{validate:(0,c.assertNodeType)("Identifier","ArrayPattern","ObjectPattern"),optional:!0},body:{validate:(0,c.assertNodeType)("BlockStatement")}},aliases:["Scopable","BlockParent"]}),f("ConditionalExpression",{visitor:["test","consequent","alternate"],fields:{test:{validate:(0,c.assertNodeType)("Expression")},consequent:{validate:(0,c.assertNodeType)("Expression")},alternate:{validate:(0,c.assertNodeType)("Expression")}},aliases:["Expression","Conditional"]}),f("ContinueStatement",{visitor:["label"],fields:{label:{validate:(0,c.assertNodeType)("Identifier"),optional:!0}},aliases:["Statement","Terminatorless","CompletionStatement"]}),f("DebuggerStatement",{aliases:["Statement"]}),f("DoWhileStatement",{visitor:["test","body"],fields:{test:{validate:(0,c.assertNodeType)("Expression")},body:{validate:(0,c.assertNodeType)("Statement")}},aliases:["Statement","BlockParent","Loop","While","Scopable"]}),f("EmptyStatement",{aliases:["Statement"]}),f("ExpressionStatement",{visitor:["expression"],fields:{expression:{validate:(0,c.assertNodeType)("Expression")}},aliases:["Statement","ExpressionWrapper"]}),f("File",{builder:["program","comments","tokens"],visitor:["program"],fields:{program:{validate:(0,c.assertNodeType)("Program")},comments:{validate:{NODE_ENV:"production",PUBLIC_URL:"/ignitionhacks2023",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.BABEL_TYPES_8_BREAKING?(0,c.assertEach)((0,c.assertNodeType)("CommentBlock","CommentLine")):Object.assign((function(){}),{each:{oneOfNodeTypes:["CommentBlock","CommentLine"]}}),optional:!0},tokens:{validate:(0,c.assertEach)(Object.assign((function(){}),{type:"any"})),optional:!0}}}),f("ForInStatement",{visitor:["left","right","body"],aliases:["Scopable","Statement","For","BlockParent","Loop","ForXStatement"],fields:{left:{validate:{NODE_ENV:"production",PUBLIC_URL:"/ignitionhacks2023",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.BABEL_TYPES_8_BREAKING?(0,c.assertNodeType)("VariableDeclaration","Identifier","MemberExpression","ArrayPattern","ObjectPattern","TSAsExpression","TSSatisfiesExpression","TSTypeAssertion","TSNonNullExpression"):(0,c.assertNodeType)("VariableDeclaration","LVal")},right:{validate:(0,c.assertNodeType)("Expression")},body:{validate:(0,c.assertNodeType)("Statement")}}}),f("ForStatement",{visitor:["init","test","update","body"],aliases:["Scopable","Statement","For","BlockParent","Loop"],fields:{init:{validate:(0,c.assertNodeType)("VariableDeclaration","Expression"),optional:!0},test:{validate:(0,c.assertNodeType)("Expression"),optional:!0},update:{validate:(0,c.assertNodeType)("Expression"),optional:!0},body:{validate:(0,c.assertNodeType)("Statement")}}});var d=function(){return{params:{validate:(0,c.chain)((0,c.assertValueType)("array"),(0,c.assertEach)((0,c.assertNodeType)("Identifier","Pattern","RestElement")))},generator:{default:!1},async:{default:!1}}};t.functionCommon=d;var p=function(){return{returnType:{validate:(0,c.assertNodeType)("TypeAnnotation","TSTypeAnnotation","Noop"),optional:!0},typeParameters:{validate:(0,c.assertNodeType)("TypeParameterDeclaration","TSTypeParameterDeclaration","Noop"),optional:!0}}};t.functionTypeAnnotationCommon=p;var h=function(){return Object.assign({},d(),{declare:{validate:(0,c.assertValueType)("boolean"),optional:!0},id:{validate:(0,c.assertNodeType)("Identifier"),optional:!0}})};t.functionDeclarationCommon=h,f("FunctionDeclaration",{builder:["id","params","body","generator","async"],visitor:["id","params","body","returnType","typeParameters"],fields:Object.assign({},h(),p(),{body:{validate:(0,c.assertNodeType)("BlockStatement")},predicate:{validate:(0,c.assertNodeType)("DeclaredPredicate","InferredPredicate"),optional:!0}}),aliases:["Scopable","Function","BlockParent","FunctionParent","Statement","Pureish","Declaration"],validate:function(){if(!{NODE_ENV:"production",PUBLIC_URL:"/ignitionhacks2023",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.BABEL_TYPES_8_BREAKING)return function(){};var e=(0,c.assertNodeType)("Identifier");return function(t,n,r){(0,a.default)("ExportDefaultDeclaration",t)||e(r,"id",r.id)}}()}),f("FunctionExpression",{inherits:"FunctionDeclaration",aliases:["Scopable","Function","BlockParent","FunctionParent","Expression","Pureish"],fields:Object.assign({},d(),p(),{id:{validate:(0,c.assertNodeType)("Identifier"),optional:!0},body:{validate:(0,c.assertNodeType)("BlockStatement")},predicate:{validate:(0,c.assertNodeType)("DeclaredPredicate","InferredPredicate"),optional:!0}})});var v=function(){return{typeAnnotation:{validate:(0,c.assertNodeType)("TypeAnnotation","TSTypeAnnotation","Noop"),optional:!0},optional:{validate:(0,c.assertValueType)("boolean"),optional:!0},decorators:{validate:(0,c.chain)((0,c.assertValueType)("array"),(0,c.assertEach)((0,c.assertNodeType)("Decorator"))),optional:!0}}};t.patternLikeCommon=v,f("Identifier",{builder:["name"],visitor:["typeAnnotation","decorators"],aliases:["Expression","PatternLike","LVal","TSEntityName"],fields:Object.assign({},v(),{name:{validate:(0,c.chain)((0,c.assertValueType)("string"),Object.assign((function(e,t,n){if({NODE_ENV:"production",PUBLIC_URL:"/ignitionhacks2023",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.BABEL_TYPES_8_BREAKING&&!(0,o.default)(n,!1))throw new TypeError('"'.concat(n,'" is not a valid identifier name'))}),{type:"string"}))}}),validate:function(e,t,n){if({NODE_ENV:"production",PUBLIC_URL:"/ignitionhacks2023",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.BABEL_TYPES_8_BREAKING){var i=/\.(\w+)$/.exec(t);if(i){var o=r(i,2)[1],u={computed:!1};if("property"===o){if((0,a.default)("MemberExpression",e,u))return;if((0,a.default)("OptionalMemberExpression",e,u))return}else if("key"===o){if((0,a.default)("Property",e,u))return;if((0,a.default)("Method",e,u))return}else if("exported"===o){if((0,a.default)("ExportSpecifier",e))return}else if("imported"===o){if((0,a.default)("ImportSpecifier",e,{imported:n}))return}else if("meta"===o&&(0,a.default)("MetaProperty",e,{meta:n}))return;if(((0,s.isKeyword)(n.name)||(0,s.isReservedWord)(n.name,!1))&&"this"!==n.name)throw new TypeError('"'.concat(n.name,'" is not a valid identifier'))}}}}),f("IfStatement",{visitor:["test","consequent","alternate"],aliases:["Statement","Conditional"],fields:{test:{validate:(0,c.assertNodeType)("Expression")},consequent:{validate:(0,c.assertNodeType)("Statement")},alternate:{optional:!0,validate:(0,c.assertNodeType)("Statement")}}}),f("LabeledStatement",{visitor:["label","body"],aliases:["Statement"],fields:{label:{validate:(0,c.assertNodeType)("Identifier")},body:{validate:(0,c.assertNodeType)("Statement")}}}),f("StringLiteral",{builder:["value"],fields:{value:{validate:(0,c.assertValueType)("string")}},aliases:["Expression","Pureish","Literal","Immutable"]}),f("NumericLiteral",{builder:["value"],deprecatedAlias:"NumberLiteral",fields:{value:{validate:(0,c.chain)((0,c.assertValueType)("number"),Object.assign((function(e,t,n){if(1/n<0||!Number.isFinite(n))new Error("NumericLiterals must be non-negative finite numbers. "+"You can use t.valueToNode(".concat(n,") instead."))}),{type:"number"}))}},aliases:["Expression","Pureish","Literal","Immutable"]}),f("NullLiteral",{aliases:["Expression","Pureish","Literal","Immutable"]}),f("BooleanLiteral",{builder:["value"],fields:{value:{validate:(0,c.assertValueType)("boolean")}},aliases:["Expression","Pureish","Literal","Immutable"]}),f("RegExpLiteral",{builder:["pattern","flags"],deprecatedAlias:"RegexLiteral",aliases:["Expression","Pureish","Literal"],fields:{pattern:{validate:(0,c.assertValueType)("string")},flags:{validate:(0,c.chain)((0,c.assertValueType)("string"),Object.assign((function(e,t,n){if({NODE_ENV:"production",PUBLIC_URL:"/ignitionhacks2023",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.BABEL_TYPES_8_BREAKING){var r=/[^gimsuy]/.exec(n);if(r)throw new TypeError('"'.concat(r[0],'" is not a valid RegExp flag'))}}),{type:"string"})),default:""}}}),f("LogicalExpression",{builder:["operator","left","right"],visitor:["left","right"],aliases:["Binary","Expression"],fields:{operator:{validate:c.assertOneOf.apply(void 0,i(l.LOGICAL_OPERATORS))},left:{validate:(0,c.assertNodeType)("Expression")},right:{validate:(0,c.assertNodeType)("Expression")}}}),f("MemberExpression",{builder:["object","property","computed"].concat(i({NODE_ENV:"production",PUBLIC_URL:"/ignitionhacks2023",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.BABEL_TYPES_8_BREAKING?[]:["optional"])),visitor:["object","property"],aliases:["Expression","LVal"],fields:Object.assign({object:{validate:(0,c.assertNodeType)("Expression","Super")},property:{validate:function(){var e=(0,c.assertNodeType)("Identifier","PrivateName"),t=(0,c.assertNodeType)("Expression"),n=function(n,r,i){var a=n.computed?t:e;a(n,r,i)};return n.oneOfNodeTypes=["Expression","Identifier","PrivateName"],n}()},computed:{default:!1}},{NODE_ENV:"production",PUBLIC_URL:"/ignitionhacks2023",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.BABEL_TYPES_8_BREAKING?{}:{optional:{validate:(0,c.assertOneOf)(!0,!1),optional:!0}})}),f("NewExpression",{inherits:"CallExpression"}),f("Program",{visitor:["directives","body"],builder:["body","directives","sourceType","interpreter"],fields:{sourceFile:{validate:(0,c.assertValueType)("string")},sourceType:{validate:(0,c.assertOneOf)("script","module"),default:"script"},interpreter:{validate:(0,c.assertNodeType)("InterpreterDirective"),default:null,optional:!0},directives:{validate:(0,c.chain)((0,c.assertValueType)("array"),(0,c.assertEach)((0,c.assertNodeType)("Directive"))),default:[]},body:{validate:(0,c.chain)((0,c.assertValueType)("array"),(0,c.assertEach)((0,c.assertNodeType)("Statement")))}},aliases:["Scopable","BlockParent","Block"]}),f("ObjectExpression",{visitor:["properties"],aliases:["Expression"],fields:{properties:{validate:(0,c.chain)((0,c.assertValueType)("array"),(0,c.assertEach)((0,c.assertNodeType)("ObjectMethod","ObjectProperty","SpreadElement")))}}}),f("ObjectMethod",{builder:["kind","key","params","body","computed","generator","async"],fields:Object.assign({},d(),p(),{kind:Object.assign({validate:(0,c.assertOneOf)("method","get","set")},{NODE_ENV:"production",PUBLIC_URL:"/ignitionhacks2023",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.BABEL_TYPES_8_BREAKING?{}:{default:"method"}),computed:{default:!1},key:{validate:function(){var e=(0,c.assertNodeType)("Identifier","StringLiteral","NumericLiteral","BigIntLiteral"),t=(0,c.assertNodeType)("Expression"),n=function(n,r,i){var a=n.computed?t:e;a(n,r,i)};return n.oneOfNodeTypes=["Expression","Identifier","StringLiteral","NumericLiteral","BigIntLiteral"],n}()},decorators:{validate:(0,c.chain)((0,c.assertValueType)("array"),(0,c.assertEach)((0,c.assertNodeType)("Decorator"))),optional:!0},body:{validate:(0,c.assertNodeType)("BlockStatement")}}),visitor:["key","params","body","decorators","returnType","typeParameters"],aliases:["UserWhitespacable","Function","Scopable","BlockParent","FunctionParent","Method","ObjectMember"]}),f("ObjectProperty",{builder:["key","value","computed","shorthand"].concat(i({NODE_ENV:"production",PUBLIC_URL:"/ignitionhacks2023",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.BABEL_TYPES_8_BREAKING?[]:["decorators"])),fields:{computed:{default:!1},key:{validate:function(){var e=(0,c.assertNodeType)("Identifier","StringLiteral","NumericLiteral","BigIntLiteral","DecimalLiteral","PrivateName"),t=(0,c.assertNodeType)("Expression");return Object.assign((function(n,r,i){(n.computed?t:e)(n,r,i)}),{oneOfNodeTypes:["Expression","Identifier","StringLiteral","NumericLiteral","BigIntLiteral","DecimalLiteral","PrivateName"]})}()},value:{validate:(0,c.assertNodeType)("Expression","PatternLike")},shorthand:{validate:(0,c.chain)((0,c.assertValueType)("boolean"),Object.assign((function(e,t,n){if({NODE_ENV:"production",PUBLIC_URL:"/ignitionhacks2023",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.BABEL_TYPES_8_BREAKING&&n&&e.computed)throw new TypeError("Property shorthand of ObjectProperty cannot be true if computed is true")}),{type:"boolean"}),(function(e,t,n){if({NODE_ENV:"production",PUBLIC_URL:"/ignitionhacks2023",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.BABEL_TYPES_8_BREAKING&&n&&!(0,a.default)("Identifier",e.key))throw new TypeError("Property shorthand of ObjectProperty cannot be true if key is not an Identifier")})),default:!1},decorators:{validate:(0,c.chain)((0,c.assertValueType)("array"),(0,c.assertEach)((0,c.assertNodeType)("Decorator"))),optional:!0}},visitor:["key","value","decorators"],aliases:["UserWhitespacable","Property","ObjectMember"],validate:function(){var e=(0,c.assertNodeType)("Identifier","Pattern","TSAsExpression","TSSatisfiesExpression","TSNonNullExpression","TSTypeAssertion"),t=(0,c.assertNodeType)("Expression");return function(n,r,i){({NODE_ENV:"production",PUBLIC_URL:"/ignitionhacks2023",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).BABEL_TYPES_8_BREAKING&&((0,a.default)("ObjectPattern",n)?e:t)(i,"value",i.value)}}()}),f("RestElement",{visitor:["argument","typeAnnotation"],builder:["argument"],aliases:["LVal","PatternLike"],deprecatedAlias:"RestProperty",fields:Object.assign({},v(),{argument:{validate:{NODE_ENV:"production",PUBLIC_URL:"/ignitionhacks2023",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.BABEL_TYPES_8_BREAKING?(0,c.assertNodeType)("Identifier","ArrayPattern","ObjectPattern","MemberExpression","TSAsExpression","TSSatisfiesExpression","TSTypeAssertion","TSNonNullExpression"):(0,c.assertNodeType)("LVal")}}),validate:function(e,t){if({NODE_ENV:"production",PUBLIC_URL:"/ignitionhacks2023",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.BABEL_TYPES_8_BREAKING){var n=/(\w+)\[(\d+)\]/.exec(t);if(!n)throw new Error("Internal Babel error: malformed key.");var i=r(n,3),a=i[1],o=i[2];if(e[a].length>+o+1)throw new TypeError("RestElement must be last element of ".concat(a))}}}),f("ReturnStatement",{visitor:["argument"],aliases:["Statement","Terminatorless","CompletionStatement"],fields:{argument:{validate:(0,c.assertNodeType)("Expression"),optional:!0}}}),f("SequenceExpression",{visitor:["expressions"],fields:{expressions:{validate:(0,c.chain)((0,c.assertValueType)("array"),(0,c.assertEach)((0,c.assertNodeType)("Expression")))}},aliases:["Expression"]}),f("ParenthesizedExpression",{visitor:["expression"],aliases:["Expression","ExpressionWrapper"],fields:{expression:{validate:(0,c.assertNodeType)("Expression")}}}),f("SwitchCase",{visitor:["test","consequent"],fields:{test:{validate:(0,c.assertNodeType)("Expression"),optional:!0},consequent:{validate:(0,c.chain)((0,c.assertValueType)("array"),(0,c.assertEach)((0,c.assertNodeType)("Statement")))}}}),f("SwitchStatement",{visitor:["discriminant","cases"],aliases:["Statement","BlockParent","Scopable"],fields:{discriminant:{validate:(0,c.assertNodeType)("Expression")},cases:{validate:(0,c.chain)((0,c.assertValueType)("array"),(0,c.assertEach)((0,c.assertNodeType)("SwitchCase")))}}}),f("ThisExpression",{aliases:["Expression"]}),f("ThrowStatement",{visitor:["argument"],aliases:["Statement","Terminatorless","CompletionStatement"],fields:{argument:{validate:(0,c.assertNodeType)("Expression")}}}),f("TryStatement",{visitor:["block","handler","finalizer"],aliases:["Statement"],fields:{block:{validate:(0,c.chain)((0,c.assertNodeType)("BlockStatement"),Object.assign((function(e){if({NODE_ENV:"production",PUBLIC_URL:"/ignitionhacks2023",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.BABEL_TYPES_8_BREAKING&&!e.handler&&!e.finalizer)throw new TypeError("TryStatement expects either a handler or finalizer, or both")}),{oneOfNodeTypes:["BlockStatement"]}))},handler:{optional:!0,validate:(0,c.assertNodeType)("CatchClause")},finalizer:{optional:!0,validate:(0,c.assertNodeType)("BlockStatement")}}}),f("UnaryExpression",{builder:["operator","argument","prefix"],fields:{prefix:{default:!0},argument:{validate:(0,c.assertNodeType)("Expression")},operator:{validate:c.assertOneOf.apply(void 0,i(l.UNARY_OPERATORS))}},visitor:["argument"],aliases:["UnaryLike","Expression"]}),f("UpdateExpression",{builder:["operator","argument","prefix"],fields:{prefix:{default:!1},argument:{validate:{NODE_ENV:"production",PUBLIC_URL:"/ignitionhacks2023",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.BABEL_TYPES_8_BREAKING?(0,c.assertNodeType)("Identifier","MemberExpression"):(0,c.assertNodeType)("Expression")},operator:{validate:c.assertOneOf.apply(void 0,i(l.UPDATE_OPERATORS))}},visitor:["argument"],aliases:["Expression"]}),f("VariableDeclaration",{builder:["kind","declarations"],visitor:["declarations"],aliases:["Statement","Declaration"],fields:{declare:{validate:(0,c.assertValueType)("boolean"),optional:!0},kind:{validate:(0,c.assertOneOf)("var","let","const","using","await using")},declarations:{validate:(0,c.chain)((0,c.assertValueType)("array"),(0,c.assertEach)((0,c.assertNodeType)("VariableDeclarator")))}},validate:function(e,t,n){if({NODE_ENV:"production",PUBLIC_URL:"/ignitionhacks2023",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.BABEL_TYPES_8_BREAKING&&(0,a.default)("ForXStatement",e,{left:n})&&1!==n.declarations.length)throw new TypeError("Exactly one VariableDeclarator is required in the VariableDeclaration of a ".concat(e.type))}}),f("VariableDeclarator",{visitor:["id","init"],fields:{id:{validate:function(){if(!{NODE_ENV:"production",PUBLIC_URL:"/ignitionhacks2023",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.BABEL_TYPES_8_BREAKING)return(0,c.assertNodeType)("LVal");var e=(0,c.assertNodeType)("Identifier","ArrayPattern","ObjectPattern"),t=(0,c.assertNodeType)("Identifier");return function(n,r,i){(n.init?e:t)(n,r,i)}}()},definite:{optional:!0,validate:(0,c.assertValueType)("boolean")},init:{optional:!0,validate:(0,c.assertNodeType)("Expression")}}}),f("WhileStatement",{visitor:["test","body"],aliases:["Statement","BlockParent","Loop","While","Scopable"],fields:{test:{validate:(0,c.assertNodeType)("Expression")},body:{validate:(0,c.assertNodeType)("Statement")}}}),f("WithStatement",{visitor:["object","body"],aliases:["Statement"],fields:{object:{validate:(0,c.assertNodeType)("Expression")},body:{validate:(0,c.assertNodeType)("Statement")}}}),f("AssignmentPattern",{visitor:["left","right","decorators"],builder:["left","right"],aliases:["Pattern","PatternLike","LVal"],fields:Object.assign({},v(),{left:{validate:(0,c.assertNodeType)("Identifier","ObjectPattern","ArrayPattern","MemberExpression","TSAsExpression","TSSatisfiesExpression","TSTypeAssertion","TSNonNullExpression")},right:{validate:(0,c.assertNodeType)("Expression")},decorators:{validate:(0,c.chain)((0,c.assertValueType)("array"),(0,c.assertEach)((0,c.assertNodeType)("Decorator"))),optional:!0}})}),f("ArrayPattern",{visitor:["elements","typeAnnotation"],builder:["elements"],aliases:["Pattern","PatternLike","LVal"],fields:Object.assign({},v(),{elements:{validate:(0,c.chain)((0,c.assertValueType)("array"),(0,c.assertEach)((0,c.assertNodeOrValueType)("null","PatternLike","LVal")))}})}),f("ArrowFunctionExpression",{builder:["params","body","async"],visitor:["params","body","returnType","typeParameters"],aliases:["Scopable","Function","BlockParent","FunctionParent","Expression","Pureish"],fields:Object.assign({},d(),p(),{expression:{validate:(0,c.assertValueType)("boolean")},body:{validate:(0,c.assertNodeType)("BlockStatement","Expression")},predicate:{validate:(0,c.assertNodeType)("DeclaredPredicate","InferredPredicate"),optional:!0}})}),f("ClassBody",{visitor:["body"],fields:{body:{validate:(0,c.chain)((0,c.assertValueType)("array"),(0,c.assertEach)((0,c.assertNodeType)("ClassMethod","ClassPrivateMethod","ClassProperty","ClassPrivateProperty","ClassAccessorProperty","TSDeclareMethod","TSIndexSignature","StaticBlock")))}}}),f("ClassExpression",{builder:["id","superClass","body","decorators"],visitor:["id","body","superClass","mixins","typeParameters","superTypeParameters","implements","decorators"],aliases:["Scopable","Class","Expression"],fields:{id:{validate:(0,c.assertNodeType)("Identifier"),optional:!0},typeParameters:{validate:(0,c.assertNodeType)("TypeParameterDeclaration","TSTypeParameterDeclaration","Noop"),optional:!0},body:{validate:(0,c.assertNodeType)("ClassBody")},superClass:{optional:!0,validate:(0,c.assertNodeType)("Expression")},superTypeParameters:{validate:(0,c.assertNodeType)("TypeParameterInstantiation","TSTypeParameterInstantiation"),optional:!0},implements:{validate:(0,c.chain)((0,c.assertValueType)("array"),(0,c.assertEach)((0,c.assertNodeType)("TSExpressionWithTypeArguments","ClassImplements"))),optional:!0},decorators:{validate:(0,c.chain)((0,c.assertValueType)("array"),(0,c.assertEach)((0,c.assertNodeType)("Decorator"))),optional:!0},mixins:{validate:(0,c.assertNodeType)("InterfaceExtends"),optional:!0}}}),f("ClassDeclaration",{inherits:"ClassExpression",aliases:["Scopable","Class","Statement","Declaration"],fields:{id:{validate:(0,c.assertNodeType)("Identifier")},typeParameters:{validate:(0,c.assertNodeType)("TypeParameterDeclaration","TSTypeParameterDeclaration","Noop"),optional:!0},body:{validate:(0,c.assertNodeType)("ClassBody")},superClass:{optional:!0,validate:(0,c.assertNodeType)("Expression")},superTypeParameters:{validate:(0,c.assertNodeType)("TypeParameterInstantiation","TSTypeParameterInstantiation"),optional:!0},implements:{validate:(0,c.chain)((0,c.assertValueType)("array"),(0,c.assertEach)((0,c.assertNodeType)("TSExpressionWithTypeArguments","ClassImplements"))),optional:!0},decorators:{validate:(0,c.chain)((0,c.assertValueType)("array"),(0,c.assertEach)((0,c.assertNodeType)("Decorator"))),optional:!0},mixins:{validate:(0,c.assertNodeType)("InterfaceExtends"),optional:!0},declare:{validate:(0,c.assertValueType)("boolean"),optional:!0},abstract:{validate:(0,c.assertValueType)("boolean"),optional:!0}},validate:function(){var e=(0,c.assertNodeType)("Identifier");return function(t,n,r){({NODE_ENV:"production",PUBLIC_URL:"/ignitionhacks2023",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).BABEL_TYPES_8_BREAKING&&((0,a.default)("ExportDefaultDeclaration",t)||e(r,"id",r.id))}}()}),f("ExportAllDeclaration",{builder:["source"],visitor:["source","attributes","assertions"],aliases:["Statement","Declaration","ImportOrExportDeclaration","ExportDeclaration"],fields:{source:{validate:(0,c.assertNodeType)("StringLiteral")},exportKind:(0,c.validateOptional)((0,c.assertOneOf)("type","value")),attributes:{optional:!0,validate:(0,c.chain)((0,c.assertValueType)("array"),(0,c.assertEach)((0,c.assertNodeType)("ImportAttribute")))},assertions:{optional:!0,validate:(0,c.chain)((0,c.assertValueType)("array"),(0,c.assertEach)((0,c.assertNodeType)("ImportAttribute")))}}}),f("ExportDefaultDeclaration",{visitor:["declaration"],aliases:["Statement","Declaration","ImportOrExportDeclaration","ExportDeclaration"],fields:{declaration:{validate:(0,c.assertNodeType)("TSDeclareFunction","FunctionDeclaration","ClassDeclaration","Expression")},exportKind:(0,c.validateOptional)((0,c.assertOneOf)("value"))}}),f("ExportNamedDeclaration",{builder:["declaration","specifiers","source"],visitor:["declaration","specifiers","source","attributes","assertions"],aliases:["Statement","Declaration","ImportOrExportDeclaration","ExportDeclaration"],fields:{declaration:{optional:!0,validate:(0,c.chain)((0,c.assertNodeType)("Declaration"),Object.assign((function(e,t,n){if({NODE_ENV:"production",PUBLIC_URL:"/ignitionhacks2023",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.BABEL_TYPES_8_BREAKING&&n&&e.specifiers.length)throw new TypeError("Only declaration or specifiers is allowed on ExportNamedDeclaration")}),{oneOfNodeTypes:["Declaration"]}),(function(e,t,n){if({NODE_ENV:"production",PUBLIC_URL:"/ignitionhacks2023",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.BABEL_TYPES_8_BREAKING&&n&&e.source)throw new TypeError("Cannot export a declaration from a source")}))},attributes:{optional:!0,validate:(0,c.chain)((0,c.assertValueType)("array"),(0,c.assertEach)((0,c.assertNodeType)("ImportAttribute")))},assertions:{optional:!0,validate:(0,c.chain)((0,c.assertValueType)("array"),(0,c.assertEach)((0,c.assertNodeType)("ImportAttribute")))},specifiers:{default:[],validate:(0,c.chain)((0,c.assertValueType)("array"),(0,c.assertEach)(function(){var e=(0,c.assertNodeType)("ExportSpecifier","ExportDefaultSpecifier","ExportNamespaceSpecifier"),t=(0,c.assertNodeType)("ExportSpecifier");return{NODE_ENV:"production",PUBLIC_URL:"/ignitionhacks2023",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.BABEL_TYPES_8_BREAKING?function(n,r,i){(n.source?e:t)(n,r,i)}:e}()))},source:{validate:(0,c.assertNodeType)("StringLiteral"),optional:!0},exportKind:(0,c.validateOptional)((0,c.assertOneOf)("type","value"))}}),f("ExportSpecifier",{visitor:["local","exported"],aliases:["ModuleSpecifier"],fields:{local:{validate:(0,c.assertNodeType)("Identifier")},exported:{validate:(0,c.assertNodeType)("Identifier","StringLiteral")},exportKind:{validate:(0,c.assertOneOf)("type","value"),optional:!0}}}),f("ForOfStatement",{visitor:["left","right","body"],builder:["left","right","body","await"],aliases:["Scopable","Statement","For","BlockParent","Loop","ForXStatement"],fields:{left:{validate:function(){if(!{NODE_ENV:"production",PUBLIC_URL:"/ignitionhacks2023",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.BABEL_TYPES_8_BREAKING)return(0,c.assertNodeType)("VariableDeclaration","LVal");var e=(0,c.assertNodeType)("VariableDeclaration"),t=(0,c.assertNodeType)("Identifier","MemberExpression","ArrayPattern","ObjectPattern","TSAsExpression","TSSatisfiesExpression","TSTypeAssertion","TSNonNullExpression");return function(n,r,i){(0,a.default)("VariableDeclaration",i)?e(n,r,i):t(n,r,i)}}()},right:{validate:(0,c.assertNodeType)("Expression")},body:{validate:(0,c.assertNodeType)("Statement")},await:{default:!1}}}),f("ImportDeclaration",{builder:["specifiers","source"],visitor:["specifiers","source","attributes","assertions"],aliases:["Statement","Declaration","ImportOrExportDeclaration"],fields:{attributes:{optional:!0,validate:(0,c.chain)((0,c.assertValueType)("array"),(0,c.assertEach)((0,c.assertNodeType)("ImportAttribute")))},assertions:{optional:!0,validate:(0,c.chain)((0,c.assertValueType)("array"),(0,c.assertEach)((0,c.assertNodeType)("ImportAttribute")))},module:{optional:!0,validate:(0,c.assertValueType)("boolean")},specifiers:{validate:(0,c.chain)((0,c.assertValueType)("array"),(0,c.assertEach)((0,c.assertNodeType)("ImportSpecifier","ImportDefaultSpecifier","ImportNamespaceSpecifier")))},source:{validate:(0,c.assertNodeType)("StringLiteral")},importKind:{validate:(0,c.assertOneOf)("type","typeof","value"),optional:!0}}}),f("ImportDefaultSpecifier",{visitor:["local"],aliases:["ModuleSpecifier"],fields:{local:{validate:(0,c.assertNodeType)("Identifier")}}}),f("ImportNamespaceSpecifier",{visitor:["local"],aliases:["ModuleSpecifier"],fields:{local:{validate:(0,c.assertNodeType)("Identifier")}}}),f("ImportSpecifier",{visitor:["local","imported"],aliases:["ModuleSpecifier"],fields:{local:{validate:(0,c.assertNodeType)("Identifier")},imported:{validate:(0,c.assertNodeType)("Identifier","StringLiteral")},importKind:{validate:(0,c.assertOneOf)("type","typeof","value"),optional:!0}}}),f("MetaProperty",{visitor:["meta","property"],aliases:["Expression"],fields:{meta:{validate:(0,c.chain)((0,c.assertNodeType)("Identifier"),Object.assign((function(e,t,n){if({NODE_ENV:"production",PUBLIC_URL:"/ignitionhacks2023",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.BABEL_TYPES_8_BREAKING){var r;switch(n.name){case"function":r="sent";break;case"new":r="target";break;case"import":r="meta"}if(!(0,a.default)("Identifier",e.property,{name:r}))throw new TypeError("Unrecognised MetaProperty")}}),{oneOfNodeTypes:["Identifier"]}))},property:{validate:(0,c.assertNodeType)("Identifier")}}});var y=function(){return{abstract:{validate:(0,c.assertValueType)("boolean"),optional:!0},accessibility:{validate:(0,c.assertOneOf)("public","private","protected"),optional:!0},static:{default:!1},override:{default:!1},computed:{default:!1},optional:{validate:(0,c.assertValueType)("boolean"),optional:!0},key:{validate:(0,c.chain)(function(){var e=(0,c.assertNodeType)("Identifier","StringLiteral","NumericLiteral"),t=(0,c.assertNodeType)("Expression");return function(n,r,i){(n.computed?t:e)(n,r,i)}}(),(0,c.assertNodeType)("Identifier","StringLiteral","NumericLiteral","BigIntLiteral","Expression"))}}};t.classMethodOrPropertyCommon=y;var m=function(){return Object.assign({},d(),y(),{params:{validate:(0,c.chain)((0,c.assertValueType)("array"),(0,c.assertEach)((0,c.assertNodeType)("Identifier","Pattern","RestElement","TSParameterProperty")))},kind:{validate:(0,c.assertOneOf)("get","set","method","constructor"),default:"method"},access:{validate:(0,c.chain)((0,c.assertValueType)("string"),(0,c.assertOneOf)("public","private","protected")),optional:!0},decorators:{validate:(0,c.chain)((0,c.assertValueType)("array"),(0,c.assertEach)((0,c.assertNodeType)("Decorator"))),optional:!0}})};t.classMethodOrDeclareMethodCommon=m,f("ClassMethod",{aliases:["Function","Scopable","BlockParent","FunctionParent","Method"],builder:["kind","key","params","body","computed","static","generator","async"],visitor:["key","params","body","decorators","returnType","typeParameters"],fields:Object.assign({},m(),p(),{body:{validate:(0,c.assertNodeType)("BlockStatement")}})}),f("ObjectPattern",{visitor:["properties","typeAnnotation","decorators"],builder:["properties"],aliases:["Pattern","PatternLike","LVal"],fields:Object.assign({},v(),{properties:{validate:(0,c.chain)((0,c.assertValueType)("array"),(0,c.assertEach)((0,c.assertNodeType)("RestElement","ObjectProperty")))}})}),f("SpreadElement",{visitor:["argument"],aliases:["UnaryLike"],deprecatedAlias:"SpreadProperty",fields:{argument:{validate:(0,c.assertNodeType)("Expression")}}}),f("Super",{aliases:["Expression"]}),f("TaggedTemplateExpression",{visitor:["tag","quasi","typeParameters"],builder:["tag","quasi"],aliases:["Expression"],fields:{tag:{validate:(0,c.assertNodeType)("Expression")},quasi:{validate:(0,c.assertNodeType)("TemplateLiteral")},typeParameters:{validate:(0,c.assertNodeType)("TypeParameterInstantiation","TSTypeParameterInstantiation"),optional:!0}}}),f("TemplateElement",{builder:["value","tail"],fields:{value:{validate:(0,c.chain)((0,c.assertShape)({raw:{validate:(0,c.assertValueType)("string")},cooked:{validate:(0,c.assertValueType)("string"),optional:!0}}),(function(e){var t=e.value.raw,n=!1,r=function(){throw new Error("Internal @babel/types error.")},i=(0,u.readStringContents)("template",t,0,0,0,{unterminated:function(){n=!0},strictNumericEscape:r,invalidEscapeSequence:r,numericSeparatorInEscapeSequence:r,unexpectedNumericSeparator:r,invalidDigit:r,invalidCodePoint:r}),a=i.str,o=i.firstInvalidLoc;if(!n)throw new Error("Invalid raw");e.value.cooked=o?null:a}))},tail:{default:!1}}}),f("TemplateLiteral",{visitor:["quasis","expressions"],aliases:["Expression","Literal"],fields:{quasis:{validate:(0,c.chain)((0,c.assertValueType)("array"),(0,c.assertEach)((0,c.assertNodeType)("TemplateElement")))},expressions:{validate:(0,c.chain)((0,c.assertValueType)("array"),(0,c.assertEach)((0,c.assertNodeType)("Expression","TSType")),(function(e,t,n){if(e.quasis.length!==n.length+1)throw new TypeError("Number of ".concat(e.type," quasis should be exactly one more than the number of expressions.\nExpected ").concat(n.length+1," quasis but got ").concat(e.quasis.length))}))}}}),f("YieldExpression",{builder:["argument","delegate"],visitor:["argument"],aliases:["Expression","Terminatorless"],fields:{delegate:{validate:(0,c.chain)((0,c.assertValueType)("boolean"),Object.assign((function(e,t,n){if({NODE_ENV:"production",PUBLIC_URL:"/ignitionhacks2023",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.BABEL_TYPES_8_BREAKING&&n&&!e.argument)throw new TypeError("Property delegate of YieldExpression cannot be true if there is no argument")}),{type:"boolean"})),default:!1},argument:{optional:!0,validate:(0,c.assertNodeType)("Expression")}}}),f("AwaitExpression",{builder:["argument"],visitor:["argument"],aliases:["Expression","Terminatorless"],fields:{argument:{validate:(0,c.assertNodeType)("Expression")}}}),f("Import",{aliases:["Expression"]}),f("BigIntLiteral",{builder:["value"],fields:{value:{validate:(0,c.assertValueType)("string")}},aliases:["Expression","Pureish","Literal","Immutable"]}),f("ExportNamespaceSpecifier",{visitor:["exported"],aliases:["ModuleSpecifier"],fields:{exported:{validate:(0,c.assertNodeType)("Identifier")}}}),f("OptionalMemberExpression",{builder:["object","property","computed","optional"],visitor:["object","property"],aliases:["Expression"],fields:{object:{validate:(0,c.assertNodeType)("Expression")},property:{validate:function(){var e=(0,c.assertNodeType)("Identifier"),t=(0,c.assertNodeType)("Expression");return Object.assign((function(n,r,i){(n.computed?t:e)(n,r,i)}),{oneOfNodeTypes:["Expression","Identifier"]})}()},computed:{default:!1},optional:{validate:{NODE_ENV:"production",PUBLIC_URL:"/ignitionhacks2023",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.BABEL_TYPES_8_BREAKING?(0,c.chain)((0,c.assertValueType)("boolean"),(0,c.assertOptionalChainStart)()):(0,c.assertValueType)("boolean")}}}),f("OptionalCallExpression",{visitor:["callee","arguments","typeParameters","typeArguments"],builder:["callee","arguments","optional"],aliases:["Expression"],fields:{callee:{validate:(0,c.assertNodeType)("Expression")},arguments:{validate:(0,c.chain)((0,c.assertValueType)("array"),(0,c.assertEach)((0,c.assertNodeType)("Expression","SpreadElement","JSXNamespacedName","ArgumentPlaceholder")))},optional:{validate:{NODE_ENV:"production",PUBLIC_URL:"/ignitionhacks2023",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.BABEL_TYPES_8_BREAKING?(0,c.chain)((0,c.assertValueType)("boolean"),(0,c.assertOptionalChainStart)()):(0,c.assertValueType)("boolean")},typeArguments:{validate:(0,c.assertNodeType)("TypeParameterInstantiation"),optional:!0},typeParameters:{validate:(0,c.assertNodeType)("TSTypeParameterInstantiation"),optional:!0}}}),f("ClassProperty",{visitor:["key","value","typeAnnotation","decorators"],builder:["key","value","typeAnnotation","decorators","computed","static"],aliases:["Property"],fields:Object.assign({},y(),{value:{validate:(0,c.assertNodeType)("Expression"),optional:!0},definite:{validate:(0,c.assertValueType)("boolean"),optional:!0},typeAnnotation:{validate:(0,c.assertNodeType)("TypeAnnotation","TSTypeAnnotation","Noop"),optional:!0},decorators:{validate:(0,c.chain)((0,c.assertValueType)("array"),(0,c.assertEach)((0,c.assertNodeType)("Decorator"))),optional:!0},readonly:{validate:(0,c.assertValueType)("boolean"),optional:!0},declare:{validate:(0,c.assertValueType)("boolean"),optional:!0},variance:{validate:(0,c.assertNodeType)("Variance"),optional:!0}})}),f("ClassAccessorProperty",{visitor:["key","value","typeAnnotation","decorators"],builder:["key","value","typeAnnotation","decorators","computed","static"],aliases:["Property","Accessor"],fields:Object.assign({},y(),{key:{validate:(0,c.chain)(function(){var e=(0,c.assertNodeType)("Identifier","StringLiteral","NumericLiteral","BigIntLiteral","PrivateName"),t=(0,c.assertNodeType)("Expression");return function(n,r,i){(n.computed?t:e)(n,r,i)}}(),(0,c.assertNodeType)("Identifier","StringLiteral","NumericLiteral","BigIntLiteral","Expression","PrivateName"))},value:{validate:(0,c.assertNodeType)("Expression"),optional:!0},definite:{validate:(0,c.assertValueType)("boolean"),optional:!0},typeAnnotation:{validate:(0,c.assertNodeType)("TypeAnnotation","TSTypeAnnotation","Noop"),optional:!0},decorators:{validate:(0,c.chain)((0,c.assertValueType)("array"),(0,c.assertEach)((0,c.assertNodeType)("Decorator"))),optional:!0},readonly:{validate:(0,c.assertValueType)("boolean"),optional:!0},declare:{validate:(0,c.assertValueType)("boolean"),optional:!0},variance:{validate:(0,c.assertNodeType)("Variance"),optional:!0}})}),f("ClassPrivateProperty",{visitor:["key","value","decorators","typeAnnotation"],builder:["key","value","decorators","static"],aliases:["Property","Private"],fields:{key:{validate:(0,c.assertNodeType)("PrivateName")},value:{validate:(0,c.assertNodeType)("Expression"),optional:!0},typeAnnotation:{validate:(0,c.assertNodeType)("TypeAnnotation","TSTypeAnnotation","Noop"),optional:!0},decorators:{validate:(0,c.chain)((0,c.assertValueType)("array"),(0,c.assertEach)((0,c.assertNodeType)("Decorator"))),optional:!0},static:{validate:(0,c.assertValueType)("boolean"),default:!1},readonly:{validate:(0,c.assertValueType)("boolean"),optional:!0},definite:{validate:(0,c.assertValueType)("boolean"),optional:!0},variance:{validate:(0,c.assertNodeType)("Variance"),optional:!0}}}),f("ClassPrivateMethod",{builder:["kind","key","params","body","static"],visitor:["key","params","body","decorators","returnType","typeParameters"],aliases:["Function","Scopable","BlockParent","FunctionParent","Method","Private"],fields:Object.assign({},m(),p(),{kind:{validate:(0,c.assertOneOf)("get","set","method"),default:"method"},key:{validate:(0,c.assertNodeType)("PrivateName")},body:{validate:(0,c.assertNodeType)("BlockStatement")}})}),f("PrivateName",{visitor:["id"],aliases:["Private"],fields:{id:{validate:(0,c.assertNodeType)("Identifier")}}}),f("StaticBlock",{visitor:["body"],fields:{body:{validate:(0,c.chain)((0,c.assertValueType)("array"),(0,c.assertEach)((0,c.assertNodeType)("Statement")))}},aliases:["Scopable","BlockParent","FunctionParent"]})},5580:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEPRECATED_ALIASES=void 0;t.DEPRECATED_ALIASES={ModuleDeclaration:"ImportOrExportDeclaration"}},7718:function(e,t,n){"use strict";var r=n(7007);(0,r.default)("ArgumentPlaceholder",{}),(0,r.default)("BindExpression",{visitor:["object","callee"],aliases:["Expression"],fields:{NODE_ENV:"production",PUBLIC_URL:"/ignitionhacks2023",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.BABEL_TYPES_8_BREAKING?{object:{validate:(0,r.assertNodeType)("Expression")},callee:{validate:(0,r.assertNodeType)("Expression")}}:{object:{validate:Object.assign((function(){}),{oneOfNodeTypes:["Expression"]})},callee:{validate:Object.assign((function(){}),{oneOfNodeTypes:["Expression"]})}}}),(0,r.default)("ImportAttribute",{visitor:["key","value"],fields:{key:{validate:(0,r.assertNodeType)("Identifier","StringLiteral")},value:{validate:(0,r.assertNodeType)("StringLiteral")}}}),(0,r.default)("Decorator",{visitor:["expression"],fields:{expression:{validate:(0,r.assertNodeType)("Expression")}}}),(0,r.default)("DoExpression",{visitor:["body"],builder:["body","async"],aliases:["Expression"],fields:{body:{validate:(0,r.assertNodeType)("BlockStatement")},async:{validate:(0,r.assertValueType)("boolean"),default:!1}}}),(0,r.default)("ExportDefaultSpecifier",{visitor:["exported"],aliases:["ModuleSpecifier"],fields:{exported:{validate:(0,r.assertNodeType)("Identifier")}}}),(0,r.default)("RecordExpression",{visitor:["properties"],aliases:["Expression"],fields:{properties:{validate:(0,r.chain)((0,r.assertValueType)("array"),(0,r.assertEach)((0,r.assertNodeType)("ObjectProperty","SpreadElement")))}}}),(0,r.default)("TupleExpression",{fields:{elements:{validate:(0,r.chain)((0,r.assertValueType)("array"),(0,r.assertEach)((0,r.assertNodeType)("Expression","SpreadElement"))),default:[]}},visitor:["elements"],aliases:["Expression"]}),(0,r.default)("DecimalLiteral",{builder:["value"],fields:{value:{validate:(0,r.assertValueType)("string")}},aliases:["Expression","Pureish","Literal","Immutable"]}),(0,r.default)("ModuleExpression",{visitor:["body"],fields:{body:{validate:(0,r.assertNodeType)("Program")}},aliases:["Expression"]}),(0,r.default)("TopicReference",{aliases:["Expression"]}),(0,r.default)("PipelineTopicExpression",{builder:["expression"],visitor:["expression"],fields:{expression:{validate:(0,r.assertNodeType)("Expression")}},aliases:["Expression"]}),(0,r.default)("PipelineBareFunction",{builder:["callee"],visitor:["callee"],fields:{callee:{validate:(0,r.assertNodeType)("Expression")}},aliases:["Expression"]}),(0,r.default)("PipelinePrimaryTopicReference",{aliases:["Expression"]})},9489:function(e,t,n){"use strict";var r=n(861).default,i=n(7007),a=(0,i.defineAliasedType)("Flow"),o=function(e){var t="DeclareClass"===e;a(e,{builder:["id","typeParameters","extends","body"],visitor:["id","typeParameters","extends"].concat(r(t?["mixins","implements"]:[]),["body"]),aliases:["FlowDeclaration","Statement","Declaration"],fields:Object.assign({id:(0,i.validateType)("Identifier"),typeParameters:(0,i.validateOptionalType)("TypeParameterDeclaration"),extends:(0,i.validateOptional)((0,i.arrayOfType)("InterfaceExtends"))},t?{mixins:(0,i.validateOptional)((0,i.arrayOfType)("InterfaceExtends")),implements:(0,i.validateOptional)((0,i.arrayOfType)("ClassImplements"))}:{},{body:(0,i.validateType)("ObjectTypeAnnotation")})})};a("AnyTypeAnnotation",{aliases:["FlowType","FlowBaseAnnotation"]}),a("ArrayTypeAnnotation",{visitor:["elementType"],aliases:["FlowType"],fields:{elementType:(0,i.validateType)("FlowType")}}),a("BooleanTypeAnnotation",{aliases:["FlowType","FlowBaseAnnotation"]}),a("BooleanLiteralTypeAnnotation",{builder:["value"],aliases:["FlowType"],fields:{value:(0,i.validate)((0,i.assertValueType)("boolean"))}}),a("NullLiteralTypeAnnotation",{aliases:["FlowType","FlowBaseAnnotation"]}),a("ClassImplements",{visitor:["id","typeParameters"],fields:{id:(0,i.validateType)("Identifier"),typeParameters:(0,i.validateOptionalType)("TypeParameterInstantiation")}}),o("DeclareClass"),a("DeclareFunction",{visitor:["id"],aliases:["FlowDeclaration","Statement","Declaration"],fields:{id:(0,i.validateType)("Identifier"),predicate:(0,i.validateOptionalType)("DeclaredPredicate")}}),o("DeclareInterface"),a("DeclareModule",{builder:["id","body","kind"],visitor:["id","body"],aliases:["FlowDeclaration","Statement","Declaration"],fields:{id:(0,i.validateType)(["Identifier","StringLiteral"]),body:(0,i.validateType)("BlockStatement"),kind:(0,i.validateOptional)((0,i.assertOneOf)("CommonJS","ES"))}}),a("DeclareModuleExports",{visitor:["typeAnnotation"],aliases:["FlowDeclaration","Statement","Declaration"],fields:{typeAnnotation:(0,i.validateType)("TypeAnnotation")}}),a("DeclareTypeAlias",{visitor:["id","typeParameters","right"],aliases:["FlowDeclaration","Statement","Declaration"],fields:{id:(0,i.validateType)("Identifier"),typeParameters:(0,i.validateOptionalType)("TypeParameterDeclaration"),right:(0,i.validateType)("FlowType")}}),a("DeclareOpaqueType",{visitor:["id","typeParameters","supertype"],aliases:["FlowDeclaration","Statement","Declaration"],fields:{id:(0,i.validateType)("Identifier"),typeParameters:(0,i.validateOptionalType)("TypeParameterDeclaration"),supertype:(0,i.validateOptionalType)("FlowType"),impltype:(0,i.validateOptionalType)("FlowType")}}),a("DeclareVariable",{visitor:["id"],aliases:["FlowDeclaration","Statement","Declaration"],fields:{id:(0,i.validateType)("Identifier")}}),a("DeclareExportDeclaration",{visitor:["declaration","specifiers","source"],aliases:["FlowDeclaration","Statement","Declaration"],fields:{declaration:(0,i.validateOptionalType)("Flow"),specifiers:(0,i.validateOptional)((0,i.arrayOfType)(["ExportSpecifier","ExportNamespaceSpecifier"])),source:(0,i.validateOptionalType)("StringLiteral"),default:(0,i.validateOptional)((0,i.assertValueType)("boolean"))}}),a("DeclareExportAllDeclaration",{visitor:["source"],aliases:["FlowDeclaration","Statement","Declaration"],fields:{source:(0,i.validateType)("StringLiteral"),exportKind:(0,i.validateOptional)((0,i.assertOneOf)("type","value"))}}),a("DeclaredPredicate",{visitor:["value"],aliases:["FlowPredicate"],fields:{value:(0,i.validateType)("Flow")}}),a("ExistsTypeAnnotation",{aliases:["FlowType"]}),a("FunctionTypeAnnotation",{visitor:["typeParameters","params","rest","returnType"],aliases:["FlowType"],fields:{typeParameters:(0,i.validateOptionalType)("TypeParameterDeclaration"),params:(0,i.validate)((0,i.arrayOfType)("FunctionTypeParam")),rest:(0,i.validateOptionalType)("FunctionTypeParam"),this:(0,i.validateOptionalType)("FunctionTypeParam"),returnType:(0,i.validateType)("FlowType")}}),a("FunctionTypeParam",{visitor:["name","typeAnnotation"],fields:{name:(0,i.validateOptionalType)("Identifier"),typeAnnotation:(0,i.validateType)("FlowType"),optional:(0,i.validateOptional)((0,i.assertValueType)("boolean"))}}),a("GenericTypeAnnotation",{visitor:["id","typeParameters"],aliases:["FlowType"],fields:{id:(0,i.validateType)(["Identifier","QualifiedTypeIdentifier"]),typeParameters:(0,i.validateOptionalType)("TypeParameterInstantiation")}}),a("InferredPredicate",{aliases:["FlowPredicate"]}),a("InterfaceExtends",{visitor:["id","typeParameters"],fields:{id:(0,i.validateType)(["Identifier","QualifiedTypeIdentifier"]),typeParameters:(0,i.validateOptionalType)("TypeParameterInstantiation")}}),o("InterfaceDeclaration"),a("InterfaceTypeAnnotation",{visitor:["extends","body"],aliases:["FlowType"],fields:{extends:(0,i.validateOptional)((0,i.arrayOfType)("InterfaceExtends")),body:(0,i.validateType)("ObjectTypeAnnotation")}}),a("IntersectionTypeAnnotation",{visitor:["types"],aliases:["FlowType"],fields:{types:(0,i.validate)((0,i.arrayOfType)("FlowType"))}}),a("MixedTypeAnnotation",{aliases:["FlowType","FlowBaseAnnotation"]}),a("EmptyTypeAnnotation",{aliases:["FlowType","FlowBaseAnnotation"]}),a("NullableTypeAnnotation",{visitor:["typeAnnotation"],aliases:["FlowType"],fields:{typeAnnotation:(0,i.validateType)("FlowType")}}),a("NumberLiteralTypeAnnotation",{builder:["value"],aliases:["FlowType"],fields:{value:(0,i.validate)((0,i.assertValueType)("number"))}}),a("NumberTypeAnnotation",{aliases:["FlowType","FlowBaseAnnotation"]}),a("ObjectTypeAnnotation",{visitor:["properties","indexers","callProperties","internalSlots"],aliases:["FlowType"],builder:["properties","indexers","callProperties","internalSlots","exact"],fields:{properties:(0,i.validate)((0,i.arrayOfType)(["ObjectTypeProperty","ObjectTypeSpreadProperty"])),indexers:{validate:(0,i.arrayOfType)("ObjectTypeIndexer"),optional:!0,default:[]},callProperties:{validate:(0,i.arrayOfType)("ObjectTypeCallProperty"),optional:!0,default:[]},internalSlots:{validate:(0,i.arrayOfType)("ObjectTypeInternalSlot"),optional:!0,default:[]},exact:{validate:(0,i.assertValueType)("boolean"),default:!1},inexact:(0,i.validateOptional)((0,i.assertValueType)("boolean"))}}),a("ObjectTypeInternalSlot",{visitor:["id","value","optional","static","method"],aliases:["UserWhitespacable"],fields:{id:(0,i.validateType)("Identifier"),value:(0,i.validateType)("FlowType"),optional:(0,i.validate)((0,i.assertValueType)("boolean")),static:(0,i.validate)((0,i.assertValueType)("boolean")),method:(0,i.validate)((0,i.assertValueType)("boolean"))}}),a("ObjectTypeCallProperty",{visitor:["value"],aliases:["UserWhitespacable"],fields:{value:(0,i.validateType)("FlowType"),static:(0,i.validate)((0,i.assertValueType)("boolean"))}}),a("ObjectTypeIndexer",{visitor:["id","key","value","variance"],aliases:["UserWhitespacable"],fields:{id:(0,i.validateOptionalType)("Identifier"),key:(0,i.validateType)("FlowType"),value:(0,i.validateType)("FlowType"),static:(0,i.validate)((0,i.assertValueType)("boolean")),variance:(0,i.validateOptionalType)("Variance")}}),a("ObjectTypeProperty",{visitor:["key","value","variance"],aliases:["UserWhitespacable"],fields:{key:(0,i.validateType)(["Identifier","StringLiteral"]),value:(0,i.validateType)("FlowType"),kind:(0,i.validate)((0,i.assertOneOf)("init","get","set")),static:(0,i.validate)((0,i.assertValueType)("boolean")),proto:(0,i.validate)((0,i.assertValueType)("boolean")),optional:(0,i.validate)((0,i.assertValueType)("boolean")),variance:(0,i.validateOptionalType)("Variance"),method:(0,i.validate)((0,i.assertValueType)("boolean"))}}),a("ObjectTypeSpreadProperty",{visitor:["argument"],aliases:["UserWhitespacable"],fields:{argument:(0,i.validateType)("FlowType")}}),a("OpaqueType",{visitor:["id","typeParameters","supertype","impltype"],aliases:["FlowDeclaration","Statement","Declaration"],fields:{id:(0,i.validateType)("Identifier"),typeParameters:(0,i.validateOptionalType)("TypeParameterDeclaration"),supertype:(0,i.validateOptionalType)("FlowType"),impltype:(0,i.validateType)("FlowType")}}),a("QualifiedTypeIdentifier",{visitor:["id","qualification"],fields:{id:(0,i.validateType)("Identifier"),qualification:(0,i.validateType)(["Identifier","QualifiedTypeIdentifier"])}}),a("StringLiteralTypeAnnotation",{builder:["value"],aliases:["FlowType"],fields:{value:(0,i.validate)((0,i.assertValueType)("string"))}}),a("StringTypeAnnotation",{aliases:["FlowType","FlowBaseAnnotation"]}),a("SymbolTypeAnnotation",{aliases:["FlowType","FlowBaseAnnotation"]}),a("ThisTypeAnnotation",{aliases:["FlowType","FlowBaseAnnotation"]}),a("TupleTypeAnnotation",{visitor:["types"],aliases:["FlowType"],fields:{types:(0,i.validate)((0,i.arrayOfType)("FlowType"))}}),a("TypeofTypeAnnotation",{visitor:["argument"],aliases:["FlowType"],fields:{argument:(0,i.validateType)("FlowType")}}),a("TypeAlias",{visitor:["id","typeParameters","right"],aliases:["FlowDeclaration","Statement","Declaration"],fields:{id:(0,i.validateType)("Identifier"),typeParameters:(0,i.validateOptionalType)("TypeParameterDeclaration"),right:(0,i.validateType)("FlowType")}}),a("TypeAnnotation",{visitor:["typeAnnotation"],fields:{typeAnnotation:(0,i.validateType)("FlowType")}}),a("TypeCastExpression",{visitor:["expression","typeAnnotation"],aliases:["ExpressionWrapper","Expression"],fields:{expression:(0,i.validateType)("Expression"),typeAnnotation:(0,i.validateType)("TypeAnnotation")}}),a("TypeParameter",{visitor:["bound","default","variance"],fields:{name:(0,i.validate)((0,i.assertValueType)("string")),bound:(0,i.validateOptionalType)("TypeAnnotation"),default:(0,i.validateOptionalType)("FlowType"),variance:(0,i.validateOptionalType)("Variance")}}),a("TypeParameterDeclaration",{visitor:["params"],fields:{params:(0,i.validate)((0,i.arrayOfType)("TypeParameter"))}}),a("TypeParameterInstantiation",{visitor:["params"],fields:{params:(0,i.validate)((0,i.arrayOfType)("FlowType"))}}),a("UnionTypeAnnotation",{visitor:["types"],aliases:["FlowType"],fields:{types:(0,i.validate)((0,i.arrayOfType)("FlowType"))}}),a("Variance",{builder:["kind"],fields:{kind:(0,i.validate)((0,i.assertOneOf)("minus","plus"))}}),a("VoidTypeAnnotation",{aliases:["FlowType","FlowBaseAnnotation"]}),a("EnumDeclaration",{aliases:["Statement","Declaration"],visitor:["id","body"],fields:{id:(0,i.validateType)("Identifier"),body:(0,i.validateType)(["EnumBooleanBody","EnumNumberBody","EnumStringBody","EnumSymbolBody"])}}),a("EnumBooleanBody",{aliases:["EnumBody"],visitor:["members"],fields:{explicitType:(0,i.validate)((0,i.assertValueType)("boolean")),members:(0,i.validateArrayOfType)("EnumBooleanMember"),hasUnknownMembers:(0,i.validate)((0,i.assertValueType)("boolean"))}}),a("EnumNumberBody",{aliases:["EnumBody"],visitor:["members"],fields:{explicitType:(0,i.validate)((0,i.assertValueType)("boolean")),members:(0,i.validateArrayOfType)("EnumNumberMember"),hasUnknownMembers:(0,i.validate)((0,i.assertValueType)("boolean"))}}),a("EnumStringBody",{aliases:["EnumBody"],visitor:["members"],fields:{explicitType:(0,i.validate)((0,i.assertValueType)("boolean")),members:(0,i.validateArrayOfType)(["EnumStringMember","EnumDefaultedMember"]),hasUnknownMembers:(0,i.validate)((0,i.assertValueType)("boolean"))}}),a("EnumSymbolBody",{aliases:["EnumBody"],visitor:["members"],fields:{members:(0,i.validateArrayOfType)("EnumDefaultedMember"),hasUnknownMembers:(0,i.validate)((0,i.assertValueType)("boolean"))}}),a("EnumBooleanMember",{aliases:["EnumMember"],visitor:["id"],fields:{id:(0,i.validateType)("Identifier"),init:(0,i.validateType)("BooleanLiteral")}}),a("EnumNumberMember",{aliases:["EnumMember"],visitor:["id","init"],fields:{id:(0,i.validateType)("Identifier"),init:(0,i.validateType)("NumericLiteral")}}),a("EnumStringMember",{aliases:["EnumMember"],visitor:["id","init"],fields:{id:(0,i.validateType)("Identifier"),init:(0,i.validateType)("StringLiteral")}}),a("EnumDefaultedMember",{aliases:["EnumMember"],visitor:["id"],fields:{id:(0,i.validateType)("Identifier")}}),a("IndexedAccessType",{visitor:["objectType","indexType"],aliases:["FlowType"],fields:{objectType:(0,i.validateType)("FlowType"),indexType:(0,i.validateType)("FlowType")}}),a("OptionalIndexedAccessType",{visitor:["objectType","indexType"],aliases:["FlowType"],fields:{objectType:(0,i.validateType)("FlowType"),indexType:(0,i.validateType)("FlowType"),optional:(0,i.validate)((0,i.assertValueType)("boolean"))}})},2455:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ALIAS_KEYS",{enumerable:!0,get:function(){return i.ALIAS_KEYS}}),Object.defineProperty(t,"BUILDER_KEYS",{enumerable:!0,get:function(){return i.BUILDER_KEYS}}),Object.defineProperty(t,"DEPRECATED_ALIASES",{enumerable:!0,get:function(){return o.DEPRECATED_ALIASES}}),Object.defineProperty(t,"DEPRECATED_KEYS",{enumerable:!0,get:function(){return i.DEPRECATED_KEYS}}),Object.defineProperty(t,"FLIPPED_ALIAS_KEYS",{enumerable:!0,get:function(){return i.FLIPPED_ALIAS_KEYS}}),Object.defineProperty(t,"NODE_FIELDS",{enumerable:!0,get:function(){return i.NODE_FIELDS}}),Object.defineProperty(t,"NODE_PARENT_VALIDATIONS",{enumerable:!0,get:function(){return i.NODE_PARENT_VALIDATIONS}}),Object.defineProperty(t,"PLACEHOLDERS",{enumerable:!0,get:function(){return a.PLACEHOLDERS}}),Object.defineProperty(t,"PLACEHOLDERS_ALIAS",{enumerable:!0,get:function(){return a.PLACEHOLDERS_ALIAS}}),Object.defineProperty(t,"PLACEHOLDERS_FLIPPED_ALIAS",{enumerable:!0,get:function(){return a.PLACEHOLDERS_FLIPPED_ALIAS}}),t.TYPES=void 0,Object.defineProperty(t,"VISITOR_KEYS",{enumerable:!0,get:function(){return i.VISITOR_KEYS}});var r=n(1158);n(2792),n(9489),n(9171),n(2911),n(7718),n(3962);var i=n(7007),a=n(9831),o=n(5580);Object.keys(o.DEPRECATED_ALIASES).forEach((function(e){i.FLIPPED_ALIAS_KEYS[e]=i.FLIPPED_ALIAS_KEYS[o.DEPRECATED_ALIASES[e]]})),r(i.VISITOR_KEYS),r(i.ALIAS_KEYS),r(i.FLIPPED_ALIAS_KEYS),r(i.NODE_FIELDS),r(i.BUILDER_KEYS),r(i.DEPRECATED_KEYS),r(a.PLACEHOLDERS_ALIAS),r(a.PLACEHOLDERS_FLIPPED_ALIAS);var s=[].concat(Object.keys(i.VISITOR_KEYS),Object.keys(i.FLIPPED_ALIAS_KEYS),Object.keys(i.DEPRECATED_KEYS));t.TYPES=s},9171:function(e,t,n){"use strict";var r=n(7007),i=(0,r.defineAliasedType)("JSX");i("JSXAttribute",{visitor:["name","value"],aliases:["Immutable"],fields:{name:{validate:(0,r.assertNodeType)("JSXIdentifier","JSXNamespacedName")},value:{optional:!0,validate:(0,r.assertNodeType)("JSXElement","JSXFragment","StringLiteral","JSXExpressionContainer")}}}),i("JSXClosingElement",{visitor:["name"],aliases:["Immutable"],fields:{name:{validate:(0,r.assertNodeType)("JSXIdentifier","JSXMemberExpression","JSXNamespacedName")}}}),i("JSXElement",{builder:["openingElement","closingElement","children","selfClosing"],visitor:["openingElement","children","closingElement"],aliases:["Immutable","Expression"],fields:Object.assign({openingElement:{validate:(0,r.assertNodeType)("JSXOpeningElement")},closingElement:{optional:!0,validate:(0,r.assertNodeType)("JSXClosingElement")},children:{validate:(0,r.chain)((0,r.assertValueType)("array"),(0,r.assertEach)((0,r.assertNodeType)("JSXText","JSXExpressionContainer","JSXSpreadChild","JSXElement","JSXFragment")))}},{selfClosing:{validate:(0,r.assertValueType)("boolean"),optional:!0}})}),i("JSXEmptyExpression",{}),i("JSXExpressionContainer",{visitor:["expression"],aliases:["Immutable"],fields:{expression:{validate:(0,r.assertNodeType)("Expression","JSXEmptyExpression")}}}),i("JSXSpreadChild",{visitor:["expression"],aliases:["Immutable"],fields:{expression:{validate:(0,r.assertNodeType)("Expression")}}}),i("JSXIdentifier",{builder:["name"],fields:{name:{validate:(0,r.assertValueType)("string")}}}),i("JSXMemberExpression",{visitor:["object","property"],fields:{object:{validate:(0,r.assertNodeType)("JSXMemberExpression","JSXIdentifier")},property:{validate:(0,r.assertNodeType)("JSXIdentifier")}}}),i("JSXNamespacedName",{visitor:["namespace","name"],fields:{namespace:{validate:(0,r.assertNodeType)("JSXIdentifier")},name:{validate:(0,r.assertNodeType)("JSXIdentifier")}}}),i("JSXOpeningElement",{builder:["name","attributes","selfClosing"],visitor:["name","attributes"],aliases:["Immutable"],fields:{name:{validate:(0,r.assertNodeType)("JSXIdentifier","JSXMemberExpression","JSXNamespacedName")},selfClosing:{default:!1},attributes:{validate:(0,r.chain)((0,r.assertValueType)("array"),(0,r.assertEach)((0,r.assertNodeType)("JSXAttribute","JSXSpreadAttribute")))},typeParameters:{validate:(0,r.assertNodeType)("TypeParameterInstantiation","TSTypeParameterInstantiation"),optional:!0}}}),i("JSXSpreadAttribute",{visitor:["argument"],fields:{argument:{validate:(0,r.assertNodeType)("Expression")}}}),i("JSXText",{aliases:["Immutable"],builder:["value"],fields:{value:{validate:(0,r.assertValueType)("string")}}}),i("JSXFragment",{builder:["openingFragment","closingFragment","children"],visitor:["openingFragment","children","closingFragment"],aliases:["Immutable","Expression"],fields:{openingFragment:{validate:(0,r.assertNodeType)("JSXOpeningFragment")},closingFragment:{validate:(0,r.assertNodeType)("JSXClosingFragment")},children:{validate:(0,r.chain)((0,r.assertValueType)("array"),(0,r.assertEach)((0,r.assertNodeType)("JSXText","JSXExpressionContainer","JSXSpreadChild","JSXElement","JSXFragment")))}}}),i("JSXOpeningFragment",{aliases:["Immutable"]}),i("JSXClosingFragment",{aliases:["Immutable"]})},2911:function(e,t,n){"use strict";var r=n(861).default,i=n(7007),a=n(9831),o=(0,i.defineAliasedType)("Miscellaneous");o("Noop",{visitor:[]}),o("Placeholder",{visitor:[],builder:["expectedNode","name"],fields:{name:{validate:(0,i.assertNodeType)("Identifier")},expectedNode:{validate:i.assertOneOf.apply(void 0,r(a.PLACEHOLDERS))}}}),o("V8IntrinsicIdentifier",{builder:["name"],fields:{name:{validate:(0,i.assertValueType)("string")}}})},9831:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PLACEHOLDERS_FLIPPED_ALIAS=t.PLACEHOLDERS_ALIAS=t.PLACEHOLDERS=void 0;var r=n(7007),i=["Identifier","StringLiteral","Expression","Statement","Declaration","BlockStatement","ClassBody","Pattern"];t.PLACEHOLDERS=i;var a={Declaration:["Statement"],Pattern:["PatternLike","LVal"]};t.PLACEHOLDERS_ALIAS=a;for(var o=0,s=i;o<s.length;o++){var u=s[o],l=r.ALIAS_KEYS[u];null!=l&&l.length&&(a[u]=l)}var c={};t.PLACEHOLDERS_FLIPPED_ALIAS=c,Object.keys(a).forEach((function(e){a[e].forEach((function(t){Object.hasOwnProperty.call(c,t)||(c[t]=[]),c[t].push(e)}))}))},3962:function(e,t,n){"use strict";var r=n(8416).default,i=n(7007),a=n(2792),o=n(5639),s=(0,i.defineAliasedType)("TypeScript"),u=(0,i.assertValueType)("boolean"),l=function(){return{returnType:{validate:(0,i.assertNodeType)("TSTypeAnnotation","Noop"),optional:!0},typeParameters:{validate:(0,i.assertNodeType)("TSTypeParameterDeclaration","Noop"),optional:!0}}};s("TSParameterProperty",{aliases:["LVal"],visitor:["parameter"],fields:{accessibility:{validate:(0,i.assertOneOf)("public","private","protected"),optional:!0},readonly:{validate:(0,i.assertValueType)("boolean"),optional:!0},parameter:{validate:(0,i.assertNodeType)("Identifier","AssignmentPattern")},override:{validate:(0,i.assertValueType)("boolean"),optional:!0},decorators:{validate:(0,i.chain)((0,i.assertValueType)("array"),(0,i.assertEach)((0,i.assertNodeType)("Decorator"))),optional:!0}}}),s("TSDeclareFunction",{aliases:["Statement","Declaration"],visitor:["id","typeParameters","params","returnType"],fields:Object.assign({},(0,a.functionDeclarationCommon)(),l())}),s("TSDeclareMethod",{visitor:["decorators","key","typeParameters","params","returnType"],fields:Object.assign({},(0,a.classMethodOrDeclareMethodCommon)(),l())}),s("TSQualifiedName",{aliases:["TSEntityName"],visitor:["left","right"],fields:{left:(0,i.validateType)("TSEntityName"),right:(0,i.validateType)("Identifier")}});var c=function(){var e;return e={typeParameters:(0,i.validateOptionalType)("TSTypeParameterDeclaration")},r(e,"parameters",(0,i.validateArrayOfType)(["ArrayPattern","Identifier","ObjectPattern","RestElement"])),r(e,"typeAnnotation",(0,i.validateOptionalType)("TSTypeAnnotation")),e},f={aliases:["TSTypeElement"],visitor:["typeParameters","parameters","typeAnnotation"],fields:c()};s("TSCallSignatureDeclaration",f),s("TSConstructSignatureDeclaration",f);var d=function(){return{key:(0,i.validateType)("Expression"),computed:{default:!1},optional:(0,i.validateOptional)(u)}};s("TSPropertySignature",{aliases:["TSTypeElement"],visitor:["key","typeAnnotation","initializer"],fields:Object.assign({},d(),{readonly:(0,i.validateOptional)(u),typeAnnotation:(0,i.validateOptionalType)("TSTypeAnnotation"),initializer:(0,i.validateOptionalType)("Expression"),kind:{validate:(0,i.assertOneOf)("get","set")}})}),s("TSMethodSignature",{aliases:["TSTypeElement"],visitor:["key","typeParameters","parameters","typeAnnotation"],fields:Object.assign({},c(),d(),{kind:{validate:(0,i.assertOneOf)("method","get","set")}})}),s("TSIndexSignature",{aliases:["TSTypeElement"],visitor:["parameters","typeAnnotation"],fields:{readonly:(0,i.validateOptional)(u),static:(0,i.validateOptional)(u),parameters:(0,i.validateArrayOfType)("Identifier"),typeAnnotation:(0,i.validateOptionalType)("TSTypeAnnotation")}});for(var p=0,h=["TSAnyKeyword","TSBooleanKeyword","TSBigIntKeyword","TSIntrinsicKeyword","TSNeverKeyword","TSNullKeyword","TSNumberKeyword","TSObjectKeyword","TSStringKeyword","TSSymbolKeyword","TSUndefinedKeyword","TSUnknownKeyword","TSVoidKeyword"];p<h.length;p++){s(h[p],{aliases:["TSType","TSBaseType"],visitor:[],fields:{}})}s("TSThisType",{aliases:["TSType","TSBaseType"],visitor:[],fields:{}});var v={aliases:["TSType"],visitor:["typeParameters","parameters","typeAnnotation"]};s("TSFunctionType",Object.assign({},v,{fields:c()})),s("TSConstructorType",Object.assign({},v,{fields:Object.assign({},c(),{abstract:(0,i.validateOptional)(u)})})),s("TSTypeReference",{aliases:["TSType"],visitor:["typeName","typeParameters"],fields:{typeName:(0,i.validateType)("TSEntityName"),typeParameters:(0,i.validateOptionalType)("TSTypeParameterInstantiation")}}),s("TSTypePredicate",{aliases:["TSType"],visitor:["parameterName","typeAnnotation"],builder:["parameterName","typeAnnotation","asserts"],fields:{parameterName:(0,i.validateType)(["Identifier","TSThisType"]),typeAnnotation:(0,i.validateOptionalType)("TSTypeAnnotation"),asserts:(0,i.validateOptional)(u)}}),s("TSTypeQuery",{aliases:["TSType"],visitor:["exprName","typeParameters"],fields:{exprName:(0,i.validateType)(["TSEntityName","TSImportType"]),typeParameters:(0,i.validateOptionalType)("TSTypeParameterInstantiation")}}),s("TSTypeLiteral",{aliases:["TSType"],visitor:["members"],fields:{members:(0,i.validateArrayOfType)("TSTypeElement")}}),s("TSArrayType",{aliases:["TSType"],visitor:["elementType"],fields:{elementType:(0,i.validateType)("TSType")}}),s("TSTupleType",{aliases:["TSType"],visitor:["elementTypes"],fields:{elementTypes:(0,i.validateArrayOfType)(["TSType","TSNamedTupleMember"])}}),s("TSOptionalType",{aliases:["TSType"],visitor:["typeAnnotation"],fields:{typeAnnotation:(0,i.validateType)("TSType")}}),s("TSRestType",{aliases:["TSType"],visitor:["typeAnnotation"],fields:{typeAnnotation:(0,i.validateType)("TSType")}}),s("TSNamedTupleMember",{visitor:["label","elementType"],builder:["label","elementType","optional"],fields:{label:(0,i.validateType)("Identifier"),optional:{validate:u,default:!1},elementType:(0,i.validateType)("TSType")}});var y={aliases:["TSType"],visitor:["types"],fields:{types:(0,i.validateArrayOfType)("TSType")}};s("TSUnionType",y),s("TSIntersectionType",y),s("TSConditionalType",{aliases:["TSType"],visitor:["checkType","extendsType","trueType","falseType"],fields:{checkType:(0,i.validateType)("TSType"),extendsType:(0,i.validateType)("TSType"),trueType:(0,i.validateType)("TSType"),falseType:(0,i.validateType)("TSType")}}),s("TSInferType",{aliases:["TSType"],visitor:["typeParameter"],fields:{typeParameter:(0,i.validateType)("TSTypeParameter")}}),s("TSParenthesizedType",{aliases:["TSType"],visitor:["typeAnnotation"],fields:{typeAnnotation:(0,i.validateType)("TSType")}}),s("TSTypeOperator",{aliases:["TSType"],visitor:["typeAnnotation"],fields:{operator:(0,i.validate)((0,i.assertValueType)("string")),typeAnnotation:(0,i.validateType)("TSType")}}),s("TSIndexedAccessType",{aliases:["TSType"],visitor:["objectType","indexType"],fields:{objectType:(0,i.validateType)("TSType"),indexType:(0,i.validateType)("TSType")}}),s("TSMappedType",{aliases:["TSType"],visitor:["typeParameter","typeAnnotation","nameType"],fields:{readonly:(0,i.validateOptional)((0,i.assertOneOf)(!0,!1,"+","-")),typeParameter:(0,i.validateType)("TSTypeParameter"),optional:(0,i.validateOptional)((0,i.assertOneOf)(!0,!1,"+","-")),typeAnnotation:(0,i.validateOptionalType)("TSType"),nameType:(0,i.validateOptionalType)("TSType")}}),s("TSLiteralType",{aliases:["TSType","TSBaseType"],visitor:["literal"],fields:{literal:{validate:function(){var e=(0,i.assertNodeType)("NumericLiteral","BigIntLiteral"),t=(0,i.assertOneOf)("-"),n=(0,i.assertNodeType)("NumericLiteral","StringLiteral","BooleanLiteral","BigIntLiteral","TemplateLiteral");function r(r,i,a){(0,o.default)("UnaryExpression",a)?(t(a,"operator",a.operator),e(a,"argument",a.argument)):n(r,i,a)}return r.oneOfNodeTypes=["NumericLiteral","StringLiteral","BooleanLiteral","BigIntLiteral","TemplateLiteral","UnaryExpression"],r}()}}}),s("TSExpressionWithTypeArguments",{aliases:["TSType"],visitor:["expression","typeParameters"],fields:{expression:(0,i.validateType)("TSEntityName"),typeParameters:(0,i.validateOptionalType)("TSTypeParameterInstantiation")}}),s("TSInterfaceDeclaration",{aliases:["Statement","Declaration"],visitor:["id","typeParameters","extends","body"],fields:{declare:(0,i.validateOptional)(u),id:(0,i.validateType)("Identifier"),typeParameters:(0,i.validateOptionalType)("TSTypeParameterDeclaration"),extends:(0,i.validateOptional)((0,i.arrayOfType)("TSExpressionWithTypeArguments")),body:(0,i.validateType)("TSInterfaceBody")}}),s("TSInterfaceBody",{visitor:["body"],fields:{body:(0,i.validateArrayOfType)("TSTypeElement")}}),s("TSTypeAliasDeclaration",{aliases:["Statement","Declaration"],visitor:["id","typeParameters","typeAnnotation"],fields:{declare:(0,i.validateOptional)(u),id:(0,i.validateType)("Identifier"),typeParameters:(0,i.validateOptionalType)("TSTypeParameterDeclaration"),typeAnnotation:(0,i.validateType)("TSType")}}),s("TSInstantiationExpression",{aliases:["Expression"],visitor:["expression","typeParameters"],fields:{expression:(0,i.validateType)("Expression"),typeParameters:(0,i.validateOptionalType)("TSTypeParameterInstantiation")}});var m={aliases:["Expression","LVal","PatternLike"],visitor:["expression","typeAnnotation"],fields:{expression:(0,i.validateType)("Expression"),typeAnnotation:(0,i.validateType)("TSType")}};s("TSAsExpression",m),s("TSSatisfiesExpression",m),s("TSTypeAssertion",{aliases:["Expression","LVal","PatternLike"],visitor:["typeAnnotation","expression"],fields:{typeAnnotation:(0,i.validateType)("TSType"),expression:(0,i.validateType)("Expression")}}),s("TSEnumDeclaration",{aliases:["Statement","Declaration"],visitor:["id","members"],fields:{declare:(0,i.validateOptional)(u),const:(0,i.validateOptional)(u),id:(0,i.validateType)("Identifier"),members:(0,i.validateArrayOfType)("TSEnumMember"),initializer:(0,i.validateOptionalType)("Expression")}}),s("TSEnumMember",{visitor:["id","initializer"],fields:{id:(0,i.validateType)(["Identifier","StringLiteral"]),initializer:(0,i.validateOptionalType)("Expression")}}),s("TSModuleDeclaration",{aliases:["Statement","Declaration"],visitor:["id","body"],fields:{declare:(0,i.validateOptional)(u),global:(0,i.validateOptional)(u),id:(0,i.validateType)(["Identifier","StringLiteral"]),body:(0,i.validateType)(["TSModuleBlock","TSModuleDeclaration"])}}),s("TSModuleBlock",{aliases:["Scopable","Block","BlockParent","FunctionParent"],visitor:["body"],fields:{body:(0,i.validateArrayOfType)("Statement")}}),s("TSImportType",{aliases:["TSType"],visitor:["argument","qualifier","typeParameters"],fields:{argument:(0,i.validateType)("StringLiteral"),qualifier:(0,i.validateOptionalType)("TSEntityName"),typeParameters:(0,i.validateOptionalType)("TSTypeParameterInstantiation")}}),s("TSImportEqualsDeclaration",{aliases:["Statement"],visitor:["id","moduleReference"],fields:{isExport:(0,i.validate)(u),id:(0,i.validateType)("Identifier"),moduleReference:(0,i.validateType)(["TSEntityName","TSExternalModuleReference"]),importKind:{validate:(0,i.assertOneOf)("type","value"),optional:!0}}}),s("TSExternalModuleReference",{visitor:["expression"],fields:{expression:(0,i.validateType)("StringLiteral")}}),s("TSNonNullExpression",{aliases:["Expression","LVal","PatternLike"],visitor:["expression"],fields:{expression:(0,i.validateType)("Expression")}}),s("TSExportAssignment",{aliases:["Statement"],visitor:["expression"],fields:{expression:(0,i.validateType)("Expression")}}),s("TSNamespaceExportDeclaration",{aliases:["Statement"],visitor:["id"],fields:{id:(0,i.validateType)("Identifier")}}),s("TSTypeAnnotation",{visitor:["typeAnnotation"],fields:{typeAnnotation:{validate:(0,i.assertNodeType)("TSType")}}}),s("TSTypeParameterInstantiation",{visitor:["params"],fields:{params:{validate:(0,i.chain)((0,i.assertValueType)("array"),(0,i.assertEach)((0,i.assertNodeType)("TSType")))}}}),s("TSTypeParameterDeclaration",{visitor:["params"],fields:{params:{validate:(0,i.chain)((0,i.assertValueType)("array"),(0,i.assertEach)((0,i.assertNodeType)("TSTypeParameter")))}}}),s("TSTypeParameter",{builder:["constraint","default","name"],visitor:["constraint","default"],fields:{name:{validate:(0,i.assertValueType)("string")},in:{validate:(0,i.assertValueType)("boolean"),optional:!0},out:{validate:(0,i.assertValueType)("boolean"),optional:!0},const:{validate:(0,i.assertValueType)("boolean"),optional:!0},constraint:{validate:(0,i.assertNodeType)("TSType"),optional:!0},default:{validate:(0,i.assertNodeType)("TSType"),optional:!0}}})},7007:function(e,t,n){"use strict";var r=n(4704).default,i=n(861).default;Object.defineProperty(t,"__esModule",{value:!0}),t.VISITOR_KEYS=t.NODE_PARENT_VALIDATIONS=t.NODE_FIELDS=t.FLIPPED_ALIAS_KEYS=t.DEPRECATED_KEYS=t.BUILDER_KEYS=t.ALIAS_KEYS=void 0,t.arrayOf=m,t.arrayOfType=g,t.assertEach=b,t.assertNodeOrValueType=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];function i(e,n,i){var s,u=r(t);try{for(u.s();!(s=u.n()).done;){var l=s.value;if(h(i)===l||(0,a.default)(l,i))return void(0,o.validateChild)(e,n,i)}}catch(c){u.e(c)}finally{u.f()}throw new TypeError("Property ".concat(n," of ").concat(e.type," expected node to be of a type ").concat(JSON.stringify(t)," but instead got ").concat(JSON.stringify(null==i?void 0:i.type)))}return i.oneOfNodeOrValueTypes=t,i},t.assertNodeType=x,t.assertOneOf=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];function r(e,n,r){if(t.indexOf(r)<0)throw new TypeError("Property ".concat(n," expected value to be one of ").concat(JSON.stringify(t)," but got ").concat(JSON.stringify(r)))}return r.oneOf=t,r},t.assertOptionalChainStart=function(){return function(e){for(var t,n=e;e;){var r=n.type;if("OptionalCallExpression"!==r){if("OptionalMemberExpression"!==r)break;if(n.optional)return;n=n.object}else{if(n.optional)return;n=n.callee}}throw new TypeError("Non-optional ".concat(e.type," must chain from an optional OptionalMemberExpression or OptionalCallExpression. Found chain from ").concat(null==(t=n)?void 0:t.type))}},t.assertShape=function(e){function t(t,n,r){for(var i=[],a=0,s=Object.keys(e);a<s.length;a++){var u=s[a];try{(0,o.validateField)(t,u,r[u],e[u])}catch(l){if(l instanceof TypeError){i.push(l.message);continue}throw l}}if(i.length)throw new TypeError("Property ".concat(n," of ").concat(t.type," expected to have the following:\n").concat(i.join("\n")))}return t.shapeOf=e,t},t.assertValueType=w,t.chain=S,t.default=_,t.defineAliasedType=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){var n,r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=a.aliases;o||(a.inherits&&(o=null==(r=k[a.inherits].aliases)?void 0:r.slice()),null!=o||(o=[]),a.aliases=o);var s=t.filter((function(e){return!o.includes(e)}));(n=o).unshift.apply(n,i(s)),_(e,a)}},t.typeIs=y,t.validate=v,t.validateArrayOfType=function(e){return v(g(e))},t.validateOptional=function(e){return{validate:e,optional:!0}},t.validateOptionalType=function(e){return{validate:y(e),optional:!0}},t.validateType=function(e){return v(y(e))};var a=n(5639),o=n(3145),s={};t.VISITOR_KEYS=s;var u={};t.ALIAS_KEYS=u;var l={};t.FLIPPED_ALIAS_KEYS=l;var c={};t.NODE_FIELDS=c;var f={};t.BUILDER_KEYS=f;var d={};t.DEPRECATED_KEYS=d;var p={};function h(e){return Array.isArray(e)?"array":null===e?"null":typeof e}function v(e){return{validate:e}}function y(e){return"string"===typeof e?x(e):x.apply(void 0,i(e))}function m(e){return S(w("array"),b(e))}function g(e){return m(y(e))}function b(e){function t(t,n,r){if(Array.isArray(r))for(var i=0;i<r.length;i++){var a="".concat(n,"[").concat(i,"]"),s=r[i];e(t,a,s),{NODE_ENV:"production",PUBLIC_URL:"/ignitionhacks2023",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.BABEL_TYPES_8_BREAKING&&(0,o.validateChild)(t,a,s)}}return t.each=e,t}function x(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];function i(e,n,i){var s,u=r(t);try{for(u.s();!(s=u.n()).done;){var l=s.value;if((0,a.default)(l,i))return void(0,o.validateChild)(e,n,i)}}catch(c){u.e(c)}finally{u.f()}throw new TypeError("Property ".concat(n," of ").concat(e.type," expected node to be of a type ").concat(JSON.stringify(t)," but instead got ").concat(JSON.stringify(null==i?void 0:i.type)))}return i.oneOfNodeTypes=t,i}function w(e){function t(t,n,r){if(!(h(r)===e))throw new TypeError("Property ".concat(n," expected type of ").concat(e," but got ").concat(h(r)))}return t.type=e,t}function S(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];function i(){var e,n=r(t);try{for(n.s();!(e=n.n()).done;){e.value.apply(void 0,arguments)}}catch(i){n.e(i)}finally{n.f()}}if(i.chainOf=t,t.length>=2&&"type"in t[0]&&"array"===t[0].type&&!("each"in t[1]))throw new Error('An assertValueType("array") validator can only be followed by an assertEach(...) validator.');return i}t.NODE_PARENT_VALIDATIONS=p;var T=["aliases","builder","deprecatedAlias","fields","inherits","visitor","validate"],E=["default","optional","deprecated","validate"],k={};function _(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.inherits&&k[t.inherits]||{},i=t.fields;if(!i&&(i={},n.fields)){var a,o=Object.getOwnPropertyNames(n.fields),v=r(o);try{for(v.s();!(a=v.n()).done;){var y=a.value,m=n.fields[y],g=m.default;if(Array.isArray(g)?g.length>0:g&&"object"===typeof g)throw new Error("field defaults can only be primitives or empty arrays currently");i[y]={default:Array.isArray(g)?[]:g,optional:m.optional,deprecated:m.deprecated,validate:m.validate}}}catch(j){v.e(j)}finally{v.f()}}for(var b=t.visitor||n.visitor||[],x=t.aliases||n.aliases||[],S=t.builder||n.builder||t.visitor||[],_=0,C=Object.keys(t);_<C.length;_++){var P=C[_];if(-1===T.indexOf(P))throw new Error('Unknown type option "'.concat(P,'" on ').concat(e))}t.deprecatedAlias&&(d[t.deprecatedAlias]=e);var O,I=r(b.concat(S));try{for(I.s();!(O=I.n()).done;){var A=O.value;i[A]=i[A]||{}}}catch(j){I.e(j)}finally{I.f()}for(var D=0,R=Object.keys(i);D<R.length;D++){var N=R[D],M=i[N];void 0!==M.default&&-1===S.indexOf(N)&&(M.optional=!0),void 0===M.default?M.default=null:M.validate||null==M.default||(M.validate=w(h(M.default)));for(var F=0,L=Object.keys(M);F<L.length;F++){var B=L[F];if(-1===E.indexOf(B))throw new Error('Unknown field key "'.concat(B,'" on ').concat(e,".").concat(N))}}s[e]=t.visitor=b,f[e]=t.builder=S,c[e]=t.fields=i,u[e]=t.aliases=x,x.forEach((function(t){l[t]=l[t]||[],l[t].push(e)})),t.validate&&(p[e]=t.validate),k[e]=t}},7951:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={react:!0,assertNode:!0,createTypeAnnotationBasedOnTypeof:!0,createUnionTypeAnnotation:!0,createFlowUnionType:!0,createTSUnionType:!0,cloneNode:!0,clone:!0,cloneDeep:!0,cloneDeepWithoutLoc:!0,cloneWithoutLoc:!0,addComment:!0,addComments:!0,inheritInnerComments:!0,inheritLeadingComments:!0,inheritsComments:!0,inheritTrailingComments:!0,removeComments:!0,ensureBlock:!0,toBindingIdentifierName:!0,toBlock:!0,toComputedKey:!0,toExpression:!0,toIdentifier:!0,toKeyAlias:!0,toSequenceExpression:!0,toStatement:!0,valueToNode:!0,appendToMemberExpression:!0,inherits:!0,prependToMemberExpression:!0,removeProperties:!0,removePropertiesDeep:!0,removeTypeDuplicates:!0,getBindingIdentifiers:!0,getOuterBindingIdentifiers:!0,traverse:!0,traverseFast:!0,shallowEqual:!0,is:!0,isBinding:!0,isBlockScoped:!0,isImmutable:!0,isLet:!0,isNode:!0,isNodesEquivalent:!0,isPlaceholderType:!0,isReferenced:!0,isScope:!0,isSpecifierDefault:!0,isType:!0,isValidES3Identifier:!0,isValidIdentifier:!0,isVar:!0,matchesPattern:!0,validate:!0,buildMatchMemberExpression:!0,__internal__deprecationWarning:!0};Object.defineProperty(t,"__internal__deprecationWarning",{enumerable:!0,get:function(){return ve.default}}),Object.defineProperty(t,"addComment",{enumerable:!0,get:function(){return b.default}}),Object.defineProperty(t,"addComments",{enumerable:!0,get:function(){return x.default}}),Object.defineProperty(t,"appendToMemberExpression",{enumerable:!0,get:function(){return j.default}}),Object.defineProperty(t,"assertNode",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"buildMatchMemberExpression",{enumerable:!0,get:function(){return pe.default}}),Object.defineProperty(t,"clone",{enumerable:!0,get:function(){return v.default}}),Object.defineProperty(t,"cloneDeep",{enumerable:!0,get:function(){return y.default}}),Object.defineProperty(t,"cloneDeepWithoutLoc",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(t,"cloneNode",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(t,"cloneWithoutLoc",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(t,"createFlowUnionType",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"createTSUnionType",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(t,"createTypeAnnotationBasedOnTypeof",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"createUnionTypeAnnotation",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"ensureBlock",{enumerable:!0,get:function(){return P.default}}),Object.defineProperty(t,"getBindingIdentifiers",{enumerable:!0,get:function(){return H.default}}),Object.defineProperty(t,"getOuterBindingIdentifiers",{enumerable:!0,get:function(){return q.default}}),Object.defineProperty(t,"inheritInnerComments",{enumerable:!0,get:function(){return w.default}}),Object.defineProperty(t,"inheritLeadingComments",{enumerable:!0,get:function(){return S.default}}),Object.defineProperty(t,"inheritTrailingComments",{enumerable:!0,get:function(){return E.default}}),Object.defineProperty(t,"inherits",{enumerable:!0,get:function(){return z.default}}),Object.defineProperty(t,"inheritsComments",{enumerable:!0,get:function(){return T.default}}),Object.defineProperty(t,"is",{enumerable:!0,get:function(){return J.default}}),Object.defineProperty(t,"isBinding",{enumerable:!0,get:function(){return $.default}}),Object.defineProperty(t,"isBlockScoped",{enumerable:!0,get:function(){return Q.default}}),Object.defineProperty(t,"isImmutable",{enumerable:!0,get:function(){return Z.default}}),Object.defineProperty(t,"isLet",{enumerable:!0,get:function(){return ee.default}}),Object.defineProperty(t,"isNode",{enumerable:!0,get:function(){return te.default}}),Object.defineProperty(t,"isNodesEquivalent",{enumerable:!0,get:function(){return ne.default}}),Object.defineProperty(t,"isPlaceholderType",{enumerable:!0,get:function(){return re.default}}),Object.defineProperty(t,"isReferenced",{enumerable:!0,get:function(){return ie.default}}),Object.defineProperty(t,"isScope",{enumerable:!0,get:function(){return ae.default}}),Object.defineProperty(t,"isSpecifierDefault",{enumerable:!0,get:function(){return oe.default}}),Object.defineProperty(t,"isType",{enumerable:!0,get:function(){return se.default}}),Object.defineProperty(t,"isValidES3Identifier",{enumerable:!0,get:function(){return ue.default}}),Object.defineProperty(t,"isValidIdentifier",{enumerable:!0,get:function(){return le.default}}),Object.defineProperty(t,"isVar",{enumerable:!0,get:function(){return ce.default}}),Object.defineProperty(t,"matchesPattern",{enumerable:!0,get:function(){return fe.default}}),Object.defineProperty(t,"prependToMemberExpression",{enumerable:!0,get:function(){return W.default}}),t.react=void 0,Object.defineProperty(t,"removeComments",{enumerable:!0,get:function(){return k.default}}),Object.defineProperty(t,"removeProperties",{enumerable:!0,get:function(){return V.default}}),Object.defineProperty(t,"removePropertiesDeep",{enumerable:!0,get:function(){return U.default}}),Object.defineProperty(t,"removeTypeDuplicates",{enumerable:!0,get:function(){return K.default}}),Object.defineProperty(t,"shallowEqual",{enumerable:!0,get:function(){return Y.default}}),Object.defineProperty(t,"toBindingIdentifierName",{enumerable:!0,get:function(){return O.default}}),Object.defineProperty(t,"toBlock",{enumerable:!0,get:function(){return I.default}}),Object.defineProperty(t,"toComputedKey",{enumerable:!0,get:function(){return A.default}}),Object.defineProperty(t,"toExpression",{enumerable:!0,get:function(){return D.default}}),Object.defineProperty(t,"toIdentifier",{enumerable:!0,get:function(){return R.default}}),Object.defineProperty(t,"toKeyAlias",{enumerable:!0,get:function(){return N.default}}),Object.defineProperty(t,"toSequenceExpression",{enumerable:!0,get:function(){return M.default}}),Object.defineProperty(t,"toStatement",{enumerable:!0,get:function(){return F.default}}),Object.defineProperty(t,"traverse",{enumerable:!0,get:function(){return G.default}}),Object.defineProperty(t,"traverseFast",{enumerable:!0,get:function(){return X.default}}),Object.defineProperty(t,"validate",{enumerable:!0,get:function(){return de.default}}),Object.defineProperty(t,"valueToNode",{enumerable:!0,get:function(){return L.default}});var i=n(6335),a=n(8944),o=n(702),s=n(817),u=n(9274);Object.keys(u).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===u[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return u[e]}}))}));var l=n(4016),c=n(6915),f=n(1003),d=n(3977);Object.keys(d).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===d[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return d[e]}}))}));var p=n(8648);Object.keys(p).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===p[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return p[e]}}))}));var h=n(4639),v=n(4041),y=n(6806),m=n(2380),g=n(7627),b=n(8133),x=n(7373),w=n(4264),S=n(150),T=n(1164),E=n(4675),k=n(6770),_=n(9631);Object.keys(_).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===_[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return _[e]}}))}));var C=n(5482);Object.keys(C).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===C[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return C[e]}}))}));var P=n(5919),O=n(7312),I=n(8507),A=n(4660),D=n(5979),R=n(8604),N=n(4834),M=n(4621),F=n(5559),L=n(9454),B=n(2455);Object.keys(B).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===B[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return B[e]}}))}));var j=n(6510),z=n(8691),W=n(5699),V=n(7735),U=n(8800),K=n(3570),H=n(2975),q=n(5061),G=n(5680);Object.keys(G).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===G[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return G[e]}}))}));var X=n(8101),Y=n(3157),J=n(5639),$=n(127),Q=n(4412),Z=n(3819),ee=n(3899),te=n(8127),ne=n(1058),re=n(4053),ie=n(4942),ae=n(2364),oe=n(7266),se=n(3902),ue=n(8924),le=n(3283),ce=n(7258),fe=n(4075),de=n(3145),pe=n(2187),he=n(7308);Object.keys(he).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===he[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return he[e]}}))}));var ve=n(3046),ye={isReactComponent:i.default,isCompatTag:a.default,buildChildren:o.default};t.react=ye},6510:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return e.object=(0,r.memberExpression)(e.object,e.property,e.computed),e.property=t,e.computed=!!n,e};var r=n(3977)},3570:function(e,t,n){"use strict";var r=n(7424).default,i=n(4704).default,a=n(861).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t){for(var n=Array.from(t),u=new Map,l=new Map,c=new Set,f=[],d=0;d<n.length;d++){var p=n[d];if(p&&!(f.indexOf(p)>=0)){if((0,o.isAnyTypeAnnotation)(p))return[p];if((0,o.isFlowBaseAnnotation)(p))l.set(p.type,p);else if((0,o.isUnionTypeAnnotation)(p))c.has(p.types)||(n.push.apply(n,a(p.types)),c.add(p.types));else if((0,o.isGenericTypeAnnotation)(p)){var h=s(p.id);if(u.has(h)){var v,y=u.get(h);if(y.typeParameters){if(p.typeParameters)(v=y.typeParameters.params).push.apply(v,a(p.typeParameters.params)),y.typeParameters.params=e(y.typeParameters.params)}else y=p.typeParameters}else u.set(h,p)}else f.push(p)}}var m,g=i(l);try{for(g.s();!(m=g.n()).done;){var b=r(m.value,2)[1];f.push(b)}}catch(T){g.e(T)}finally{g.f()}var x,w=i(u);try{for(w.s();!(x=w.n()).done;){var S=r(x.value,2)[1];f.push(S)}}catch(T){w.e(T)}finally{w.f()}return f};var o=n(7308);function s(e){return(0,o.isIdentifier)(e)?e.name:"".concat(e.id.name,".").concat(s(e.qualification))}},8691:function(e,t,n){"use strict";var r=n(4704).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(!e||!t)return e;var n,o=r(i.INHERIT_KEYS.optional);try{for(o.s();!(n=o.n()).done;){var s=n.value;null==e[s]&&(e[s]=t[s])}}catch(h){o.e(h)}finally{o.f()}for(var u=0,l=Object.keys(t);u<l.length;u++){var c=l[u];"_"===c[0]&&"__clone"!==c&&(e[c]=t[c])}var f,d=r(i.INHERIT_KEYS.force);try{for(d.s();!(f=d.n()).done;){var p=f.value;e[p]=t[p]}}catch(h){d.e(h)}finally{d.f()}return(0,a.default)(e,t),e};var i=n(5482),a=n(1164)},5699:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if((0,i.isSuper)(e.object))throw new Error("Cannot prepend node to super property access (`super.foo`).");return e.object=(0,r.memberExpression)(t,e.object),e};var r=n(3977),i=n(7951)},7735:function(e,t,n){"use strict";var r=n(4704).default,i=n(861).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=n.preserveComments?o:s,a=r(i);try{for(a.s();!(t=a.n()).done;){var u=t.value;null!=e[u]&&(e[u]=void 0)}}catch(v){a.e(v)}finally{a.f()}for(var l=0,c=Object.keys(e);l<c.length;l++){var f=c[l];"_"===f[0]&&null!=e[f]&&(e[f]=void 0)}var d,p=Object.getOwnPropertySymbols(e),h=r(p);try{for(h.s();!(d=h.n()).done;){e[d.value]=null}}catch(v){h.e(v)}finally{h.f()}};var a=n(5482),o=["tokens","start","end","loc","raw","rawValue"],s=[].concat(i(a.COMMENT_KEYS),["comments"],o)},8800:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,r.default)(e,i.default,t),e};var r=n(8101),i=n(7735)},2336:function(e,t,n){"use strict";var r=n(7424).default,i=n(4704).default,a=n(861).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t){for(var n=Array.from(t),u=new Map,l=new Map,c=new Set,f=[],d=0;d<n.length;d++){var p=n[d];if(p&&!(f.indexOf(p)>=0)){if((0,o.isTSAnyKeyword)(p))return[p];if((0,o.isTSBaseType)(p))l.set(p.type,p);else if((0,o.isTSUnionType)(p))c.has(p.types)||(n.push.apply(n,a(p.types)),c.add(p.types));else if((0,o.isTSTypeReference)(p)&&p.typeParameters){var h=s(p.typeName);if(u.has(h)){var v,y=u.get(h);if(y.typeParameters){if(p.typeParameters)(v=y.typeParameters.params).push.apply(v,a(p.typeParameters.params)),y.typeParameters.params=e(y.typeParameters.params)}else y=p.typeParameters}else u.set(h,p)}else f.push(p)}}var m,g=i(l);try{for(g.s();!(m=g.n()).done;){var b=r(m.value,2)[1];f.push(b)}}catch(T){g.e(T)}finally{g.f()}var x,w=i(u);try{for(w.s();!(x=w.n()).done;){var S=r(x.value,2)[1];f.push(S)}}catch(T){w.e(T)}finally{w.f()}return f};var o=n(7308);function s(e){return(0,o.isIdentifier)(e)?e.name:"".concat(e.right.name,".").concat(s(e.left))}},2975:function(e,t,n){"use strict";var r=n(861).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var i=n(7308);function a(e,t,n){for(var o=[].concat(e),s=Object.create(null);o.length;){var u=o.shift();if(u){var l=a.keys[u.type];if((0,i.isIdentifier)(u))t?(s[u.name]=s[u.name]||[]).push(u):s[u.name]=u;else if(!(0,i.isExportDeclaration)(u)||(0,i.isExportAllDeclaration)(u)){if(n){if((0,i.isFunctionDeclaration)(u)){o.push(u.id);continue}if((0,i.isFunctionExpression)(u))continue}if(l)for(var c=0;c<l.length;c++){var f=u[l[c]];f&&(Array.isArray(f)?o.push.apply(o,r(f)):o.push(f))}}else(0,i.isDeclaration)(u.declaration)&&o.push(u.declaration)}}return s}a.keys={DeclareClass:["id"],DeclareFunction:["id"],DeclareModule:["id"],DeclareVariable:["id"],DeclareInterface:["id"],DeclareTypeAlias:["id"],DeclareOpaqueType:["id"],InterfaceDeclaration:["id"],TypeAlias:["id"],OpaqueType:["id"],CatchClause:["param"],LabeledStatement:["label"],UnaryExpression:["argument"],AssignmentExpression:["left"],ImportSpecifier:["local"],ImportNamespaceSpecifier:["local"],ImportDefaultSpecifier:["local"],ImportDeclaration:["specifiers"],ExportSpecifier:["exported"],ExportNamespaceSpecifier:["exported"],ExportDefaultSpecifier:["exported"],FunctionDeclaration:["id","params"],FunctionExpression:["id","params"],ArrowFunctionExpression:["params"],ObjectMethod:["params"],ClassMethod:["params"],ClassPrivateMethod:["params"],ForInStatement:["left"],ForOfStatement:["left"],ClassDeclaration:["id"],ClassExpression:["id"],RestElement:["argument"],UpdateExpression:["argument"],ObjectProperty:["value"],AssignmentPattern:["left"],ArrayPattern:["elements"],ObjectPattern:["properties"],VariableDeclaration:["declarations"],VariableDeclarator:["id"]}},5061:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(2975),i=function(e,t){return(0,r.default)(e,t,!0)};t.default=i},5680:function(e,t,n){"use strict";var r=n(4704).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){"function"===typeof t&&(t={enter:t});var r=t,i=r.enter,o=r.exit;a(e,i,o,n,[])};var i=n(2455);function a(e,t,n,o,s){var u=i.VISITOR_KEYS[e.type];if(u){t&&t(e,s,o);var l,c=r(u);try{for(c.s();!(l=c.n()).done;){var f=l.value,d=e[f];if(Array.isArray(d))for(var p=0;p<d.length;p++){var h=d[p];h&&(s.push({node:e,key:f,index:p}),a(h,t,n,o,s),s.pop())}else d&&(s.push({node:e,key:f}),a(d,t,n,o,s),s.pop())}}catch(v){c.e(v)}finally{c.f()}n&&n(e,s,o)}}},8101:function(e,t,n){"use strict";var r=n(4704).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t,n,a){if(!t)return;var o=i.VISITOR_KEYS[t.type];if(!o)return;n(t,a=a||{});var s,u=r(o);try{for(u.s();!(s=u.n()).done;){var l=t[s.value];if(Array.isArray(l)){var c,f=r(l);try{for(f.s();!(c=f.n()).done;){var d=c.value;e(d,n,a)}}catch(p){f.e(p)}finally{f.f()}}else e(l,n,a)}}catch(p){u.e(p)}finally{u.f()}};var i=n(2455)},3046:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(n.has(e))return;n.add(e);var i=function(e,t){var n,r=Error.stackTraceLimit,i=Error.prepareStackTrace;if(Error.stackTraceLimit=1+e+t,Error.prepareStackTrace=function(e,t){n=t},(new Error).stack,Error.stackTraceLimit=r,Error.prepareStackTrace=i,!n)return{internal:!1,trace:""};var a=n.slice(1+e,1+e+t);return{internal:/[\\/]@babel[\\/]/.test(a[1].getFileName()),trace:a.map((function(e){return"    at ".concat(e)})).join("\n")}}(1,2),a=i.internal,o=i.trace;if(a)return;console.warn("".concat(r,"`").concat(e,"` has been deprecated, please migrate to `").concat(t,"`\n").concat(o))};var n=new Set},7777:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){t&&n&&(t[e]=Array.from(new Set([].concat(t[e],n[e]).filter(Boolean))))}},7966:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){for(var n=e.value.split(/\r\n|\n|\r/),a=0,o=0;o<n.length;o++)n[o].match(/[^ \t]/)&&(a=o);for(var s="",u=0;u<n.length;u++){var l=n[u],c=0===u,f=u===n.length-1,d=u===a,p=l.replace(/\t/g," ");c||(p=p.replace(/^[ ]+/,"")),f||(p=p.replace(/[ ]+$/,"")),p&&(d||(p+=" "),s+=p)}s&&t.push((0,i.inherits)((0,r.stringLiteral)(s),e))};var r=n(3977),i=n(7951)},3157:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){for(var n=Object.keys(t),r=0,i=n;r<i.length;r++){var a=i[r];if(e[a]!==t[a])return!1}return!0}},2187:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=e.split(".");return function(e){return(0,r.default)(e,n,t)}};var r=n(4075)},7308:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isAccessor=function(e,t){if(!e)return!1;if("ClassAccessorProperty"!==e.type)return!1;return null==t||(0,r.default)(e,t)},t.isAnyTypeAnnotation=function(e,t){return!!e&&("AnyTypeAnnotation"===e.type&&(null==t||(0,r.default)(e,t)))},t.isArgumentPlaceholder=function(e,t){return!!e&&("ArgumentPlaceholder"===e.type&&(null==t||(0,r.default)(e,t)))},t.isArrayExpression=function(e,t){return!!e&&("ArrayExpression"===e.type&&(null==t||(0,r.default)(e,t)))},t.isArrayPattern=function(e,t){return!!e&&("ArrayPattern"===e.type&&(null==t||(0,r.default)(e,t)))},t.isArrayTypeAnnotation=function(e,t){return!!e&&("ArrayTypeAnnotation"===e.type&&(null==t||(0,r.default)(e,t)))},t.isArrowFunctionExpression=function(e,t){return!!e&&("ArrowFunctionExpression"===e.type&&(null==t||(0,r.default)(e,t)))},t.isAssignmentExpression=function(e,t){return!!e&&("AssignmentExpression"===e.type&&(null==t||(0,r.default)(e,t)))},t.isAssignmentPattern=function(e,t){return!!e&&("AssignmentPattern"===e.type&&(null==t||(0,r.default)(e,t)))},t.isAwaitExpression=function(e,t){return!!e&&("AwaitExpression"===e.type&&(null==t||(0,r.default)(e,t)))},t.isBigIntLiteral=function(e,t){return!!e&&("BigIntLiteral"===e.type&&(null==t||(0,r.default)(e,t)))},t.isBinary=function(e,t){if(!e)return!1;switch(e.type){case"BinaryExpression":case"LogicalExpression":break;default:return!1}return null==t||(0,r.default)(e,t)},t.isBinaryExpression=function(e,t){return!!e&&("BinaryExpression"===e.type&&(null==t||(0,r.default)(e,t)))},t.isBindExpression=function(e,t){return!!e&&("BindExpression"===e.type&&(null==t||(0,r.default)(e,t)))},t.isBlock=function(e,t){if(!e)return!1;switch(e.type){case"BlockStatement":case"Program":case"TSModuleBlock":break;case"Placeholder":if("BlockStatement"===e.expectedNode)break;default:return!1}return null==t||(0,r.default)(e,t)},t.isBlockParent=function(e,t){if(!e)return!1;switch(e.type){case"BlockStatement":case"CatchClause":case"DoWhileStatement":case"ForInStatement":case"ForStatement":case"FunctionDeclaration":case"FunctionExpression":case"Program":case"ObjectMethod":case"SwitchStatement":case"WhileStatement":case"ArrowFunctionExpression":case"ForOfStatement":case"ClassMethod":case"ClassPrivateMethod":case"StaticBlock":case"TSModuleBlock":break;case"Placeholder":if("BlockStatement"===e.expectedNode)break;default:return!1}return null==t||(0,r.default)(e,t)},t.isBlockStatement=function(e,t){return!!e&&("BlockStatement"===e.type&&(null==t||(0,r.default)(e,t)))},t.isBooleanLiteral=function(e,t){return!!e&&("BooleanLiteral"===e.type&&(null==t||(0,r.default)(e,t)))},t.isBooleanLiteralTypeAnnotation=function(e,t){return!!e&&("BooleanLiteralTypeAnnotation"===e.type&&(null==t||(0,r.default)(e,t)))},t.isBooleanTypeAnnotation=function(e,t){return!!e&&("BooleanTypeAnnotation"===e.type&&(null==t||(0,r.default)(e,t)))},t.isBreakStatement=function(e,t){return!!e&&("BreakStatement"===e.type&&(null==t||(0,r.default)(e,t)))},t.isCallExpression=function(e,t){return!!e&&("CallExpression"===e.type&&(null==t||(0,r.default)(e,t)))},t.isCatchClause=function(e,t){return!!e&&("CatchClause"===e.type&&(null==t||(0,r.default)(e,t)))},t.isClass=function(e,t){if(!e)return!1;switch(e.type){case"ClassExpression":case"ClassDeclaration":break;default:return!1}return null==t||(0,r.default)(e,t)},t.isClassAccessorProperty=function(e,t){return!!e&&("ClassAccessorProperty"===e.type&&(null==t||(0,r.default)(e,t)))},t.isClassBody=function(e,t){return!!e&&("ClassBody"===e.type&&(null==t||(0,r.default)(e,t)))},t.isClassDeclaration=function(e,t){return!!e&&("ClassDeclaration"===e.type&&(null==t||(0,r.default)(e,t)))},t.isClassExpression=function(e,t){return!!e&&("ClassExpression"===e.type&&(null==t||(0,r.default)(e,t)))},t.isClassImplements=function(e,t){return!!e&&("ClassImplements"===e.type&&(null==t||(0,r.default)(e,t)))},t.isClassMethod=function(e,t){return!!e&&("ClassMethod"===e.type&&(null==t||(0,r.default)(e,t)))},t.isClassPrivateMethod=function(e,t){return!!e&&("ClassPrivateMethod"===e.type&&(null==t||(0,r.default)(e,t)))},t.isClassPrivateProperty=function(e,t){return!!e&&("ClassPrivateProperty"===e.type&&(null==t||(0,r.default)(e,t)))},t.isClassProperty=function(e,t){return!!e&&("ClassProperty"===e.type&&(null==t||(0,r.default)(e,t)))},t.isCompletionStatement=function(e,t){if(!e)return!1;switch(e.type){case"BreakStatement":case"ContinueStatement":case"ReturnStatement":case"ThrowStatement":break;default:return!1}return null==t||(0,r.default)(e,t)},t.isConditional=function(e,t){if(!e)return!1;switch(e.type){case"ConditionalExpression":case"IfStatement":break;default:return!1}return null==t||(0,r.default)(e,t)},t.isConditionalExpression=function(e,t){return!!e&&("ConditionalExpression"===e.type&&(null==t||(0,r.default)(e,t)))},t.isContinueStatement=function(e,t){return!!e&&("ContinueStatement"===e.type&&(null==t||(0,r.default)(e,t)))},t.isDebuggerStatement=function(e,t){return!!e&&("DebuggerStatement"===e.type&&(null==t||(0,r.default)(e,t)))},t.isDecimalLiteral=function(e,t){return!!e&&("DecimalLiteral"===e.type&&(null==t||(0,r.default)(e,t)))},t.isDeclaration=function(e,t){if(!e)return!1;switch(e.type){case"FunctionDeclaration":case"VariableDeclaration":case"ClassDeclaration":case"ExportAllDeclaration":case"ExportDefaultDeclaration":case"ExportNamedDeclaration":case"ImportDeclaration":case"DeclareClass":case"DeclareFunction":case"DeclareInterface":case"DeclareModule":case"DeclareModuleExports":case"DeclareTypeAlias":case"DeclareOpaqueType":case"DeclareVariable":case"DeclareExportDeclaration":case"DeclareExportAllDeclaration":case"InterfaceDeclaration":case"OpaqueType":case"TypeAlias":case"EnumDeclaration":case"TSDeclareFunction":case"TSInterfaceDeclaration":case"TSTypeAliasDeclaration":case"TSEnumDeclaration":case"TSModuleDeclaration":break;case"Placeholder":if("Declaration"===e.expectedNode)break;default:return!1}return null==t||(0,r.default)(e,t)},t.isDeclareClass=function(e,t){return!!e&&("DeclareClass"===e.type&&(null==t||(0,r.default)(e,t)))},t.isDeclareExportAllDeclaration=function(e,t){return!!e&&("DeclareExportAllDeclaration"===e.type&&(null==t||(0,r.default)(e,t)))},t.isDeclareExportDeclaration=function(e,t){return!!e&&("DeclareExportDeclaration"===e.type&&(null==t||(0,r.default)(e,t)))},t.isDeclareFunction=function(e,t){return!!e&&("DeclareFunction"===e.type&&(null==t||(0,r.default)(e,t)))},t.isDeclareInterface=function(e,t){return!!e&&("DeclareInterface"===e.type&&(null==t||(0,r.default)(e,t)))},t.isDeclareModule=function(e,t){return!!e&&("DeclareModule"===e.type&&(null==t||(0,r.default)(e,t)))},t.isDeclareModuleExports=function(e,t){return!!e&&("DeclareModuleExports"===e.type&&(null==t||(0,r.default)(e,t)))},t.isDeclareOpaqueType=function(e,t){return!!e&&("DeclareOpaqueType"===e.type&&(null==t||(0,r.default)(e,t)))},t.isDeclareTypeAlias=function(e,t){return!!e&&("DeclareTypeAlias"===e.type&&(null==t||(0,r.default)(e,t)))},t.isDeclareVariable=function(e,t){return!!e&&("DeclareVariable"===e.type&&(null==t||(0,r.default)(e,t)))},t.isDeclaredPredicate=function(e,t){return!!e&&("DeclaredPredicate"===e.type&&(null==t||(0,r.default)(e,t)))},t.isDecorator=function(e,t){return!!e&&("Decorator"===e.type&&(null==t||(0,r.default)(e,t)))},t.isDirective=function(e,t){return!!e&&("Directive"===e.type&&(null==t||(0,r.default)(e,t)))},t.isDirectiveLiteral=function(e,t){return!!e&&("DirectiveLiteral"===e.type&&(null==t||(0,r.default)(e,t)))},t.isDoExpression=function(e,t){return!!e&&("DoExpression"===e.type&&(null==t||(0,r.default)(e,t)))},t.isDoWhileStatement=function(e,t){return!!e&&("DoWhileStatement"===e.type&&(null==t||(0,r.default)(e,t)))},t.isEmptyStatement=function(e,t){return!!e&&("EmptyStatement"===e.type&&(null==t||(0,r.default)(e,t)))},t.isEmptyTypeAnnotation=function(e,t){return!!e&&("EmptyTypeAnnotation"===e.type&&(null==t||(0,r.default)(e,t)))},t.isEnumBody=function(e,t){if(!e)return!1;switch(e.type){case"EnumBooleanBody":case"EnumNumberBody":case"EnumStringBody":case"EnumSymbolBody":break;default:return!1}return null==t||(0,r.default)(e,t)},t.isEnumBooleanBody=function(e,t){return!!e&&("EnumBooleanBody"===e.type&&(null==t||(0,r.default)(e,t)))},t.isEnumBooleanMember=function(e,t){return!!e&&("EnumBooleanMember"===e.type&&(null==t||(0,r.default)(e,t)))},t.isEnumDeclaration=function(e,t){return!!e&&("EnumDeclaration"===e.type&&(null==t||(0,r.default)(e,t)))},t.isEnumDefaultedMember=function(e,t){return!!e&&("EnumDefaultedMember"===e.type&&(null==t||(0,r.default)(e,t)))},t.isEnumMember=function(e,t){if(!e)return!1;switch(e.type){case"EnumBooleanMember":case"EnumNumberMember":case"EnumStringMember":case"EnumDefaultedMember":break;default:return!1}return null==t||(0,r.default)(e,t)},t.isEnumNumberBody=function(e,t){return!!e&&("EnumNumberBody"===e.type&&(null==t||(0,r.default)(e,t)))},t.isEnumNumberMember=function(e,t){return!!e&&("EnumNumberMember"===e.type&&(null==t||(0,r.default)(e,t)))},t.isEnumStringBody=function(e,t){return!!e&&("EnumStringBody"===e.type&&(null==t||(0,r.default)(e,t)))},t.isEnumStringMember=function(e,t){return!!e&&("EnumStringMember"===e.type&&(null==t||(0,r.default)(e,t)))},t.isEnumSymbolBody=function(e,t){return!!e&&("EnumSymbolBody"===e.type&&(null==t||(0,r.default)(e,t)))},t.isExistsTypeAnnotation=function(e,t){return!!e&&("ExistsTypeAnnotation"===e.type&&(null==t||(0,r.default)(e,t)))},t.isExportAllDeclaration=function(e,t){return!!e&&("ExportAllDeclaration"===e.type&&(null==t||(0,r.default)(e,t)))},t.isExportDeclaration=function(e,t){if(!e)return!1;switch(e.type){case"ExportAllDeclaration":case"ExportDefaultDeclaration":case"ExportNamedDeclaration":break;default:return!1}return null==t||(0,r.default)(e,t)},t.isExportDefaultDeclaration=function(e,t){return!!e&&("ExportDefaultDeclaration"===e.type&&(null==t||(0,r.default)(e,t)))},t.isExportDefaultSpecifier=function(e,t){return!!e&&("ExportDefaultSpecifier"===e.type&&(null==t||(0,r.default)(e,t)))},t.isExportNamedDeclaration=function(e,t){return!!e&&("ExportNamedDeclaration"===e.type&&(null==t||(0,r.default)(e,t)))},t.isExportNamespaceSpecifier=function(e,t){return!!e&&("ExportNamespaceSpecifier"===e.type&&(null==t||(0,r.default)(e,t)))},t.isExportSpecifier=function(e,t){return!!e&&("ExportSpecifier"===e.type&&(null==t||(0,r.default)(e,t)))},t.isExpression=function(e,t){if(!e)return!1;switch(e.type){case"ArrayExpression":case"AssignmentExpression":case"BinaryExpression":case"CallExpression":case"ConditionalExpression":case"FunctionExpression":case"Identifier":case"StringLiteral":case"NumericLiteral":case"NullLiteral":case"BooleanLiteral":case"RegExpLiteral":case"LogicalExpression":case"MemberExpression":case"NewExpression":case"ObjectExpression":case"SequenceExpression":case"ParenthesizedExpression":case"ThisExpression":case"UnaryExpression":case"UpdateExpression":case"ArrowFunctionExpression":case"ClassExpression":case"MetaProperty":case"Super":case"TaggedTemplateExpression":case"TemplateLiteral":case"YieldExpression":case"AwaitExpression":case"Import":case"BigIntLiteral":case"OptionalMemberExpression":case"OptionalCallExpression":case"TypeCastExpression":case"JSXElement":case"JSXFragment":case"BindExpression":case"DoExpression":case"RecordExpression":case"TupleExpression":case"DecimalLiteral":case"ModuleExpression":case"TopicReference":case"PipelineTopicExpression":case"PipelineBareFunction":case"PipelinePrimaryTopicReference":case"TSInstantiationExpression":case"TSAsExpression":case"TSSatisfiesExpression":case"TSTypeAssertion":case"TSNonNullExpression":break;case"Placeholder":switch(e.expectedNode){case"Expression":case"Identifier":case"StringLiteral":break;default:return!1}break;default:return!1}return null==t||(0,r.default)(e,t)},t.isExpressionStatement=function(e,t){return!!e&&("ExpressionStatement"===e.type&&(null==t||(0,r.default)(e,t)))},t.isExpressionWrapper=function(e,t){if(!e)return!1;switch(e.type){case"ExpressionStatement":case"ParenthesizedExpression":case"TypeCastExpression":break;default:return!1}return null==t||(0,r.default)(e,t)},t.isFile=function(e,t){return!!e&&("File"===e.type&&(null==t||(0,r.default)(e,t)))},t.isFlow=function(e,t){if(!e)return!1;switch(e.type){case"AnyTypeAnnotation":case"ArrayTypeAnnotation":case"BooleanTypeAnnotation":case"BooleanLiteralTypeAnnotation":case"NullLiteralTypeAnnotation":case"ClassImplements":case"DeclareClass":case"DeclareFunction":case"DeclareInterface":case"DeclareModule":case"DeclareModuleExports":case"DeclareTypeAlias":case"DeclareOpaqueType":case"DeclareVariable":case"DeclareExportDeclaration":case"DeclareExportAllDeclaration":case"DeclaredPredicate":case"ExistsTypeAnnotation":case"FunctionTypeAnnotation":case"FunctionTypeParam":case"GenericTypeAnnotation":case"InferredPredicate":case"InterfaceExtends":case"InterfaceDeclaration":case"InterfaceTypeAnnotation":case"IntersectionTypeAnnotation":case"MixedTypeAnnotation":case"EmptyTypeAnnotation":case"NullableTypeAnnotation":case"NumberLiteralTypeAnnotation":case"NumberTypeAnnotation":case"ObjectTypeAnnotation":case"ObjectTypeInternalSlot":case"ObjectTypeCallProperty":case"ObjectTypeIndexer":case"ObjectTypeProperty":case"ObjectTypeSpreadProperty":case"OpaqueType":case"QualifiedTypeIdentifier":case"StringLiteralTypeAnnotation":case"StringTypeAnnotation":case"SymbolTypeAnnotation":case"ThisTypeAnnotation":case"TupleTypeAnnotation":case"TypeofTypeAnnotation":case"TypeAlias":case"TypeAnnotation":case"TypeCastExpression":case"TypeParameter":case"TypeParameterDeclaration":case"TypeParameterInstantiation":case"UnionTypeAnnotation":case"Variance":case"VoidTypeAnnotation":case"EnumDeclaration":case"EnumBooleanBody":case"EnumNumberBody":case"EnumStringBody":case"EnumSymbolBody":case"EnumBooleanMember":case"EnumNumberMember":case"EnumStringMember":case"EnumDefaultedMember":case"IndexedAccessType":case"OptionalIndexedAccessType":break;default:return!1}return null==t||(0,r.default)(e,t)},t.isFlowBaseAnnotation=function(e,t){if(!e)return!1;switch(e.type){case"AnyTypeAnnotation":case"BooleanTypeAnnotation":case"NullLiteralTypeAnnotation":case"MixedTypeAnnotation":case"EmptyTypeAnnotation":case"NumberTypeAnnotation":case"StringTypeAnnotation":case"SymbolTypeAnnotation":case"ThisTypeAnnotation":case"VoidTypeAnnotation":break;default:return!1}return null==t||(0,r.default)(e,t)},t.isFlowDeclaration=function(e,t){if(!e)return!1;switch(e.type){case"DeclareClass":case"DeclareFunction":case"DeclareInterface":case"DeclareModule":case"DeclareModuleExports":case"DeclareTypeAlias":case"DeclareOpaqueType":case"DeclareVariable":case"DeclareExportDeclaration":case"DeclareExportAllDeclaration":case"InterfaceDeclaration":case"OpaqueType":case"TypeAlias":break;default:return!1}return null==t||(0,r.default)(e,t)},t.isFlowPredicate=function(e,t){if(!e)return!1;switch(e.type){case"DeclaredPredicate":case"InferredPredicate":break;default:return!1}return null==t||(0,r.default)(e,t)},t.isFlowType=function(e,t){if(!e)return!1;switch(e.type){case"AnyTypeAnnotation":case"ArrayTypeAnnotation":case"BooleanTypeAnnotation":case"BooleanLiteralTypeAnnotation":case"NullLiteralTypeAnnotation":case"ExistsTypeAnnotation":case"FunctionTypeAnnotation":case"GenericTypeAnnotation":case"InterfaceTypeAnnotation":case"IntersectionTypeAnnotation":case"MixedTypeAnnotation":case"EmptyTypeAnnotation":case"NullableTypeAnnotation":case"NumberLiteralTypeAnnotation":case"NumberTypeAnnotation":case"ObjectTypeAnnotation":case"StringLiteralTypeAnnotation":case"StringTypeAnnotation":case"SymbolTypeAnnotation":case"ThisTypeAnnotation":case"TupleTypeAnnotation":case"TypeofTypeAnnotation":case"UnionTypeAnnotation":case"VoidTypeAnnotation":case"IndexedAccessType":case"OptionalIndexedAccessType":break;default:return!1}return null==t||(0,r.default)(e,t)},t.isFor=function(e,t){if(!e)return!1;switch(e.type){case"ForInStatement":case"ForStatement":case"ForOfStatement":break;default:return!1}return null==t||(0,r.default)(e,t)},t.isForInStatement=function(e,t){return!!e&&("ForInStatement"===e.type&&(null==t||(0,r.default)(e,t)))},t.isForOfStatement=function(e,t){return!!e&&("ForOfStatement"===e.type&&(null==t||(0,r.default)(e,t)))},t.isForStatement=function(e,t){return!!e&&("ForStatement"===e.type&&(null==t||(0,r.default)(e,t)))},t.isForXStatement=function(e,t){if(!e)return!1;switch(e.type){case"ForInStatement":case"ForOfStatement":break;default:return!1}return null==t||(0,r.default)(e,t)},t.isFunction=function(e,t){if(!e)return!1;switch(e.type){case"FunctionDeclaration":case"FunctionExpression":case"ObjectMethod":case"ArrowFunctionExpression":case"ClassMethod":case"ClassPrivateMethod":break;default:return!1}return null==t||(0,r.default)(e,t)},t.isFunctionDeclaration=function(e,t){return!!e&&("FunctionDeclaration"===e.type&&(null==t||(0,r.default)(e,t)))},t.isFunctionExpression=function(e,t){return!!e&&("FunctionExpression"===e.type&&(null==t||(0,r.default)(e,t)))},t.isFunctionParent=function(e,t){if(!e)return!1;switch(e.type){case"FunctionDeclaration":case"FunctionExpression":case"ObjectMethod":case"ArrowFunctionExpression":case"ClassMethod":case"ClassPrivateMethod":case"StaticBlock":case"TSModuleBlock":break;default:return!1}return null==t||(0,r.default)(e,t)},t.isFunctionTypeAnnotation=function(e,t){return!!e&&("FunctionTypeAnnotation"===e.type&&(null==t||(0,r.default)(e,t)))},t.isFunctionTypeParam=function(e,t){return!!e&&("FunctionTypeParam"===e.type&&(null==t||(0,r.default)(e,t)))},t.isGenericTypeAnnotation=function(e,t){return!!e&&("GenericTypeAnnotation"===e.type&&(null==t||(0,r.default)(e,t)))},t.isIdentifier=function(e,t){return!!e&&("Identifier"===e.type&&(null==t||(0,r.default)(e,t)))},t.isIfStatement=function(e,t){return!!e&&("IfStatement"===e.type&&(null==t||(0,r.default)(e,t)))},t.isImmutable=function(e,t){if(!e)return!1;switch(e.type){case"StringLiteral":case"NumericLiteral":case"NullLiteral":case"BooleanLiteral":case"BigIntLiteral":case"JSXAttribute":case"JSXClosingElement":case"JSXElement":case"JSXExpressionContainer":case"JSXSpreadChild":case"JSXOpeningElement":case"JSXText":case"JSXFragment":case"JSXOpeningFragment":case"JSXClosingFragment":case"DecimalLiteral":break;case"Placeholder":if("StringLiteral"===e.expectedNode)break;default:return!1}return null==t||(0,r.default)(e,t)},t.isImport=function(e,t){return!!e&&("Import"===e.type&&(null==t||(0,r.default)(e,t)))},t.isImportAttribute=function(e,t){return!!e&&("ImportAttribute"===e.type&&(null==t||(0,r.default)(e,t)))},t.isImportDeclaration=function(e,t){return!!e&&("ImportDeclaration"===e.type&&(null==t||(0,r.default)(e,t)))},t.isImportDefaultSpecifier=function(e,t){return!!e&&("ImportDefaultSpecifier"===e.type&&(null==t||(0,r.default)(e,t)))},t.isImportNamespaceSpecifier=function(e,t){return!!e&&("ImportNamespaceSpecifier"===e.type&&(null==t||(0,r.default)(e,t)))},t.isImportOrExportDeclaration=a,t.isImportSpecifier=function(e,t){return!!e&&("ImportSpecifier"===e.type&&(null==t||(0,r.default)(e,t)))},t.isIndexedAccessType=function(e,t){return!!e&&("IndexedAccessType"===e.type&&(null==t||(0,r.default)(e,t)))},t.isInferredPredicate=function(e,t){return!!e&&("InferredPredicate"===e.type&&(null==t||(0,r.default)(e,t)))},t.isInterfaceDeclaration=function(e,t){return!!e&&("InterfaceDeclaration"===e.type&&(null==t||(0,r.default)(e,t)))},t.isInterfaceExtends=function(e,t){return!!e&&("InterfaceExtends"===e.type&&(null==t||(0,r.default)(e,t)))},t.isInterfaceTypeAnnotation=function(e,t){return!!e&&("InterfaceTypeAnnotation"===e.type&&(null==t||(0,r.default)(e,t)))},t.isInterpreterDirective=function(e,t){return!!e&&("InterpreterDirective"===e.type&&(null==t||(0,r.default)(e,t)))},t.isIntersectionTypeAnnotation=function(e,t){return!!e&&("IntersectionTypeAnnotation"===e.type&&(null==t||(0,r.default)(e,t)))},t.isJSX=function(e,t){if(!e)return!1;switch(e.type){case"JSXAttribute":case"JSXClosingElement":case"JSXElement":case"JSXEmptyExpression":case"JSXExpressionContainer":case"JSXSpreadChild":case"JSXIdentifier":case"JSXMemberExpression":case"JSXNamespacedName":case"JSXOpeningElement":case"JSXSpreadAttribute":case"JSXText":case"JSXFragment":case"JSXOpeningFragment":case"JSXClosingFragment":break;default:return!1}return null==t||(0,r.default)(e,t)},t.isJSXAttribute=function(e,t){return!!e&&("JSXAttribute"===e.type&&(null==t||(0,r.default)(e,t)))},t.isJSXClosingElement=function(e,t){return!!e&&("JSXClosingElement"===e.type&&(null==t||(0,r.default)(e,t)))},t.isJSXClosingFragment=function(e,t){return!!e&&("JSXClosingFragment"===e.type&&(null==t||(0,r.default)(e,t)))},t.isJSXElement=function(e,t){return!!e&&("JSXElement"===e.type&&(null==t||(0,r.default)(e,t)))},t.isJSXEmptyExpression=function(e,t){return!!e&&("JSXEmptyExpression"===e.type&&(null==t||(0,r.default)(e,t)))},t.isJSXExpressionContainer=function(e,t){return!!e&&("JSXExpressionContainer"===e.type&&(null==t||(0,r.default)(e,t)))},t.isJSXFragment=function(e,t){return!!e&&("JSXFragment"===e.type&&(null==t||(0,r.default)(e,t)))},t.isJSXIdentifier=function(e,t){return!!e&&("JSXIdentifier"===e.type&&(null==t||(0,r.default)(e,t)))},t.isJSXMemberExpression=function(e,t){return!!e&&("JSXMemberExpression"===e.type&&(null==t||(0,r.default)(e,t)))},t.isJSXNamespacedName=function(e,t){return!!e&&("JSXNamespacedName"===e.type&&(null==t||(0,r.default)(e,t)))},t.isJSXOpeningElement=function(e,t){return!!e&&("JSXOpeningElement"===e.type&&(null==t||(0,r.default)(e,t)))},t.isJSXOpeningFragment=function(e,t){return!!e&&("JSXOpeningFragment"===e.type&&(null==t||(0,r.default)(e,t)))},t.isJSXSpreadAttribute=function(e,t){return!!e&&("JSXSpreadAttribute"===e.type&&(null==t||(0,r.default)(e,t)))},t.isJSXSpreadChild=function(e,t){return!!e&&("JSXSpreadChild"===e.type&&(null==t||(0,r.default)(e,t)))},t.isJSXText=function(e,t){return!!e&&("JSXText"===e.type&&(null==t||(0,r.default)(e,t)))},t.isLVal=function(e,t){if(!e)return!1;switch(e.type){case"Identifier":case"MemberExpression":case"RestElement":case"AssignmentPattern":case"ArrayPattern":case"ObjectPattern":case"TSParameterProperty":case"TSAsExpression":case"TSSatisfiesExpression":case"TSTypeAssertion":case"TSNonNullExpression":break;case"Placeholder":switch(e.expectedNode){case"Pattern":case"Identifier":break;default:return!1}break;default:return!1}return null==t||(0,r.default)(e,t)},t.isLabeledStatement=function(e,t){return!!e&&("LabeledStatement"===e.type&&(null==t||(0,r.default)(e,t)))},t.isLiteral=function(e,t){if(!e)return!1;switch(e.type){case"StringLiteral":case"NumericLiteral":case"NullLiteral":case"BooleanLiteral":case"RegExpLiteral":case"TemplateLiteral":case"BigIntLiteral":case"DecimalLiteral":break;case"Placeholder":if("StringLiteral"===e.expectedNode)break;default:return!1}return null==t||(0,r.default)(e,t)},t.isLogicalExpression=function(e,t){return!!e&&("LogicalExpression"===e.type&&(null==t||(0,r.default)(e,t)))},t.isLoop=function(e,t){if(!e)return!1;switch(e.type){case"DoWhileStatement":case"ForInStatement":case"ForStatement":case"WhileStatement":case"ForOfStatement":break;default:return!1}return null==t||(0,r.default)(e,t)},t.isMemberExpression=function(e,t){return!!e&&("MemberExpression"===e.type&&(null==t||(0,r.default)(e,t)))},t.isMetaProperty=function(e,t){return!!e&&("MetaProperty"===e.type&&(null==t||(0,r.default)(e,t)))},t.isMethod=function(e,t){if(!e)return!1;switch(e.type){case"ObjectMethod":case"ClassMethod":case"ClassPrivateMethod":break;default:return!1}return null==t||(0,r.default)(e,t)},t.isMiscellaneous=function(e,t){if(!e)return!1;switch(e.type){case"Noop":case"Placeholder":case"V8IntrinsicIdentifier":break;default:return!1}return null==t||(0,r.default)(e,t)},t.isMixedTypeAnnotation=function(e,t){return!!e&&("MixedTypeAnnotation"===e.type&&(null==t||(0,r.default)(e,t)))},t.isModuleDeclaration=function(e,t){return(0,i.default)("isModuleDeclaration","isImportOrExportDeclaration"),a(e,t)},t.isModuleExpression=function(e,t){return!!e&&("ModuleExpression"===e.type&&(null==t||(0,r.default)(e,t)))},t.isModuleSpecifier=function(e,t){if(!e)return!1;switch(e.type){case"ExportSpecifier":case"ImportDefaultSpecifier":case"ImportNamespaceSpecifier":case"ImportSpecifier":case"ExportNamespaceSpecifier":case"ExportDefaultSpecifier":break;default:return!1}return null==t||(0,r.default)(e,t)},t.isNewExpression=function(e,t){return!!e&&("NewExpression"===e.type&&(null==t||(0,r.default)(e,t)))},t.isNoop=function(e,t){return!!e&&("Noop"===e.type&&(null==t||(0,r.default)(e,t)))},t.isNullLiteral=function(e,t){return!!e&&("NullLiteral"===e.type&&(null==t||(0,r.default)(e,t)))},t.isNullLiteralTypeAnnotation=function(e,t){return!!e&&("NullLiteralTypeAnnotation"===e.type&&(null==t||(0,r.default)(e,t)))},t.isNullableTypeAnnotation=function(e,t){return!!e&&("NullableTypeAnnotation"===e.type&&(null==t||(0,r.default)(e,t)))},t.isNumberLiteral=function(e,t){return(0,i.default)("isNumberLiteral","isNumericLiteral"),!!e&&("NumberLiteral"===e.type&&(null==t||(0,r.default)(e,t)))},t.isNumberLiteralTypeAnnotation=function(e,t){return!!e&&("NumberLiteralTypeAnnotation"===e.type&&(null==t||(0,r.default)(e,t)))},t.isNumberTypeAnnotation=function(e,t){return!!e&&("NumberTypeAnnotation"===e.type&&(null==t||(0,r.default)(e,t)))},t.isNumericLiteral=function(e,t){return!!e&&("NumericLiteral"===e.type&&(null==t||(0,r.default)(e,t)))},t.isObjectExpression=function(e,t){return!!e&&("ObjectExpression"===e.type&&(null==t||(0,r.default)(e,t)))},t.isObjectMember=function(e,t){if(!e)return!1;switch(e.type){case"ObjectMethod":case"ObjectProperty":break;default:return!1}return null==t||(0,r.default)(e,t)},t.isObjectMethod=function(e,t){return!!e&&("ObjectMethod"===e.type&&(null==t||(0,r.default)(e,t)))},t.isObjectPattern=function(e,t){return!!e&&("ObjectPattern"===e.type&&(null==t||(0,r.default)(e,t)))},t.isObjectProperty=function(e,t){return!!e&&("ObjectProperty"===e.type&&(null==t||(0,r.default)(e,t)))},t.isObjectTypeAnnotation=function(e,t){return!!e&&("ObjectTypeAnnotation"===e.type&&(null==t||(0,r.default)(e,t)))},t.isObjectTypeCallProperty=function(e,t){return!!e&&("ObjectTypeCallProperty"===e.type&&(null==t||(0,r.default)(e,t)))},t.isObjectTypeIndexer=function(e,t){return!!e&&("ObjectTypeIndexer"===e.type&&(null==t||(0,r.default)(e,t)))},t.isObjectTypeInternalSlot=function(e,t){return!!e&&("ObjectTypeInternalSlot"===e.type&&(null==t||(0,r.default)(e,t)))},t.isObjectTypeProperty=function(e,t){return!!e&&("ObjectTypeProperty"===e.type&&(null==t||(0,r.default)(e,t)))},t.isObjectTypeSpreadProperty=function(e,t){return!!e&&("ObjectTypeSpreadProperty"===e.type&&(null==t||(0,r.default)(e,t)))},t.isOpaqueType=function(e,t){return!!e&&("OpaqueType"===e.type&&(null==t||(0,r.default)(e,t)))},t.isOptionalCallExpression=function(e,t){return!!e&&("OptionalCallExpression"===e.type&&(null==t||(0,r.default)(e,t)))},t.isOptionalIndexedAccessType=function(e,t){return!!e&&("OptionalIndexedAccessType"===e.type&&(null==t||(0,r.default)(e,t)))},t.isOptionalMemberExpression=function(e,t){return!!e&&("OptionalMemberExpression"===e.type&&(null==t||(0,r.default)(e,t)))},t.isParenthesizedExpression=function(e,t){return!!e&&("ParenthesizedExpression"===e.type&&(null==t||(0,r.default)(e,t)))},t.isPattern=function(e,t){if(!e)return!1;switch(e.type){case"AssignmentPattern":case"ArrayPattern":case"ObjectPattern":break;case"Placeholder":if("Pattern"===e.expectedNode)break;default:return!1}return null==t||(0,r.default)(e,t)},t.isPatternLike=function(e,t){if(!e)return!1;switch(e.type){case"Identifier":case"RestElement":case"AssignmentPattern":case"ArrayPattern":case"ObjectPattern":case"TSAsExpression":case"TSSatisfiesExpression":case"TSTypeAssertion":case"TSNonNullExpression":break;case"Placeholder":switch(e.expectedNode){case"Pattern":case"Identifier":break;default:return!1}break;default:return!1}return null==t||(0,r.default)(e,t)},t.isPipelineBareFunction=function(e,t){return!!e&&("PipelineBareFunction"===e.type&&(null==t||(0,r.default)(e,t)))},t.isPipelinePrimaryTopicReference=function(e,t){return!!e&&("PipelinePrimaryTopicReference"===e.type&&(null==t||(0,r.default)(e,t)))},t.isPipelineTopicExpression=function(e,t){return!!e&&("PipelineTopicExpression"===e.type&&(null==t||(0,r.default)(e,t)))},t.isPlaceholder=function(e,t){return!!e&&("Placeholder"===e.type&&(null==t||(0,r.default)(e,t)))},t.isPrivate=function(e,t){if(!e)return!1;switch(e.type){case"ClassPrivateProperty":case"ClassPrivateMethod":case"PrivateName":break;default:return!1}return null==t||(0,r.default)(e,t)},t.isPrivateName=function(e,t){return!!e&&("PrivateName"===e.type&&(null==t||(0,r.default)(e,t)))},t.isProgram=function(e,t){return!!e&&("Program"===e.type&&(null==t||(0,r.default)(e,t)))},t.isProperty=function(e,t){if(!e)return!1;switch(e.type){case"ObjectProperty":case"ClassProperty":case"ClassAccessorProperty":case"ClassPrivateProperty":break;default:return!1}return null==t||(0,r.default)(e,t)},t.isPureish=function(e,t){if(!e)return!1;switch(e.type){case"FunctionDeclaration":case"FunctionExpression":case"StringLiteral":case"NumericLiteral":case"NullLiteral":case"BooleanLiteral":case"RegExpLiteral":case"ArrowFunctionExpression":case"BigIntLiteral":case"DecimalLiteral":break;case"Placeholder":if("StringLiteral"===e.expectedNode)break;default:return!1}return null==t||(0,r.default)(e,t)},t.isQualifiedTypeIdentifier=function(e,t){return!!e&&("QualifiedTypeIdentifier"===e.type&&(null==t||(0,r.default)(e,t)))},t.isRecordExpression=function(e,t){return!!e&&("RecordExpression"===e.type&&(null==t||(0,r.default)(e,t)))},t.isRegExpLiteral=function(e,t){return!!e&&("RegExpLiteral"===e.type&&(null==t||(0,r.default)(e,t)))},t.isRegexLiteral=function(e,t){return(0,i.default)("isRegexLiteral","isRegExpLiteral"),!!e&&("RegexLiteral"===e.type&&(null==t||(0,r.default)(e,t)))},t.isRestElement=function(e,t){return!!e&&("RestElement"===e.type&&(null==t||(0,r.default)(e,t)))},t.isRestProperty=function(e,t){return(0,i.default)("isRestProperty","isRestElement"),!!e&&("RestProperty"===e.type&&(null==t||(0,r.default)(e,t)))},t.isReturnStatement=function(e,t){return!!e&&("ReturnStatement"===e.type&&(null==t||(0,r.default)(e,t)))},t.isScopable=function(e,t){if(!e)return!1;switch(e.type){case"BlockStatement":case"CatchClause":case"DoWhileStatement":case"ForInStatement":case"ForStatement":case"FunctionDeclaration":case"FunctionExpression":case"Program":case"ObjectMethod":case"SwitchStatement":case"WhileStatement":case"ArrowFunctionExpression":case"ClassExpression":case"ClassDeclaration":case"ForOfStatement":case"ClassMethod":case"ClassPrivateMethod":case"StaticBlock":case"TSModuleBlock":break;case"Placeholder":if("BlockStatement"===e.expectedNode)break;default:return!1}return null==t||(0,r.default)(e,t)},t.isSequenceExpression=function(e,t){return!!e&&("SequenceExpression"===e.type&&(null==t||(0,r.default)(e,t)))},t.isSpreadElement=function(e,t){return!!e&&("SpreadElement"===e.type&&(null==t||(0,r.default)(e,t)))},t.isSpreadProperty=function(e,t){return(0,i.default)("isSpreadProperty","isSpreadElement"),!!e&&("SpreadProperty"===e.type&&(null==t||(0,r.default)(e,t)))},t.isStandardized=function(e,t){if(!e)return!1;switch(e.type){case"ArrayExpression":case"AssignmentExpression":case"BinaryExpression":case"InterpreterDirective":case"Directive":case"DirectiveLiteral":case"BlockStatement":case"BreakStatement":case"CallExpression":case"CatchClause":case"ConditionalExpression":case"ContinueStatement":case"DebuggerStatement":case"DoWhileStatement":case"EmptyStatement":case"ExpressionStatement":case"File":case"ForInStatement":case"ForStatement":case"FunctionDeclaration":case"FunctionExpression":case"Identifier":case"IfStatement":case"LabeledStatement":case"StringLiteral":case"NumericLiteral":case"NullLiteral":case"BooleanLiteral":case"RegExpLiteral":case"LogicalExpression":case"MemberExpression":case"NewExpression":case"Program":case"ObjectExpression":case"ObjectMethod":case"ObjectProperty":case"RestElement":case"ReturnStatement":case"SequenceExpression":case"ParenthesizedExpression":case"SwitchCase":case"SwitchStatement":case"ThisExpression":case"ThrowStatement":case"TryStatement":case"UnaryExpression":case"UpdateExpression":case"VariableDeclaration":case"VariableDeclarator":case"WhileStatement":case"WithStatement":case"AssignmentPattern":case"ArrayPattern":case"ArrowFunctionExpression":case"ClassBody":case"ClassExpression":case"ClassDeclaration":case"ExportAllDeclaration":case"ExportDefaultDeclaration":case"ExportNamedDeclaration":case"ExportSpecifier":case"ForOfStatement":case"ImportDeclaration":case"ImportDefaultSpecifier":case"ImportNamespaceSpecifier":case"ImportSpecifier":case"MetaProperty":case"ClassMethod":case"ObjectPattern":case"SpreadElement":case"Super":case"TaggedTemplateExpression":case"TemplateElement":case"TemplateLiteral":case"YieldExpression":case"AwaitExpression":case"Import":case"BigIntLiteral":case"ExportNamespaceSpecifier":case"OptionalMemberExpression":case"OptionalCallExpression":case"ClassProperty":case"ClassAccessorProperty":case"ClassPrivateProperty":case"ClassPrivateMethod":case"PrivateName":case"StaticBlock":break;case"Placeholder":switch(e.expectedNode){case"Identifier":case"StringLiteral":case"BlockStatement":case"ClassBody":break;default:return!1}break;default:return!1}return null==t||(0,r.default)(e,t)},t.isStatement=function(e,t){if(!e)return!1;switch(e.type){case"BlockStatement":case"BreakStatement":case"ContinueStatement":case"DebuggerStatement":case"DoWhileStatement":case"EmptyStatement":case"ExpressionStatement":case"ForInStatement":case"ForStatement":case"FunctionDeclaration":case"IfStatement":case"LabeledStatement":case"ReturnStatement":case"SwitchStatement":case"ThrowStatement":case"TryStatement":case"VariableDeclaration":case"WhileStatement":case"WithStatement":case"ClassDeclaration":case"ExportAllDeclaration":case"ExportDefaultDeclaration":case"ExportNamedDeclaration":case"ForOfStatement":case"ImportDeclaration":case"DeclareClass":case"DeclareFunction":case"DeclareInterface":case"DeclareModule":case"DeclareModuleExports":case"DeclareTypeAlias":case"DeclareOpaqueType":case"DeclareVariable":case"DeclareExportDeclaration":case"DeclareExportAllDeclaration":case"InterfaceDeclaration":case"OpaqueType":case"TypeAlias":case"EnumDeclaration":case"TSDeclareFunction":case"TSInterfaceDeclaration":case"TSTypeAliasDeclaration":case"TSEnumDeclaration":case"TSModuleDeclaration":case"TSImportEqualsDeclaration":case"TSExportAssignment":case"TSNamespaceExportDeclaration":break;case"Placeholder":switch(e.expectedNode){case"Statement":case"Declaration":case"BlockStatement":break;default:return!1}break;default:return!1}return null==t||(0,r.default)(e,t)},t.isStaticBlock=function(e,t){return!!e&&("StaticBlock"===e.type&&(null==t||(0,r.default)(e,t)))},t.isStringLiteral=function(e,t){return!!e&&("StringLiteral"===e.type&&(null==t||(0,r.default)(e,t)))},t.isStringLiteralTypeAnnotation=function(e,t){return!!e&&("StringLiteralTypeAnnotation"===e.type&&(null==t||(0,r.default)(e,t)))},t.isStringTypeAnnotation=function(e,t){return!!e&&("StringTypeAnnotation"===e.type&&(null==t||(0,r.default)(e,t)))},t.isSuper=function(e,t){return!!e&&("Super"===e.type&&(null==t||(0,r.default)(e,t)))},t.isSwitchCase=function(e,t){return!!e&&("SwitchCase"===e.type&&(null==t||(0,r.default)(e,t)))},t.isSwitchStatement=function(e,t){return!!e&&("SwitchStatement"===e.type&&(null==t||(0,r.default)(e,t)))},t.isSymbolTypeAnnotation=function(e,t){return!!e&&("SymbolTypeAnnotation"===e.type&&(null==t||(0,r.default)(e,t)))},t.isTSAnyKeyword=function(e,t){return!!e&&("TSAnyKeyword"===e.type&&(null==t||(0,r.default)(e,t)))},t.isTSArrayType=function(e,t){return!!e&&("TSArrayType"===e.type&&(null==t||(0,r.default)(e,t)))},t.isTSAsExpression=function(e,t){return!!e&&("TSAsExpression"===e.type&&(null==t||(0,r.default)(e,t)))},t.isTSBaseType=function(e,t){if(!e)return!1;switch(e.type){case"TSAnyKeyword":case"TSBooleanKeyword":case"TSBigIntKeyword":case"TSIntrinsicKeyword":case"TSNeverKeyword":case"TSNullKeyword":case"TSNumberKeyword":case"TSObjectKeyword":case"TSStringKeyword":case"TSSymbolKeyword":case"TSUndefinedKeyword":case"TSUnknownKeyword":case"TSVoidKeyword":case"TSThisType":case"TSLiteralType":break;default:return!1}return null==t||(0,r.default)(e,t)},t.isTSBigIntKeyword=function(e,t){return!!e&&("TSBigIntKeyword"===e.type&&(null==t||(0,r.default)(e,t)))},t.isTSBooleanKeyword=function(e,t){return!!e&&("TSBooleanKeyword"===e.type&&(null==t||(0,r.default)(e,t)))},t.isTSCallSignatureDeclaration=function(e,t){return!!e&&("TSCallSignatureDeclaration"===e.type&&(null==t||(0,r.default)(e,t)))},t.isTSConditionalType=function(e,t){return!!e&&("TSConditionalType"===e.type&&(null==t||(0,r.default)(e,t)))},t.isTSConstructSignatureDeclaration=function(e,t){return!!e&&("TSConstructSignatureDeclaration"===e.type&&(null==t||(0,r.default)(e,t)))},t.isTSConstructorType=function(e,t){return!!e&&("TSConstructorType"===e.type&&(null==t||(0,r.default)(e,t)))},t.isTSDeclareFunction=function(e,t){return!!e&&("TSDeclareFunction"===e.type&&(null==t||(0,r.default)(e,t)))},t.isTSDeclareMethod=function(e,t){return!!e&&("TSDeclareMethod"===e.type&&(null==t||(0,r.default)(e,t)))},t.isTSEntityName=function(e,t){if(!e)return!1;switch(e.type){case"Identifier":case"TSQualifiedName":break;case"Placeholder":if("Identifier"===e.expectedNode)break;default:return!1}return null==t||(0,r.default)(e,t)},t.isTSEnumDeclaration=function(e,t){return!!e&&("TSEnumDeclaration"===e.type&&(null==t||(0,r.default)(e,t)))},t.isTSEnumMember=function(e,t){return!!e&&("TSEnumMember"===e.type&&(null==t||(0,r.default)(e,t)))},t.isTSExportAssignment=function(e,t){return!!e&&("TSExportAssignment"===e.type&&(null==t||(0,r.default)(e,t)))},t.isTSExpressionWithTypeArguments=function(e,t){return!!e&&("TSExpressionWithTypeArguments"===e.type&&(null==t||(0,r.default)(e,t)))},t.isTSExternalModuleReference=function(e,t){return!!e&&("TSExternalModuleReference"===e.type&&(null==t||(0,r.default)(e,t)))},t.isTSFunctionType=function(e,t){return!!e&&("TSFunctionType"===e.type&&(null==t||(0,r.default)(e,t)))},t.isTSImportEqualsDeclaration=function(e,t){return!!e&&("TSImportEqualsDeclaration"===e.type&&(null==t||(0,r.default)(e,t)))},t.isTSImportType=function(e,t){return!!e&&("TSImportType"===e.type&&(null==t||(0,r.default)(e,t)))},t.isTSIndexSignature=function(e,t){return!!e&&("TSIndexSignature"===e.type&&(null==t||(0,r.default)(e,t)))},t.isTSIndexedAccessType=function(e,t){return!!e&&("TSIndexedAccessType"===e.type&&(null==t||(0,r.default)(e,t)))},t.isTSInferType=function(e,t){return!!e&&("TSInferType"===e.type&&(null==t||(0,r.default)(e,t)))},t.isTSInstantiationExpression=function(e,t){return!!e&&("TSInstantiationExpression"===e.type&&(null==t||(0,r.default)(e,t)))},t.isTSInterfaceBody=function(e,t){return!!e&&("TSInterfaceBody"===e.type&&(null==t||(0,r.default)(e,t)))},t.isTSInterfaceDeclaration=function(e,t){return!!e&&("TSInterfaceDeclaration"===e.type&&(null==t||(0,r.default)(e,t)))},t.isTSIntersectionType=function(e,t){return!!e&&("TSIntersectionType"===e.type&&(null==t||(0,r.default)(e,t)))},t.isTSIntrinsicKeyword=function(e,t){return!!e&&("TSIntrinsicKeyword"===e.type&&(null==t||(0,r.default)(e,t)))},t.isTSLiteralType=function(e,t){return!!e&&("TSLiteralType"===e.type&&(null==t||(0,r.default)(e,t)))},t.isTSMappedType=function(e,t){return!!e&&("TSMappedType"===e.type&&(null==t||(0,r.default)(e,t)))},t.isTSMethodSignature=function(e,t){return!!e&&("TSMethodSignature"===e.type&&(null==t||(0,r.default)(e,t)))},t.isTSModuleBlock=function(e,t){return!!e&&("TSModuleBlock"===e.type&&(null==t||(0,r.default)(e,t)))},t.isTSModuleDeclaration=function(e,t){return!!e&&("TSModuleDeclaration"===e.type&&(null==t||(0,r.default)(e,t)))},t.isTSNamedTupleMember=function(e,t){return!!e&&("TSNamedTupleMember"===e.type&&(null==t||(0,r.default)(e,t)))},t.isTSNamespaceExportDeclaration=function(e,t){return!!e&&("TSNamespaceExportDeclaration"===e.type&&(null==t||(0,r.default)(e,t)))},t.isTSNeverKeyword=function(e,t){return!!e&&("TSNeverKeyword"===e.type&&(null==t||(0,r.default)(e,t)))},t.isTSNonNullExpression=function(e,t){return!!e&&("TSNonNullExpression"===e.type&&(null==t||(0,r.default)(e,t)))},t.isTSNullKeyword=function(e,t){return!!e&&("TSNullKeyword"===e.type&&(null==t||(0,r.default)(e,t)))},t.isTSNumberKeyword=function(e,t){return!!e&&("TSNumberKeyword"===e.type&&(null==t||(0,r.default)(e,t)))},t.isTSObjectKeyword=function(e,t){return!!e&&("TSObjectKeyword"===e.type&&(null==t||(0,r.default)(e,t)))},t.isTSOptionalType=function(e,t){return!!e&&("TSOptionalType"===e.type&&(null==t||(0,r.default)(e,t)))},t.isTSParameterProperty=function(e,t){return!!e&&("TSParameterProperty"===e.type&&(null==t||(0,r.default)(e,t)))},t.isTSParenthesizedType=function(e,t){return!!e&&("TSParenthesizedType"===e.type&&(null==t||(0,r.default)(e,t)))},t.isTSPropertySignature=function(e,t){return!!e&&("TSPropertySignature"===e.type&&(null==t||(0,r.default)(e,t)))},t.isTSQualifiedName=function(e,t){return!!e&&("TSQualifiedName"===e.type&&(null==t||(0,r.default)(e,t)))},t.isTSRestType=function(e,t){return!!e&&("TSRestType"===e.type&&(null==t||(0,r.default)(e,t)))},t.isTSSatisfiesExpression=function(e,t){return!!e&&("TSSatisfiesExpression"===e.type&&(null==t||(0,r.default)(e,t)))},t.isTSStringKeyword=function(e,t){return!!e&&("TSStringKeyword"===e.type&&(null==t||(0,r.default)(e,t)))},t.isTSSymbolKeyword=function(e,t){return!!e&&("TSSymbolKeyword"===e.type&&(null==t||(0,r.default)(e,t)))},t.isTSThisType=function(e,t){return!!e&&("TSThisType"===e.type&&(null==t||(0,r.default)(e,t)))},t.isTSTupleType=function(e,t){return!!e&&("TSTupleType"===e.type&&(null==t||(0,r.default)(e,t)))},t.isTSType=function(e,t){if(!e)return!1;switch(e.type){case"TSAnyKeyword":case"TSBooleanKeyword":case"TSBigIntKeyword":case"TSIntrinsicKeyword":case"TSNeverKeyword":case"TSNullKeyword":case"TSNumberKeyword":case"TSObjectKeyword":case"TSStringKeyword":case"TSSymbolKeyword":case"TSUndefinedKeyword":case"TSUnknownKeyword":case"TSVoidKeyword":case"TSThisType":case"TSFunctionType":case"TSConstructorType":case"TSTypeReference":case"TSTypePredicate":case"TSTypeQuery":case"TSTypeLiteral":case"TSArrayType":case"TSTupleType":case"TSOptionalType":case"TSRestType":case"TSUnionType":case"TSIntersectionType":case"TSConditionalType":case"TSInferType":case"TSParenthesizedType":case"TSTypeOperator":case"TSIndexedAccessType":case"TSMappedType":case"TSLiteralType":case"TSExpressionWithTypeArguments":case"TSImportType":break;default:return!1}return null==t||(0,r.default)(e,t)},t.isTSTypeAliasDeclaration=function(e,t){return!!e&&("TSTypeAliasDeclaration"===e.type&&(null==t||(0,r.default)(e,t)))},t.isTSTypeAnnotation=function(e,t){return!!e&&("TSTypeAnnotation"===e.type&&(null==t||(0,r.default)(e,t)))},t.isTSTypeAssertion=function(e,t){return!!e&&("TSTypeAssertion"===e.type&&(null==t||(0,r.default)(e,t)))},t.isTSTypeElement=function(e,t){if(!e)return!1;switch(e.type){case"TSCallSignatureDeclaration":case"TSConstructSignatureDeclaration":case"TSPropertySignature":case"TSMethodSignature":case"TSIndexSignature":break;default:return!1}return null==t||(0,r.default)(e,t)},t.isTSTypeLiteral=function(e,t){return!!e&&("TSTypeLiteral"===e.type&&(null==t||(0,r.default)(e,t)))},t.isTSTypeOperator=function(e,t){return!!e&&("TSTypeOperator"===e.type&&(null==t||(0,r.default)(e,t)))},t.isTSTypeParameter=function(e,t){return!!e&&("TSTypeParameter"===e.type&&(null==t||(0,r.default)(e,t)))},t.isTSTypeParameterDeclaration=function(e,t){return!!e&&("TSTypeParameterDeclaration"===e.type&&(null==t||(0,r.default)(e,t)))},t.isTSTypeParameterInstantiation=function(e,t){return!!e&&("TSTypeParameterInstantiation"===e.type&&(null==t||(0,r.default)(e,t)))},t.isTSTypePredicate=function(e,t){return!!e&&("TSTypePredicate"===e.type&&(null==t||(0,r.default)(e,t)))},t.isTSTypeQuery=function(e,t){return!!e&&("TSTypeQuery"===e.type&&(null==t||(0,r.default)(e,t)))},t.isTSTypeReference=function(e,t){return!!e&&("TSTypeReference"===e.type&&(null==t||(0,r.default)(e,t)))},t.isTSUndefinedKeyword=function(e,t){return!!e&&("TSUndefinedKeyword"===e.type&&(null==t||(0,r.default)(e,t)))},t.isTSUnionType=function(e,t){return!!e&&("TSUnionType"===e.type&&(null==t||(0,r.default)(e,t)))},t.isTSUnknownKeyword=function(e,t){return!!e&&("TSUnknownKeyword"===e.type&&(null==t||(0,r.default)(e,t)))},t.isTSVoidKeyword=function(e,t){return!!e&&("TSVoidKeyword"===e.type&&(null==t||(0,r.default)(e,t)))},t.isTaggedTemplateExpression=function(e,t){return!!e&&("TaggedTemplateExpression"===e.type&&(null==t||(0,r.default)(e,t)))},t.isTemplateElement=function(e,t){return!!e&&("TemplateElement"===e.type&&(null==t||(0,r.default)(e,t)))},t.isTemplateLiteral=function(e,t){return!!e&&("TemplateLiteral"===e.type&&(null==t||(0,r.default)(e,t)))},t.isTerminatorless=function(e,t){if(!e)return!1;switch(e.type){case"BreakStatement":case"ContinueStatement":case"ReturnStatement":case"ThrowStatement":case"YieldExpression":case"AwaitExpression":break;default:return!1}return null==t||(0,r.default)(e,t)},t.isThisExpression=function(e,t){return!!e&&("ThisExpression"===e.type&&(null==t||(0,r.default)(e,t)))},t.isThisTypeAnnotation=function(e,t){return!!e&&("ThisTypeAnnotation"===e.type&&(null==t||(0,r.default)(e,t)))},t.isThrowStatement=function(e,t){return!!e&&("ThrowStatement"===e.type&&(null==t||(0,r.default)(e,t)))},t.isTopicReference=function(e,t){return!!e&&("TopicReference"===e.type&&(null==t||(0,r.default)(e,t)))},t.isTryStatement=function(e,t){return!!e&&("TryStatement"===e.type&&(null==t||(0,r.default)(e,t)))},t.isTupleExpression=function(e,t){return!!e&&("TupleExpression"===e.type&&(null==t||(0,r.default)(e,t)))},t.isTupleTypeAnnotation=function(e,t){return!!e&&("TupleTypeAnnotation"===e.type&&(null==t||(0,r.default)(e,t)))},t.isTypeAlias=function(e,t){return!!e&&("TypeAlias"===e.type&&(null==t||(0,r.default)(e,t)))},t.isTypeAnnotation=function(e,t){return!!e&&("TypeAnnotation"===e.type&&(null==t||(0,r.default)(e,t)))},t.isTypeCastExpression=function(e,t){return!!e&&("TypeCastExpression"===e.type&&(null==t||(0,r.default)(e,t)))},t.isTypeParameter=function(e,t){return!!e&&("TypeParameter"===e.type&&(null==t||(0,r.default)(e,t)))},t.isTypeParameterDeclaration=function(e,t){return!!e&&("TypeParameterDeclaration"===e.type&&(null==t||(0,r.default)(e,t)))},t.isTypeParameterInstantiation=function(e,t){return!!e&&("TypeParameterInstantiation"===e.type&&(null==t||(0,r.default)(e,t)))},t.isTypeScript=function(e,t){if(!e)return!1;switch(e.type){case"TSParameterProperty":case"TSDeclareFunction":case"TSDeclareMethod":case"TSQualifiedName":case"TSCallSignatureDeclaration":case"TSConstructSignatureDeclaration":case"TSPropertySignature":case"TSMethodSignature":case"TSIndexSignature":case"TSAnyKeyword":case"TSBooleanKeyword":case"TSBigIntKeyword":case"TSIntrinsicKeyword":case"TSNeverKeyword":case"TSNullKeyword":case"TSNumberKeyword":case"TSObjectKeyword":case"TSStringKeyword":case"TSSymbolKeyword":case"TSUndefinedKeyword":case"TSUnknownKeyword":case"TSVoidKeyword":case"TSThisType":case"TSFunctionType":case"TSConstructorType":case"TSTypeReference":case"TSTypePredicate":case"TSTypeQuery":case"TSTypeLiteral":case"TSArrayType":case"TSTupleType":case"TSOptionalType":case"TSRestType":case"TSNamedTupleMember":case"TSUnionType":case"TSIntersectionType":case"TSConditionalType":case"TSInferType":case"TSParenthesizedType":case"TSTypeOperator":case"TSIndexedAccessType":case"TSMappedType":case"TSLiteralType":case"TSExpressionWithTypeArguments":case"TSInterfaceDeclaration":case"TSInterfaceBody":case"TSTypeAliasDeclaration":case"TSInstantiationExpression":case"TSAsExpression":case"TSSatisfiesExpression":case"TSTypeAssertion":case"TSEnumDeclaration":case"TSEnumMember":case"TSModuleDeclaration":case"TSModuleBlock":case"TSImportType":case"TSImportEqualsDeclaration":case"TSExternalModuleReference":case"TSNonNullExpression":case"TSExportAssignment":case"TSNamespaceExportDeclaration":case"TSTypeAnnotation":case"TSTypeParameterInstantiation":case"TSTypeParameterDeclaration":case"TSTypeParameter":break;default:return!1}return null==t||(0,r.default)(e,t)},t.isTypeofTypeAnnotation=function(e,t){return!!e&&("TypeofTypeAnnotation"===e.type&&(null==t||(0,r.default)(e,t)))},t.isUnaryExpression=function(e,t){return!!e&&("UnaryExpression"===e.type&&(null==t||(0,r.default)(e,t)))},t.isUnaryLike=function(e,t){if(!e)return!1;switch(e.type){case"UnaryExpression":case"SpreadElement":break;default:return!1}return null==t||(0,r.default)(e,t)},t.isUnionTypeAnnotation=function(e,t){return!!e&&("UnionTypeAnnotation"===e.type&&(null==t||(0,r.default)(e,t)))},t.isUpdateExpression=function(e,t){return!!e&&("UpdateExpression"===e.type&&(null==t||(0,r.default)(e,t)))},t.isUserWhitespacable=function(e,t){if(!e)return!1;switch(e.type){case"ObjectMethod":case"ObjectProperty":case"ObjectTypeInternalSlot":case"ObjectTypeCallProperty":case"ObjectTypeIndexer":case"ObjectTypeProperty":case"ObjectTypeSpreadProperty":break;default:return!1}return null==t||(0,r.default)(e,t)},t.isV8IntrinsicIdentifier=function(e,t){return!!e&&("V8IntrinsicIdentifier"===e.type&&(null==t||(0,r.default)(e,t)))},t.isVariableDeclaration=function(e,t){return!!e&&("VariableDeclaration"===e.type&&(null==t||(0,r.default)(e,t)))},t.isVariableDeclarator=function(e,t){return!!e&&("VariableDeclarator"===e.type&&(null==t||(0,r.default)(e,t)))},t.isVariance=function(e,t){return!!e&&("Variance"===e.type&&(null==t||(0,r.default)(e,t)))},t.isVoidTypeAnnotation=function(e,t){return!!e&&("VoidTypeAnnotation"===e.type&&(null==t||(0,r.default)(e,t)))},t.isWhile=function(e,t){if(!e)return!1;switch(e.type){case"DoWhileStatement":case"WhileStatement":break;default:return!1}return null==t||(0,r.default)(e,t)},t.isWhileStatement=function(e,t){return!!e&&("WhileStatement"===e.type&&(null==t||(0,r.default)(e,t)))},t.isWithStatement=function(e,t){return!!e&&("WithStatement"===e.type&&(null==t||(0,r.default)(e,t)))},t.isYieldExpression=function(e,t){return!!e&&("YieldExpression"===e.type&&(null==t||(0,r.default)(e,t)))};var r=n(3157),i=n(3046);function a(e,t){if(!e)return!1;switch(e.type){case"ExportAllDeclaration":case"ExportDefaultDeclaration":case"ExportNamedDeclaration":case"ImportDeclaration":break;default:return!1}return null==t||(0,r.default)(e,t)}},5639:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){if(!t)return!1;if(!(0,i.default)(t.type,e))return!n&&"Placeholder"===t.type&&e in o.FLIPPED_ALIAS_KEYS&&(0,a.default)(t.expectedNode,e);return"undefined"===typeof n||(0,r.default)(t,n)};var r=n(3157),i=n(3902),a=n(4053),o=n(2455)},127:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){if(n&&"Identifier"===e.type&&"ObjectProperty"===t.type&&"ObjectExpression"===n.type)return!1;var i=r.default.keys[t.type];if(i)for(var a=0;a<i.length;a++){var o=t[i[a]];if(Array.isArray(o)){if(o.indexOf(e)>=0)return!0}else if(o===e)return!0}return!1};var r=n(2975)},4412:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.isFunctionDeclaration)(e)||(0,r.isClassDeclaration)(e)||(0,i.default)(e)};var r=n(7308),i=n(3899)},3819:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if((0,r.default)(e.type,"Immutable"))return!0;if((0,i.isIdentifier)(e))return"undefined"===e.name;return!1};var r=n(3902),i=n(7308)},3899:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.isVariableDeclaration)(e)&&("var"!==e.kind||e[i.BLOCK_SCOPED_SYMBOL])};var r=n(7308),i=n(5482)},8127:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return!(!e||!r.VISITOR_KEYS[e.type])};var r=n(2455)},1058:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t,n){if("object"!==typeof t||"object"!==typeof n||null==t||null==n)return t===n;if(t.type!==n.type)return!1;for(var i=Object.keys(r.NODE_FIELDS[t.type]||t.type),a=r.VISITOR_KEYS[t.type],o=0,s=i;o<s.length;o++){var u=s[o],l=t[u],c=n[u];if(typeof l!==typeof c)return!1;if(null!=l||null!=c){if(null==l||null==c)return!1;if(Array.isArray(l)){if(!Array.isArray(c))return!1;if(l.length!==c.length)return!1;for(var f=0;f<l.length;f++)if(!e(l[f],c[f]))return!1}else if("object"!==typeof l||null!=a&&a.includes(u)){if(!e(l,c))return!1}else for(var d=0,p=Object.keys(l);d<p.length;d++){var h=p[d];if(l[h]!==c[h])return!1}}}return!0};var r=n(2455)},4053:function(e,t,n){"use strict";var r=n(4704).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(e===t)return!0;var n=i.PLACEHOLDERS_ALIAS[e];if(n){var a,o=r(n);try{for(o.s();!(a=o.n()).done;){if(t===a.value)return!0}}catch(s){o.e(s)}finally{o.f()}}return!1};var i=n(2455)},4942:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){switch(t.type){case"MemberExpression":case"OptionalMemberExpression":return t.property===e?!!t.computed:t.object===e;case"JSXMemberExpression":return t.object===e;case"VariableDeclarator":return t.init===e;case"ArrowFunctionExpression":return t.body===e;case"PrivateName":case"LabeledStatement":case"CatchClause":case"RestElement":case"BreakStatement":case"ContinueStatement":case"FunctionDeclaration":case"FunctionExpression":case"ExportNamespaceSpecifier":case"ExportDefaultSpecifier":case"ImportDefaultSpecifier":case"ImportNamespaceSpecifier":case"ImportSpecifier":case"ImportAttribute":case"JSXAttribute":case"ObjectPattern":case"ArrayPattern":case"MetaProperty":return!1;case"ClassMethod":case"ClassPrivateMethod":case"ObjectMethod":return t.key===e&&!!t.computed;case"ObjectProperty":return t.key===e?!!t.computed:!n||"ObjectPattern"!==n.type;case"ClassProperty":case"ClassAccessorProperty":case"TSPropertySignature":return t.key!==e||!!t.computed;case"ClassPrivateProperty":case"ObjectTypeProperty":return t.key!==e;case"ClassDeclaration":case"ClassExpression":return t.superClass===e;case"AssignmentExpression":case"AssignmentPattern":return t.right===e;case"ExportSpecifier":return(null==n||!n.source)&&t.local===e;case"TSEnumMember":return t.id!==e}return!0}},2364:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if((0,r.isBlockStatement)(e)&&((0,r.isFunction)(t)||(0,r.isCatchClause)(t)))return!1;if((0,r.isPattern)(e)&&((0,r.isFunction)(t)||(0,r.isCatchClause)(t)))return!0;return(0,r.isScopable)(e)};var r=n(7308)},7266:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.isImportDefaultSpecifier)(e)||(0,r.isIdentifier)(e.imported||e.exported,{name:"default"})};var r=n(7308)},3902:function(e,t,n){"use strict";var r=n(4704).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(e===t)return!0;if(null==e)return!1;if(i.ALIAS_KEYS[t])return!1;var n=i.FLIPPED_ALIAS_KEYS[t];if(n){if(n[0]===e)return!0;var a,o=r(n);try{for(o.s();!(a=o.n()).done;){if(e===a.value)return!0}}catch(s){o.e(s)}finally{o.f()}}return!1};var i=n(2455)},8924:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(e)&&!i.has(e)};var r=n(3283),i=new Set(["abstract","boolean","byte","char","double","enum","final","float","goto","implements","int","interface","long","native","package","private","protected","public","short","static","synchronized","throws","transient","volatile"])},3283:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if("string"!==typeof e)return!1;if(t&&((0,r.isKeyword)(e)||(0,r.isStrictReservedWord)(e,!0)))return!1;return(0,r.isIdentifierName)(e)};var r=n(4405)},7258:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.isVariableDeclaration)(e,{kind:"var"})&&!e[i.BLOCK_SCOPED_SYMBOL]};var r=n(7308),i=n(5482)},4075:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){if(!(0,r.isMemberExpression)(e))return!1;var i,a=Array.isArray(t)?t:t.split("."),o=[];for(i=e;(0,r.isMemberExpression)(i);i=i.object)o.push(i.property);if(o.push(i),o.length<a.length)return!1;if(!n&&o.length>a.length)return!1;for(var s=0,u=o.length-1;s<a.length;s++,u--){var l=o[u],c=void 0;if((0,r.isIdentifier)(l))c=l.name;else if((0,r.isStringLiteral)(l))c=l.value;else{if(!(0,r.isThisExpression)(l))return!1;c="this"}if(a[s]!==c)return!1}return!0};var r=n(7308)},8944:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return!!e&&/^[a-z]/.test(e)}},6335:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=(0,n(2187).default)("React.Component");t.default=r},3145:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){if(!e)return;var o=r.NODE_FIELDS[e.type];if(!o)return;var s=o[t];i(e,t,n,s),a(e,t,n)},t.validateChild=a,t.validateField=i;var r=n(2455);function i(e,t,n,r){null!=r&&r.validate&&(r.optional&&null==n||r.validate(e,t,n))}function a(e,t,n){if(null!=n){var i=r.NODE_PARENT_VALIDATIONS[n.type];i&&i(e,t,n)}}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var s=2&i&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".9f5a3ccf.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="ignitionhacks2023:";n.l=function(r,i,a,o){if(e[r])e[r].push(i);else{var s,u;if(void 0!==a)for(var l=document.getElementsByTagName("script"),c=0;c<l.length;c++){var f=l[c];if(f.getAttribute("src")==r||f.getAttribute("data-webpack")==t+a){s=f;break}}s||(u=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+a),s.src=r),e[r]=[i];var d=function(t,n){s.onerror=s.onload=null,clearTimeout(p);var i=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((function(e){return e(n)})),t)return t(n)},p=setTimeout(d.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=d.bind(null,s.onerror),s.onload=d.bind(null,s.onload),u&&document.head.appendChild(s)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/ignitionhacks2023/",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=a);var o=n.p+n.u(t),s=new Error;n.l(o,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",s.name="ChunkLoadError",s.type=a,s.request=o,i[1](s)}}),"chunk-"+t,t)}};var t=function(t,r){var i,a,o=r[0],s=r[1],u=r[2],l=0;if(o.some((function(t){return 0!==e[t]}))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(u)u(n)}for(t&&t(r);l<o.length;l++)a=o[l],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunkignitionhacks2023=self.webpackChunkignitionhacks2023||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){"use strict";var e,t=n(2791),r=n.t(t,2),i=n(1250);function a(e){if(Array.isArray(e))return e}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){if(e){if("string"===typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}function u(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(e,t){return a(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],u=!0,l=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){l=!0,i=e}finally{try{if(!u&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw i}}return s}}(e,t)||s(e,t)||u()}function c(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function f(e){return function(e){if(Array.isArray(e))return o(e)}(e)||c(e)||s(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function h(e){var t=function(e,t){if("object"!==p(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==p(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===p(t)?t:String(t)}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,h(r.key),r)}}function y(e,t,n){return t&&v(e.prototype,t),n&&v(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function m(e,t){return m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},m(e,t)}function g(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m(e,t)}function b(e){return b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},b(e)}function x(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ws){return!1}}function w(e,t){if(t&&("object"===p(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function S(e){var t=x();return function(){var n,r=b(e);if(t){var i=b(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return w(this,n)}}function T(e,t,n){return T=x()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&m(i,n.prototype),i},T.apply(null,arguments)}function E(e){var t="function"===typeof Map?new Map:void 0;return E=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return T(e,arguments,b(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),m(n,e)},E(e)}function k(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=s(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function _(){return _=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(e||(e={}));var C,P="popstate";function O(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function I(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(ws){}}}function A(e,t){return{usr:e.state,key:e.key,idx:t}}function D(e,t,n,r){return void 0===n&&(n=null),_({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?N(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function R(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function N(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function M(t,n,r,i){void 0===i&&(i={});var a=i,o=a.window,s=void 0===o?document.defaultView:o,u=a.v5Compat,l=void 0!==u&&u,c=s.history,f=e.Pop,d=null,p=h();function h(){return(c.state||{idx:null}).idx}function v(){f=e.Pop;var t=h(),n=null==t?null:t-p;p=t,d&&d({action:f,location:m.location,delta:n})}function y(e){var t="null"!==s.location.origin?s.location.origin:s.location.href,n="string"===typeof e?e:R(e);return O(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==p&&(p=0,c.replaceState(_({},c.state,{idx:p}),""));var m={get action(){return f},get location(){return t(s,c)},listen:function(e){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener(P,v),d=e,function(){s.removeEventListener(P,v),d=null}},createHref:function(e){return n(s,e)},createURL:y,encodeLocation:function(e){var t=y(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(t,n){f=e.Push;var i=D(m.location,t,n);r&&r(i,t);var a=A(i,p=h()+1),o=m.createHref(i);try{c.pushState(a,"",o)}catch(u){if(u instanceof DOMException&&"DataCloneError"===u.name)throw u;s.location.assign(o)}l&&d&&d({action:f,location:m.location,delta:1})},replace:function(t,n){f=e.Replace;var i=D(m.location,t,n);r&&r(i,t);var a=A(i,p=h()),o=m.createHref(i);c.replaceState(a,"",o),l&&d&&d({action:f,location:m.location,delta:0})},go:function(e){return c.go(e)}};return m}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(C||(C={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function F(e,t,n){void 0===n&&(n="/");var r=J(("string"===typeof t?N(t):t).pathname||"/",n);if(null==r)return null;var i=L(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=G(i[o],Y(r));return a}function L(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");var i=function(e,i,a){var o={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(O(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));var s=$([r,o.relativePath]),u=n.concat(o);e.children&&e.children.length>0&&(O(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),L(e.children,t,u,s)),(null!=e.path||e.index)&&t.push({path:s,score:q(s,e.index),routesMeta:u})};return e.forEach((function(e,t){var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?")){var r,a=k(B(e.path));try{for(a.s();!(r=a.n()).done;){var o=r.value;i(e,t,o)}}catch(s){a.e(s)}finally{a.f()}}else i(e,t)})),t}function B(e){var t=e.split("/");if(0===t.length)return[];var n,r=a(n=t)||c(n)||s(n)||u(),i=r[0],o=r.slice(1),l=i.endsWith("?"),d=i.replace(/\?$/,"");if(0===o.length)return l?[d,""]:[d];var p=B(o.join("/")),h=[];return h.push.apply(h,f(p.map((function(e){return""===e?d:[d,e].join("/")})))),l&&h.push.apply(h,f(p)),h.map((function(t){return e.startsWith("/")&&""===t?"/":t}))}var j=/^:\w+$/,z=3,W=2,V=1,U=10,K=-2,H=function(e){return"*"===e};function q(e,t){var n=e.split("/"),r=n.length;return n.some(H)&&(r+=K),t&&(r+=W),n.filter((function(e){return!H(e)})).reduce((function(e,t){return e+(j.test(t)?z:""===t?V:U)}),r)}function G(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var s=n[o],u=o===n.length-1,l="/"===i?t:t.slice(i.length)||"/",c=X({path:s.relativePath,caseSensitive:s.caseSensitive,end:u},l);if(!c)return null;Object.assign(r,c.params);var f=s.route;a.push({params:r,pathname:$([i,c.pathname]),pathnameBase:Q($([i,c.pathnameBase])),route:f}),"/"!==c.pathnameBase&&(i=$([i,c.pathnameBase]))}return a}function X(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);I("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(function(e,t){return r.push(t),"/([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");var a=new RegExp(i,t?void 0:"i");return[a,r]}(e.path,e.caseSensitive,e.end),r=l(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var s=o[0],u=s.replace(/(.)\/+$/,"$1"),c=o.slice(1);return{params:a.reduce((function(e,t,n){if("*"===t){var r=c[n]||"";u=s.slice(0,s.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return I(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(c[n]||"",t),e}),{}),pathname:s,pathnameBase:u,pattern:e}}function Y(e){try{return decodeURI(e)}catch(t){return I(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function J(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}var $=function(e){return e.join("/").replace(/\/\/+/g,"/")},Q=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},Z=function(e){g(n,e);var t=S(n);function n(){return d(this,n),t.apply(this,arguments)}return y(n)}(E(Error));function ee(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var te=["post","put","patch","delete"],ne=(new Set(te),["get"].concat(te));new Set(ne),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function re(){return re=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},re.apply(this,arguments)}var ie=t.createContext(null);var ae=t.createContext(null);var oe=t.createContext(null);var se=t.createContext(null);var ue=t.createContext(null);var le=t.createContext({outlet:null,matches:[],isDataRoute:!1});var ce=t.createContext(null);function fe(){return null!=t.useContext(ue)}function de(){return fe()||O(!1),t.useContext(ue).location}function pe(n,r,i){fe()||O(!1);var a,o=t.useContext(se).navigator,s=t.useContext(le).matches,u=s[s.length-1],l=u?u.params:{},c=(u&&u.pathname,u?u.pathnameBase:"/"),f=(u&&u.route,de());if(r){var d,p="string"===typeof r?N(r):r;"/"===c||(null==(d=p.pathname)?void 0:d.startsWith(c))||O(!1),a=p}else a=f;var h=a.pathname||"/",v=F(n,{pathname:"/"===c?h:h.slice(c.length)||"/"});var y=ge(v&&v.map((function(e){return Object.assign({},e,{params:Object.assign({},l,e.params),pathname:$([c,o.encodeLocation?o.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?c:$([c,o.encodeLocation?o.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})})),s,i);return r&&y?t.createElement(ue.Provider,{value:{location:re({pathname:"/",search:"",hash:"",state:null,key:"default"},a),navigationType:e.Pop}},y):y}function he(){var e=function(){var e,n=t.useContext(ce),r=xe(be.UseRouteError),i=we(be.UseRouteError);if(n)return n;return null==(e=r.errors)?void 0:e[i]}(),n=ee(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i};return t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),r?t.createElement("pre",{style:a},r):null,null)}var ve=t.createElement(he,null),ye=function(e){g(r,e);var n=S(r);function r(e){var t;return d(this,r),(t=n.call(this,e)).state={location:e.location,revalidation:e.revalidation,error:e.error},t}return y(r,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return this.state.error?t.createElement(le.Provider,{value:this.props.routeContext},t.createElement(ce.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}}]),r}(t.Component);function me(e){var n=e.routeContext,r=e.match,i=e.children,a=t.useContext(ie);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),t.createElement(le.Provider,{value:n},i)}function ge(e,n,r){var i;if(void 0===n&&(n=[]),void 0===r&&(r=null),null==e){var a;if(null==(a=r)||!a.errors)return null;e=r.matches}var o=e,s=null==(i=r)?void 0:i.errors;if(null!=s){var u=o.findIndex((function(e){return e.route.id&&(null==s?void 0:s[e.route.id])}));u>=0||O(!1),o=o.slice(0,Math.min(o.length,u+1))}return o.reduceRight((function(e,i,a){var u=i.route.id?null==s?void 0:s[i.route.id]:null,l=null;r&&(l=i.route.errorElement||ve);var c=n.concat(o.slice(0,a+1)),f=function(){var n;return n=u?l:i.route.Component?t.createElement(i.route.Component,null):i.route.element?i.route.element:e,t.createElement(me,{match:i,routeContext:{outlet:e,matches:c,isDataRoute:null!=r},children:n})};return r&&(i.route.ErrorBoundary||i.route.errorElement||0===a)?t.createElement(ye,{location:r.location,revalidation:r.revalidation,component:l,error:u,children:f(),routeContext:{outlet:null,matches:c,isDataRoute:!0}}):f()}),null)}var be=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(be||{});function xe(e){var n=t.useContext(ae);return n||O(!1),n}function we(e){var n=function(e){var n=t.useContext(le);return n||O(!1),n}(),r=n.matches[n.matches.length-1];return r.route.id||O(!1),r.route.id}r.startTransition;function Se(e){O(!1)}function Te(n){var r=n.basename,i=void 0===r?"/":r,a=n.children,o=void 0===a?null:a,s=n.location,u=n.navigationType,l=void 0===u?e.Pop:u,c=n.navigator,f=n.static,d=void 0!==f&&f;fe()&&O(!1);var p=i.replace(/^\/*/,"/"),h=t.useMemo((function(){return{basename:p,navigator:c,static:d}}),[p,c,d]);"string"===typeof s&&(s=N(s));var v=s,y=v.pathname,m=void 0===y?"/":y,g=v.search,b=void 0===g?"":g,x=v.hash,w=void 0===x?"":x,S=v.state,T=void 0===S?null:S,E=v.key,k=void 0===E?"default":E,_=t.useMemo((function(){var e=J(m,p);return null==e?null:{location:{pathname:e,search:b,hash:w,state:T,key:k},navigationType:l}}),[p,m,b,w,T,k,l]);return null==_?null:t.createElement(se.Provider,{value:h},t.createElement(ue.Provider,{children:o,value:_}))}function Ee(e){var t=e.children,n=e.location;return pe(Ce(t),n)}var ke=function(e){return e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error",e}(ke||{}),_e=new Promise((function(){}));t.Component;function Ce(e,n){void 0===n&&(n=[]);var r=[];return t.Children.forEach(e,(function(e,i){if(t.isValidElement(e)){var a=[].concat(f(n),[i]);if(e.type!==t.Fragment){e.type!==Se&&O(!1),e.props.index&&e.props.children&&O(!1);var o={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=Ce(e.props.children,a)),r.push(o)}else r.push.apply(r,Ce(e.props.children,a))}})),r}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);var Pe=r.startTransition;function Oe(e){var n=e.basename,r=e.children,i=e.future,a=e.window,o=t.useRef();null==o.current&&(o.current=function(e){return void 0===e&&(e={}),M((function(e,t){var n=e.location;return D("",{pathname:n.pathname,search:n.search,hash:n.hash},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:R(t)}),null,e)}({window:a,v5Compat:!0}));var s=o.current,u=l(t.useState({action:s.action,location:s.location}),2),c=u[0],f=u[1],d=(i||{}).v7_startTransition,p=t.useCallback((function(e){d&&Pe?Pe((function(){return f(e)})):f(e)}),[f,d]);return t.useLayoutEffect((function(){return s.listen(p)}),[s,p]),t.createElement(Te,{basename:n,children:r,location:c.location,navigationType:c.action,navigator:s})}"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;var Ie,Ae;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher"})(Ie||(Ie={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Ae||(Ae={}));function De(){De=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var a=t&&t.prototype instanceof g?t:g,o=Object.create(a.prototype),s=new A(r||[]);return i(o,"_invoke",{value:C(e,n,s)}),o}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=c;var d="suspendedStart",h="suspendedYield",v="executing",y="completed",m={};function g(){}function b(){}function x(){}var w={};l(w,o,(function(){return this}));var S=Object.getPrototypeOf,T=S&&S(S(D([])));T&&T!==n&&r.call(T,o)&&(w=T);var E=x.prototype=g.prototype=Object.create(w);function k(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function n(i,a,o,s){var u=f(e[i],e,a);if("throw"!==u.type){var l=u.arg,c=l.value;return c&&"object"==p(c)&&r.call(c,"__await")?t.resolve(c.__await).then((function(e){n("next",e,o,s)}),(function(e){n("throw",e,o,s)})):t.resolve(c).then((function(e){l.value=e,o(l)}),(function(e){return n("throw",e,o,s)}))}s(u.arg)}var a;i(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return a=a?a.then(i,i):i()}})}function C(t,n,r){var i=d;return function(a,o){if(i===v)throw new Error("Generator is already running");if(i===y){if("throw"===a)throw o;return{value:e,done:!0}}for(r.method=a,r.arg=o;;){var s=r.delegate;if(s){var u=P(s,r);if(u){if(u===m)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===d)throw i=y,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=v;var l=f(t,n,r);if("normal"===l.type){if(i=r.done?y:h,l.arg===m)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(i=y,r.method="throw",r.arg=l.arg)}}}function P(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,P(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var a=f(i,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,m;var o=a.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,m):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function D(t){if(t||""===t){var n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(p(t)+" is not iterable")}return b.prototype=x,i(E,"constructor",{value:x,configurable:!0}),i(x,"constructor",{value:b,configurable:!0}),b.displayName=l(x,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,x):(e.__proto__=x,l(e,u,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},k(_.prototype),l(_.prototype,s,(function(){return this})),t.AsyncIterator=_,t.async=function(e,n,r,i,a){void 0===a&&(a=Promise);var o=new _(c(e,n,r,i),a);return t.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},k(E),l(E,u,"Generator"),l(E,o,(function(){return this})),l(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=D,A.prototype={constructor:A,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(I),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return s.type="throw",s.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var u=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(u&&l){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),I(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;I(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:D(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),m}},t}function Re(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(l){return void n(l)}s.done?t(u):Promise.resolve(u).then(r,i)}function Ne(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){Re(a,r,i,o,s,"next",e)}function s(e){Re(a,r,i,o,s,"throw",e)}o(void 0)}))}}function Me(e,t,n){return(t=h(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fe(Object(n),!0).forEach((function(t){Me(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Be(){return Be="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=b(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Be.apply(this,arguments)}var je="generated",ze="pointerleave",We="pointermove",Ve="touchend",Ue="tsParticles - Error";function Ke(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function He(e,t){if(null==e)return{};var n,r,i=Ke(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var qe=function(){function e(t,n,r){var i=this;if(d(this,e),this._updateFromAngle=function(e,t){i.x=Math.cos(e)*t,i.y=Math.sin(e)*t},!zt(t)&&t){this.x=t.x,this.y=t.y;var a=t;this.z=a.z?a.z:0}else{if(void 0===t||void 0===n)throw new Error("".concat(Ue," Vector3d not initialized correctly"));this.x=t,this.y=n,this.z=null!==r&&void 0!==r?r:0}}return y(e,[{key:"angle",get:function(){return Math.atan2(this.y,this.x)},set:function(e){this._updateFromAngle(e,this.length)}},{key:"length",get:function(){return Math.sqrt(this.getLengthSq())},set:function(e){this._updateFromAngle(this.angle,e)}},{key:"add",value:function(t){return e.create(this.x+t.x,this.y+t.y,this.z+t.z)}},{key:"addTo",value:function(e){this.x+=e.x,this.y+=e.y,this.z+=e.z}},{key:"copy",value:function(){return e.clone(this)}},{key:"distanceTo",value:function(e){return this.sub(e).length}},{key:"distanceToSq",value:function(e){return this.sub(e).getLengthSq()}},{key:"div",value:function(t){return e.create(this.x/t,this.y/t,this.z/t)}},{key:"divTo",value:function(e){this.x/=e,this.y/=e,this.z/=e}},{key:"getLengthSq",value:function(){return Math.pow(this.x,2)+Math.pow(this.y,2)}},{key:"mult",value:function(t){return e.create(this.x*t,this.y*t,this.z*t)}},{key:"multTo",value:function(e){this.x*=e,this.y*=e,this.z*=e}},{key:"normalize",value:function(){var e=this.length;0!=e&&this.multTo(1/e)}},{key:"rotate",value:function(t){return e.create(this.x*Math.cos(t)-this.y*Math.sin(t),this.x*Math.sin(t)+this.y*Math.cos(t),0)}},{key:"setTo",value:function(e){this.x=e.x,this.y=e.y;var t=e;this.z=t.z?t.z:0}},{key:"sub",value:function(t){return e.create(this.x-t.x,this.y-t.y,this.z-t.z)}},{key:"subFrom",value:function(e){this.x-=e.x,this.y-=e.y,this.z-=e.z}}],[{key:"origin",get:function(){return e.create(0,0,0)}},{key:"clone",value:function(t){return e.create(t.x,t.y,t.z)}},{key:"create",value:function(t,n,r){return new e(t,n,r)}}]),e}(),Ge=function(e){g(n,e);var t=S(n);function n(e,r){return d(this,n),t.call(this,e,r,0)}return y(n,null,[{key:"origin",get:function(){return n.create(0,0)}},{key:"clone",value:function(e){return n.create(e.x,e.y)}},{key:"create",value:function(e,t){return new n(e,t)}}]),n}(qe),Xe=Math.random,Ye=new Map;function Je(e,t){Ye.get(e)||Ye.set(e,t)}function $e(e){return Ye.get(e)||function(e){return e}}function Qe(){return Ze(Xe(),0,1-1e-16)}function Ze(e,t,n){return Math.min(Math.max(e,t),n)}function et(e,t,n,r){return Math.floor((e*n+t*r)/(n+r))}function tt(e){var t=it(e),n=rt(e);return t===n&&(n=0),Qe()*(t-n)+n}function nt(e){return zt(e)?e:tt(e)}function rt(e){return zt(e)?e:e.min}function it(e){return zt(e)?e:e.max}function at(e,t){if(e===t||void 0===t&&zt(e))return e;var n=rt(e),r=it(e);return void 0!==t?{min:Math.min(n,t),max:Math.max(r,t)}:at(n,r)}function ot(e){var t=e.random,n=Bt(t)?{enable:t,minimumValue:0}:t,r=n.enable,i=n.minimumValue;return nt(r?at(e.value,i):e.value)}function st(e,t){var n=e.x-t.x,r=e.y-t.y;return{dx:n,dy:r,distance:Math.sqrt(Math.pow(n,2)+Math.pow(r,2))}}function ut(e,t){return st(e,t).distance}function lt(e,t,n,r){return Ge.create(e.x*(n-r)/(n+r)+2*t.x*r/(n+r),e.y)}function ct(e){var t,n,r,i;return{x:null!==(t=null===(n=e.position)||void 0===n?void 0:n.x)&&void 0!==t?t:Qe()*e.size.width,y:null!==(r=null===(i=e.position)||void 0===i?void 0:i.y)&&void 0!==r?r:Qe()*e.size.height}}function ft(e){return e?e.endsWith("%")?parseFloat(e)/100:parseFloat(e):1}var dt=["mode"],pt={debug:console.debug,error:console.error,info:console.info,log:console.log,verbose:console.log,warning:console.warn};function ht(){return pt}function vt(e){var t={bounced:!1},n=e.pSide,r=e.pOtherSide,i=e.rectSide,a=e.rectOtherSide,o=e.velocity,s=e.factor;return r.min<a.min||r.min>a.max||r.max<a.min||r.max>a.max||(n.max>=i.min&&n.max<=(i.max+i.min)/2&&o>0||n.min<=i.max&&n.min>(i.max+i.min)/2&&o<0)&&(t.velocity=o*-s,t.bounced=!0),t}function yt(){return"undefined"===typeof window||!window||"undefined"===typeof window.document||!window.document}function mt(e){if(!yt()&&"undefined"!==typeof matchMedia)return matchMedia(e)}function gt(e){if(!yt()&&"undefined"!==typeof MutationObserver)return new MutationObserver(e)}function bt(e,t){return e===t||Ut(t)&&t.indexOf(e)>-1}function xt(e,t){return wt.apply(this,arguments)}function wt(){return(wt=Ne(De().mark((function e(t,n){return De().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,document.fonts.load("".concat(null!==n&&void 0!==n?n:"400"," 36px '").concat(null!==t&&void 0!==t?t:"Verdana","'"));case 3:e.next=7;break;case 5:e.prev=5,e.t0=e.catch(0);case 7:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}function St(e,t){return e[void 0!==t&&(!(arguments.length>2&&void 0!==arguments[2])||arguments[2])?t%e.length:function(e){return Math.floor(Qe()*e.length)}(e)]}function Tt(e,t,n,r,i){return function(e,t,n,r){var i=!0;r&&"bottom"!==r||(i=e.top<t.height+n.x);!i||r&&"left"!==r||(i=e.right>n.x);!i||r&&"right"!==r||(i=e.left<t.width+n.y);!i||r&&"top"!==r||(i=e.bottom>n.y);return i}(Et(e,null!==r&&void 0!==r?r:0),t,n,i)}function Et(e,t){return{bottom:e.y+t,left:e.x-t,right:e.x+t,top:e.y-t}}function kt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];if(void 0!==o&&null!==o)if(Vt(o)){var s=Array.isArray(o);!s||!Vt(e)&&e&&Array.isArray(e)?s||!Vt(e)&&e&&!Array.isArray(e)||(e={}):e=[];var u=function(t){if("__proto__"===t)return 1;var n=o[t],r=e;r[t]=Vt(n)&&Array.isArray(n)?n.map((function(e){return kt(r[t],e)})):kt(r[t],n)};for(var l in o)u(l)}else e=o}return e}function _t(e,t){return!!Nt(t,(function(t){return t.enable&&bt(e,t.mode)}))}function Ct(e,t,n){Dt(t,(function(t){var r=t.mode;t.enable&&bt(e,r)&&function(e,t){var n=e.selectors;Dt(n,(function(n){t(n,e)}))}(t,n)}))}function Pt(e,t){if(t&&e)return Nt(e,(function(e){return function(e,t){var n=Dt(t,(function(t){return e.matches(t)}));return Ut(n)?n.some((function(e){return e})):n}(t,e.selectors)}))}function Ot(e){return{position:e.getPosition(),radius:e.getRadius(),mass:e.getMass(),velocity:e.velocity,factor:Ge.create(ot(e.options.bounce.horizontal),ot(e.options.bounce.vertical))}}function It(e,t){var n=e.velocity.sub(t.velocity),r=n.x,i=n.y,a=[e.position,t.position],o=st(a[1],a[0]),s=o.dx,u=o.dy;if(!(r*s+i*u<0)){var l=-Math.atan2(u,s),c=e.mass,f=t.mass,d=e.velocity.rotate(l),p=t.velocity.rotate(l),h=lt(d,p,c,f),v=lt(p,d,c,f),y=h.rotate(-l),m=v.rotate(-l);e.velocity.x=y.x*e.factor.x,e.velocity.y=y.y*e.factor.y,t.velocity.x=m.x*t.factor.x,t.velocity.y=m.y*t.factor.y}}function At(e,t){var n=Et(e.getPosition(),e.getRadius()),r=vt({pSide:{min:n.left,max:n.right},pOtherSide:{min:n.top,max:n.bottom},rectSide:{min:t.left,max:t.right},rectOtherSide:{min:t.top,max:t.bottom},velocity:e.velocity.x,factor:ot(e.options.bounce.horizontal)});r.bounced&&(void 0!==r.velocity&&(e.velocity.x=r.velocity),void 0!==r.position&&(e.position.x=r.position));var i=vt({pSide:{min:n.top,max:n.bottom},pOtherSide:{min:n.left,max:n.right},rectSide:{min:t.top,max:t.bottom},rectOtherSide:{min:t.left,max:t.right},velocity:e.velocity.y,factor:ot(e.options.bounce.vertical)});i.bounced&&(void 0!==i.velocity&&(e.velocity.y=i.velocity),void 0!==i.position&&(e.position.y=i.position))}function Dt(e,t){return Ut(e)?e.map((function(e,n){return t(e,n)})):t(e,0)}function Rt(e,t,n){return Ut(e)?St(e,t,n):e}function Nt(e,t){return Ut(e)?e.find((function(e,n){return t(e,n)})):t(e,0)?e:void 0}function Mt(e,t){var n=e.value,r=e.animation,i={delayTime:1e3*nt(r.delay),enable:r.enable,value:nt(e.value)*t,max:it(n)*t,min:rt(n)*t,loops:0,maxLoops:nt(r.count),time:0};if(r.enable){switch(i.decay=1-nt(r.decay),r.mode){case"increase":i.status="increasing";break;case"decrease":i.status="decreasing";break;case"random":i.status=Qe()>=.5?"increasing":"decreasing"}var a="auto"===r.mode;switch(r.startValue){case"min":i.value=i.min,a&&(i.status="increasing");break;case"max":i.value=i.max,a&&(i.status="decreasing");break;default:i.value=tt(i),a&&(i.status=Qe()>=.5?"increasing":"decreasing")}}return i.initialValue=i.value,i}function Ft(e,t){if(!("percent"===e.mode)){e.mode;return He(e,dt)}return"x"in e?{x:e.x/100*t.width,y:e.y/100*t.height}:{width:e.width/100*t.width,height:e.height/100*t.height}}function Lt(e,t){return Ft(e,t)}function Bt(e){return"boolean"===typeof e}function jt(e){return"string"===typeof e}function zt(e){return"number"===typeof e}function Wt(e){return"function"===typeof e}function Vt(e){return"object"===typeof e&&null!==e}function Ut(e){return Array.isArray(e)}var Kt="random",Ht="mid",qt=new Map;function Gt(e){qt.set(e.key,e)}function Xt(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function Yt(e){var t,n=k(qt);try{for(n.s();!(t=n.n()).done;){var r=l(t.value,2)[1];if(e.startsWith(r.stringPrefix))return r.parseString(e)}}catch(o){n.e(o)}finally{n.f()}var i=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])([a-f\d])?$/i,(function(e,t,n,r,i){return t+t+n+n+r+r+(void 0!==i?i+i:"")})),a=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})?$/i.exec(i);return a?{a:void 0!==a[4]?parseInt(a[4],16)/255:1,b:parseInt(a[3],16),g:parseInt(a[2],16),r:parseInt(a[1],16)}:void 0}function Jt(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(e){var r=jt(e)?{value:e}:e;if(jt(r.value))return $t(r.value,t,n);if(Ut(r.value))return Jt({value:St(r.value,t,n)});var i,a=k(qt);try{for(a.s();!(i=a.n()).done;){var o=l(i.value,2)[1].handleRangeColor(r);if(o)return o}}catch(s){a.e(s)}finally{a.f()}}}function $t(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(e){var r=jt(e)?{value:e}:e;if(jt(r.value))return r.value===Kt?tn():function(e){return Yt(e)}(r.value);if(Ut(r.value))return $t({value:St(r.value,t,n)});var i,a=k(qt);try{for(a.s();!(i=a.n()).done;){var o=l(i.value,2)[1].handleColor(r);if(o)return o}}catch(s){a.e(s)}finally{a.f()}}}function Qt(e,t){var n=Jt(e,t,!(arguments.length>2&&void 0!==arguments[2])||arguments[2]);return n?Zt(n):void 0}function Zt(e){var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.max(t,n,r),a=Math.min(t,n,r),o={h:0,l:(i+a)/2,s:0};return i!==a&&(o.s=o.l<.5?(i-a)/(i+a):(i-a)/(2-i-a),o.h=t===i?(n-r)/(i-a):o.h=n===i?2+(r-t)/(i-a):4+(t-n)/(i-a)),o.l*=100,o.s*=100,o.h*=60,o.h<0&&(o.h+=360),o.h>=360&&(o.h-=360),o}function en(e){var t={b:0,g:0,r:0},n={h:e.h/360,l:e.l/100,s:e.s/100};if(n.s){var r=n.l<.5?n.l*(1+n.s):n.l+n.s-n.l*n.s,i=2*n.l-r;t.r=Xt(i,r,n.h+1/3),t.g=Xt(i,r,n.h),t.b=Xt(i,r,n.h-1/3)}else t.r=t.g=t.b=n.l;return t.r=Math.floor(255*t.r),t.g=Math.floor(255*t.g),t.b=Math.floor(255*t.b),t}function tn(e){var t=null!==e&&void 0!==e?e:0;return{b:Math.floor(tt(at(t,256))),g:Math.floor(tt(at(t,256))),r:Math.floor(tt(at(t,256)))}}function nn(e,t){return"rgba(".concat(e.r,", ").concat(e.g,", ").concat(e.b,", ").concat(null!==t&&void 0!==t?t:1,")")}function rn(e,t){return"hsla(".concat(e.h,", ").concat(e.s,"%, ").concat(e.l,"%, ").concat(null!==t&&void 0!==t?t:1,")")}function an(e,t,n,r){var i=e,a=t;return void 0===i.r&&(i=en(e)),void 0===a.r&&(a=en(t)),{b:et(i.b,a.b,n,r),g:et(i.g,a.g,n,r),r:et(i.r,a.r,n,r)}}function on(e,t,n){if(n===Kt)return tn();if(n!==Ht)return n;var r,i,a=null!==(r=e.getFillColor())&&void 0!==r?r:e.getStrokeColor(),o=null!==(i=null===t||void 0===t?void 0:t.getFillColor())&&void 0!==i?i:null===t||void 0===t?void 0:t.getStrokeColor();if(a&&o&&t)return an(a,o,e.getRadius(),t.getRadius());var s=null!==a&&void 0!==a?a:o;return s?en(s):void 0}function sn(e,t,n){var r=jt(e)?e:e.value;return r===Kt?n?Jt({value:r}):t?Kt:Ht:r===Ht?Ht:Jt({value:r})}function un(e){return void 0!==e?{h:e.h.value,s:e.s.value,l:e.l.value}:void 0}function ln(e,t,n){var r={h:{enable:!1,value:e.h},s:{enable:!1,value:e.s},l:{enable:!1,value:e.l}};return t&&(cn(r.h,t.h,n),cn(r.s,t.s,n),cn(r.l,t.l,n)),r}function cn(e,t,n){e.enable=t.enable,e.enable?(e.velocity=nt(t.speed)/100*n,e.decay=1-nt(t.decay),e.status="increasing",e.loops=0,e.maxLoops=nt(t.count),e.time=0,e.delayTime=1e3*nt(t.delay),t.sync||(e.velocity*=Qe(),e.value*=Qe()),e.initialValue=e.value):e.velocity=0}function fn(e,t,n){e.beginPath(),e.moveTo(t.x,t.y),e.lineTo(n.x,n.y),e.closePath()}function dn(e,t){e.clearRect(0,0,t.width,t.height)}function pn(e,t,n){var r,i=t[n];void 0!==i&&(e[n]=(null!==(r=e[n])&&void 0!==r?r:1)*i)}var hn=function(){function e(t){var n=this;d(this,e),this.container=t,this._applyPostDrawUpdaters=function(e){var t,r=k(n._postDrawUpdaters);try{for(r.s();!(t=r.n()).done;){var i=t.value;i.afterDraw&&i.afterDraw(e)}}catch(a){r.e(a)}finally{r.f()}},this._applyPreDrawUpdaters=function(e,t,r,i,a,o){var s,u=k(n._preDrawUpdaters);try{for(u.s();!(s=u.n()).done;){var l=s.value;if(l.getColorStyles){var c=l.getColorStyles(t,e,r,i),f=c.fill,d=c.stroke;f&&(a.fill=f),d&&(a.stroke=d)}if(l.getTransformValues){var p=l.getTransformValues(t);for(var h in p)pn(o,p,h)}l.beforeDraw&&l.beforeDraw(t)}}catch(v){u.e(v)}finally{u.f()}},this._applyResizePlugins=function(){var e,t=k(n._resizePlugins);try{for(t.s();!(e=t.n()).done;){var r=e.value;r.resize&&r.resize()}}catch(i){t.e(i)}finally{t.f()}},this._getPluginParticleColors=function(e){var t,r,i,a=k(n._colorPlugins);try{for(a.s();!(i=a.n()).done;){var o=i.value;if(!t&&o.particleFillColor&&(t=Qt(o.particleFillColor(e))),!r&&o.particleStrokeColor&&(r=Qt(o.particleStrokeColor(e))),t&&r)break}}catch(s){a.e(s)}finally{a.f()}return[t,r]},this._initCover=function(){var e=n.container.actualOptions.backgroundMask.cover,t=Jt(e.color);if(t){var r=Le(Le({},t),{},{a:e.opacity});n._coverColorStyle=nn(r,r.a)}},this._initStyle=function(){var e=n.element,t=n.container.actualOptions;if(e)for(var r in n._fullScreen?(n._originalStyle=kt({},e.style),n._setFullScreenStyle()):n._resetOriginalStyle(),t.style)if(r&&t.style){var i=t.style[r];i&&e.style.setProperty(r,i,"important")}},this._initTrail=Ne(De().mark((function e(){var t,r,i,a,o;return De().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.container.actualOptions,r=t.particles.move.trail,i=r.fill,r.enable){e.next=3;break}return e.abrupt("return");case 3:if(!i.color){e.next=11;break}if(a=Jt(i.color)){e.next=7;break}return e.abrupt("return");case 7:o=t.particles.move.trail,n._trailFill={color:Le({},a),opacity:1/o.length},e.next=13;break;case 11:return e.next=13,new Promise((function(e,t){if(i.image){var a=document.createElement("img");a.addEventListener("load",(function(){n._trailFill={image:a,opacity:1/r.length},e()})),a.addEventListener("error",(function(e){t(e.error)})),a.src=i.image}}));case 13:case"end":return e.stop()}}),e)}))),this._paintBase=function(e){n.draw((function(t){return function(e,t,n){e.fillStyle=null!==n&&void 0!==n?n:"rgba(0,0,0,0)",e.fillRect(0,0,t.width,t.height)}(t,n.size,e)}))},this._paintImage=function(e,t){n.draw((function(r){return function(e,t,n,r){n&&(e.globalAlpha=r,e.drawImage(n,0,0,t.width,t.height),e.globalAlpha=1)}(r,n.size,e,t)}))},this._repairStyle=function(){var e=n.element;e&&(n._safeMutationObserver((function(e){return e.disconnect()})),n._initStyle(),n.initBackground(),n._safeMutationObserver((function(t){return t.observe(e,{attributes:!0})})))},this._resetOriginalStyle=function(){var e=n.element,t=n._originalStyle;if(e&&t){var r=e.style;r.position=t.position,r.zIndex=t.zIndex,r.top=t.top,r.left=t.left,r.width=t.width,r.height=t.height}},this._safeMutationObserver=function(e){n._mutationObserver&&e(n._mutationObserver)},this._setFullScreenStyle=function(){var e=n.element;if(e){var t="important",r=e.style;r.setProperty("position","fixed",t),r.setProperty("z-index",n.container.actualOptions.fullScreen.zIndex.toString(10),t),r.setProperty("top","0",t),r.setProperty("left","0",t),r.setProperty("width","100%",t),r.setProperty("height","100%",t)}},this.size={height:0,width:0},this._context=null,this._generated=!1,this._preDrawUpdaters=[],this._postDrawUpdaters=[],this._resizePlugins=[],this._colorPlugins=[]}return y(e,[{key:"_fullScreen",get:function(){return this.container.actualOptions.fullScreen.enable}},{key:"clear",value:function(){var e=this,t=this.container.actualOptions,n=t.particles.move.trail,r=this._trailFill;t.backgroundMask.enable?this.paint():n.enable&&n.length>0&&r?r.color?this._paintBase(nn(r.color,r.opacity)):r.image&&this._paintImage(r.image,r.opacity):this.draw((function(t){dn(t,e.size)}))}},{key:"destroy",value:function(){if(this.stop(),this._generated){var e=this.element;e&&e.remove()}else this._resetOriginalStyle();this._preDrawUpdaters=[],this._postDrawUpdaters=[],this._resizePlugins=[],this._colorPlugins=[]}},{key:"draw",value:function(e){var t=this._context;if(t)return e(t)}},{key:"drawParticle",value:function(e,t){var n,r=this;if(!e.spawning&&!e.destroyed){var i=e.getRadius();if(!(i<=0)){var a=e.getFillColor(),o=null!==(n=e.getStrokeColor())&&void 0!==n?n:a,s=l(this._getPluginParticleColors(e),2),u=s[0],c=s[1];u||(u=a),c||(c=o),(u||c)&&this.draw((function(n){var a,o,s,l,f=r.container,d=f.actualOptions,p=e.options.zIndex,h=Math.pow(1-e.zIndexFactor,p.opacityRate),v=null!==(a=null!==(o=e.bubble.opacity)&&void 0!==o?o:null===(s=e.opacity)||void 0===s?void 0:s.value)&&void 0!==a?a:1,y=v*h,m=(null!==(l=e.strokeOpacity)&&void 0!==l?l:v)*h,g={},b={fill:u?rn(u,y):void 0};b.stroke=c?rn(c,m):b.fill,r._applyPreDrawUpdaters(n,e,i,y,b,g),function(e){var t,n,r,i,a,o=e.container,s=e.context,u=e.particle,l=e.delta,c=e.colorStyles,f=e.backgroundMask,d=e.composite,p=e.radius,h=e.opacity,v=e.shadow,y=e.transform,m=u.getPosition(),g=u.rotation+(u.pathRotation?u.velocity.angle:0),b=Math.sin(g),x=Math.cos(g),w={a:x*(null!==(t=y.a)&&void 0!==t?t:1),b:b*(null!==(n=y.b)&&void 0!==n?n:1),c:-b*(null!==(r=y.c)&&void 0!==r?r:1),d:x*(null!==(i=y.d)&&void 0!==i?i:1)};s.setTransform(w.a,w.b,w.c,w.d,m.x,m.y),s.beginPath(),f&&(s.globalCompositeOperation=d);var S=u.shadowColor;v.enable&&S&&(s.shadowBlur=v.blur,s.shadowColor=nn(S),s.shadowOffsetX=v.offset.x,s.shadowOffsetY=v.offset.y),c.fill&&(s.fillStyle=c.fill);var T=null!==(a=u.strokeWidth)&&void 0!==a?a:0;s.lineWidth=T,c.stroke&&(s.strokeStyle=c.stroke),function(e,t,n,r,i,a){if(n.shape){var o=e.drawers.get(n.shape);o&&o.draw(t,n,r,i,a,e.retina.pixelRatio)}}(o,s,u,p,h,l),T>0&&s.stroke(),u.close&&s.closePath(),u.fill&&s.fill(),function(e,t,n,r,i,a){if(n.shape){var o=e.drawers.get(n.shape);o&&o.afterEffect&&o.afterEffect(t,n,r,i,a,e.retina.pixelRatio)}}(o,s,u,p,h,l),s.globalCompositeOperation="source-over",s.setTransform(1,0,0,1,0,0)}({container:f,context:n,particle:e,delta:t,colorStyles:b,backgroundMask:d.backgroundMask.enable,composite:d.backgroundMask.composite,radius:i*Math.pow(1-e.zIndexFactor,p.sizeRate),opacity:y,shadow:e.options.shadow,transform:g}),r._applyPostDrawUpdaters(e)}))}}}},{key:"drawParticlePlugin",value:function(e,t,n){this.draw((function(r){return function(e,t,n,r){t.drawParticle&&t.drawParticle(e,n,r)}(r,e,t,n)}))}},{key:"drawPlugin",value:function(e,t){this.draw((function(n){return function(e,t,n){t.draw&&t.draw(e,n)}(n,e,t)}))}},{key:"init",value:function(){var e=Ne(De().mark((function e(){var t=this;return De().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._safeMutationObserver((function(e){return e.disconnect()})),this._mutationObserver=gt((function(e){var n,r=k(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;"attributes"===i.type&&"style"===i.attributeName&&t._repairStyle()}}catch(a){r.e(a)}finally{r.f()}})),this.resize(),this._initStyle(),this._initCover(),e.prev=5,e.next=8,this._initTrail();case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(5),ht().error(e.t0);case 13:this.initBackground(),this._safeMutationObserver((function(e){t.element&&e.observe(t.element,{attributes:!0})})),this.initUpdaters(),this.initPlugins(),this.paint();case 18:case"end":return e.stop()}}),e,this,[[5,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"initBackground",value:function(){var e=this.container.actualOptions.background,t=this.element;if(t){var n=t.style;if(n){if(e.color){var r=Jt(e.color);n.backgroundColor=r?nn(r,e.opacity):""}else n.backgroundColor="";n.backgroundImage=e.image||"",n.backgroundPosition=e.position||"",n.backgroundRepeat=e.repeat||"",n.backgroundSize=e.size||""}}}},{key:"initPlugins",value:function(){this._resizePlugins=[];var e,t=k(this.container.plugins);try{for(t.s();!(e=t.n()).done;){var n=l(e.value,2)[1];n.resize&&this._resizePlugins.push(n),(n.particleFillColor||n.particleStrokeColor)&&this._colorPlugins.push(n)}}catch(r){t.e(r)}finally{t.f()}}},{key:"initUpdaters",value:function(){this._preDrawUpdaters=[],this._postDrawUpdaters=[];var e,t=k(this.container.particles.updaters);try{for(t.s();!(e=t.n()).done;){var n=e.value;n.afterDraw&&this._postDrawUpdaters.push(n),(n.getColorStyles||n.getTransformValues||n.beforeDraw)&&this._preDrawUpdaters.push(n)}}catch(r){t.e(r)}finally{t.f()}}},{key:"loadCanvas",value:function(e){var t=this;this._generated&&this.element&&this.element.remove(),this._generated=e.dataset&&je in e.dataset?"true"===e.dataset[je]:this._generated,this.element=e,this.element.ariaHidden="true",this._originalStyle=kt({},this.element.style),this.size.height=e.offsetHeight,this.size.width=e.offsetWidth,this._context=this.element.getContext("2d"),this._safeMutationObserver((function(e){t.element&&e.observe(t.element,{attributes:!0})})),this.container.retina.init(),this.initBackground()}},{key:"paint",value:function(){var e=this,t=this.container.actualOptions;this.draw((function(n){t.backgroundMask.enable&&t.backgroundMask.cover?(dn(n,e.size),e._paintBase(e._coverColorStyle)):e._paintBase()}))}},{key:"resize",value:function(){if(!this.element)return!1;var e=this.container,t=e.retina.pixelRatio,n=e.canvas.size,r=this.element.offsetWidth*t,i=this.element.offsetHeight*t;if(i===n.height&&r===n.width&&i===this.element.height&&r===this.element.width)return!1;var a=Le({},n);return this.element.width=n.width=this.element.offsetWidth*t,this.element.height=n.height=this.element.offsetHeight*t,this.container.started&&(this.resizeFactor={width:n.width/a.width,height:n.height/a.height}),!0}},{key:"stop",value:function(){var e=this;this._safeMutationObserver((function(e){return e.disconnect()})),this._mutationObserver=void 0,this.draw((function(t){return dn(t,e.size)}))}},{key:"windowResize",value:function(){var e=Ne(De().mark((function e(){var t,n;return De().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.element&&this.resize()){e.next=2;break}return e.abrupt("return");case 2:if(t=this.container,n=t.updateActualOptions(),t.particles.setDensity(),this._applyResizePlugins(),!n){e.next=8;break}return e.next=8,t.refresh();case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function vn(e,t,n,r,i){if(r){var a={passive:!0};Bt(i)?a.capture=i:void 0!==i&&(a=i),e.addEventListener(t,n,a)}else{var o=i;e.removeEventListener(t,n,o)}}var yn=function(){function e(t){var n=this;d(this,e),this.container=t,this._doMouseTouchClick=function(e){var t=n.container,r=t.actualOptions;if(n._canPush){var i=t.interactivity.mouse,a=i.position;if(!a)return;i.clickPosition=Le({},a),i.clickTime=(new Date).getTime(),Dt(r.interactivity.events.onClick.mode,(function(e){return n.container.handleClickMode(e)}))}"touchend"===e.type&&setTimeout((function(){return n._mouseTouchFinish()}),500)},this._handleThemeChange=function(e){var t=e,r=n.container,i=r.options,a=i.defaultThemes,o=t.matches?a.dark:a.light,s=i.themes.find((function(e){return e.name===o}));s&&s.default.auto&&r.loadTheme(o)},this._handleVisibilityChange=function(){var e=n.container,t=e.actualOptions;n._mouseTouchFinish(),t.pauseOnBlur&&(document&&document.hidden?(e.pageHidden=!0,e.pause()):(e.pageHidden=!1,e.getAnimationStatus()?e.play(!0):e.draw(!0)))},this._handleWindowResize=Ne(De().mark((function e(){return De().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n._resizeTimeout&&(clearTimeout(n._resizeTimeout),delete n._resizeTimeout),n._resizeTimeout=setTimeout(Ne(De().mark((function e(){var t;return De().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.container.canvas,e.t0=t,!e.t0){e.next=5;break}return e.next=5,t.windowResize();case 5:case"end":return e.stop()}}),e)}))),1e3*n.container.actualOptions.interactivity.events.resize.delay);case 2:case"end":return e.stop()}}),e)}))),this._manageInteractivityListeners=function(e,t){var r=n._handlers,i=n.container,a=i.actualOptions,o=i.interactivity.element;if(o){var s=o,u=i.canvas.element;u&&(u.style.pointerEvents=s===u?"initial":"none"),(a.interactivity.events.onHover.enable||a.interactivity.events.onClick.enable)&&(vn(o,We,r.mouseMove,t),vn(o,"touchstart",r.touchStart,t),vn(o,"touchmove",r.touchMove,t),a.interactivity.events.onClick.enable?(vn(o,Ve,r.touchEndClick,t),vn(o,"pointerup",r.mouseUp,t),vn(o,"pointerdown",r.mouseDown,t)):vn(o,Ve,r.touchEnd,t),vn(o,e,r.mouseLeave,t),vn(o,"touchcancel",r.touchCancel,t))}},this._manageListeners=function(e){var t=n._handlers,r=n.container,i=r.actualOptions.interactivity.detectsOn,a=r.canvas.element,o=ze;if("window"===i)r.interactivity.element=window,o="pointerout";else if("parent"===i&&a){var s;r.interactivity.element=null!==(s=a.parentElement)&&void 0!==s?s:a.parentNode}else r.interactivity.element=a;n._manageMediaMatch(e),n._manageResize(e),n._manageInteractivityListeners(o,e),document&&vn(document,"visibilitychange",t.visibilityChange,e,!1)},this._manageMediaMatch=function(e){var t=n._handlers,r=mt("(prefers-color-scheme: dark)");r&&(void 0===r.addEventListener?void 0!==r.addListener&&(e?r.addListener(t.oldThemeChange):r.removeListener(t.oldThemeChange)):vn(r,"change",t.themeChange,e))},this._manageResize=function(e){var t=n._handlers,r=n.container;if(r.actualOptions.interactivity.events.resize)if("undefined"!==typeof ResizeObserver){var i=r.canvas.element;n._resizeObserver&&!e?(i&&n._resizeObserver.unobserve(i),n._resizeObserver.disconnect(),delete n._resizeObserver):!n._resizeObserver&&e&&i&&(n._resizeObserver=new ResizeObserver(function(){var e=Ne(De().mark((function e(t){var r;return De().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.find((function(e){return e.target===i})),r){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,n._handleWindowResize();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n._resizeObserver.observe(i))}else vn(window,"resize",t.resize,e)},this._mouseDown=function(){var e=n.container.interactivity;if(e){var t=e.mouse;t.clicking=!0,t.downPosition=t.position}},this._mouseTouchClick=function(e){var t=n.container,r=t.actualOptions,i=t.interactivity.mouse;i.inside=!0;var a=!1,o=i.position;if(o&&r.interactivity.events.onClick.enable){var s,u=k(t.plugins);try{for(u.s();!(s=u.n()).done;){var c=l(s.value,2)[1];if(c.clickPositionValid&&(a=c.clickPositionValid(o)))break}}catch(f){u.e(f)}finally{u.f()}a||n._doMouseTouchClick(e),i.clicking=!1}},this._mouseTouchFinish=function(){var e=n.container.interactivity;if(e){var t=e.mouse;delete t.position,delete t.clickPosition,delete t.downPosition,e.status=ze,t.inside=!1,t.clicking=!1}},this._mouseTouchMove=function(e){var t=n.container,r=t.actualOptions,i=t.interactivity,a=t.canvas.element;if(i&&i.element){var o;if(i.mouse.inside=!0,e.type.startsWith("pointer")){n._canPush=!0;var s=e;if(i.element===window){if(a){var u=a.getBoundingClientRect();o={x:s.clientX-u.left,y:s.clientY-u.top}}}else if("parent"===r.interactivity.detectsOn){var l=s.target,c=s.currentTarget;if(l&&c&&a){var f=l.getBoundingClientRect(),d=c.getBoundingClientRect(),p=a.getBoundingClientRect();o={x:s.offsetX+2*f.left-(d.left+p.left),y:s.offsetY+2*f.top-(d.top+p.top)}}else{var h,v;o={x:null!==(h=s.offsetX)&&void 0!==h?h:s.clientX,y:null!==(v=s.offsetY)&&void 0!==v?v:s.clientY}}}else if(s.target===a){var y,m;o={x:null!==(y=s.offsetX)&&void 0!==y?y:s.clientX,y:null!==(m=s.offsetY)&&void 0!==m?m:s.clientY}}}else if(n._canPush="touchmove"!==e.type,a){var g,b,x=e,w=x.touches[x.touches.length-1],S=a.getBoundingClientRect();o={x:w.clientX-(null!==(g=S.left)&&void 0!==g?g:0),y:w.clientY-(null!==(b=S.top)&&void 0!==b?b:0)}}var T=t.retina.pixelRatio;o&&(o.x*=T,o.y*=T),i.mouse.position=o,i.status=We}},this._touchEnd=function(e){for(var t=e,r=0,i=Array.from(t.changedTouches);r<i.length;r++){var a=i[r];n._touches.delete(a.identifier)}n._mouseTouchFinish()},this._touchEndClick=function(e){for(var t=e,r=0,i=Array.from(t.changedTouches);r<i.length;r++){var a=i[r];n._touches.delete(a.identifier)}n._mouseTouchClick(e)},this._touchStart=function(e){for(var t=e,r=0,i=Array.from(t.changedTouches);r<i.length;r++){var a=i[r];n._touches.set(a.identifier,performance.now())}n._mouseTouchMove(e)},this._canPush=!0,this._touches=new Map,this._handlers={mouseDown:function(){return n._mouseDown()},mouseLeave:function(){return n._mouseTouchFinish()},mouseMove:function(e){return n._mouseTouchMove(e)},mouseUp:function(e){return n._mouseTouchClick(e)},touchStart:function(e){return n._touchStart(e)},touchMove:function(e){return n._mouseTouchMove(e)},touchEnd:function(e){return n._touchEnd(e)},touchCancel:function(e){return n._touchEnd(e)},touchEndClick:function(e){return n._touchEndClick(e)},visibilityChange:function(){return n._handleVisibilityChange()},themeChange:function(e){return n._handleThemeChange(e)},oldThemeChange:function(e){return n._handleThemeChange(e)},resize:function(){n._handleWindowResize()}}}return y(e,[{key:"addListeners",value:function(){this._manageListeners(!0)}},{key:"removeListeners",value:function(){this._manageListeners(!1)}}]),e}(),mn=function(){function e(){d(this,e),this.value=""}return y(e,[{key:"load",value:function(e){void 0!==(null===e||void 0===e?void 0:e.value)&&(this.value=e.value)}}],[{key:"create",value:function(t,n){var r=new e;return r.load(t),void 0!==n&&(jt(n)||Ut(n)?r.load({value:n}):r.load(n)),r}}]),e}(),gn=function(){function e(){d(this,e),this.color=new mn,this.color.value="",this.image="",this.position="",this.repeat="",this.size="",this.opacity=1}return y(e,[{key:"load",value:function(e){e&&(void 0!==e.color&&(this.color=mn.create(this.color,e.color)),void 0!==e.image&&(this.image=e.image),void 0!==e.position&&(this.position=e.position),void 0!==e.repeat&&(this.repeat=e.repeat),void 0!==e.size&&(this.size=e.size),void 0!==e.opacity&&(this.opacity=e.opacity))}}]),e}(),bn=function(){function e(){d(this,e),this.color=new mn,this.color.value="#fff",this.opacity=1}return y(e,[{key:"load",value:function(e){e&&(void 0!==e.color&&(this.color=mn.create(this.color,e.color)),void 0!==e.opacity&&(this.opacity=e.opacity))}}]),e}(),xn=function(){function e(){d(this,e),this.composite="destination-out",this.cover=new bn,this.enable=!1}return y(e,[{key:"load",value:function(e){if(e){if(void 0!==e.composite&&(this.composite=e.composite),void 0!==e.cover){var t=e.cover,n=jt(e.cover)?{color:e.cover}:e.cover;this.cover.load(void 0!==t.color?t:{color:n})}void 0!==e.enable&&(this.enable=e.enable)}}}]),e}(),wn=function(){function e(){d(this,e),this.enable=!0,this.zIndex=0}return y(e,[{key:"load",value:function(e){e&&(void 0!==e.enable&&(this.enable=e.enable),void 0!==e.zIndex&&(this.zIndex=e.zIndex))}}]),e}(),Sn=function(){function e(){d(this,e),this.enable=!1,this.mode=[]}return y(e,[{key:"load",value:function(e){e&&(void 0!==e.enable&&(this.enable=e.enable),void 0!==e.mode&&(this.mode=e.mode))}}]),e}(),Tn=function(){function e(){d(this,e),this.selectors=[],this.enable=!1,this.mode=[],this.type="circle"}return y(e,[{key:"el",get:function(){return this.elementId},set:function(e){this.elementId=e}},{key:"elementId",get:function(){return this.ids},set:function(e){this.ids=e}},{key:"ids",get:function(){return Dt(this.selectors,(function(e){return e.replace("#","")}))},set:function(e){this.selectors=Dt(e,(function(e){return"#".concat(e)}))}},{key:"load",value:function(e){var t,n;if(e){var r=null!==(t=null!==(n=e.ids)&&void 0!==n?n:e.elementId)&&void 0!==t?t:e.el;void 0!==r&&(this.ids=r),void 0!==e.selectors&&(this.selectors=e.selectors),void 0!==e.enable&&(this.enable=e.enable),void 0!==e.mode&&(this.mode=e.mode),void 0!==e.type&&(this.type=e.type)}}}]),e}(),En=function(){function e(){d(this,e),this.enable=!1,this.force=2,this.smooth=10}return y(e,[{key:"load",value:function(e){e&&(void 0!==e.enable&&(this.enable=e.enable),void 0!==e.force&&(this.force=e.force),void 0!==e.smooth&&(this.smooth=e.smooth))}}]),e}(),kn=function(){function e(){d(this,e),this.enable=!1,this.mode=[],this.parallax=new En}return y(e,[{key:"load",value:function(e){e&&(void 0!==e.enable&&(this.enable=e.enable),void 0!==e.mode&&(this.mode=e.mode),this.parallax.load(e.parallax))}}]),e}(),_n=function(){function e(){d(this,e),this.delay=.5,this.enable=!0}return y(e,[{key:"load",value:function(e){void 0!==e&&(void 0!==e.delay&&(this.delay=e.delay),void 0!==e.enable&&(this.enable=e.enable))}}]),e}(),Cn=function(){function e(){d(this,e),this.onClick=new Sn,this.onDiv=new Tn,this.onHover=new kn,this.resize=new _n}return y(e,[{key:"onclick",get:function(){return this.onClick},set:function(e){this.onClick=e}},{key:"ondiv",get:function(){return this.onDiv},set:function(e){this.onDiv=e}},{key:"onhover",get:function(){return this.onHover},set:function(e){this.onHover=e}},{key:"load",value:function(e){var t,n,r;if(e){this.onClick.load(null!==(t=e.onClick)&&void 0!==t?t:e.onclick);var i=null!==(n=e.onDiv)&&void 0!==n?n:e.ondiv;void 0!==i&&(this.onDiv=Dt(i,(function(e){var t=new Tn;return t.load(e),t}))),this.onHover.load(null!==(r=e.onHover)&&void 0!==r?r:e.onhover),Bt(e.resize)?this.resize.enable=e.resize:this.resize.load(e.resize)}}}]),e}(),Pn=function(){function e(t,n){d(this,e),this._engine=t,this._container=n}return y(e,[{key:"load",value:function(e){if(e&&this._container){var t=this._engine.plugins.interactors.get(this._container);if(t){var n,r=k(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.loadModeOptions&&i.loadModeOptions(this,e)}}catch(a){r.e(a)}finally{r.f()}}}}}]),e}(),On=function(){function e(t,n){d(this,e),this.detectsOn="window",this.events=new Cn,this.modes=new Pn(t,n)}return y(e,[{key:"detect_on",get:function(){return this.detectsOn},set:function(e){this.detectsOn=e}},{key:"load",value:function(e){var t;if(e){var n=null!==(t=e.detectsOn)&&void 0!==t?t:e.detect_on;void 0!==n&&(this.detectsOn=n),this.events.load(e.events),this.modes.load(e.modes)}}}]),e}(),In=function(){function e(){d(this,e)}return y(e,[{key:"load",value:function(e){if(e){var t,n,r;if(e.position)this.position={x:null!==(t=e.position.x)&&void 0!==t?t:50,y:null!==(n=e.position.y)&&void 0!==n?n:50,mode:null!==(r=e.position.mode)&&void 0!==r?r:"percent"};e.options&&(this.options=kt({},e.options))}}}]),e}(),An=function(){function e(){d(this,e),this.maxWidth=1/0,this.options={},this.mode="canvas"}return y(e,[{key:"load",value:function(e){e&&(void 0!==e.maxWidth&&(this.maxWidth=e.maxWidth),void 0!==e.mode&&("screen"===e.mode?this.mode="screen":this.mode="canvas"),void 0!==e.options&&(this.options=kt({},e.options)))}}]),e}(),Dn=function(){function e(){d(this,e),this.auto=!1,this.mode="any",this.value=!1}return y(e,[{key:"load",value:function(e){e&&(void 0!==e.auto&&(this.auto=e.auto),void 0!==e.mode&&(this.mode=e.mode),void 0!==e.value&&(this.value=e.value))}}]),e}(),Rn=function(){function e(){d(this,e),this.name="",this.default=new Dn}return y(e,[{key:"load",value:function(e){e&&(void 0!==e.name&&(this.name=e.name),this.default.load(e.default),void 0!==e.options&&(this.options=kt({},e.options)))}}]),e}(),Nn=function(){function e(){d(this,e),this.count=0,this.enable=!1,this.offset=0,this.speed=1,this.delay=0,this.decay=0,this.sync=!0}return y(e,[{key:"load",value:function(e){e&&(void 0!==e.count&&(this.count=at(e.count)),void 0!==e.enable&&(this.enable=e.enable),void 0!==e.offset&&(this.offset=at(e.offset)),void 0!==e.speed&&(this.speed=at(e.speed)),void 0!==e.decay&&(this.decay=at(e.decay)),void 0!==e.delay&&(this.delay=at(e.delay)),void 0!==e.sync&&(this.sync=e.sync))}}]),e}(),Mn=function(){function e(){d(this,e),this.h=new Nn,this.s=new Nn,this.l=new Nn}return y(e,[{key:"load",value:function(e){e&&(this.h.load(e.h),this.s.load(e.s),this.l.load(e.l))}}]),e}(),Fn=function(e){g(n,e);var t=S(n);function n(){var e;return d(this,n),(e=t.call(this)).animation=new Mn,e}return y(n,[{key:"load",value:function(e){if(Be(b(n.prototype),"load",this).call(this,e),e){var t=e.animation;void 0!==t&&(void 0!==t.enable?this.animation.h.load(t):this.animation.load(e.animation))}}}],[{key:"create",value:function(e,t){var r=new n;return r.load(e),void 0!==t&&(jt(t)||Ut(t)?r.load({value:t}):r.load(t)),r}}]),n}(mn),Ln=function(){function e(){d(this,e),this.speed=2}return y(e,[{key:"load",value:function(e){e&&void 0!==e.speed&&(this.speed=e.speed)}}]),e}(),Bn=function(){function e(){d(this,e),this.enable=!0,this.retries=0}return y(e,[{key:"load",value:function(e){e&&(void 0!==e.enable&&(this.enable=e.enable),void 0!==e.retries&&(this.retries=e.retries))}}]),e}(),jn=function(){function e(){d(this,e),this.enable=!1,this.minimumValue=0}return y(e,[{key:"load",value:function(e){e&&(void 0!==e.enable&&(this.enable=e.enable),void 0!==e.minimumValue&&(this.minimumValue=e.minimumValue))}}]),e}(),zn=function(){function e(){d(this,e),this.random=new jn,this.value=0}return y(e,[{key:"load",value:function(e){e&&(Bt(e.random)?this.random.enable=e.random:this.random.load(e.random),void 0!==e.value&&(this.value=at(e.value,this.random.enable?this.random.minimumValue:void 0)))}}]),e}(),Wn=function(e){g(n,e);var t=S(n);function n(){var e;return d(this,n),(e=t.call(this)).random.minimumValue=.1,e.value=1,e}return y(n)}(zn),Vn=function(){function e(){d(this,e),this.horizontal=new Wn,this.vertical=new Wn}return y(e,[{key:"load",value:function(e){e&&(this.horizontal.load(e.horizontal),this.vertical.load(e.vertical))}}]),e}(),Un=function(){function e(){d(this,e),this.absorb=new Ln,this.bounce=new Vn,this.enable=!1,this.maxSpeed=50,this.mode="bounce",this.overlap=new Bn}return y(e,[{key:"load",value:function(e){e&&(this.absorb.load(e.absorb),this.bounce.load(e.bounce),void 0!==e.enable&&(this.enable=e.enable),void 0!==e.maxSpeed&&(this.maxSpeed=at(e.maxSpeed)),void 0!==e.mode&&(this.mode=e.mode),this.overlap.load(e.overlap))}}]),e}(),Kn=function(){function e(){d(this,e),this.offset=0,this.value=90}return y(e,[{key:"load",value:function(e){e&&(void 0!==e.offset&&(this.offset=at(e.offset)),void 0!==e.value&&(this.value=at(e.value)))}}]),e}(),Hn=function(){function e(){d(this,e),this.distance=200,this.enable=!1,this.rotate={x:3e3,y:3e3}}return y(e,[{key:"rotateX",get:function(){return this.rotate.x},set:function(e){this.rotate.x=e}},{key:"rotateY",get:function(){return this.rotate.y},set:function(e){this.rotate.y=e}},{key:"load",value:function(e){var t,n,r,i;if(e){void 0!==e.distance&&(this.distance=at(e.distance)),void 0!==e.enable&&(this.enable=e.enable);var a=null!==(t=null===(n=e.rotate)||void 0===n?void 0:n.x)&&void 0!==t?t:e.rotateX;void 0!==a&&(this.rotate.x=a);var o=null!==(r=null===(i=e.rotate)||void 0===i?void 0:i.y)&&void 0!==r?r:e.rotateY;void 0!==o&&(this.rotate.y=o)}}}]),e}(),qn=function(){function e(){d(this,e),this.x=50,this.y=50,this.mode="percent",this.radius=0}return y(e,[{key:"load",value:function(e){e&&(void 0!==e.x&&(this.x=e.x),void 0!==e.y&&(this.y=e.y),void 0!==e.mode&&(this.mode=e.mode),void 0!==e.radius&&(this.radius=e.radius))}}]),e}(),Gn=function(){function e(){d(this,e),this.acceleration=9.81,this.enable=!1,this.inverse=!1,this.maxSpeed=50}return y(e,[{key:"load",value:function(e){e&&(void 0!==e.acceleration&&(this.acceleration=at(e.acceleration)),void 0!==e.enable&&(this.enable=e.enable),void 0!==e.inverse&&(this.inverse=e.inverse),void 0!==e.maxSpeed&&(this.maxSpeed=at(e.maxSpeed)))}}]),e}(),Xn=function(){function e(){d(this,e),this.clamp=!0,this.delay=new zn,this.enable=!1,this.options={}}return y(e,[{key:"load",value:function(e){e&&(void 0!==e.clamp&&(this.clamp=e.clamp),this.delay.load(e.delay),void 0!==e.enable&&(this.enable=e.enable),this.generator=e.generator,e.options&&(this.options=kt(this.options,e.options)))}}]),e}(),Yn=function(){function e(){d(this,e)}return y(e,[{key:"load",value:function(e){e&&(void 0!==e.color&&(this.color=mn.create(this.color,e.color)),void 0!==e.image&&(this.image=e.image))}}]),e}(),Jn=function(){function e(){d(this,e),this.enable=!1,this.length=10,this.fill=new Yn}return y(e,[{key:"fillColor",get:function(){return this.fill.color},set:function(e){this.fill.load({color:e})}},{key:"load",value:function(e){e&&(void 0!==e.enable&&(this.enable=e.enable),void 0===e.fill&&void 0===e.fillColor||this.fill.load(e.fill||{color:e.fillColor}),void 0!==e.length&&(this.length=e.length))}}]),e}(),$n=function(){function e(){d(this,e),this.default="out"}return y(e,[{key:"load",value:function(e){var t,n,r,i;e&&(void 0!==e.default&&(this.default=e.default),this.bottom=null!==(t=e.bottom)&&void 0!==t?t:e.default,this.left=null!==(n=e.left)&&void 0!==n?n:e.default,this.right=null!==(r=e.right)&&void 0!==r?r:e.default,this.top=null!==(i=e.top)&&void 0!==i?i:e.default)}}]),e}(),Qn=function(){function e(){d(this,e),this.acceleration=0,this.enable=!1}return y(e,[{key:"load",value:function(e){e&&(void 0!==e.acceleration&&(this.acceleration=at(e.acceleration)),void 0!==e.enable&&(this.enable=e.enable),e.position&&(this.position=kt({},e.position)))}}]),e}(),Zn=function(){function e(){d(this,e),this.angle=new Kn,this.attract=new Hn,this.center=new qn,this.decay=0,this.distance={},this.direction="none",this.drift=0,this.enable=!1,this.gravity=new Gn,this.path=new Xn,this.outModes=new $n,this.random=!1,this.size=!1,this.speed=2,this.spin=new Qn,this.straight=!1,this.trail=new Jn,this.vibrate=!1,this.warp=!1}return y(e,[{key:"bounce",get:function(){return this.collisions},set:function(e){this.collisions=e}},{key:"collisions",get:function(){return!1},set:function(e){}},{key:"noise",get:function(){return this.path},set:function(e){this.path=e}},{key:"outMode",get:function(){return this.outModes.default},set:function(e){this.outModes.default=e}},{key:"out_mode",get:function(){return this.outMode},set:function(e){this.outMode=e}},{key:"load",value:function(e){var t,n,r;if(e){this.angle.load(zt(e.angle)?{value:e.angle}:e.angle),this.attract.load(e.attract),this.center.load(e.center),void 0!==e.decay&&(this.decay=at(e.decay)),void 0!==e.direction&&(this.direction=e.direction),void 0!==e.distance&&(this.distance=zt(e.distance)?{horizontal:e.distance,vertical:e.distance}:Le({},e.distance)),void 0!==e.drift&&(this.drift=at(e.drift)),void 0!==e.enable&&(this.enable=e.enable),this.gravity.load(e.gravity);var i=null!==(t=null!==(n=e.outModes)&&void 0!==n?n:e.outMode)&&void 0!==t?t:e.out_mode;void 0!==i&&(Vt(i)?this.outModes.load(i):this.outModes.load({default:i})),this.path.load(null!==(r=e.path)&&void 0!==r?r:e.noise),void 0!==e.random&&(this.random=e.random),void 0!==e.size&&(this.size=e.size),void 0!==e.speed&&(this.speed=at(e.speed)),this.spin.load(e.spin),void 0!==e.straight&&(this.straight=e.straight),this.trail.load(e.trail),void 0!==e.vibrate&&(this.vibrate=e.vibrate),void 0!==e.warp&&(this.warp=e.warp)}}}]),e}(),er=function(e){g(n,e);var t=S(n);function n(){var e;return d(this,n),(e=t.call(this)).mode="auto",e.startValue="random",e}return y(n,[{key:"load",value:function(e){Be(b(n.prototype),"load",this).call(this,e),e&&(void 0!==e.minimumValue&&(this.minimumValue=e.minimumValue),void 0!==e.mode&&(this.mode=e.mode),void 0!==e.startValue&&(this.startValue=e.startValue))}}]),n}(function(){function e(){d(this,e),this.count=0,this.enable=!1,this.speed=1,this.decay=0,this.delay=0,this.sync=!1}return y(e,[{key:"load",value:function(e){e&&(void 0!==e.count&&(this.count=at(e.count)),void 0!==e.enable&&(this.enable=e.enable),void 0!==e.speed&&(this.speed=at(e.speed)),void 0!==e.decay&&(this.decay=at(e.decay)),void 0!==e.delay&&(this.delay=at(e.delay)),void 0!==e.sync&&(this.sync=e.sync))}}]),e}()),tr=function(e){g(n,e);var t=S(n);function n(){var e;return d(this,n),(e=t.call(this)).destroy="none",e.speed=2,e}return y(n,[{key:"opacity_min",get:function(){return this.minimumValue},set:function(e){this.minimumValue=e}},{key:"load",value:function(e){void 0!==(null===e||void 0===e?void 0:e.opacity_min)&&void 0===e.minimumValue&&(e.minimumValue=e.opacity_min),Be(b(n.prototype),"load",this).call(this,e),e&&void 0!==e.destroy&&(this.destroy=e.destroy)}}]),n}(er),nr=function(e){g(n,e);var t=S(n);function n(){var e;return d(this,n),(e=t.call(this)).animation=new tr,e.random.minimumValue=.1,e.value=1,e}return y(n,[{key:"anim",get:function(){return this.animation},set:function(e){this.animation=e}},{key:"load",value:function(e){var t;if(e){Be(b(n.prototype),"load",this).call(this,e);var r=null!==(t=e.animation)&&void 0!==t?t:e.anim;void 0!==r&&(this.animation.load(r),this.value=at(this.value,this.animation.enable?this.animation.minimumValue:void 0))}}}]),n}(zn),rr=function(){function e(){d(this,e),this.enable=!1,this.width=1920,this.height=1080}return y(e,[{key:"area",get:function(){return this.width},set:function(e){this.width=e}},{key:"factor",get:function(){return this.height},set:function(e){this.height=e}},{key:"value_area",get:function(){return this.area},set:function(e){this.area=e}},{key:"load",value:function(e){var t,n,r;if(e){void 0!==e.enable&&(this.enable=e.enable);var i=null!==(t=null!==(n=e.width)&&void 0!==n?n:e.area)&&void 0!==t?t:e.value_area;void 0!==i&&(this.width=i);var a=null!==(r=e.height)&&void 0!==r?r:e.factor;void 0!==a&&(this.height=a)}}}]),e}(),ir=function(){function e(){d(this,e),this.density=new rr,this.limit=0,this.value=0}return y(e,[{key:"max",get:function(){return this.limit},set:function(e){this.limit=e}},{key:"load",value:function(e){var t;if(e){this.density.load(e.density);var n=null!==(t=e.limit)&&void 0!==t?t:e.max;void 0!==n&&(this.limit=n),void 0!==e.value&&(this.value=e.value)}}}]),e}(),ar=function(){function e(){d(this,e),this.blur=0,this.color=new mn,this.enable=!1,this.offset={x:0,y:0},this.color.value="#000"}return y(e,[{key:"load",value:function(e){e&&(void 0!==e.blur&&(this.blur=e.blur),this.color=mn.create(this.color,e.color),void 0!==e.enable&&(this.enable=e.enable),void 0!==e.offset&&(void 0!==e.offset.x&&(this.offset.x=e.offset.x),void 0!==e.offset.y&&(this.offset.y=e.offset.y)))}}]),e}(),or="character",sr="char",ur="image",lr="images",cr="polygon",fr="star",dr=function(){function e(){var t=this;d(this,e),this.loadShape=function(e,n,r,i){var a;if(e){var o,s=Ut(e),u=s?[]:{},l=s!==Ut(t.options[n]),c=s!==Ut(t.options[r]);if(l&&(t.options[n]=u),c&&i&&(t.options[r]=u),t.options[n]=kt(null!==(a=t.options[n])&&void 0!==a?a:u,e),!t.options[r]||i)t.options[r]=kt(null!==(o=t.options[r])&&void 0!==o?o:u,e)}},this.close=!0,this.fill=!0,this.options={},this.type="circle"}return y(e,[{key:"character",get:function(){var e;return null!==(e=this.options[or])&&void 0!==e?e:this.options[sr]},set:function(e){this.options[sr]=this.options[or]=e}},{key:"custom",get:function(){return this.options},set:function(e){this.options=e}},{key:"image",get:function(){var e;return null!==(e=this.options[ur])&&void 0!==e?e:this.options[lr]},set:function(e){this.options[lr]=this.options[ur]=e}},{key:"images",get:function(){return this.image},set:function(e){this.image=e}},{key:"polygon",get:function(){var e;return null!==(e=this.options[cr])&&void 0!==e?e:this.options[fr]},set:function(e){this.options[fr]=this.options[cr]=e}},{key:"stroke",get:function(){return[]},set:function(e){}},{key:"load",value:function(e){var t,n;if(e){var r=null!==(t=e.options)&&void 0!==t?t:e.custom;if(void 0!==r)for(var i in r){var a,o=r[i];if(o)this.options[i]=kt(null!==(a=this.options[i])&&void 0!==a?a:{},o)}this.loadShape(e.character,or,sr,!0),this.loadShape(e.polygon,cr,fr,!1),this.loadShape(null!==(n=e.image)&&void 0!==n?n:e.images,ur,lr,!0),void 0!==e.close&&(this.close=e.close),void 0!==e.fill&&(this.fill=e.fill),void 0!==e.type&&(this.type=e.type)}}}]),e}(),pr=function(e){g(n,e);var t=S(n);function n(){var e;return d(this,n),(e=t.call(this)).destroy="none",e.speed=5,e}return y(n,[{key:"size_min",get:function(){return this.minimumValue},set:function(e){this.minimumValue=e}},{key:"load",value:function(e){void 0!==(null===e||void 0===e?void 0:e.size_min)&&void 0===e.minimumValue&&(e.minimumValue=e.size_min),Be(b(n.prototype),"load",this).call(this,e),e&&void 0!==e.destroy&&(this.destroy=e.destroy)}}]),n}(er),hr=function(e){g(n,e);var t=S(n);function n(){var e;return d(this,n),(e=t.call(this)).animation=new pr,e.random.minimumValue=1,e.value=3,e}return y(n,[{key:"anim",get:function(){return this.animation},set:function(e){this.animation=e}},{key:"load",value:function(e){var t;if(Be(b(n.prototype),"load",this).call(this,e),e){var r=null!==(t=e.animation)&&void 0!==t?t:e.anim;void 0!==r&&(this.animation.load(r),this.value=at(this.value,this.animation.enable?this.animation.minimumValue:void 0))}}}]),n}(zn),vr=function(){function e(){d(this,e),this.width=0}return y(e,[{key:"load",value:function(e){e&&(void 0!==e.color&&(this.color=Fn.create(this.color,e.color)),void 0!==e.width&&(this.width=at(e.width)),void 0!==e.opacity&&(this.opacity=at(e.opacity)))}}]),e}(),yr=function(e){g(n,e);var t=S(n);function n(){var e;return d(this,n),(e=t.call(this)).opacityRate=1,e.sizeRate=1,e.velocityRate=1,e}return y(n,[{key:"load",value:function(e){Be(b(n.prototype),"load",this).call(this,e),e&&(void 0!==e.opacityRate&&(this.opacityRate=e.opacityRate),void 0!==e.sizeRate&&(this.sizeRate=e.sizeRate),void 0!==e.velocityRate&&(this.velocityRate=e.velocityRate))}}]),n}(zn),mr=function(){function e(t,n){d(this,e),this._engine=t,this._container=n,this.bounce=new Vn,this.collisions=new Un,this.color=new Fn,this.color.value="#fff",this.groups={},this.move=new Zn,this.number=new ir,this.opacity=new nr,this.reduceDuplicates=!1,this.shadow=new ar,this.shape=new dr,this.size=new hr,this.stroke=new vr,this.zIndex=new yr}return y(e,[{key:"load",value:function(e){var t,n,r,i,a;if(e){if(this.bounce.load(e.bounce),this.color.load(Fn.create(this.color,e.color)),void 0!==e.groups)for(var o in e.groups){var s,u=e.groups[o];if(void 0!==u)this.groups[o]=kt(null!==(s=this.groups[o])&&void 0!==s?s:{},u)}this.move.load(e.move),this.number.load(e.number),this.opacity.load(e.opacity),void 0!==e.reduceDuplicates&&(this.reduceDuplicates=e.reduceDuplicates),this.shape.load(e.shape),this.size.load(e.size),this.shadow.load(e.shadow),this.zIndex.load(e.zIndex);var l=null!==(t=null===(n=e.move)||void 0===n?void 0:n.collisions)&&void 0!==t?t:null===(r=e.move)||void 0===r?void 0:r.bounce;void 0!==l&&(this.collisions.enable=l),this.collisions.load(e.collisions),void 0!==e.interactivity&&(this.interactivity=kt({},e.interactivity));var c=null!==(i=e.stroke)&&void 0!==i?i:null===(a=e.shape)||void 0===a?void 0:a.stroke;if(c&&(this.stroke=Dt(c,(function(e){var t=new vr;return t.load(e),t}))),this._container){var f=this._engine.plugins.updaters.get(this._container);if(f){var d,p=k(f);try{for(p.s();!(d=p.n()).done;){var h=d.value;h.loadOptions&&h.loadOptions(this,e)}}catch(b){p.e(b)}finally{p.f()}}var v=this._engine.plugins.interactors.get(this._container);if(v){var y,m=k(v);try{for(m.s();!(y=m.n()).done;){var g=y.value;g.loadParticlesOptions&&g.loadParticlesOptions(this,e)}}catch(b){m.e(b)}finally{m.f()}}}}}}]),e}();function gr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e.load(o)}}function br(e,t){for(var n=new mr(e,t),r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];return gr.apply(void 0,[n].concat(i)),n}var xr=function(){function e(t,n){var r=this;d(this,e),this._findDefaultTheme=function(e){var t;return null!==(t=r.themes.find((function(t){return t.default.value&&t.default.mode===e})))&&void 0!==t?t:r.themes.find((function(e){return e.default.value&&"any"===e.default.mode}))},this._importPreset=function(e){r.load(r._engine.plugins.getPreset(e))},this._engine=t,this._container=n,this.autoPlay=!0,this.background=new gn,this.backgroundMask=new xn,this.defaultThemes={},this.delay=0,this.fullScreen=new wn,this.detectRetina=!0,this.duration=0,this.fpsLimit=120,this.interactivity=new On(t,n),this.manualParticles=[],this.particles=br(this._engine,this._container),this.pauseOnBlur=!0,this.pauseOnOutsideViewport=!0,this.responsive=[],this.smooth=!1,this.style={},this.themes=[],this.zLayers=100}return y(e,[{key:"backgroundMode",get:function(){return this.fullScreen},set:function(e){this.fullScreen.load(e)}},{key:"fps_limit",get:function(){return this.fpsLimit},set:function(e){this.fpsLimit=e}},{key:"retina_detect",get:function(){return this.detectRetina},set:function(e){this.detectRetina=e}},{key:"load",value:function(e){var t,n,r,i,a,o=this;if(e){void 0!==e.preset&&Dt(e.preset,(function(e){return o._importPreset(e)})),void 0!==e.autoPlay&&(this.autoPlay=e.autoPlay),void 0!==e.delay&&(this.delay=at(e.delay));var s=null!==(t=e.detectRetina)&&void 0!==t?t:e.retina_detect;void 0!==s&&(this.detectRetina=s),void 0!==e.duration&&(this.duration=at(e.duration));var u=null!==(n=e.fpsLimit)&&void 0!==n?n:e.fps_limit;void 0!==u&&(this.fpsLimit=u),void 0!==e.pauseOnBlur&&(this.pauseOnBlur=e.pauseOnBlur),void 0!==e.pauseOnOutsideViewport&&(this.pauseOnOutsideViewport=e.pauseOnOutsideViewport),void 0!==e.zLayers&&(this.zLayers=e.zLayers),this.background.load(e.background);var l=null!==(r=e.fullScreen)&&void 0!==r?r:e.backgroundMode;Bt(l)?this.fullScreen.enable=l:this.fullScreen.load(l),this.backgroundMask.load(e.backgroundMask),this.interactivity.load(e.interactivity),e.manualParticles&&(this.manualParticles=e.manualParticles.map((function(e){var t=new In;return t.load(e),t}))),this.particles.load(e.particles),this.style=kt(this.style,e.style),this._engine.plugins.loadOptions(this,e),void 0!==e.smooth&&(this.smooth=e.smooth);var c=this._engine.plugins.interactors.get(this._container);if(c){var f,d=k(c);try{for(d.s();!(f=d.n()).done;){var p=f.value;p.loadOptions&&p.loadOptions(this,e)}}catch(w){d.e(w)}finally{d.f()}}if(void 0!==e.responsive){var h,v=k(e.responsive);try{for(v.s();!(h=v.n()).done;){var y=h.value,m=new An;m.load(y),this.responsive.push(m)}}catch(w){v.e(w)}finally{v.f()}}if(this.responsive.sort((function(e,t){return e.maxWidth-t.maxWidth})),void 0!==e.themes){var g,b=k(e.themes);try{var x=function(){var e=g.value,t=o.themes.find((function(t){return t.name===e.name}));if(t)t.load(e);else{var n=new Rn;n.load(e),o.themes.push(n)}};for(b.s();!(g=b.n()).done;)x()}catch(w){b.e(w)}finally{b.f()}}this.defaultThemes.dark=null===(i=this._findDefaultTheme("dark"))||void 0===i?void 0:i.name,this.defaultThemes.light=null===(a=this._findDefaultTheme("light"))||void 0===a?void 0:a.name}}},{key:"setResponsive",value:function(e,t,n){this.load(n);var r=this.responsive.find((function(n){return"screen"===n.mode&&screen?n.maxWidth>screen.availWidth:n.maxWidth*t>e}));return this.load(null===r||void 0===r?void 0:r.options),null===r||void 0===r?void 0:r.maxWidth}},{key:"setTheme",value:function(e){if(e){var t=this.themes.find((function(t){return t.name===e}));t&&this.load(t.options)}else{var n=mt("(prefers-color-scheme: dark)"),r=n&&n.matches,i=this._findDefaultTheme(r?"dark":"light");i&&this.load(i.options)}}}]),e}(),wr=function(){function e(t,n){d(this,e),this.container=n,this._engine=t,this._interactors=t.plugins.getInteractors(this.container,!0),this._externalInteractors=[],this._particleInteractors=[]}return y(e,[{key:"externalInteract",value:function(){var e=Ne(De().mark((function e(t){var n,r,i;return De().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=k(this._externalInteractors),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=11;break}if(i=r.value,e.t0=i.isEnabled(),!e.t0){e.next=9;break}return e.next=9,i.interact(t);case 9:e.next=3;break;case 11:e.next=16;break;case 13:e.prev=13,e.t1=e.catch(1),n.e(e.t1);case 16:return e.prev=16,n.f(),e.finish(16);case 19:case"end":return e.stop()}}),e,this,[[1,13,16,19]])})));return function(t){return e.apply(this,arguments)}}()},{key:"handleClickMode",value:function(e){var t,n=k(this._externalInteractors);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.handleClickMode&&r.handleClickMode(e)}}catch(i){n.e(i)}finally{n.f()}}},{key:"init",value:function(){this._externalInteractors=[],this._particleInteractors=[];var e,t=k(this._interactors);try{for(t.s();!(e=t.n()).done;){var n=e.value;switch(n.type){case"external":this._externalInteractors.push(n);break;case"particles":this._particleInteractors.push(n)}n.init()}}catch(r){t.e(r)}finally{t.f()}}},{key:"particlesInteract",value:function(){var e=Ne(De().mark((function e(t,n){var r,i,a,o,s;return De().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=k(this._externalInteractors);try{for(r.s();!(i=r.n()).done;)i.value.clear(t,n)}catch(u){r.e(u)}finally{r.f()}a=k(this._particleInteractors),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=13;break}if(s=o.value,e.t0=s.isEnabled(t),!e.t0){e.next=11;break}return e.next=11,s.interact(t,n);case 11:e.next=5;break;case 13:e.next=18;break;case 15:e.prev=15,e.t1=e.catch(3),a.e(e.t1);case 18:return e.prev=18,a.f(),e.finish(18);case 21:case"end":return e.stop()}}),e,this,[[3,15,18,21]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"reset",value:function(){var e=Ne(De().mark((function e(t){var n,r,i,a,o,s;return De().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=k(this._externalInteractors);try{for(n.s();!(r=n.n()).done;)(i=r.value).isEnabled()&&i.reset(t)}catch(u){n.e(u)}finally{n.f()}a=k(this._particleInteractors);try{for(a.s();!(o=a.n()).done;)(s=o.value).isEnabled(t)&&s.reset(t)}catch(u){a.e(u)}finally{a.f()}case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Sr=function(e){if(bt(e.outMode,e.checkModes)){var t=2*e.radius;e.coord>e.maxCoord-t?e.setCb(-e.radius):e.coord<t&&e.setCb(e.radius)}},Tr=function(){function e(t,n,r,i,a,o){var s=this;d(this,e),this.container=r,this._calcPosition=function(e,t,n){var r,i,a,o,u,c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,f=k(e.plugins);try{for(f.s();!(u=f.n()).done;){var d=l(u.value,2)[1],p=void 0!==d.particlePosition?d.particlePosition(t,s):void 0;if(p)return qe.create(p.x,p.y,n)}}catch(x){f.e(x)}finally{f.f()}var h=ct({size:e.canvas.size,position:t}),v=qe.create(h.x,h.y,n),y=s.getRadius(),m=s.options.move.outModes,g=function(t){Sr({outMode:t,checkModes:["bounce","bounce-horizontal"],coord:v.x,maxCoord:e.canvas.size.width,setCb:function(e){return v.x+=e},radius:y})},b=function(t){Sr({outMode:t,checkModes:["bounce","bounce-vertical"],coord:v.y,maxCoord:e.canvas.size.height,setCb:function(e){return v.y+=e},radius:y})};return g(null!==(r=m.left)&&void 0!==r?r:m.default),g(null!==(i=m.right)&&void 0!==i?i:m.default),b(null!==(a=m.top)&&void 0!==a?a:m.default),b(null!==(o=m.bottom)&&void 0!==o?o:m.default),s._checkOverlap(v,c)?s._calcPosition(e,void 0,n,c+1):v},this._calculateVelocity=function(){var e=function(e){var t=Ge.origin;return t.length=1,t.angle=e,t}(s.direction).copy(),t=s.options.move;if("inside"===t.direction||"outside"===t.direction)return e;var n=Math.PI/180*nt(t.angle.value),r=Math.PI/180*nt(t.angle.offset),i={left:r-n/2,right:r+n/2};return t.straight||(e.angle+=tt(at(i.left,i.right))),t.random&&"number"===typeof t.speed&&(e.length*=Qe()),e},this._checkOverlap=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=s.options.collisions,r=s.getRadius();if(!n.enable)return!1;var i=n.overlap;if(i.enable)return!1;var a=i.retries;if(a>=0&&t>a)throw new Error("".concat(Ue," particle is overlapping and can't be placed"));return!!s.container.particles.find((function(t){return ut(e,t.position)<r+t.getRadius()}))},this._getRollColor=function(e){var t;if(!e||!s.roll||!s.backColor&&!s.roll.alter)return e;var n=s.roll.horizontal&&s.roll.vertical?2:1,r=s.roll.horizontal?Math.PI/2:0;return Math.floor(((null!==(t=s.roll.angle)&&void 0!==t?t:0)+r)/(Math.PI/n))%2?s.backColor?s.backColor:s.roll.alter?function(e,t,n){return{h:e.h,s:e.s,l:e.l+("darken"===t?-1:1)*n}}(e,s.roll.alter.type,s.roll.alter.value):e:e},this._initPosition=function(e){var t,n,r=s.container,i=nt(s.options.zIndex.value);s.position=s._calcPosition(r,e,Ze(i,0,r.zLayers)),s.initialPosition=s.position.copy();var a=r.canvas.size;switch(s.moveCenter=Le(Le({},Lt(s.options.move.center,a)),{},{radius:null!==(t=s.options.move.center.radius)&&void 0!==t?t:0,mode:null!==(n=s.options.move.center.mode)&&void 0!==n?n:"percent"}),s.direction=function(e,t,n){if(zt(e))return e*Math.PI/180;switch(e){case"top":return-Math.PI/2;case"top-right":return-Math.PI/4;case"right":return 0;case"bottom-right":return Math.PI/4;case"bottom":return Math.PI/2;case"bottom-left":return 3*Math.PI/4;case"left":return Math.PI;case"top-left":return-3*Math.PI/4;case"inside":return Math.atan2(n.y-t.y,n.x-t.x);case"outside":return Math.atan2(t.y-n.y,t.x-n.x);default:return Qe()*Math.PI*2}}(s.options.move.direction,s.position,s.moveCenter),s.options.move.direction){case"inside":s.outType="inside";break;case"outside":s.outType="outside"}s.offset=Ge.origin},this._loadShapeData=function(e,t){var n=e.options[s.shape];if(n)return kt({close:e.close,fill:e.fill},Rt(n,s.id,t))},this._engine=t,this.init(n,i,a,o)}return y(e,[{key:"destroy",value:function(e){if(!this.unbreakable&&!this.destroyed){this.destroyed=!0,this.bubble.inRange=!1,this.slow.inRange=!1;var t,n=this.container,r=this.pathGenerator,i=k(n.plugins);try{for(i.s();!(t=i.n()).done;){var a=l(t.value,2)[1];a.particleDestroyed&&a.particleDestroyed(this,e)}}catch(c){i.e(c)}finally{i.f()}var o,s=k(n.particles.updaters);try{for(s.s();!(o=s.n()).done;){var u=o.value;u.particleDestroyed&&u.particleDestroyed(this,e)}}catch(c){s.e(c)}finally{s.f()}r&&r.reset(this)}}},{key:"draw",value:function(e){var t,n=this.container,r=k(n.plugins);try{for(r.s();!(t=r.n()).done;){var i=l(t.value,2)[1];n.canvas.drawParticlePlugin(i,this,e)}}catch(a){r.e(a)}finally{r.f()}n.canvas.drawParticle(this,e)}},{key:"getFillColor",value:function(){var e;return this._getRollColor(null!==(e=this.bubble.color)&&void 0!==e?e:un(this.color))}},{key:"getMass",value:function(){return Math.pow(this.getRadius(),2)*Math.PI/2}},{key:"getPosition",value:function(){return{x:this.position.x+this.offset.x,y:this.position.y+this.offset.y,z:this.position.z}}},{key:"getRadius",value:function(){var e;return null!==(e=this.bubble.radius)&&void 0!==e?e:this.size.value}},{key:"getStrokeColor",value:function(){var e;return this._getRollColor(null!==(e=this.bubble.color)&&void 0!==e?e:un(this.strokeColor))}},{key:"init",value:function(e,t,n,r){var i,a,o,s=this.container,u=this._engine;this.id=e,this.group=r,this.fill=!0,this.pathRotation=!1,this.close=!0,this.lastPathTime=0,this.destroyed=!1,this.unbreakable=!1,this.rotation=0,this.misplaced=!1,this.retina={maxDistance:{}},this.outType="normal",this.ignoresResizeRatio=!0;var c=s.retina.pixelRatio,f=s.actualOptions,d=br(this._engine,s,f.particles),p=d.shape.type,h=d.reduceDuplicates;this.shape=Rt(p,this.id,h);var v=d.shape;if(n&&n.shape&&n.shape.type){var y=Rt(n.shape.type,this.id,h);y&&(this.shape=y,v.load(n.shape))}this.shapeData=this._loadShapeData(v,h),d.load(n);var m=this.shapeData;m&&d.load(m.particles);var g=new On(u,s);g.load(s.actualOptions.interactivity),g.load(d.interactivity),this.interactivity=g,this.fill=null!==(i=null===m||void 0===m?void 0:m.fill)&&void 0!==i?i:d.shape.fill,this.close=null!==(a=null===m||void 0===m?void 0:m.close)&&void 0!==a?a:d.shape.close,this.options=d;var b=this.options.move.path;this.pathDelay=1e3*ot(b.delay),b.generator&&(this.pathGenerator=this._engine.plugins.getPathGenerator(b.generator),this.pathGenerator&&s.addPath(b.generator,this.pathGenerator)&&this.pathGenerator.init(s)),s.retina.initParticle(this),this.size=Mt(this.options.size,c),this.bubble={inRange:!1},this.slow={inRange:!1,factor:1},this._initPosition(t),this.initialVelocity=this._calculateVelocity(),this.velocity=this.initialVelocity.copy(),this.moveDecay=1-nt(this.options.move.decay);var x=s.particles;x.needsSort=x.needsSort||x.lastZIndex<this.position.z,x.lastZIndex=this.position.z,this.zIndexFactor=this.position.z/s.zLayers,this.sides=24;var w=s.drawers.get(this.shape);w||(w=this._engine.plugins.getShapeDrawer(this.shape))&&s.drawers.set(this.shape,w),w&&w.loadShape&&w.loadShape(this);var S=null===(o=w)||void 0===o?void 0:o.getSidesCount;S&&(this.sides=S(this)),this.spawning=!1,this.shadowColor=Jt(this.options.shadow.color);var T,E=k(s.particles.updaters);try{for(E.s();!(T=E.n()).done;){T.value.init(this)}}catch(D){E.e(D)}finally{E.f()}var _,C=k(s.particles.movers);try{for(C.s();!(_=C.n()).done;){var P=_.value;P.init&&P.init(this)}}catch(D){C.e(D)}finally{C.f()}w&&w.particleInit&&w.particleInit(s,this);var O,I=k(s.plugins);try{for(I.s();!(O=I.n()).done;){var A=l(O.value,2)[1];A.particleCreated&&A.particleCreated(this)}}catch(D){I.e(D)}finally{I.f()}}},{key:"isInsideCanvas",value:function(){var e=this.getRadius(),t=this.container.canvas.size,n=this.position;return n.x>=-e&&n.y>=-e&&n.y<=t.height+e&&n.x<=t.width+e}},{key:"isVisible",value:function(){return!this.destroyed&&!this.spawning&&this.isInsideCanvas()}},{key:"reset",value:function(){var e,t=k(this.container.particles.updaters);try{for(t.s();!(e=t.n()).done;){var n=e.value;n.reset&&n.reset(this)}}catch(r){t.e(r)}finally{t.f()}}}]),e}(),Er=y((function e(t,n){d(this,e),this.position=t,this.particle=n})),kr=y((function e(t,n){d(this,e),this.position={x:t,y:n}})),_r=function(e){g(n,e);var t=S(n);function n(e,r,i,a){var o;return d(this,n),(o=t.call(this,e,r)).size={height:a,width:i},o}return y(n,[{key:"contains",value:function(e){var t=this.size.width,n=this.size.height,r=this.position;return e.x>=r.x&&e.x<=r.x+t&&e.y>=r.y&&e.y<=r.y+n}},{key:"intersects",value:function(e){e instanceof Cr&&e.intersects(this);var t=this.size.width,r=this.size.height,i=this.position,a=e.position,o=e instanceof n?e.size:{width:0,height:0},s=o.width,u=o.height;return a.x<i.x+t&&a.x+s>i.x&&a.y<i.y+r&&a.y+u>i.y}}]),n}(kr),Cr=function(e){g(n,e);var t=S(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this,e,r)).radius=i,a}return y(n,[{key:"contains",value:function(e){return ut(e,this.position)<=this.radius}},{key:"intersects",value:function(e){var t=this.position,r=e.position,i={x:Math.abs(r.x-t.x),y:Math.abs(r.y-t.y)},a=this.radius;if(e instanceof n)return a+e.radius>Math.sqrt(Math.pow(i.x,2)+Math.pow(i.y,2));if(e instanceof _r){var o=e.size,s=o.width,u=o.height;return Math.pow(i.x-s,2)+Math.pow(i.y-u,2)<=Math.pow(a,2)||i.x<=a+s&&i.y<=a+u||i.x<=s||i.y<=u}return!1}}]),n}(kr),Pr=function(){function e(t,n){var r=this;d(this,e),this.rectangle=t,this.capacity=n,this._subdivide=function(){for(var t=r.rectangle.position,n=t.x,i=t.y,a=r.rectangle.size,o=a.width,s=a.height,u=r.capacity,l=0;l<4;l++)r._subs.push(new e(new _r(n+o/2*(l%2),i+s/2*(Math.round(l/2)-l%2),o/2,s/2),u));r._divided=!0},this._points=[],this._divided=!1,this._subs=[]}return y(e,[{key:"insert",value:function(e){return!!this.rectangle.contains(e.position)&&(this._points.length<this.capacity?(this._points.push(e),!0):(this._divided||this._subdivide(),this._subs.some((function(t){return t.insert(e)}))))}},{key:"query",value:function(e,t,n){var r=n||[];if(!e.intersects(this.rectangle))return[];var i,a=k(this._points);try{for(a.s();!(i=a.n()).done;){var o=i.value;!e.contains(o.position)&&ut(e.position,o.position)>o.particle.getRadius()&&(!t||t(o.particle))||r.push(o.particle)}}catch(l){a.e(l)}finally{a.f()}if(this._divided){var s,u=k(this._subs);try{for(u.s();!(s=u.n()).done;){s.value.query(e,t,r)}}catch(l){u.e(l)}finally{u.f()}}return r}},{key:"queryCircle",value:function(e,t,n){return this.query(new Cr(e.x,e.y,t),n)}},{key:"queryRectangle",value:function(e,t,n){return this.query(new _r(e.x,e.y,t.width,t.height),n)}}]),e}(),Or=function(e){return new _r(-e.width/4,-e.height/4,3*e.width/2,3*e.height/2)},Ir=function(){function e(t,n){var r=this;d(this,e),this._applyDensity=function(e,t,n){var i;if(null!==(i=e.number.density)&&void 0!==i&&i.enable){var a=e.number,o=r._initDensityFactor(a.density),s=a.value,u=a.limit>0?a.limit:s,l=Math.min(s,u)*o+t,c=Math.min(r.count,r.filter((function(e){return e.group===n})).length);r.limit=a.limit*o,c<l?r.push(Math.abs(l-c),void 0,e,n):c>l&&r.removeQuantity(c-l,n)}},this._initDensityFactor=function(e){var t=r._container;if(!t.canvas.element||!e.enable)return 1;var n=t.canvas.element,i=t.retina.pixelRatio;return n.width*n.height/(e.factor*Math.pow(i,2)*e.area)},this._pushParticle=function(e,t,n,i){try{var a=r.pool.pop();a?a.init(r._nextId,e,t,n):a=new Tr(r._engine,r._nextId,r._container,e,t,n);var o=!0;if(i&&(o=i(a)),!o)return;return r._array.push(a),r._zArray.push(a),r._nextId++,r._engine.dispatchEvent("particleAdded",{container:r._container,data:{particle:a}}),a}catch(ws){return void ht().warning("".concat(Ue," adding particle: ").concat(ws))}},this._removeParticle=function(e,t,n){var i=r._array[e];if(!i||i.group!==t)return!1;i.destroy(n);var a=r._zArray.indexOf(i);return r._array.splice(e,1),r._zArray.splice(a,1),r.pool.push(i),r._engine.dispatchEvent("particleRemoved",{container:r._container,data:{particle:i}}),!0},this._engine=t,this._container=n,this._nextId=0,this._array=[],this._zArray=[],this.pool=[],this.limit=0,this.needsSort=!1,this.lastZIndex=0,this._interactionManager=new wr(t,n);var i=n.canvas.size;this.quadTree=new Pr(Or(i),4),this.movers=this._engine.plugins.getMovers(n,!0),this.updaters=this._engine.plugins.getUpdaters(n,!0)}return y(e,[{key:"count",get:function(){return this._array.length}},{key:"addManualParticles",value:function(){var e,t=this._container,n=k(t.actualOptions.manualParticles);try{for(n.s();!(e=n.n()).done;){var r=e.value;this.addParticle(r.position?Lt(r.position,t.canvas.size):void 0,r.options)}}catch(i){n.e(i)}finally{n.f()}}},{key:"addParticle",value:function(e,t,n,r){var i=this._container.actualOptions.particles.number.limit;if(i>0){var a=this.count+1-i;a>0&&this.removeQuantity(a)}return this._pushParticle(e,t,n,r)}},{key:"clear",value:function(){this._array=[],this._zArray=[]}},{key:"destroy",value:function(){this._array=[],this._zArray=[],this.movers=[],this.updaters=[]}},{key:"draw",value:function(){var e=Ne(De().mark((function e(t){var n,r,i,a,o,s,u;return De().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=this._container).canvas.clear(),e.next=4,this.update(t);case 4:r=k(n.plugins);try{for(r.s();!(i=r.n()).done;)a=l(i.value,2),o=a[1],n.canvas.drawPlugin(o,t)}catch(c){r.e(c)}finally{r.f()}s=k(this._zArray);try{for(s.s();!(u=s.n()).done;)u.value.draw(t)}catch(c){s.e(c)}finally{s.f()}case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"filter",value:function(e){return this._array.filter(e)}},{key:"find",value:function(e){return this._array.find(e)}},{key:"handleClickMode",value:function(e){this._interactionManager.handleClickMode(e)}},{key:"init",value:function(){var e=this._container,t=e.actualOptions;this.lastZIndex=0,this.needsSort=!1;var n=!1;this.updaters=this._engine.plugins.getUpdaters(e,!0),this._interactionManager.init();var r,i=k(e.plugins);try{for(i.s();!(r=i.n()).done;){var a=l(r.value,2)[1];if(void 0!==a.particlesInitialization&&(n=a.particlesInitialization()),n)break}}catch(v){i.e(v)}finally{i.f()}this._interactionManager.init();var o,s=k(e.pathGenerators);try{for(s.s();!(o=s.n()).done;){l(o.value,2)[1].init(e)}}catch(v){s.e(v)}finally{s.f()}if(this.addManualParticles(),!n){for(var u in t.particles.groups)for(var c=t.particles.groups[u],f=this.count,d=0;d<(null===(p=c.number)||void 0===p?void 0:p.value)&&f<t.particles.number.value;f++,d++){var p;this.addParticle(void 0,c,u)}for(var h=this.count;h<t.particles.number.value;h++)this.addParticle()}}},{key:"push",value:function(e,t,n,r){this.pushing=!0;for(var i=0;i<e;i++)this.addParticle(null===t||void 0===t?void 0:t.position,n,r);this.pushing=!1}},{key:"redraw",value:function(){var e=Ne(De().mark((function e(){return De().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.clear(),this.init(),e.next=4,this.draw({value:0,factor:0});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"remove",value:function(e,t,n){this.removeAt(this._array.indexOf(e),void 0,t,n)}},{key:"removeAt",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;if(!(e<0||e>this.count))for(var i=0,a=e;i<t&&a<this.count;a++)this._removeParticle(a--,n,r)&&i++}},{key:"removeQuantity",value:function(e,t){this.removeAt(0,e,t)}},{key:"setDensity",value:function(){var e=this._container.actualOptions,t=e.particles.groups;for(var n in t)this._applyDensity(t[n],0,n);this._applyDensity(e.particles,e.manualParticles.length)}},{key:"update",value:function(){var e=Ne(De().mark((function e(t){var n,r,i,a,o,s,u,c,d,p,h,v,y,m,g,b,x,w,S,T,E,_,C,P,O,I,A,D;return De().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=this._container,r=new Set,this.quadTree=new Pr(Or(n.canvas.size),4),i=k(n.pathGenerators);try{for(i.s();!(a=i.n()).done;)o=l(a.value,2),o[1].update()}catch(R){i.e(R)}finally{i.f()}s=k(n.plugins);try{for(s.s();!(u=s.n()).done;)c=l(u.value,2),(d=c[1]).update&&d.update(t)}catch(R){s.e(R)}finally{s.f()}p=k(this._array),e.prev=7,p.s();case 9:if((h=p.n()).done){e.next=42;break}return v=h.value,(y=n.canvas.resizeFactor)&&!v.ignoresResizeRatio&&(v.position.x*=y.width,v.position.y*=y.height,v.initialPosition.x*=y.width,v.initialPosition.y*=y.height),v.ignoresResizeRatio=!1,e.next=16,this._interactionManager.reset(v);case 16:m=k(this._container.plugins),e.prev=17,m.s();case 19:if((g=m.n()).done){e.next=26;break}if(b=l(g.value,2),x=b[1],!v.destroyed){e.next=23;break}return e.abrupt("break",26);case 23:x.particleUpdate&&x.particleUpdate(v,t);case 24:e.next=19;break;case 26:e.next=31;break;case 28:e.prev=28,e.t0=e.catch(17),m.e(e.t0);case 31:return e.prev=31,m.f(),e.finish(31);case 34:w=k(this.movers);try{for(w.s();!(S=w.n()).done;)(T=S.value).isEnabled(v)&&T.move(v,t)}catch(R){w.e(R)}finally{w.f()}if(!v.destroyed){e.next=39;break}return r.add(v),e.abrupt("continue",40);case 39:this.quadTree.insert(new Er(v.getPosition(),v));case 40:e.next=9;break;case 42:e.next=47;break;case 44:e.prev=44,e.t1=e.catch(7),p.e(e.t1);case 47:return e.prev=47,p.f(),e.finish(47);case 50:return r.size&&(_=function(e){return!r.has(e)},this._array=this.filter(_),this._zArray=this._zArray.filter(_),(E=this.pool).push.apply(E,f(r))),e.next=53,this._interactionManager.externalInteract(t);case 53:C=k(this._array),e.prev=54,C.s();case 56:if((P=C.n()).done){e.next=65;break}O=P.value,I=k(this.updaters);try{for(I.s();!(A=I.n()).done;)A.value.update(O,t)}catch(R){I.e(R)}finally{I.f()}if(O.destroyed||O.spawning){e.next=63;break}return e.next=63,this._interactionManager.particlesInteract(O,t);case 63:e.next=56;break;case 65:e.next=70;break;case 67:e.prev=67,e.t2=e.catch(54),C.e(e.t2);case 70:return e.prev=70,C.f(),e.finish(70);case 73:delete n.canvas.resizeFactor,this.needsSort&&((D=this._zArray).sort((function(e,t){return t.position.z-e.position.z||e.id-t.id})),this.lastZIndex=D[D.length-1].position.z,this.needsSort=!1);case 75:case"end":return e.stop()}}),e,this,[[7,44,47,50],[17,28,31,34],[54,67,70,73]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Ar=function(){function e(t){d(this,e),this.container=t,this.pixelRatio=1,this.reduceFactor=1}return y(e,[{key:"init",value:function(){var e=this.container,t=e.actualOptions;this.pixelRatio=!t.detectRetina||yt()?1:window.devicePixelRatio,this.reduceFactor=1;var n=this.pixelRatio;if(e.canvas.element){var r=e.canvas.element;e.canvas.size.width=r.offsetWidth*n,e.canvas.size.height=r.offsetHeight*n}var i=t.particles,a=i.move;this.attractDistance=nt(a.attract.distance)*n,this.maxSpeed=nt(a.gravity.maxSpeed)*n,this.sizeAnimationSpeed=nt(i.size.animation.speed)*n}},{key:"initParticle",value:function(e){var t=e.options,n=this.pixelRatio,r=t.move,i=r.distance,a=e.retina;a.attractDistance=nt(r.attract.distance)*n,a.moveDrift=nt(r.drift)*n,a.moveSpeed=nt(r.speed)*n,a.sizeAnimationSpeed=nt(t.size.animation.speed)*n;var o=a.maxDistance;o.horizontal=void 0!==i.horizontal?i.horizontal*n:void 0,o.vertical=void 0!==i.vertical?i.vertical*n:void 0,a.maxSpeed=nt(r.gravity.maxSpeed)*n}}]),e}();function Dr(e){return e&&!e.destroyed}function Rr(e){return{value:e,factor:arguments.length>2&&void 0!==arguments[2]&&arguments[2]?60/(arguments.length>1&&void 0!==arguments[1]?arguments[1]:60):60*e/1e3}}function Nr(e,t){for(var n=new xr(e,t),r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];return gr.apply(void 0,[n].concat(i)),n}var Mr={generate:function(e){return e.velocity},init:function(){},update:function(){},reset:function(){}},Fr=function(){function e(t,n,r){var i=this;d(this,e),this.id=n,this._intersectionManager=function(e){if(Dr(i)&&i.actualOptions.pauseOnOutsideViewport){var t,n=k(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.target===i.interactivity.element&&(r.isIntersecting?i.play:i.pause)()}}catch(a){n.e(a)}finally{n.f()}}},this._nextFrame=function(){var e=Ne(De().mark((function e(t){var n,r;return De().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,i.smooth||void 0===i.lastFrameTime||!(t<i.lastFrameTime+1e3/i.fpsLimit)){e.next=4;break}return i.draw(!1),e.abrupt("return");case 4:if(null!==(n=i.lastFrameTime)&&void 0!==n||(i.lastFrameTime=t),r=Rr(t-i.lastFrameTime,i.fpsLimit,i.smooth),i.addLifeTime(r.value),i.lastFrameTime=t,!(r.value>1e3)){e.next=11;break}return i.draw(!1),e.abrupt("return");case 11:return e.next=13,i.particles.draw(r);case 13:if(i.alive()){e.next=16;break}return i.destroy(),e.abrupt("return");case 16:i.getAnimationStatus()&&i.draw(!1),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(0),ht().error("".concat(Ue," in animation loop"),e.t0);case 22:case"end":return e.stop()}}),e,null,[[0,19]])})));return function(t){return e.apply(this,arguments)}}(),this._engine=t,this.fpsLimit=120,this.smooth=!1,this._delay=0,this._duration=0,this._lifeTime=0,this._firstStart=!0,this.started=!1,this.destroyed=!1,this._paused=!0,this.lastFrameTime=0,this.zLayers=100,this.pageHidden=!1,this._sourceOptions=r,this._initialSourceOptions=r,this.retina=new Ar(this),this.canvas=new hn(this),this.particles=new Ir(this._engine,this),this.pathGenerators=new Map,this.interactivity={mouse:{clicking:!1,inside:!1}},this.plugins=new Map,this.drawers=new Map,this._options=Nr(this._engine,this),this.actualOptions=Nr(this._engine,this),this._eventListeners=new yn(this),"undefined"!==typeof IntersectionObserver&&IntersectionObserver&&(this._intersectionObserver=new IntersectionObserver((function(e){return i._intersectionManager(e)}))),this._engine.dispatchEvent("containerBuilt",{container:this})}return y(e,[{key:"options",get:function(){return this._options}},{key:"sourceOptions",get:function(){return this._sourceOptions}},{key:"addClickHandler",value:function(e){var t=this;if(Dr(this)){var n=this.interactivity.element;if(n){var r=function(n,r,i){if(Dr(t)){var a=t.retina.pixelRatio,o={x:r.x*a,y:r.y*a},s=t.particles.quadTree.queryCircle(o,i*a);e(n,s)}},i=!1,a=!1;n.addEventListener("click",(function(e){if(Dr(t)){var n=e,i={x:n.offsetX||n.clientX,y:n.offsetY||n.clientY};r(e,i,1)}})),n.addEventListener("touchstart",(function(){Dr(t)&&(i=!0,a=!1)})),n.addEventListener("touchmove",(function(){Dr(t)&&(a=!0)})),n.addEventListener("touchend",(function(e){if(Dr(t)){if(i&&!a){var n=e,o=n.touches[n.touches.length-1];if(!o&&!(o=n.changedTouches[n.changedTouches.length-1]))return;var s=t.canvas.element,u=s?s.getBoundingClientRect():void 0,l={x:o.clientX-(u?u.left:0),y:o.clientY-(u?u.top:0)};r(e,l,Math.max(o.radiusX,o.radiusY))}i=!1,a=!1}})),n.addEventListener("touchcancel",(function(){Dr(t)&&(i=!1,a=!1)}))}}}},{key:"addLifeTime",value:function(e){this._lifeTime+=e}},{key:"addPath",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return!(!Dr(this)||!n&&this.pathGenerators.has(e))&&(this.pathGenerators.set(e,null!==t&&void 0!==t?t:Mr),!0)}},{key:"alive",value:function(){return!this._duration||this._lifeTime<=this._duration}},{key:"destroy",value:function(){var e=this;if(Dr(this)){this.stop(),this.particles.destroy(),this.canvas.destroy();var t,n=k(this.drawers);try{for(n.s();!(t=n.n()).done;){var r=l(t.value,2)[1];r.destroy&&r.destroy(this)}}catch(c){n.e(c)}finally{n.f()}var i,a=k(this.drawers.keys());try{for(a.s();!(i=a.n()).done;){var o=i.value;this.drawers.delete(o)}}catch(c){a.e(c)}finally{a.f()}this._engine.plugins.destroy(this),this.destroyed=!0;var s=this._engine.dom(),u=s.findIndex((function(t){return t===e}));u>=0&&s.splice(u,1),this._engine.dispatchEvent("containerDestroyed",{container:this})}}},{key:"draw",value:function(e){var t=this;if(Dr(this)){var n=e;this._drawAnimationFrame=requestAnimationFrame(function(){var e=Ne(De().mark((function e(r){return De().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n&&(t.lastFrameTime=void 0,n=!1),e.next=3,t._nextFrame(r);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}},{key:"export",value:function(){var e=Ne(De().mark((function e(t){var n,r,i,a,o,s,u=arguments;return De().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=u.length>1&&void 0!==u[1]?u[1]:{},r=k(this.plugins),e.prev=2,r.s();case 4:if((i=r.n()).done){e.next=16;break}if(a=l(i.value,2),(o=a[1]).export){e.next=8;break}return e.abrupt("continue",14);case 8:return e.next=10,o.export(t,n);case 10:if((s=e.sent).supported){e.next=13;break}return e.abrupt("continue",14);case 13:return e.abrupt("return",s.blob);case 14:e.next=4;break;case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(2),r.e(e.t0);case 21:return e.prev=21,r.f(),e.finish(21);case 24:ht().error("".concat(Ue," - Export plugin with type ").concat(t," not found"));case 25:case"end":return e.stop()}}),e,this,[[2,18,21,24]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getAnimationStatus",value:function(){return!this._paused&&!this.pageHidden&&Dr(this)}},{key:"handleClickMode",value:function(e){if(Dr(this)){this.particles.handleClickMode(e);var t,n=k(this.plugins);try{for(n.s();!(t=n.n()).done;){var r=l(t.value,2)[1];r.handleClickMode&&r.handleClickMode(e)}}catch(i){n.e(i)}finally{n.f()}}}},{key:"init",value:function(){var e=Ne(De().mark((function e(){var t,n,r,i,a,o,s,u,c,f,d,p,h,v,y,m,g,b,x,w,S,T,E;return De().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Dr(this)){e.next=2;break}return e.abrupt("return");case 2:t=this._engine.plugins.getSupportedShapes(),n=k(t);try{for(n.s();!(r=n.n()).done;)i=r.value,(a=this._engine.plugins.getShapeDrawer(i))&&this.drawers.set(i,a)}catch(_){n.e(_)}finally{n.f()}this._options=Nr(this._engine,this,this._initialSourceOptions,this.sourceOptions),this.actualOptions=Nr(this._engine,this,this._options),o=this._engine.plugins.getAvailablePlugins(this),s=k(o);try{for(s.s();!(u=s.n()).done;)c=l(u.value,2),f=c[0],d=c[1],this.plugins.set(f,d)}catch(_){s.e(_)}finally{s.f()}return this.retina.init(),e.next=13,this.canvas.init();case 13:this.updateActualOptions(),this.canvas.initBackground(),this.canvas.resize(),this.zLayers=this.actualOptions.zLayers,this._duration=1e3*nt(this.actualOptions.duration),this._delay=1e3*nt(this.actualOptions.delay),this._lifeTime=0,this.fpsLimit=this.actualOptions.fpsLimit>0?this.actualOptions.fpsLimit:120,this.smooth=this.actualOptions.smooth,p=k(this.drawers),e.prev=23,p.s();case 25:if((h=p.n()).done){e.next=33;break}if(v=l(h.value,2),y=v[1],e.t0=y.init,!e.t0){e.next=31;break}return e.next=31,y.init(this);case 31:e.next=25;break;case 33:e.next=38;break;case 35:e.prev=35,e.t1=e.catch(23),p.e(e.t1);case 38:return e.prev=38,p.f(),e.finish(38);case 41:m=k(this.plugins),e.prev=42,m.s();case 44:if((g=m.n()).done){e.next=52;break}if(b=l(g.value,2),x=b[1],e.t2=x.init,!e.t2){e.next=50;break}return e.next=50,x.init();case 50:e.next=44;break;case 52:e.next=57;break;case 54:e.prev=54,e.t3=e.catch(42),m.e(e.t3);case 57:return e.prev=57,m.f(),e.finish(57);case 60:this._engine.dispatchEvent("containerInit",{container:this}),this.particles.init(),this.particles.setDensity(),w=k(this.plugins);try{for(w.s();!(S=w.n()).done;)T=l(S.value,2),(E=T[1]).particlesSetup&&E.particlesSetup()}catch(_){w.e(_)}finally{w.f()}this._engine.dispatchEvent("particlesSetup",{container:this});case 66:case"end":return e.stop()}}),e,this,[[23,35,38,41],[42,54,57,60]])})));return function(){return e.apply(this,arguments)}}()},{key:"loadTheme",value:function(){var e=Ne(De().mark((function e(t){return De().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Dr(this)){e.next=2;break}return e.abrupt("return");case 2:return this._currentTheme=t,e.next=5,this.refresh();case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"pause",value:function(){if(Dr(this)&&(void 0!==this._drawAnimationFrame&&(cancelAnimationFrame(this._drawAnimationFrame),delete this._drawAnimationFrame),!this._paused)){var e,t=k(this.plugins);try{for(t.s();!(e=t.n()).done;){var n=l(e.value,2)[1];n.pause&&n.pause()}}catch(r){t.e(r)}finally{t.f()}this.pageHidden||(this._paused=!0),this._engine.dispatchEvent("containerPaused",{container:this})}}},{key:"play",value:function(e){if(Dr(this)){var t=this._paused||e;if(!this._firstStart||this.actualOptions.autoPlay){if(this._paused&&(this._paused=!1),t){var n,r=k(this.plugins);try{for(r.s();!(n=r.n()).done;){var i=l(n.value,2)[1];i.play&&i.play()}}catch(a){r.e(a)}finally{r.f()}}this._engine.dispatchEvent("containerPlay",{container:this}),this.draw(t||!1)}else this._firstStart=!1}}},{key:"refresh",value:function(){var e=Ne(De().mark((function e(){return De().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Dr(this)){e.next=2;break}return e.abrupt("return");case 2:return this.stop(),e.abrupt("return",this.start());case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"reset",value:function(){var e=Ne(De().mark((function e(){return De().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Dr(this)){e.next=2;break}return e.abrupt("return");case 2:return this._initialSourceOptions=void 0,this._options=Nr(this._engine,this),this.actualOptions=Nr(this._engine,this,this._options),e.abrupt("return",this.refresh());case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setNoise",value:function(e,t,n){Dr(this)&&this.setPath(e,t,n)}},{key:"setPath",value:function(e,t,n){if(e&&Dr(this)){var r=Le({},Mr);if(Wt(e))r.generate=e,t&&(r.init=t),n&&(r.update=n);else{var i=r;r.generate=e.generate||i.generate,r.init=e.init||i.init,r.update=e.update||i.update}this.addPath("default",r,!0)}}},{key:"start",value:function(){var e=Ne(De().mark((function e(){var t=this;return De().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Dr(this)&&!this.started){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.init();case 4:return this.started=!0,e.next=7,new Promise((function(e){t._delayTimeout=setTimeout(Ne(De().mark((function n(){var r,i,a,o;return De().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t._eventListeners.addListeners(),t.interactivity.element instanceof HTMLElement&&t._intersectionObserver&&t._intersectionObserver.observe(t.interactivity.element),r=k(t.plugins),n.prev=3,r.s();case 5:if((i=r.n()).done){n.next=13;break}if(a=l(i.value,2),o=a[1],n.t0=o.start,!n.t0){n.next=11;break}return n.next=11,o.start();case 11:n.next=5;break;case 13:n.next=18;break;case 15:n.prev=15,n.t1=n.catch(3),r.e(n.t1);case 18:return n.prev=18,r.f(),n.finish(18);case 21:t._engine.dispatchEvent("containerStarted",{container:t}),t.play(),e();case 24:case"end":return n.stop()}}),n,null,[[3,15,18,21]])}))),t._delay)}));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"stop",value:function(){if(Dr(this)&&this.started){this._delayTimeout&&(clearTimeout(this._delayTimeout),delete this._delayTimeout),this._firstStart=!0,this.started=!1,this._eventListeners.removeListeners(),this.pause(),this.particles.clear(),this.canvas.stop(),this.interactivity.element instanceof HTMLElement&&this._intersectionObserver&&this._intersectionObserver.unobserve(this.interactivity.element);var e,t=k(this.plugins);try{for(t.s();!(e=t.n()).done;){var n=l(e.value,2)[1];n.stop&&n.stop()}}catch(o){t.e(o)}finally{t.f()}var r,i=k(this.plugins.keys());try{for(i.s();!(r=i.n()).done;){var a=r.value;this.plugins.delete(a)}}catch(o){i.e(o)}finally{i.f()}this._sourceOptions=this._options,this._engine.dispatchEvent("containerStopped",{container:this})}}},{key:"updateActualOptions",value:function(){this.actualOptions.responsive=[];var e=this.actualOptions.setResponsive(this.canvas.size.width,this.retina.pixelRatio,this._options);return this.actualOptions.setTheme(this._currentTheme),this.responsiveMaxWidth!==e&&(this.responsiveMaxWidth=e,!0)}}]),e}(),Lr=function(){function e(){d(this,e),this._listeners=new Map}return y(e,[{key:"addEventListener",value:function(e,t){this.removeEventListener(e,t);var n=this._listeners.get(e);n||(n=[],this._listeners.set(e,n)),n.push(t)}},{key:"dispatchEvent",value:function(e,t){var n=this._listeners.get(e);n&&n.forEach((function(e){return e(t)}))}},{key:"hasEventListener",value:function(e){return!!this._listeners.get(e)}},{key:"removeAllEventListeners",value:function(e){e?this._listeners.delete(e):this._listeners=new Map}},{key:"removeEventListener",value:function(e,t){var n=this._listeners.get(e);if(n){var r=n.length,i=n.indexOf(t);i<0||(1===r?this._listeners.delete(e):n.splice(i,1))}}}]),e}();function Br(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=t.get(e);return i&&!r||(i=f(n.values()).map((function(t){return t(e)})),t.set(e,i)),i}var jr=function(){function e(t){d(this,e),this._engine=t,this.plugins=[],this._initializers={interactors:new Map,movers:new Map,updaters:new Map},this.interactors=new Map,this.movers=new Map,this.updaters=new Map,this.presets=new Map,this.drawers=new Map,this.pathGenerators=new Map}return y(e,[{key:"addInteractor",value:function(e,t){this._initializers.interactors.set(e,t)}},{key:"addParticleMover",value:function(e,t){this._initializers.movers.set(e,t)}},{key:"addParticleUpdater",value:function(e,t){this._initializers.updaters.set(e,t)}},{key:"addPathGenerator",value:function(e,t){!this.getPathGenerator(e)&&this.pathGenerators.set(e,t)}},{key:"addPlugin",value:function(e){!this.getPlugin(e.id)&&this.plugins.push(e)}},{key:"addPreset",value:function(e,t){(arguments.length>2&&void 0!==arguments[2]&&arguments[2]||!this.getPreset(e))&&this.presets.set(e,t)}},{key:"addShapeDrawer",value:function(e,t){var n=this;Dt(e,(function(e){!n.getShapeDrawer(e)&&n.drawers.set(e,t)}))}},{key:"destroy",value:function(e){this.updaters.delete(e),this.movers.delete(e),this.interactors.delete(e)}},{key:"getAvailablePlugins",value:function(e){var t,n=new Map,r=k(this.plugins);try{for(r.s();!(t=r.n()).done;){var i=t.value;i.needsPlugin(e.actualOptions)&&n.set(i.id,i.getPlugin(e))}}catch(a){r.e(a)}finally{r.f()}return n}},{key:"getInteractors",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Br(e,this.interactors,this._initializers.interactors,t)}},{key:"getMovers",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Br(e,this.movers,this._initializers.movers,t)}},{key:"getPathGenerator",value:function(e){return this.pathGenerators.get(e)}},{key:"getPlugin",value:function(e){return this.plugins.find((function(t){return t.id===e}))}},{key:"getPreset",value:function(e){return this.presets.get(e)}},{key:"getShapeDrawer",value:function(e){return this.drawers.get(e)}},{key:"getSupportedShapes",value:function(){return this.drawers.keys()}},{key:"getUpdaters",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Br(e,this.updaters,this._initializers.updaters,t)}},{key:"loadOptions",value:function(e,t){var n,r=k(this.plugins);try{for(r.s();!(n=r.n()).done;){n.value.loadOptions(e,t)}}catch(i){r.e(i)}finally{r.f()}}},{key:"loadParticlesOptions",value:function(e,t){var n=this.updaters.get(e);if(n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];var o,s=k(n);try{for(s.s();!(o=s.n()).done;){var u=o.value;u.loadOptions&&u.loadOptions.apply(u,[t].concat(i))}}catch(l){s.e(l)}finally{s.f()}}}}]),e}();function zr(e){return Wr.apply(this,arguments)}function Wr(){return(Wr=Ne(De().mark((function e(t){var n,r;return De().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Rt(t.url,t.index)){e.next=3;break}return e.abrupt("return",t.fallback);case 3:return e.next=5,fetch(n);case 5:if(!(r=e.sent).ok){e.next=8;break}return e.abrupt("return",r.json());case 8:return ht().error("".concat(Ue," ").concat(r.status," while retrieving config file")),e.abrupt("return",t.fallback);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Vr(e){return!(!(t=e).id&&!t.element&&!t.url&&!t.options);var t}var Ur=function(){function e(){d(this,e),this._configs=new Map,this._domArray=[],this._eventDispatcher=new Lr,this._initialized=!1,this.plugins=new jr(this)}return y(e,[{key:"configs",get:function(){var e,t={},n=k(this._configs);try{for(n.s();!(e=n.n()).done;){var r=l(e.value,2),i=r[0],a=r[1];t[i]=a}}catch(o){n.e(o)}finally{n.f()}return t}},{key:"version",get:function(){return"2.12.0"}},{key:"addConfig",value:function(e,t){var n;jt(e)?t&&(t.name=e,this._configs.set(e,t)):this._configs.set(null!==(n=e.name)&&void 0!==n?n:"default",e)}},{key:"addEventListener",value:function(e,t){this._eventDispatcher.addEventListener(e,t)}},{key:"addInteractor",value:function(){var e=Ne(De().mark((function e(t,n){var r,i=arguments;return De().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=!(i.length>2&&void 0!==i[2])||i[2],this.plugins.addInteractor(t,n),e.next=4,this.refresh(r);case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"addMover",value:function(){var e=Ne(De().mark((function e(t,n){var r,i=arguments;return De().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=!(i.length>2&&void 0!==i[2])||i[2],this.plugins.addParticleMover(t,n),e.next=4,this.refresh(r);case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"addParticleUpdater",value:function(){var e=Ne(De().mark((function e(t,n){var r,i=arguments;return De().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=!(i.length>2&&void 0!==i[2])||i[2],this.plugins.addParticleUpdater(t,n),e.next=4,this.refresh(r);case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"addPathGenerator",value:function(){var e=Ne(De().mark((function e(t,n){var r,i=arguments;return De().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=!(i.length>2&&void 0!==i[2])||i[2],this.plugins.addPathGenerator(t,n),e.next=4,this.refresh(r);case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"addPlugin",value:function(){var e=Ne(De().mark((function e(t){var n,r=arguments;return De().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=!(r.length>1&&void 0!==r[1])||r[1],this.plugins.addPlugin(t),e.next=4,this.refresh(n);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addPreset",value:function(){var e=Ne(De().mark((function e(t,n){var r,i,a=arguments;return De().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],i=!(a.length>3&&void 0!==a[3])||a[3],this.plugins.addPreset(t,n,r),e.next=5,this.refresh(i);case 5:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"addShape",value:function(){var e=Ne(De().mark((function e(t,n,r,i,a){var o,s,u,l,c,f=arguments;return De().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=!(f.length>5&&void 0!==f[5])||f[5],Bt(r)?(s=r,u=void 0):u=r,Bt(i)?(s=i,l=void 0):l=i,Bt(a)?(s=a,c=void 0):c=a,o=Wt(n)?{afterEffect:l,destroy:c,draw:n,init:u}:n,this.plugins.addShapeDrawer(t,o),e.next=9,this.refresh(s);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i,a){return e.apply(this,arguments)}}()},{key:"dispatchEvent",value:function(e,t){this._eventDispatcher.dispatchEvent(e,t)}},{key:"dom",value:function(){return this._domArray}},{key:"domItem",value:function(e){var t=this.dom(),n=t[e];if(n&&!n.destroyed)return n;t.splice(e,1)}},{key:"init",value:function(){this._initialized||(this._initialized=!0)}},{key:"load",value:function(){var e=Ne(De().mark((function e(t,n){return De().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.loadFromArray(t,n));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"loadFromArray",value:function(){var e=Ne(De().mark((function e(t,n,r){var i;return De().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Vr(t)?i=t:(i={},jt(t)?i.id=t:i.options=t,zt(n)?i.index=n:i.options=null!==n&&void 0!==n?n:i.options,i.index=null!==r&&void 0!==r?r:i.index),e.abrupt("return",this._loadParams(i));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"loadJSON",value:function(){var e=Ne(De().mark((function e(t,n,r){var i,a;return De().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return zt(n)||void 0===n?i=t:(a=t,i=n),e.abrupt("return",this._loadParams({id:a,url:i,index:r}));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"refresh",value:function(){var e=Ne(De().mark((function e(){var t=arguments;return De().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.length>0&&void 0!==t[0])||t[0]){e.next=3;break}return e.abrupt("return");case 3:this.dom().forEach((function(e){return e.refresh()}));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeEventListener",value:function(e,t){this._eventDispatcher.removeEventListener(e,t)}},{key:"set",value:function(){var e=Ne(De().mark((function e(t,n,r,i){var a;return De().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={index:i},jt(t)?a.id=t:a.element=t,n instanceof HTMLElement?a.element=n:a.options=n,zt(r)?a.index=r:a.options=null!==r&&void 0!==r?r:a.options,e.abrupt("return",this._loadParams(a));case 5:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"setJSON",value:function(){var e=Ne(De().mark((function e(t,n,r,i){var a;return De().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},t instanceof HTMLElement?(a.element=t,a.url=n,a.index=r):(a.id=t,a.element=n,a.url=r,a.index=i),e.abrupt("return",this._loadParams(a));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"setOnClickHandler",value:function(e){var t=this.dom();if(!t.length)throw new Error("".concat(Ue," can only set click handlers after calling tsParticles.load()"));var n,r=k(t);try{for(r.s();!(n=r.n()).done;){n.value.addClickHandler(e)}}catch(i){r.e(i)}finally{r.f()}}},{key:"_loadParams",value:function(){var e=Ne(De().mark((function e(t){var n,r,i,a,o,s,u,l,c,f,d,p,h,v;return De().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=null!==(n=t.id)&&void 0!==n?n:"tsparticles".concat(Math.floor(1e4*Qe())),a=t.index,!(o=t.url)){e.next=9;break}return e.next=6,zr({fallback:t.options,url:o,index:a});case 6:e.t0=e.sent,e.next=10;break;case 9:e.t0=t.options;case 10:return s=e.t0,(u=null!==(r=t.element)&&void 0!==r?r:document.getElementById(i))||((u=document.createElement("div")).id=i,document.body.append(u)),l=Rt(s,a),c=this.dom(),f=c.findIndex((function(e){return e.id===i})),f>=0&&(d=this.domItem(f))&&!d.destroyed&&(d.destroy(),c.splice(f,1)),"canvas"===u.tagName.toLowerCase()?(p=u).dataset[je]="false":(h=u.getElementsByTagName("canvas")).length?(p=h[0]).dataset[je]="false":((p=document.createElement("canvas")).dataset[je]="true",u.appendChild(p)),p.style.width||(p.style.width="100%"),p.style.height||(p.style.height="100%"),v=new Fr(this,i,l),f>=0?c.splice(f,0,v):c.push(v),v.canvas.loadCanvas(p),e.next=23,v.start();case 23:return e.abrupt("return",v);case 24:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Kr=function(){function e(){d(this,e),this.key="hsl",this.stringPrefix="hsl"}return y(e,[{key:"handleColor",value:function(e){var t,n=null!==(t=e.value.hsl)&&void 0!==t?t:e.value;if(void 0!==n.h&&void 0!==n.s&&void 0!==n.l)return en(n)}},{key:"handleRangeColor",value:function(e){var t,n=null!==(t=e.value.hsl)&&void 0!==t?t:e.value;if(void 0!==n.h&&void 0!==n.l)return en({h:nt(n.h),l:nt(n.l),s:nt(n.s)})}},{key:"parseString",value:function(e){if(e.startsWith("hsl")){var t=/hsla?\(\s*(\d+)\s*,\s*(\d+)%\s*,\s*(\d+)%\s*(,\s*([\d.%]+)\s*)?\)/i.exec(e);return t?function(e){var t=en(e);return{a:e.a,b:t.b,g:t.g,r:t.r}}({a:t.length>4?ft(t[5]):1,h:parseInt(t[1],10),l:parseInt(t[3],10),s:parseInt(t[2],10)}):void 0}}}]),e}(),Hr=function(){function e(){d(this,e),this.key="rgb",this.stringPrefix="rgb"}return y(e,[{key:"handleColor",value:function(e){var t,n=null!==(t=e.value.rgb)&&void 0!==t?t:e.value;if(void 0!==n.r)return n}},{key:"handleRangeColor",value:function(e){var t,n=null!==(t=e.value.rgb)&&void 0!==t?t:e.value;if(void 0!==n.r)return{r:nt(n.r),g:nt(n.g),b:nt(n.b)}}},{key:"parseString",value:function(e){if(e.startsWith(this.stringPrefix)){var t=/rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([\d.%]+)\s*)?\)/i.exec(e);return t?{a:t.length>4?ft(t[5]):1,b:parseInt(t[3],10),g:parseInt(t[2],10),r:parseInt(t[1],10)}:void 0}}}]),e}();var qr=function(){var e=new Hr,t=new Kr;Gt(e),Gt(t);var n=new Ur;return n.init(),n}();yt()||(window.tsParticles=qr);var Gr=function(e){return"object"===typeof e&&null!==e};function Xr(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){return!1};if(!Gr(e)||!Gr(t))return e===t;var r=Object.keys(e).filter((function(e){return!n(e)})),i=Object.keys(t).filter((function(e){return!n(e)}));if(r.length!==i.length)return!1;var a,o=k(r);try{for(o.s();!(a=o.n()).done;){var s=a.value,u=e[s],l=t[s];if(Gr(u)&&Gr(l)){if(u===t&&l===e)continue;if(!Xr(u,l,n))return!1}else if(Array.isArray(u)&&Array.isArray(l)){if(!Yr(u,l,n))return!1}else if(u!==l)return!1}}catch(c){o.e(c)}finally{o.f()}return!0}function Yr(e,t,n){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++){var i=e[r],a=t[r];if(Array.isArray(i)&&Array.isArray(a)){if(!Yr(i,a,n))return!1}else if(Gr(i)&&Gr(a)){if(!Xr(i,a,n))return!1}else if(i!==a)return!1}return!0}var Jr="tsparticles",$r=function(e){g(r,e);var n=S(r);function r(e){var t;return d(this,r),(t=n.call(this,e)).state={init:!1,library:void 0},t}return y(r,[{key:"destroy",value:function(){this.state.library&&(this.state.library.destroy(),this.setState({library:void 0}))}},{key:"shouldComponentUpdate",value:function(e){var t,n,r=null!==(t=e.options)&&void 0!==t?t:e.params,i=null!==(n=this.props.options)&&void 0!==n?n:this.props.params;return e.url!==this.props.url||e.id!==this.props.id||e.canvasClassName!==this.props.canvasClassName||e.className!==this.props.className||e.height!==this.props.height||e.width!==this.props.width||!Xr(e.style,this.props.style)||e.init!==this.props.init||e.loaded!==this.props.loaded||!Xr(r,i,(function(e){return e.startsWith("_")}))}},{key:"componentDidUpdate",value:function(){this.refresh()}},{key:"forceUpdate",value:function(){var e=this;this.refresh().then((function(){Be(b(r.prototype),"forceUpdate",e).call(e)}))}},{key:"componentDidMount",value:function(){var e=this;Ne(De().mark((function t(){return De().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.props.init){t.next=3;break}return t.next=3,e.props.init(qr);case 3:e.setState({init:!0},Ne(De().mark((function t(){return De().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.loadParticles();case 2:case"end":return t.stop()}}),t)}))));case 4:case"end":return t.stop()}}),t)})))()}},{key:"componentWillUnmount",value:function(){this.destroy()}},{key:"render",value:function(){var e=this.props,n=e.width,r=e.height,i=e.className,a=e.canvasClassName,o=e.id;return t.createElement("div",{className:i,id:o},t.createElement("canvas",{className:a,style:Le(Le({},this.props.style),{},{width:n,height:r})}))}},{key:"refresh",value:function(){var e=Ne(De().mark((function e(){return De().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.destroy(),e.next=3,this.loadParticles();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"loadParticles",value:function(){var e=Ne(De().mark((function e(){var t,n,i,a,o;return De().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.state.init){e.next=2;break}return e.abrupt("return");case 2:return a=null!==(t=null!==(n=this.props.id)&&void 0!==n?n:r.defaultProps.id)&&void 0!==t?t:Jr,e.next=5,qr.load({url:this.props.url,id:a,options:null!==(i=this.props.options)&&void 0!==i?i:this.props.params});case 5:if(o=e.sent,this.props.container&&(this.props.container.current=o),this.setState({library:o}),!this.props.loaded){e.next=11;break}return e.next=11,this.props.loaded(o);case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),r}(t.Component);$r.defaultProps={width:"100%",height:"100%",options:{},style:{},url:void 0,id:Jr};var Qr=$r,Zr=function(){function e(){d(this,e)}return y(e,[{key:"destroy",value:function(){var e=this._container;e&&e.destroy()}},{key:"pauseAnimation",value:function(){var e=this._container;e&&e.pause()}},{key:"resumeAnimation",value:function(){var e=this._container;e&&e.play()}}],[{key:"init",value:function(t){var n,r,i,a,o,s,u,l=new e,c=t.selector;if(!c)throw new Error("No selector provided");var f=document.querySelector(c);if(!f)throw new Error("No element found for selector");return qr.set(c.replace(".","").replace("!",""),f,{fullScreen:{enable:!1},particles:{color:{value:null!==(n=t.color)&&void 0!==n?n:"!000000"},links:{color:"random",distance:null!==(r=t.minDistance)&&void 0!==r?r:120,enable:null!==(i=t.connectParticles)&&void 0!==i&&i},move:{enable:!0,speed:null!==(a=t.speed)&&void 0!==a?a:.5},number:{value:null!==(o=t.maxParticles)&&void 0!==o?o:100},size:{value:{min:1,max:null!==(s=t.sizeVariations)&&void 0!==s?s:3}}},responsive:null===(u=t.responsive)||void 0===u?void 0:u.map((function(e){var n,r,i,a,o;return{maxWidth:e.breakpoint,options:{particles:{color:{value:null===(n=e.options)||void 0===n?void 0:n.color},links:{distance:null===(r=e.options)||void 0===r?void 0:r.minDistance,enable:null===(i=e.options)||void 0===i?void 0:i.connectParticles},number:{value:t.maxParticles},move:{enable:!0,speed:null===(a=e.options)||void 0===a?void 0:a.speed},size:{value:null===(o=e.options)||void 0===o?void 0:o.sizeVariations}}}}}))}).then((function(e){l._container=e})),l}}]),e}(),ei=function(e){var t=function(e){var t=function(t,n){return e.load(t,n)};return t.load=function(t,n,r){e.loadJSON(t,n).then((function(e){e&&r(e)})).catch((function(){r(void 0)}))},t.setOnClickHandler=function(t){e.setOnClickHandler(t)},{particlesJS:t,pJSDom:e.dom()}}(e),n=t.particlesJS,r=t.pJSDom;return window.particlesJS=n,window.pJSDom=r,window.Particles=Zr,{particlesJS:n,pJSDom:r,Particles:Zr}};function ti(e,t,n,r,i,a){!function(e,t){var n,r=e.options,i=r.move.path;if(!i.enable)return;if(e.lastPathTime<=e.pathDelay)return void(e.lastPathTime+=t.value);var a=null===(n=e.pathGenerator)||void 0===n?void 0:n.generate(e,t);a&&e.velocity.addTo(a);i.clamp&&(e.velocity.x=Ze(e.velocity.x,-1,1),e.velocity.y=Ze(e.velocity.y,-1,1));e.lastPathTime-=e.pathDelay}(e,a);var o=e.gravity,s=null!==o&&void 0!==o&&o.enable&&o.inverse?-1:1;i&&n&&(e.velocity.x+=i*a.factor/(60*n)),null!==o&&void 0!==o&&o.enable&&n&&(e.velocity.y+=s*(o.acceleration*a.factor)/(60*n));var u=e.moveDecay;e.velocity.multTo(u);var l=e.velocity.mult(n);null!==o&&void 0!==o&&o.enable&&r>0&&(!o.inverse&&l.y>=0&&l.y>=r||o.inverse&&l.y<=0&&l.y<=-r)&&(l.y=s*r,n&&(e.velocity.y=l.y/n));var c=e.options.zIndex,f=Math.pow(1-e.zIndexFactor,c.velocityRate);l.multTo(f);var d=e.position;d.addTo(l),t.vibrate&&(d.x+=Math.sin(d.x*Math.cos(d.y)),d.y+=Math.cos(d.y*Math.sin(d.x)))}var ni=function(){function e(){d(this,e),this._initSpin=function(e){var t,n=e.container,r=e.options.move.spin;if(r.enable){var i=null!==(t=r.position)&&void 0!==t?t:{x:50,y:50},a={x:i.x/100*n.canvas.size.width,y:i.y/100*n.canvas.size.height},o=ut(e.getPosition(),a),s=nt(r.acceleration);e.retina.spinAcceleration=s*n.retina.pixelRatio,e.spin={center:a,direction:e.velocity.x>=0?"clockwise":"counter-clockwise",angle:e.velocity.angle,radius:o,acceleration:e.retina.spinAcceleration}}}}return y(e,[{key:"init",value:function(e){var t=e.options.move.gravity;e.gravity={enable:t.enable,acceleration:nt(t.acceleration),inverse:t.inverse},this._initSpin(e)}},{key:"isEnabled",value:function(e){return!e.destroyed&&e.options.move.enable}},{key:"move",value:function(e,t){var n,r,i,a,o,s=e.options,u=s.move;if(u.enable){var l=e.container,c=l.retina.pixelRatio,f=function(e){return e.slow.inRange?e.slow.factor:1}(e),d=(null!==(r=(n=e.retina).moveSpeed)&&void 0!==r?r:n.moveSpeed=nt(u.speed)*c)*l.retina.reduceFactor,p=null!==(a=(i=e.retina).moveDrift)&&void 0!==a?a:i.moveDrift=nt(e.options.move.drift)*c,h=it(s.size.value)*c,v=d*(u.size?e.getRadius()/h:1)*f*(t.factor||1)/2,y=null!==(o=e.retina.maxSpeed)&&void 0!==o?o:l.retina.maxSpeed;u.spin.enable?function(e,t){var n=e.container;if(e.spin){var r={x:"clockwise"===e.spin.direction?Math.cos:Math.sin,y:"clockwise"===e.spin.direction?Math.sin:Math.cos};e.position.x=e.spin.center.x+e.spin.radius*r.x(e.spin.angle),e.position.y=e.spin.center.y+e.spin.radius*r.y(e.spin.angle),e.spin.radius+=e.spin.acceleration;var i=Math.max(n.canvas.size.width,n.canvas.size.height);e.spin.radius>i/2?(e.spin.radius=i/2,e.spin.acceleration*=-1):e.spin.radius<0&&(e.spin.radius=0,e.spin.acceleration*=-1),e.spin.angle+=t/100*(1-e.spin.radius/i)}}(e,v):ti(e,u,v,y,p,t),function(e){var t=e.initialPosition,n=st(t,e.position),r=n.dx,i=n.dy,a=Math.abs(r),o=Math.abs(i),s=e.retina.maxDistance,u=s.horizontal,l=s.vertical;if(u||l)if((u&&a>=u||l&&o>=l)&&!e.misplaced)e.misplaced=!!u&&a>u||!!l&&o>l,u&&(e.velocity.x=e.velocity.y/2-e.velocity.x),l&&(e.velocity.y=e.velocity.x/2-e.velocity.y);else if((!u||a<u)&&(!l||o<l)&&e.misplaced)e.misplaced=!1;else if(e.misplaced){var c=e.position,f=e.velocity;u&&(c.x<t.x&&f.x<0||c.x>t.x&&f.x>0)&&(f.x*=-Qe()),l&&(c.y<t.y&&f.y<0||c.y>t.y&&f.y>0)&&(f.y*=-Qe())}}(e)}}}]),e}();function ri(e){return ii.apply(this,arguments)}function ii(){return ii=Ne(De().mark((function e(t){var n,r=arguments;return De().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=!(r.length>1&&void 0!==r[1])||r[1],e.next=3,t.addMover("base",(function(){return new ni}),n);case 3:case"end":return e.stop()}}),e)}))),ii.apply(this,arguments)}var ai=function(){function e(){d(this,e)}return y(e,[{key:"draw",value:function(e,t,n){t.circleRange||(t.circleRange={min:0,max:2*Math.PI});var r=t.circleRange;e.arc(0,0,n,r.min,r.max,!1)}},{key:"getSidesCount",value:function(){return 12}},{key:"particleInit",value:function(e,t){var n,r=t.shapeData,i=null!==(n=null===r||void 0===r?void 0:r.angle)&&void 0!==n?n:{max:360,min:0};t.circleRange=Vt(i)?{min:i.min*Math.PI/180,max:i.max*Math.PI/180}:{min:0,max:i*Math.PI/180}}}]),e}();function oi(e){return si.apply(this,arguments)}function si(){return si=Ne(De().mark((function e(t){var n,r=arguments;return De().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=!(r.length>1&&void 0!==r[1])||r[1],e.next=3,t.addShape("circle",new ai,n);case 3:case"end":return e.stop()}}),e)}))),si.apply(this,arguments)}function ui(e,t,n,r,i){var a,o,s,u,l,c,f,d,p;if(t&&n.enable&&!((null!==(a=t.maxLoops)&&void 0!==a?a:0)>0&&(null!==(o=t.loops)&&void 0!==o?o:0)>(null!==(s=t.maxLoops)&&void 0!==s?s:0))&&(t.time||(t.time=0),(null!==(u=t.delayTime)&&void 0!==u?u:0)>0&&t.time<(null!==(l=t.delayTime)&&void 0!==l?l:0)&&(t.time+=e.value),!((null!==(c=t.delayTime)&&void 0!==c?c:0)>0&&t.time<(null!==(f=t.delayTime)&&void 0!==f?f:0)))){var h=tt(n.offset),v=(null!==(d=t.velocity)&&void 0!==d?d:0)*e.factor+3.6*h,y=null!==(p=t.decay)&&void 0!==p?p:1;i&&"increasing"!==t.status?(t.value-=v,t.value<0&&(t.loops||(t.loops=0),t.loops++,t.status="increasing",t.value+=t.value)):(t.value+=v,t.value>r&&(t.loops||(t.loops=0),t.loops++,i&&(t.status="decreasing",t.value-=t.value%r))),t.velocity&&1!==y&&(t.velocity*=y),t.value>r&&(t.value%=r)}}var li=function(){function e(t){d(this,e),this.container=t}return y(e,[{key:"init",value:function(e){var t=Qt(e.options.color,e.id,e.options.reduceDuplicates);t&&(e.color=ln(t,e.options.color.animation,this.container.retina.reduceFactor))}},{key:"isEnabled",value:function(e){var t=e.options.color.animation,n=t.h,r=t.s,i=t.l,a=e.color;return!e.destroyed&&!e.spawning&&(void 0!==(null===a||void 0===a?void 0:a.h.value)&&n.enable||void 0!==(null===a||void 0===a?void 0:a.s.value)&&r.enable||void 0!==(null===a||void 0===a?void 0:a.l.value)&&i.enable)}},{key:"update",value:function(e,t){!function(e,t){var n=e.options.color.animation,r=n.h,i=n.s,a=n.l,o=e.color;if(o){var s=o.h,u=o.s,l=o.l;s&&ui(t,s,r,360,!1),u&&ui(t,u,i,100,!0),l&&ui(t,l,a,100,!0)}}(e,t)}}]),e}();function ci(e){return fi.apply(this,arguments)}function fi(){return fi=Ne(De().mark((function e(t){var n,r=arguments;return De().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=!(r.length>1&&void 0!==r[1])||r[1],e.next=3,t.addParticleUpdater("color",(function(e){return new li(e)}),n);case 3:case"end":return e.stop()}}),e)}))),fi.apply(this,arguments)}var di=function(){function e(t){d(this,e),this.container=t}return y(e,[{key:"init",value:function(e){var t=e.options.opacity;e.opacity=Mt(t,1);var n=t.animation;n.enable&&(e.opacity.velocity=nt(n.speed)/100*this.container.retina.reduceFactor,n.sync||(e.opacity.velocity*=Qe()))}},{key:"isEnabled",value:function(e){var t,n,r,i;return!e.destroyed&&!e.spawning&&!!e.opacity&&e.opacity.enable&&((null!==(t=e.opacity.maxLoops)&&void 0!==t?t:0)<=0||(null!==(n=e.opacity.maxLoops)&&void 0!==n?n:0)>0&&(null!==(r=e.opacity.loops)&&void 0!==r?r:0)<(null!==(i=e.opacity.maxLoops)&&void 0!==i?i:0))}},{key:"reset",value:function(e){e.opacity&&(e.opacity.time=0,e.opacity.loops=0)}},{key:"update",value:function(e,t){this.isEnabled(e)&&function(e,t){var n,r,i,a,o,s,u,l,c=e.opacity;if(!(e.destroyed||null===c||void 0===c||!c.enable||(null!==(n=c.maxLoops)&&void 0!==n?n:0)>0&&(null!==(r=c.loops)&&void 0!==r?r:0)>(null!==(i=c.maxLoops)&&void 0!==i?i:0))){var f=c.min,d=c.max,p=null!==(a=c.decay)&&void 0!==a?a:1;if(c.time||(c.time=0),(null!==(o=c.delayTime)&&void 0!==o?o:0)>0&&c.time<(null!==(s=c.delayTime)&&void 0!==s?s:0)&&(c.time+=t.value),!((null!==(u=c.delayTime)&&void 0!==u?u:0)>0&&c.time<(null!==(l=c.delayTime)&&void 0!==l?l:0))){switch(c.status){case"increasing":var h;c.value>=d?(c.status="decreasing",c.loops||(c.loops=0),c.loops++):c.value+=(null!==(h=c.velocity)&&void 0!==h?h:0)*t.factor;break;case"decreasing":var v;c.value<=f?(c.status="increasing",c.loops||(c.loops=0),c.loops++):c.value-=(null!==(v=c.velocity)&&void 0!==v?v:0)*t.factor}c.velocity&&1!==c.decay&&(c.velocity*=p),function(e,t,n,r){switch(e.options.opacity.animation.destroy){case"max":t>=r&&e.destroy();break;case"min":t<=n&&e.destroy()}}(e,c.value,f,d),e.destroyed||(c.value=Ze(c.value,f,d))}}}(e,t)}}]),e}();function pi(e){return hi.apply(this,arguments)}function hi(){return hi=Ne(De().mark((function e(t){var n,r=arguments;return De().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=!(r.length>1&&void 0!==r[1])||r[1],e.next=3,t.addParticleUpdater("opacity",(function(e){return new di(e)}),n);case 3:case"end":return e.stop()}}),e)}))),hi.apply(this,arguments)}var vi=function(){function e(t){d(this,e),this.container=t,this.modes=["bounce","bounce-vertical","bounce-horizontal","bounceVertical","bounceHorizontal","split"]}return y(e,[{key:"update",value:function(e,t,n,r){if(this.modes.includes(r)){var i,a=this.container,o=!1,s=k(a.plugins);try{for(s.s();!(i=s.n()).done;){var u=l(i.value,2)[1];if(void 0!==u.particleBounce&&(o=u.particleBounce(e,n,t)),o)break}}catch(v){s.e(v)}finally{s.f()}if(!o){var c=e.getPosition(),f=e.offset,d=e.getRadius(),p=Et(c,d),h=a.canvas.size;!function(e){if(!("bounce"!==e.outMode&&"bounce-horizontal"!==e.outMode&&"bounceHorizontal"!==e.outMode&&"split"!==e.outMode||"left"!==e.direction&&"right"!==e.direction)){e.bounds.right<0&&"left"===e.direction?e.particle.position.x=e.size+e.offset.x:e.bounds.left>e.canvasSize.width&&"right"===e.direction&&(e.particle.position.x=e.canvasSize.width-e.size-e.offset.x);var t=e.particle.velocity.x,n=!1;if("right"===e.direction&&e.bounds.right>=e.canvasSize.width&&t>0||"left"===e.direction&&e.bounds.left<=0&&t<0){var r=ot(e.particle.options.bounce.horizontal);e.particle.velocity.x*=-r,n=!0}if(n){var i=e.offset.x+e.size;e.bounds.right>=e.canvasSize.width&&"right"===e.direction?e.particle.position.x=e.canvasSize.width-i:e.bounds.left<=0&&"left"===e.direction&&(e.particle.position.x=i),"split"===e.outMode&&e.particle.destroy()}}}({particle:e,outMode:r,direction:t,bounds:p,canvasSize:h,offset:f,size:d}),function(e){if(!("bounce"!==e.outMode&&"bounce-vertical"!==e.outMode&&"bounceVertical"!==e.outMode&&"split"!==e.outMode||"bottom"!==e.direction&&"top"!==e.direction)){e.bounds.bottom<0&&"top"===e.direction?e.particle.position.y=e.size+e.offset.y:e.bounds.top>e.canvasSize.height&&"bottom"===e.direction&&(e.particle.position.y=e.canvasSize.height-e.size-e.offset.y);var t=e.particle.velocity.y,n=!1;if("bottom"===e.direction&&e.bounds.bottom>=e.canvasSize.height&&t>0||"top"===e.direction&&e.bounds.top<=0&&t<0){var r=ot(e.particle.options.bounce.vertical);e.particle.velocity.y*=-r,n=!0}if(n){var i=e.offset.y+e.size;e.bounds.bottom>=e.canvasSize.height&&"bottom"===e.direction?e.particle.position.y=e.canvasSize.height-i:e.bounds.top<=0&&"top"===e.direction&&(e.particle.position.y=i),"split"===e.outMode&&e.particle.destroy()}}}({particle:e,outMode:r,direction:t,bounds:p,canvasSize:h,offset:f,size:d})}}}}]),e}(),yi=function(){function e(t){d(this,e),this.container=t,this.modes=["destroy"]}return y(e,[{key:"update",value:function(e,t,n,r){if(this.modes.includes(r)){var i=this.container;switch(e.outType){case"normal":case"outside":if(Tt(e.position,i.canvas.size,Ge.origin,e.getRadius(),t))return;break;case"inside":var a=st(e.position,e.moveCenter),o=a.dx,s=a.dy,u=e.velocity,l=u.x,c=u.y;if(l<0&&o>e.moveCenter.radius||c<0&&s>e.moveCenter.radius||l>=0&&o<-e.moveCenter.radius||c>=0&&s<-e.moveCenter.radius)return}i.particles.remove(e,void 0,!0)}}}]),e}(),mi=function(){function e(t){d(this,e),this.container=t,this.modes=["none"]}return y(e,[{key:"update",value:function(e,t,n,r){if(this.modes.includes(r)&&(!e.options.move.distance.horizontal||"left"!==t&&"right"!==t)&&(!e.options.move.distance.vertical||"top"!==t&&"bottom"!==t)){var i=e.options.move.gravity,a=this.container,o=a.canvas.size,s=e.getRadius();if(i.enable){var u=e.position;(!i.inverse&&u.y>o.height+s&&"bottom"===t||i.inverse&&u.y<-s&&"top"===t)&&a.particles.remove(e)}else{if(e.velocity.y>0&&e.position.y<=o.height+s||e.velocity.y<0&&e.position.y>=-s||e.velocity.x>0&&e.position.x<=o.width+s||e.velocity.x<0&&e.position.x>=-s)return;Tt(e.position,a.canvas.size,Ge.origin,s,t)||a.particles.remove(e)}}}}]),e}(),gi=function(){function e(t){d(this,e),this.container=t,this.modes=["out"]}return y(e,[{key:"update",value:function(e,t,n,r){if(this.modes.includes(r)){var i=this.container;if("inside"===e.outType){var a=e.velocity,o=a.x,s=a.y,u=Ge.origin;u.length=e.moveCenter.radius,u.angle=e.velocity.angle+Math.PI,u.addTo(Ge.create(e.moveCenter));var l=st(e.position,u),c=l.dx,f=l.dy;if(o<=0&&c>=0||s<=0&&f>=0||o>=0&&c<=0||s>=0&&f<=0)return;e.position.x=Math.floor(tt({min:0,max:i.canvas.size.width})),e.position.y=Math.floor(tt({min:0,max:i.canvas.size.height}));var d=st(e.position,e.moveCenter),p=d.dx,h=d.dy;e.direction=Math.atan2(-h,-p),e.velocity.angle=e.direction}else{if(Tt(e.position,i.canvas.size,Ge.origin,e.getRadius(),t))return;switch(e.outType){case"outside":e.position.x=Math.floor(tt({min:-e.moveCenter.radius,max:e.moveCenter.radius}))+e.moveCenter.x,e.position.y=Math.floor(tt({min:-e.moveCenter.radius,max:e.moveCenter.radius}))+e.moveCenter.y;var v=st(e.position,e.moveCenter),y=v.dx,m=v.dy;e.moveCenter.radius&&(e.direction=Math.atan2(m,y),e.velocity.angle=e.direction);break;case"normal":var g=e.options.move.warp,b=i.canvas.size,x={bottom:b.height+e.getRadius()+e.offset.y,left:-e.getRadius()-e.offset.x,right:b.width+e.getRadius()+e.offset.x,top:-e.getRadius()-e.offset.y},w=e.getRadius(),S=Et(e.position,w);"right"===t&&S.left>b.width+e.offset.x?(e.position.x=x.left,e.initialPosition.x=e.position.x,g||(e.position.y=Qe()*b.height,e.initialPosition.y=e.position.y)):"left"===t&&S.right<-e.offset.x&&(e.position.x=x.right,e.initialPosition.x=e.position.x,g||(e.position.y=Qe()*b.height,e.initialPosition.y=e.position.y)),"bottom"===t&&S.top>b.height+e.offset.y?(g||(e.position.x=Qe()*b.width,e.initialPosition.x=e.position.x),e.position.y=x.top,e.initialPosition.y=e.position.y):"top"===t&&S.bottom<-e.offset.y&&(g||(e.position.x=Qe()*b.width,e.initialPosition.x=e.position.x),e.position.y=x.bottom,e.initialPosition.y=e.position.y)}}}}}]),e}(),bi=function(){function e(t){var n=this;d(this,e),this.container=t,this._updateOutMode=function(e,t,r,i){var a,o=k(n.updaters);try{for(o.s();!(a=o.n()).done;){a.value.update(e,i,t,r)}}catch(s){o.e(s)}finally{o.f()}},this.updaters=[new vi(t),new yi(t),new gi(t),new mi(t)]}return y(e,[{key:"init",value:function(){}},{key:"isEnabled",value:function(e){return!e.destroyed&&!e.spawning}},{key:"update",value:function(e,t){var n,r,i,a,o=e.options.move.outModes;this._updateOutMode(e,t,null!==(n=o.bottom)&&void 0!==n?n:o.default,"bottom"),this._updateOutMode(e,t,null!==(r=o.left)&&void 0!==r?r:o.default,"left"),this._updateOutMode(e,t,null!==(i=o.right)&&void 0!==i?i:o.default,"right"),this._updateOutMode(e,t,null!==(a=o.top)&&void 0!==a?a:o.default,"top")}}]),e}();function xi(e){return wi.apply(this,arguments)}function wi(){return wi=Ne(De().mark((function e(t){var n,r=arguments;return De().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=!(r.length>1&&void 0!==r[1])||r[1],e.next=3,t.addParticleUpdater("outModes",(function(e){return new bi(e)}),n);case 3:case"end":return e.stop()}}),e)}))),wi.apply(this,arguments)}var Si=function(){function e(){d(this,e)}return y(e,[{key:"init",value:function(e){var t,n=e.container,r=e.options.size.animation;r.enable&&(e.size.velocity=(null!==(t=e.retina.sizeAnimationSpeed)&&void 0!==t?t:n.retina.sizeAnimationSpeed)/100*n.retina.reduceFactor,r.sync||(e.size.velocity*=Qe()))}},{key:"isEnabled",value:function(e){var t,n,r,i;return!e.destroyed&&!e.spawning&&e.size.enable&&((null!==(t=e.size.maxLoops)&&void 0!==t?t:0)<=0||(null!==(n=e.size.maxLoops)&&void 0!==n?n:0)>0&&(null!==(r=e.size.loops)&&void 0!==r?r:0)<(null!==(i=e.size.maxLoops)&&void 0!==i?i:0))}},{key:"reset",value:function(e){e.size.loops=0}},{key:"update",value:function(e,t){this.isEnabled(e)&&function(e,t){var n,r,i,a,o,s,u,l,c,f=e.size;if(!e.destroyed&&f&&f.enable&&!((null!==(n=f.maxLoops)&&void 0!==n?n:0)>0&&(null!==(r=f.loops)&&void 0!==r?r:0)>(null!==(i=f.maxLoops)&&void 0!==i?i:0))){var d=(null!==(a=f.velocity)&&void 0!==a?a:0)*t.factor,p=f.min,h=f.max,v=null!==(o=f.decay)&&void 0!==o?o:1;if(f.time||(f.time=0),(null!==(s=f.delayTime)&&void 0!==s?s:0)>0&&f.time<(null!==(u=f.delayTime)&&void 0!==u?u:0)&&(f.time+=t.value),!((null!==(l=f.delayTime)&&void 0!==l?l:0)>0&&f.time<(null!==(c=f.delayTime)&&void 0!==c?c:0))){switch(f.status){case"increasing":f.value>=h?(f.status="decreasing",f.loops||(f.loops=0),f.loops++):f.value+=d;break;case"decreasing":f.value<=p?(f.status="increasing",f.loops||(f.loops=0),f.loops++):f.value-=d}f.velocity&&1!==v&&(f.velocity*=v),function(e,t,n,r){switch(e.options.size.animation.destroy){case"max":t>=r&&e.destroy();break;case"min":t<=n&&e.destroy()}}(e,f.value,p,h),e.destroyed||(f.value=Ze(f.value,p,h))}}}(e,t)}}]),e}();function Ti(e){return Ei.apply(this,arguments)}function Ei(){return Ei=Ne(De().mark((function e(t){var n,r=arguments;return De().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=!(r.length>1&&void 0!==r[1])||r[1],e.next=3,t.addParticleUpdater("size",(function(){return new Si}),n);case 3:case"end":return e.stop()}}),e)}))),Ei.apply(this,arguments)}function ki(e){return _i.apply(this,arguments)}function _i(){return _i=Ne(De().mark((function e(t){var n,r=arguments;return De().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=!(r.length>1&&void 0!==r[1])||r[1],e.next=3,ri(t,!1);case 3:return e.next=5,oi(t,!1);case 5:return e.next=7,ci(t,!1);case 7:return e.next=9,pi(t,!1);case 9:return e.next=11,xi(t,!1);case 11:return e.next=13,Ti(t,!1);case 13:return e.next=15,t.refresh(n);case 15:case"end":return e.stop()}}),e)}))),_i.apply(this,arguments)}function Ci(){return Pi.apply(this,arguments)}function Pi(){return(Pi=Ne(De().mark((function e(){return De().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Je("ease-in-quad",(function(e){return Math.pow(e,2)})),Je("ease-out-quad",(function(e){return 1-Math.pow(1-e,2)})),Je("ease-in-out-quad",(function(e){return e<.5?2*Math.pow(e,2):1-Math.pow(-2*e+2,2)/2}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Oi=y((function e(t){d(this,e),this.container=t,this.type="external"})),Ii=function(){function e(){d(this,e),this.distance=200,this.duration=.4,this.easing="ease-out-quad",this.factor=1,this.maxSpeed=50,this.speed=1}return y(e,[{key:"load",value:function(e){e&&(void 0!==e.distance&&(this.distance=e.distance),void 0!==e.duration&&(this.duration=e.duration),void 0!==e.easing&&(this.easing=e.easing),void 0!==e.factor&&(this.factor=e.factor),void 0!==e.maxSpeed&&(this.maxSpeed=e.maxSpeed),void 0!==e.speed&&(this.speed=e.speed))}}]),e}(),Ai=function(e){g(n,e);var t=S(n);function n(e,r){var i;return d(this,n),(i=t.call(this,r))._clickAttract=function(){var e=i.container;e.attract||(e.attract={particles:[]});var t=e.attract;if(t.finish||(t.count||(t.count=0),t.count++,t.count===e.particles.count&&(t.finish=!0)),t.clicking){var n=e.interactivity.mouse.clickPosition,r=e.retina.attractModeDistance;if(!r||r<0||!n)return;i._processAttract(n,r,new Cr(n.x,n.y,r))}else!1===t.clicking&&(t.particles=[])},i._hoverAttract=function(){var e=i.container,t=e.interactivity.mouse.position,n=e.retina.attractModeDistance;!n||n<0||!t||i._processAttract(t,n,new Cr(t.x,t.y,n))},i._processAttract=function(e,t,n){var r=i.container,a=r.actualOptions.interactivity.modes.attract;if(a){var o,s=r.particles.quadTree.query(n,(function(e){return i.isEnabled(e)})),u=k(s);try{for(u.s();!(o=u.n()).done;){var l=o.value,c=st(l.position,e),f=c.dx,d=c.dy,p=c.distance,h=a.speed*a.factor,v=Ze($e(a.easing)(1-p/t)*h,0,a.maxSpeed),y=Ge.create(0===p?h:f/p*v,0===p?h:d/p*v);l.position.subFrom(y)}}catch(m){u.e(m)}finally{u.f()}}},i._engine=e,r.attract||(r.attract={particles:[]}),i.handleClickMode=function(e){var t=i.container.actualOptions.interactivity.modes.attract;if(t&&"attract"===e){r.attract||(r.attract={particles:[]}),r.attract.clicking=!0,r.attract.count=0;var n,a=k(r.attract.particles);try{for(a.s();!(n=a.n()).done;){var o=n.value;i.isEnabled(o)&&o.velocity.setTo(o.initialVelocity)}}catch(s){a.e(s)}finally{a.f()}r.attract.particles=[],r.attract.finish=!1,setTimeout((function(){r.destroyed||(r.attract||(r.attract={particles:[]}),r.attract.clicking=!1)}),1e3*t.duration)}},i}return y(n,[{key:"clear",value:function(){}},{key:"init",value:function(){var e=this.container,t=e.actualOptions.interactivity.modes.attract;t&&(e.retina.attractModeDistance=t.distance*e.retina.pixelRatio)}},{key:"interact",value:function(){var e=Ne(De().mark((function e(){var t,n,r,i,a,o,s,u;return De().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.container,n=t.actualOptions,r=t.interactivity.status===We,i=n.interactivity.events,a=i.onHover.enable,o=i.onHover.mode,s=i.onClick.enable,u=i.onClick.mode,r&&a&&bt("attract",o)?this._hoverAttract():s&&bt("attract",u)&&this._clickAttract();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isEnabled",value:function(e){var t,n=this.container,r=n.actualOptions,i=n.interactivity.mouse,a=(null!==(t=null===e||void 0===e?void 0:e.interactivity)&&void 0!==t?t:r.interactivity).events;if((!i.position||!a.onHover.enable)&&(!i.clickPosition||!a.onClick.enable))return!1;var o=a.onHover.mode,s=a.onClick.mode;return bt("attract",o)||bt("attract",s)}},{key:"loadModeOptions",value:function(e){e.attract||(e.attract=new Ii);for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e.attract.load(null===o||void 0===o?void 0:o.attract)}}},{key:"reset",value:function(){}}]),n}(Oi);function Di(e){return Ri.apply(this,arguments)}function Ri(){return Ri=Ne(De().mark((function e(t){var n,r=arguments;return De().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=!(r.length>1&&void 0!==r[1])||r[1],e.next=3,t.addInteractor("externalAttract",(function(e){return new Ai(t,e)}),n);case 3:case"end":return e.stop()}}),e)}))),Ri.apply(this,arguments)}var Ni=function(){function e(){d(this,e),this.distance=200}return y(e,[{key:"load",value:function(e){e&&void 0!==e.distance&&(this.distance=e.distance)}}]),e}(),Mi=function(e){g(n,e);var t=S(n);function n(e){var r;return d(this,n),(r=t.call(this,e))._processBounce=function(e,t,n){var i,a=r.container.particles.quadTree.query(n,(function(e){return r.isEnabled(e)})),o=k(a);try{for(o.s();!(i=o.n()).done;){var s=i.value;n instanceof Cr?It(Ot(s),{position:e,radius:t,mass:Math.pow(t,2)*Math.PI/2,velocity:Ge.origin,factor:Ge.origin}):n instanceof _r&&At(s,Et(e,t))}}catch(u){o.e(u)}finally{o.f()}},r._processMouseBounce=function(){var e=r.container,t=10*e.retina.pixelRatio,n=e.interactivity.mouse.position,i=e.retina.bounceModeDistance;!i||i<0||!n||r._processBounce(n,i,new Cr(n.x,n.y,i+t))},r._singleSelectorBounce=function(e,t){var n=r.container,i=document.querySelectorAll(e);i.length&&i.forEach((function(e){var i=e,a=n.retina.pixelRatio,o={x:(i.offsetLeft+i.offsetWidth/2)*a,y:(i.offsetTop+i.offsetHeight/2)*a},s=i.offsetWidth/2*a,u=10*a,l="circle"===t.type?new Cr(o.x,o.y,s+u):new _r(i.offsetLeft*a-u,i.offsetTop*a-u,i.offsetWidth*a+2*u,i.offsetHeight*a+2*u);r._processBounce(o,s,l)}))},r}return y(n,[{key:"clear",value:function(){}},{key:"init",value:function(){var e=this.container,t=e.actualOptions.interactivity.modes.bounce;t&&(e.retina.bounceModeDistance=t.distance*e.retina.pixelRatio)}},{key:"interact",value:function(){var e=Ne(De().mark((function e(){var t,n,r,i,a,o,s,u=this;return De().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.container,n=t.actualOptions,r=n.interactivity.events,i=t.interactivity.status===We,a=r.onHover.enable,o=r.onHover.mode,s=r.onDiv,i&&a&&bt("bounce",o)?this._processMouseBounce():Ct("bounce",s,(function(e,t){return u._singleSelectorBounce(e,t)}));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isEnabled",value:function(e){var t,n=this.container,r=n.actualOptions,i=n.interactivity.mouse,a=(null!==(t=null===e||void 0===e?void 0:e.interactivity)&&void 0!==t?t:r.interactivity).events,o=a.onDiv;return i.position&&a.onHover.enable&&bt("bounce",a.onHover.mode)||_t("bounce",o)}},{key:"loadModeOptions",value:function(e){e.bounce||(e.bounce=new Ni);for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e.bounce.load(null===o||void 0===o?void 0:o.bounce)}}},{key:"reset",value:function(){}}]),n}(Oi);function Fi(e){return Li.apply(this,arguments)}function Li(){return Li=Ne(De().mark((function e(t){var n,r=arguments;return De().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=!(r.length>1&&void 0!==r[1])||r[1],e.next=3,t.addInteractor("externalBounce",(function(e){return new Mi(e)}),n);case 3:case"end":return e.stop()}}),e)}))),Li.apply(this,arguments)}var Bi=function(){function e(){d(this,e),this.distance=200,this.duration=.4,this.mix=!1}return y(e,[{key:"load",value:function(e){if(e){if(void 0!==e.distance&&(this.distance=e.distance),void 0!==e.duration&&(this.duration=e.duration),void 0!==e.mix&&(this.mix=e.mix),void 0!==e.opacity&&(this.opacity=e.opacity),void 0!==e.color){var t=Ut(this.color)?void 0:this.color;this.color=Dt(e.color,(function(e){return mn.create(t,e)}))}void 0!==e.size&&(this.size=e.size)}}}]),e}(),ji=function(e){g(n,e);var t=S(n);function n(){var e;return d(this,n),(e=t.call(this)).selectors=[],e}return y(n,[{key:"ids",get:function(){return Dt(this.selectors,(function(e){return e.replace("#","")}))},set:function(e){this.selectors=Dt(e,(function(e){return"#".concat(e)}))}},{key:"load",value:function(e){Be(b(n.prototype),"load",this).call(this,e),e&&(void 0!==e.ids&&(this.ids=e.ids),void 0!==e.selectors&&(this.selectors=e.selectors))}}]),n}(Bi),zi=function(e){g(n,e);var t=S(n);function n(){return d(this,n),t.apply(this,arguments)}return y(n,[{key:"load",value:function(e){Be(b(n.prototype),"load",this).call(this,e),e&&(this.divs=Dt(e.divs,(function(e){var t=new ji;return t.load(e),t})))}}]),n}(Bi);function Wi(e,t,n,r){return t>=n?Ze(e+(t-n)*r,e,t):t<n?Ze(e-(n-t)*r,t,e):void 0}var Vi=function(e){g(n,e);var t=S(n);function n(e){var r;return d(this,n),(r=t.call(this,e))._clickBubble=function(){var e=r.container,t=e.actualOptions,n=e.interactivity.mouse.clickPosition,i=t.interactivity.modes.bubble;if(i&&n){e.bubble||(e.bubble={});var a=e.retina.bubbleModeDistance;if(a&&!(a<0)){var o,s=e.particles.quadTree.queryCircle(n,a,(function(e){return r.isEnabled(e)})),u=e.bubble,l=k(s);try{for(l.s();!(o=l.n()).done;){var c,f,d=o.value;if(u.clicking){d.bubble.inRange=!u.durationEnd;var p=ut(d.getPosition(),n),h=((new Date).getTime()-(e.interactivity.mouse.clickTime||0))/1e3;h>i.duration&&(u.durationEnd=!0),h>2*i.duration&&(u.clicking=!1,u.durationEnd=!1);var v={bubbleObj:{optValue:e.retina.bubbleModeSize,value:d.bubble.radius},particlesObj:{optValue:it(d.options.size.value)*e.retina.pixelRatio,value:d.size.value},type:"size"};r._process(d,p,h,v);var y={bubbleObj:{optValue:i.opacity,value:d.bubble.opacity},particlesObj:{optValue:it(d.options.opacity.value),value:null!==(c=null===(f=d.opacity)||void 0===f?void 0:f.value)&&void 0!==c?c:1},type:"opacity"};r._process(d,p,h,y),!u.durationEnd&&p<=a?r._hoverBubbleColor(d,p):delete d.bubble.color}}}catch(m){l.e(m)}finally{l.f()}}}},r._hoverBubble=function(){var e=r.container,t=e.interactivity.mouse.position,n=e.retina.bubbleModeDistance;if(n&&!(n<0)&&void 0!==t){var i,a=e.particles.quadTree.queryCircle(t,n,(function(e){return r.isEnabled(e)})),o=k(a);try{for(o.s();!(i=o.n()).done;){var s=i.value;s.bubble.inRange=!0;var u=ut(s.getPosition(),t),l=1-u/n;u<=n?l>=0&&e.interactivity.status===We&&(r._hoverBubbleSize(s,l),r._hoverBubbleOpacity(s,l),r._hoverBubbleColor(s,l)):r.reset(s),e.interactivity.status===ze&&r.reset(s)}}catch(c){o.e(c)}finally{o.f()}}},r._hoverBubbleColor=function(e,t,n){var i=r.container.actualOptions,a=null!==n&&void 0!==n?n:i.interactivity.modes.bubble;if(a){if(!e.bubble.finalColor){var o=a.color;if(!o)return;var s=Rt(o);e.bubble.finalColor=Qt(s)}if(e.bubble.finalColor)if(a.mix){e.bubble.color=void 0;var u=e.getFillColor();e.bubble.color=u?Zt(an(u,e.bubble.finalColor,1-t,t)):e.bubble.finalColor}else e.bubble.color=e.bubble.finalColor}},r._hoverBubbleOpacity=function(e,t,n){var i,a,o,s,u=r.container.actualOptions,l=null!==(i=null===n||void 0===n?void 0:n.opacity)&&void 0!==i?i:null===(a=u.interactivity.modes.bubble)||void 0===a?void 0:a.opacity;if(l){var c=e.options.opacity.value,f=Wi(null!==(o=null===(s=e.opacity)||void 0===s?void 0:s.value)&&void 0!==o?o:1,l,it(c),t);void 0!==f&&(e.bubble.opacity=f)}},r._hoverBubbleSize=function(e,t,n){var i=r.container,a=null!==n&&void 0!==n&&n.size?n.size*i.retina.pixelRatio:i.retina.bubbleModeSize;if(void 0!==a){var o=it(e.options.size.value)*i.retina.pixelRatio,s=Wi(e.size.value,a,o,t);void 0!==s&&(e.bubble.radius=s)}},r._process=function(e,t,n,i){var a=r.container,o=i.bubbleObj.optValue,s=a.actualOptions.interactivity.modes.bubble;if(s&&void 0!==o){var u=s.duration,l=a.retina.bubbleModeDistance,c=i.particlesObj.optValue,f=i.bubbleObj.value,d=i.particlesObj.value||0,p=i.type;if(l&&!(l<0)&&o!==c)if(a.bubble||(a.bubble={}),a.bubble.durationEnd)f&&("size"===p&&delete e.bubble.radius,"opacity"===p&&delete e.bubble.opacity);else if(t<=l){if((null!==f&&void 0!==f?f:d)!==o){var h=d-n*(d-o)/u;"size"===p&&(e.bubble.radius=h),"opacity"===p&&(e.bubble.opacity=h)}}else"size"===p&&delete e.bubble.radius,"opacity"===p&&delete e.bubble.opacity}},r._singleSelectorHover=function(e,t,n){var i=r.container,a=document.querySelectorAll(t),o=i.actualOptions.interactivity.modes.bubble;o&&a.length&&a.forEach((function(t){var a,s=t,u=i.retina.pixelRatio,l={x:(s.offsetLeft+s.offsetWidth/2)*u,y:(s.offsetTop+s.offsetHeight/2)*u},c=s.offsetWidth/2*u,f="circle"===n.type?new Cr(l.x,l.y,c):new _r(s.offsetLeft*u,s.offsetTop*u,s.offsetWidth*u,s.offsetHeight*u),d=i.particles.quadTree.query(f,(function(e){return r.isEnabled(e)})),p=k(d);try{for(p.s();!(a=p.n()).done;){var h=a.value;if(f.contains(h.getPosition())){h.bubble.inRange=!0;var v=Pt(o.divs,s);h.bubble.div&&h.bubble.div===s||(r.clear(h,e,!0),h.bubble.div=s),r._hoverBubbleSize(h,1,v),r._hoverBubbleOpacity(h,1,v),r._hoverBubbleColor(h,1,v)}}}catch(y){p.e(y)}finally{p.f()}}))},e.bubble||(e.bubble={}),r.handleClickMode=function(t){"bubble"===t&&(e.bubble||(e.bubble={}),e.bubble.clicking=!0)},r}return y(n,[{key:"clear",value:function(e,t,n){e.bubble.inRange&&!n||(delete e.bubble.div,delete e.bubble.opacity,delete e.bubble.radius,delete e.bubble.color)}},{key:"init",value:function(){var e=this.container,t=e.actualOptions.interactivity.modes.bubble;t&&(e.retina.bubbleModeDistance=t.distance*e.retina.pixelRatio,void 0!==t.size&&(e.retina.bubbleModeSize=t.size*e.retina.pixelRatio))}},{key:"interact",value:function(){var e=Ne(De().mark((function e(t){var n,r,i,a,o,s,u,l,c,f=this;return De().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=this.container.actualOptions,r=n.interactivity.events,i=r.onHover,a=r.onClick,o=i.enable,s=i.mode,u=a.enable,l=a.mode,c=r.onDiv,o&&bt("bubble",s)?this._hoverBubble():u&&bt("bubble",l)?this._clickBubble():Ct("bubble",c,(function(e,n){return f._singleSelectorHover(t,e,n)}));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"isEnabled",value:function(e){var t,n=this.container,r=n.actualOptions,i=n.interactivity.mouse,a=(null!==(t=null===e||void 0===e?void 0:e.interactivity)&&void 0!==t?t:r.interactivity).events,o=a.onClick,s=a.onDiv,u=a.onHover,l=_t("bubble",s);return!!(l||u.enable&&i.position||o.enable&&i.clickPosition)&&(bt("bubble",u.mode)||bt("bubble",o.mode)||l)}},{key:"loadModeOptions",value:function(e){e.bubble||(e.bubble=new zi);for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e.bubble.load(null===o||void 0===o?void 0:o.bubble)}}},{key:"reset",value:function(e){e.bubble.inRange=!1}}]),n}(Oi);function Ui(e){return Ki.apply(this,arguments)}function Ki(){return Ki=Ne(De().mark((function e(t){var n,r=arguments;return De().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=!(r.length>1&&void 0!==r[1])||r[1],e.next=3,t.addInteractor("externalBubble",(function(e){return new Vi(e)}),n);case 3:case"end":return e.stop()}}),e)}))),Ki.apply(this,arguments)}var Hi=function(){function e(){d(this,e),this.opacity=.5}return y(e,[{key:"load",value:function(e){e&&void 0!==e.opacity&&(this.opacity=e.opacity)}}]),e}(),qi=function(){function e(){d(this,e),this.distance=80,this.links=new Hi,this.radius=60}return y(e,[{key:"lineLinked",get:function(){return this.links},set:function(e){this.links=e}},{key:"line_linked",get:function(){return this.links},set:function(e){this.links=e}},{key:"load",value:function(e){var t,n;e&&(void 0!==e.distance&&(this.distance=e.distance),this.links.load(null!==(t=null!==(n=e.links)&&void 0!==n?n:e.lineLinked)&&void 0!==t?t:e.line_linked),void 0!==e.radius&&(this.radius=e.radius))}}]),e}();function Gi(e,t,n,r){var i=e.actualOptions.interactivity.modes.connect;if(i)return function(e,t,n,r){var i=Math.floor(n.getRadius()/t.getRadius()),a=t.getFillColor(),o=n.getFillColor();if(a&&o){var s=t.getPosition(),u=n.getPosition(),l=an(a,o,t.getRadius(),n.getRadius()),c=e.createLinearGradient(s.x,s.y,u.x,u.y);return c.addColorStop(0,rn(a,r)),c.addColorStop(i>1?1:i,nn(l,r)),c.addColorStop(1,rn(o,r)),c}}(t,n,r,i.links.opacity)}function Xi(e,t,n){e.canvas.draw((function(r){var i,a=Gi(e,r,t,n);if(a){var o=t.getPosition(),s=n.getPosition();!function(e,t,n,r,i){fn(e,r,i),e.lineWidth=t,e.strokeStyle=n,e.stroke()}(r,null!==(i=t.retina.linksWidth)&&void 0!==i?i:0,a,o,s)}}))}var Yi=function(e){g(n,e);var t=S(n);function n(e){return d(this,n),t.call(this,e)}return y(n,[{key:"clear",value:function(){}},{key:"init",value:function(){var e=this.container,t=e.actualOptions.interactivity.modes.connect;t&&(e.retina.connectModeDistance=t.distance*e.retina.pixelRatio,e.retina.connectModeRadius=t.radius*e.retina.pixelRatio)}},{key:"interact",value:function(){var e=Ne(De().mark((function e(){var t,n,r,i,a,o,s,u,l,c,f,d,p,h,v,y,m=this;return De().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container,!t.actualOptions.interactivity.events.onHover.enable||"pointermove"!==t.interactivity.status){e.next=9;break}if(n=t.interactivity.mouse.position,!(!t.retina.connectModeDistance||t.retina.connectModeDistance<0||!t.retina.connectModeRadius||t.retina.connectModeRadius<0)&&n){e.next=5;break}return e.abrupt("return");case 5:r=Math.abs(t.retina.connectModeRadius),i=t.particles.quadTree.queryCircle(n,r,(function(e){return m.isEnabled(e)})),a=0,o=k(i);try{for(o.s();!(s=o.n()).done;){u=s.value,l=u.getPosition(),c=k(i.slice(a+1));try{for(c.s();!(f=c.n()).done;)d=f.value,p=d.getPosition(),h=Math.abs(t.retina.connectModeDistance),v=Math.abs(l.x-p.x),y=Math.abs(l.y-p.y),v<h&&y<h&&Xi(t,u,d)}catch(g){c.e(g)}finally{c.f()}++a}}catch(g){o.e(g)}finally{o.f()}case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isEnabled",value:function(e){var t,n=this.container,r=n.interactivity.mouse,i=(null!==(t=null===e||void 0===e?void 0:e.interactivity)&&void 0!==t?t:n.actualOptions.interactivity).events;return!(!i.onHover.enable||!r.position)&&bt("connect",i.onHover.mode)}},{key:"loadModeOptions",value:function(e){e.connect||(e.connect=new qi);for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e.connect.load(null===o||void 0===o?void 0:o.connect)}}},{key:"reset",value:function(){}}]),n}(Oi);function Ji(e){return $i.apply(this,arguments)}function $i(){return $i=Ne(De().mark((function e(t){var n,r=arguments;return De().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=!(r.length>1&&void 0!==r[1])||r[1],e.next=3,t.addInteractor("externalConnect",(function(e){return new Yi(e)}),n);case 3:case"end":return e.stop()}}),e)}))),$i.apply(this,arguments)}var Qi=function(){function e(){d(this,e),this.blink=!1,this.consent=!1,this.opacity=1}return y(e,[{key:"load",value:function(e){e&&(void 0!==e.blink&&(this.blink=e.blink),void 0!==e.color&&(this.color=mn.create(this.color,e.color)),void 0!==e.consent&&(this.consent=e.consent),void 0!==e.opacity&&(this.opacity=e.opacity))}}]),e}(),Zi=function(){function e(){d(this,e),this.distance=100,this.links=new Qi}return y(e,[{key:"lineLinked",get:function(){return this.links},set:function(e){this.links=e}},{key:"line_linked",get:function(){return this.links},set:function(e){this.links=e}},{key:"load",value:function(e){var t,n;e&&(void 0!==e.distance&&(this.distance=e.distance),this.links.load(null!==(t=null!==(n=e.links)&&void 0!==n?n:e.lineLinked)&&void 0!==t?t:e.line_linked))}}]),e}();function ea(e,t,n,r,i){e.canvas.draw((function(e){var a,o=t.getPosition();!function(e,t,n,r,i,a){fn(e,n,r),e.strokeStyle=nn(i,a),e.lineWidth=t,e.stroke()}(e,null!==(a=t.retina.linksWidth)&&void 0!==a?a:0,o,i,n,r)}))}var ta=function(e){g(n,e);var t=S(n);function n(e){return d(this,n),t.call(this,e)}return y(n,[{key:"clear",value:function(){}},{key:"init",value:function(){var e=this.container,t=e.actualOptions.interactivity.modes.grab;t&&(e.retina.grabModeDistance=t.distance*e.retina.pixelRatio)}},{key:"interact",value:function(){var e=Ne(De().mark((function e(){var t,n,r,i,a,o,s,u,l,c,f,d,p,h,v,y,m,g,b,x=this;return De().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container,n=t.actualOptions,(r=n.interactivity).modes.grab&&r.events.onHover.enable&&t.interactivity.status===We){e.next=3;break}return e.abrupt("return");case 3:if(i=t.interactivity.mouse.position){e.next=6;break}return e.abrupt("return");case 6:if((a=t.retina.grabModeDistance)&&!(a<0)){e.next=9;break}return e.abrupt("return");case 9:o=t.particles.quadTree.queryCircle(i,a,(function(e){return x.isEnabled(e)})),s=k(o),e.prev=11,s.s();case 13:if((u=s.n()).done){e.next=29;break}if(f=u.value,d=f.getPosition(),!((p=ut(d,i))>a)){e.next=18;break}return e.abrupt("continue",27);case 18:if(h=r.modes.grab.links,v=h.opacity,!((y=v-p*v/a)<=0)){e.next=21;break}return e.abrupt("continue",27);case 21:if(m=null!==(l=h.color)&&void 0!==l?l:null===(c=f.options.links)||void 0===c?void 0:c.color,!t.particles.grabLineColor&&m&&(g=r.modes.grab.links,t.particles.grabLineColor=sn(m,g.blink,g.consent)),b=on(f,void 0,t.particles.grabLineColor)){e.next=26;break}return e.abrupt("continue",27);case 26:ea(t,f,b,y,i);case 27:e.next=13;break;case 29:e.next=34;break;case 31:e.prev=31,e.t0=e.catch(11),s.e(e.t0);case 34:return e.prev=34,s.f(),e.finish(34);case 37:case"end":return e.stop()}}),e,this,[[11,31,34,37]])})));return function(){return e.apply(this,arguments)}}()},{key:"isEnabled",value:function(e){var t,n=this.container,r=n.interactivity.mouse,i=(null!==(t=null===e||void 0===e?void 0:e.interactivity)&&void 0!==t?t:n.actualOptions.interactivity).events;return i.onHover.enable&&!!r.position&&bt("grab",i.onHover.mode)}},{key:"loadModeOptions",value:function(e){e.grab||(e.grab=new Zi);for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e.grab.load(null===o||void 0===o?void 0:o.grab)}}},{key:"reset",value:function(){}}]),n}(Oi);function na(e){return ra.apply(this,arguments)}function ra(){return ra=Ne(De().mark((function e(t){var n,r=arguments;return De().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=!(r.length>1&&void 0!==r[1])||r[1],e.next=3,t.addInteractor("externalGrab",(function(e){return new ta(e)}),n);case 3:case"end":return e.stop()}}),e)}))),ra.apply(this,arguments)}var ia=function(e){g(n,e);var t=S(n);function n(e){var r;return d(this,n),(r=t.call(this,e)).handleClickMode=function(e){if("pause"===e){var t=r.container;t.getAnimationStatus()?t.pause():t.play()}},r}return y(n,[{key:"clear",value:function(){}},{key:"init",value:function(){}},{key:"interact",value:function(){var e=Ne(De().mark((function e(){return De().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"isEnabled",value:function(){return!0}},{key:"reset",value:function(){}}]),n}(Oi);function aa(e){return oa.apply(this,arguments)}function oa(){return oa=Ne(De().mark((function e(t){var n,r=arguments;return De().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=!(r.length>1&&void 0!==r[1])||r[1],e.next=3,t.addInteractor("externalPause",(function(e){return new ia(e)}),n);case 3:case"end":return e.stop()}}),e)}))),oa.apply(this,arguments)}var sa=function(){function e(){d(this,e),this.default=!0,this.groups=[],this.quantity=4}return y(e,[{key:"particles_nb",get:function(){return this.quantity},set:function(e){this.quantity=at(e)}},{key:"load",value:function(e){var t;if(e){void 0!==e.default&&(this.default=e.default),void 0!==e.groups&&(this.groups=e.groups.map((function(e){return e}))),this.groups.length||(this.default=!0);var n=null!==(t=e.quantity)&&void 0!==t?t:e.particles_nb;void 0!==n&&(this.quantity=at(n))}}}]),e}(),ua=function(e){g(n,e);var t=S(n);function n(e){var r;return d(this,n),(r=t.call(this,e)).handleClickMode=function(e){if("push"===e){var t=r.container,n=t.actualOptions.interactivity.modes.push;if(n){var i=nt(n.quantity);if(!(i<=0)){var a=St([void 0].concat(f(n.groups))),o=void 0!==a?t.actualOptions.particles.groups[a]:void 0;t.particles.push(i,t.interactivity.mouse,o,a)}}}},r}return y(n,[{key:"clear",value:function(){}},{key:"init",value:function(){}},{key:"interact",value:function(){var e=Ne(De().mark((function e(){return De().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"isEnabled",value:function(){return!0}},{key:"loadModeOptions",value:function(e){e.push||(e.push=new sa);for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e.push.load(null===o||void 0===o?void 0:o.push)}}},{key:"reset",value:function(){}}]),n}(Oi);function la(e){return ca.apply(this,arguments)}function ca(){return ca=Ne(De().mark((function e(t){var n,r=arguments;return De().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=!(r.length>1&&void 0!==r[1])||r[1],e.next=3,t.addInteractor("externalPush",(function(e){return new ua(e)}),n);case 3:case"end":return e.stop()}}),e)}))),ca.apply(this,arguments)}var fa=function(){function e(){d(this,e),this.quantity=2}return y(e,[{key:"particles_nb",get:function(){return this.quantity},set:function(e){this.quantity=at(e)}},{key:"load",value:function(e){var t;if(e){var n=null!==(t=e.quantity)&&void 0!==t?t:e.particles_nb;void 0!==n&&(this.quantity=at(n))}}}]),e}(),da=function(e){g(n,e);var t=S(n);function n(e){var r;return d(this,n),(r=t.call(this,e)).handleClickMode=function(e){var t=r.container,n=t.actualOptions;if(n.interactivity.modes.remove&&"remove"===e){var i=nt(n.interactivity.modes.remove.quantity);t.particles.removeQuantity(i)}},r}return y(n,[{key:"clear",value:function(){}},{key:"init",value:function(){}},{key:"interact",value:function(){var e=Ne(De().mark((function e(){return De().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"isEnabled",value:function(){return!0}},{key:"loadModeOptions",value:function(e){e.remove||(e.remove=new fa);for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e.remove.load(null===o||void 0===o?void 0:o.remove)}}},{key:"reset",value:function(){}}]),n}(Oi);function pa(e){return ha.apply(this,arguments)}function ha(){return ha=Ne(De().mark((function e(t){var n,r=arguments;return De().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=!(r.length>1&&void 0!==r[1])||r[1],e.next=3,t.addInteractor("externalRemove",(function(e){return new da(e)}),n);case 3:case"end":return e.stop()}}),e)}))),ha.apply(this,arguments)}var va=function(){function e(){d(this,e),this.distance=200,this.duration=.4,this.factor=100,this.speed=1,this.maxSpeed=50,this.easing="ease-out-quad"}return y(e,[{key:"load",value:function(e){e&&(void 0!==e.distance&&(this.distance=e.distance),void 0!==e.duration&&(this.duration=e.duration),void 0!==e.easing&&(this.easing=e.easing),void 0!==e.factor&&(this.factor=e.factor),void 0!==e.speed&&(this.speed=e.speed),void 0!==e.maxSpeed&&(this.maxSpeed=e.maxSpeed))}}]),e}(),ya=function(e){g(n,e);var t=S(n);function n(){var e;return d(this,n),(e=t.call(this)).selectors=[],e}return y(n,[{key:"ids",get:function(){return Dt(this.selectors,(function(e){return e.replace("#","")}))},set:function(e){this.selectors=Dt(e,(function(e){return"#".concat(e)}))}},{key:"load",value:function(e){Be(b(n.prototype),"load",this).call(this,e),e&&(void 0!==e.ids&&(this.ids=e.ids),void 0!==e.selectors&&(this.selectors=e.selectors))}}]),n}(va),ma=function(e){g(n,e);var t=S(n);function n(){return d(this,n),t.apply(this,arguments)}return y(n,[{key:"load",value:function(e){Be(b(n.prototype),"load",this).call(this,e),e&&(this.divs=Dt(e.divs,(function(e){var t=new ya;return t.load(e),t})))}}]),n}(va),ga=function(e){g(n,e);var t=S(n);function n(e,r){var i;return d(this,n),(i=t.call(this,r))._clickRepulse=function(){var e=i.container,t=e.actualOptions.interactivity.modes.repulse;if(t){var n=e.repulse||{particles:[]};if(n.finish||(n.count||(n.count=0),n.count++,n.count===e.particles.count&&(n.finish=!0)),n.clicking){var r=e.retina.repulseModeDistance;if(!r||r<0)return;var a=Math.pow(r/6,3),o=e.interactivity.mouse.clickPosition;if(void 0===o)return;var s,u=new Cr(o.x,o.y,a),l=e.particles.quadTree.query(u,(function(e){return i.isEnabled(e)})),c=k(l);try{for(c.s();!(s=c.n()).done;){var f=s.value,d=st(o,f.position),p=d.dx,h=d.dy,v=d.distance,y=Math.pow(v,2),m=-a*t.speed/y;if(y<=a){n.particles.push(f);var g=Ge.create(p,h);g.length=m,f.velocity.setTo(g)}}}catch(S){c.e(S)}finally{c.f()}}else if(!1===n.clicking){var b,x=k(n.particles);try{for(x.s();!(b=x.n()).done;){var w=b.value;w.velocity.setTo(w.initialVelocity)}}catch(S){x.e(S)}finally{x.f()}n.particles=[]}}},i._hoverRepulse=function(){var e=i.container,t=e.interactivity.mouse.position,n=e.retina.repulseModeDistance;!n||n<0||!t||i._processRepulse(t,n,new Cr(t.x,t.y,n))},i._processRepulse=function(e,t,n,r){var a=i.container,o=a.particles.quadTree.query(n,(function(e){return i.isEnabled(e)})),s=a.actualOptions.interactivity.modes.repulse;if(s){var u,l=k(o);try{for(l.s();!(u=l.n()).done;){var c,f=u.value,d=st(f.position,e),p=d.dx,h=d.dy,v=d.distance,y=(null!==(c=null===r||void 0===r?void 0:r.speed)&&void 0!==c?c:s.speed)*s.factor,m=Ze($e(s.easing)(1-v/t)*y,0,s.maxSpeed),g=Ge.create(0===v?y:p/v*m,0===v?y:h/v*m);f.position.addTo(g)}}catch(b){l.e(b)}finally{l.f()}}},i._singleSelectorRepulse=function(e,t){var n=i.container,r=n.actualOptions.interactivity.modes.repulse;if(r){var a=document.querySelectorAll(e);a.length&&a.forEach((function(e){var a=e,o=n.retina.pixelRatio,s={x:(a.offsetLeft+a.offsetWidth/2)*o,y:(a.offsetTop+a.offsetHeight/2)*o},u=a.offsetWidth/2*o,l="circle"===t.type?new Cr(s.x,s.y,u):new _r(a.offsetLeft*o,a.offsetTop*o,a.offsetWidth*o,a.offsetHeight*o),c=Pt(r.divs,a);i._processRepulse(s,u,l,c)}))}},i._engine=e,r.repulse||(r.repulse={particles:[]}),i.handleClickMode=function(e){var t=i.container.actualOptions.interactivity.modes.repulse;if(t&&"repulse"===e){r.repulse||(r.repulse={particles:[]});var n=r.repulse;n.clicking=!0,n.count=0;var a,o=k(r.repulse.particles);try{for(o.s();!(a=o.n()).done;){var s=a.value;i.isEnabled(s)&&s.velocity.setTo(s.initialVelocity)}}catch(u){o.e(u)}finally{o.f()}n.particles=[],n.finish=!1,setTimeout((function(){r.destroyed||(n.clicking=!1)}),1e3*t.duration)}},i}return y(n,[{key:"clear",value:function(){}},{key:"init",value:function(){var e=this.container,t=e.actualOptions.interactivity.modes.repulse;t&&(e.retina.repulseModeDistance=t.distance*e.retina.pixelRatio)}},{key:"interact",value:function(){var e=Ne(De().mark((function e(){var t,n,r,i,a,o,s,u,l,c,f,d=this;return De().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.container,n=t.actualOptions,r=t.interactivity.status===We,i=n.interactivity.events,a=i.onHover,o=a.enable,s=a.mode,u=i.onClick,l=u.enable,c=u.mode,f=i.onDiv,r&&o&&bt("repulse",s)?this._hoverRepulse():l&&bt("repulse",c)?this._clickRepulse():Ct("repulse",f,(function(e,t){return d._singleSelectorRepulse(e,t)}));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isEnabled",value:function(e){var t,n=this.container,r=n.actualOptions,i=n.interactivity.mouse,a=(null!==(t=null===e||void 0===e?void 0:e.interactivity)&&void 0!==t?t:r.interactivity).events,o=a.onDiv,s=a.onHover,u=a.onClick,l=_t("repulse",o);if(!(l||s.enable&&i.position||u.enable&&i.clickPosition))return!1;var c=s.mode,f=u.mode;return bt("repulse",c)||bt("repulse",f)||l}},{key:"loadModeOptions",value:function(e){e.repulse||(e.repulse=new ma);for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e.repulse.load(null===o||void 0===o?void 0:o.repulse)}}},{key:"reset",value:function(){}}]),n}(Oi);function ba(e){return xa.apply(this,arguments)}function xa(){return xa=Ne(De().mark((function e(t){var n,r=arguments;return De().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=!(r.length>1&&void 0!==r[1])||r[1],e.next=3,t.addInteractor("externalRepulse",(function(e){return new ga(t,e)}),n);case 3:case"end":return e.stop()}}),e)}))),xa.apply(this,arguments)}var wa=function(){function e(){d(this,e),this.factor=3,this.radius=200}return y(e,[{key:"load",value:function(e){e&&(void 0!==e.factor&&(this.factor=e.factor),void 0!==e.radius&&(this.radius=e.radius))}}]),e}(),Sa=function(e){g(n,e);var t=S(n);function n(e){return d(this,n),t.call(this,e)}return y(n,[{key:"clear",value:function(e,t,n){e.slow.inRange&&!n||(e.slow.factor=1)}},{key:"init",value:function(){var e=this.container,t=e.actualOptions.interactivity.modes.slow;t&&(e.retina.slowModeRadius=t.radius*e.retina.pixelRatio)}},{key:"interact",value:function(){var e=Ne(De().mark((function e(){return De().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"isEnabled",value:function(e){var t,n=this.container,r=n.interactivity.mouse,i=(null!==(t=null===e||void 0===e?void 0:e.interactivity)&&void 0!==t?t:n.actualOptions.interactivity).events;return i.onHover.enable&&!!r.position&&bt("slow",i.onHover.mode)}},{key:"loadModeOptions",value:function(e){e.slow||(e.slow=new wa);for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e.slow.load(null===o||void 0===o?void 0:o.slow)}}},{key:"reset",value:function(e){e.slow.inRange=!1;var t=this.container,n=t.actualOptions,r=t.interactivity.mouse.position,i=t.retina.slowModeRadius,a=n.interactivity.modes.slow;if(a&&i&&!(i<0)&&r){var o=ut(r,e.getPosition()),s=o/i,u=a.factor,l=e.slow;o>i||(l.inRange=!0,l.factor=s/u)}}}]),n}(Oi);function Ta(e){return Ea.apply(this,arguments)}function Ea(){return Ea=Ne(De().mark((function e(t){var n,r=arguments;return De().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=!(r.length>1&&void 0!==r[1])||r[1],e.next=3,t.addInteractor("externalSlow",(function(e){return new Sa(e)}),n);case 3:case"end":return e.stop()}}),e)}))),Ea.apply(this,arguments)}var ka=[0,4,2,1],_a=[8,8,4,2],Ca=function(){function e(t){d(this,e),this.pos=0,this.data=new Uint8ClampedArray(t)}return y(e,[{key:"getString",value:function(e){var t=this.data.slice(this.pos,this.pos+e);return this.pos+=t.length,t.reduce((function(e,t){return e+String.fromCharCode(t)}),"")}},{key:"nextByte",value:function(){return this.data[this.pos++]}},{key:"nextTwoBytes",value:function(){return this.pos+=2,this.data[this.pos-2]+(this.data[this.pos-1]<<8)}},{key:"readSubBlocks",value:function(){var e="",t=0;do{for(var n=t=this.data[this.pos++];--n>=0;e+=String.fromCharCode(this.data[this.pos++]));}while(0!==t);return e}},{key:"readSubBlocksBin",value:function(){for(var e=0,t=0,n=0;0!==(e=this.data[this.pos+n]);n+=e+1)t+=e;for(var r=new Uint8Array(t),i=0;0!==(e=this.data[this.pos++]);)for(var a=e;--a>=0;r[i++]=this.data[this.pos++]);return r}},{key:"skipSubBlocks",value:function(){for(;0!==this.data[this.pos];this.pos+=this.data[this.pos]+1);this.pos++}}]),e}();function Pa(e,t){for(var n=[],r=0;r<t;r++)n.push({r:e.data[e.pos],g:e.data[e.pos+1],b:e.data[e.pos+2]}),e.pos+=3;return n}function Oa(e,t,n,r){return Ia.apply(this,arguments)}function Ia(){return(Ia=Ne(De().mark((function e(t,n,r,i){var a,o,s,u,l;return De().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t.nextByte(),e.next=249===e.t0?3:255===e.t0?15:254===e.t0?19:1===e.t0?21:26;break;case 3:return a=n.frames[r(!1)],t.pos++,o=t.nextByte(),a.GCreserved=(224&o)>>>5,a.disposalMethod=(28&o)>>>2,a.userInputDelayFlag=2===(2&o),s=1===(1&o),a.delayTime=10*t.nextTwoBytes(),u=t.nextByte(),s&&i(u),t.pos++,e.abrupt("break",28);case 15:return t.pos++,l={identifier:t.getString(8),authenticationCode:t.getString(3),data:t.readSubBlocksBin()},n.applicationExtensions.push(l),e.abrupt("break",28);case 19:return n.comments.push([r(!1),t.readSubBlocks()]),e.abrupt("break",28);case 21:if(0!==n.globalColorTable.length){e.next=23;break}throw new EvalError("plain text extension without global color table");case 23:return t.pos++,n.frames[r(!1)].plainTextData={left:t.nextTwoBytes(),top:t.nextTwoBytes(),width:t.nextTwoBytes(),height:t.nextTwoBytes(),charSize:{width:t.nextTwoBytes(),height:t.nextTwoBytes()},foregroundColor:t.nextByte(),backgroundColor:t.nextByte(),text:t.readSubBlocks()},e.abrupt("break",28);case 26:return t.skipSubBlocks(),e.abrupt("break",28);case 28:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Aa(e,t,n,r,i,a){return Da.apply(this,arguments)}function Da(){return Da=Ne(De().mark((function e(t,n,r,i,a,o){var s,u,l,c,f,d,p,h,v,y,m,g,b,x,w,S,T,E,k,_,C,P,O,I,A,D,R,N,M,F,L,B,j,z,W,V,U,K,H;return De().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((s=n.frames[i(!0)]).left=t.nextTwoBytes(),s.top=t.nextTwoBytes(),s.width=t.nextTwoBytes(),s.height=t.nextTwoBytes(),u=t.nextByte(),l=128===(128&u),c=64===(64&u),s.sortFlag=32===(32&u),s.reserved=(24&u)>>>3,f=1<<1+(7&u),l&&(s.localColorTable=Pa(t,f)),d=function(e){var t=(l?s.localColorTable:n.globalColorTable)[e],i=t.r,o=t.g,u=t.b;return{r:i,g:o,b:u,a:e===a(null)?r?~~((i+o+u)/3):0:255}},null!=(p=function(){try{return new ImageData(s.width,s.height,{colorSpace:"srgb"})}catch(e){if(e instanceof DOMException&&"IndexSizeError"===e.name)return null;throw e}}())){e.next=14;break}throw new EvalError("GIF frame size is to large");case 14:if(h=t.nextByte(),v=t.readSubBlocksBin(),y=1<<h,m=function(e,t){var n=e>>>3,r=7&e;return(v[n]+(v[n+1]<<8)+(v[n+2]<<16)&(1<<t)-1<<r)>>>r},!c){e.next=41;break}g=0,b=h+1,x=0,w=[[0]],S=0;case 18:if(!(S<4)){e.next=35;break}if(!(ka[S]<s.height)){e.next=31;break}T=0,E=0;case 21:if(k=g,g=m(x,b),x+=b+1,g===y)for(b=h+1,w.length=y+2,_=0;_<w.length;_++)w[_]=_<y?[_]:[];else{for(g>=w.length?w.push(w[k].concat(w[k][0])):k!==y&&w.push(w[k].concat(w[g][0])),C=0;C<w[g].length;C++)P=d(w[g][C]),O=P.r,I=P.g,A=P.b,D=P.a,p.data.set([O,I,A,D],ka[S]*s.width+_a[S]*E+T%(4*s.width)),T+=4;w.length===1<<b&&b<12&&b++}if(T!==4*s.width*(E+1)){e.next=29;break}if(E++,!(ka[S]+_a[S]*E>=s.height)){e.next=29;break}return e.abrupt("break",31);case 29:e.next=21;break;case 31:null===o||void 0===o||o(t.pos/(t.data.length-1),i(!1)+1,p,{x:s.left,y:s.top},{width:n.width,height:n.height});case 32:S++,e.next=18;break;case 35:return s.image=p,e.next=38,createImageBitmap(p);case 38:s.bitmap=e.sent,e.next=63;break;case 41:R=0,N=h+1,M=0,F=[[0]],L=-4;case 42:if(B=R,R=m(M,N),M+=N,R!==y){e.next=51;break}for(N=h+1,F.length=y+2,j=0;j<F.length;j++)F[j]=j<y?[j]:[];e.next=56;break;case 51:if(R!==y+1){e.next=53;break}return e.abrupt("break",58);case 53:for(R>=F.length?F.push(F[B].concat(F[B][0])):B!==y&&F.push(F[B].concat(F[R][0])),z=0;z<F[R].length;z++)W=d(F[R][z]),V=W.r,U=W.g,K=W.b,H=W.a,p.data.set([V,U,K,H],L+=4);F.length>=1<<N&&N<12&&N++;case 56:e.next=42;break;case 58:return s.image=p,e.next=61,createImageBitmap(p);case 61:s.bitmap=e.sent,null===o||void 0===o||o((t.pos+1)/t.data.length,i(!1)+1,s.image,{x:s.left,y:s.top},{width:n.width,height:n.height});case 63:case"end":return e.stop()}}),e)}))),Da.apply(this,arguments)}function Ra(e,t,n,r,i,a){return Na.apply(this,arguments)}function Na(){return(Na=Ne(De().mark((function e(t,n,r,i,a,o){return De().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t.nextByte(),e.next=59===e.t0?3:44===e.t0?4:33===e.t0?7:10;break;case 3:return e.abrupt("return",!0);case 4:return e.next=6,Aa(t,n,r,i,a,o);case 6:case 9:return e.abrupt("break",11);case 7:return e.next=9,Oa(t,n,i,a);case 10:throw new EvalError("undefined block found");case 11:return e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ma(e){var t,n=k(e.applicationExtensions);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.identifier+r.authenticationCode==="NETSCAPE2.0")return r.data[1]+(r.data[2]<<8)}}catch(i){n.e(i)}finally{n.f()}return NaN}function Fa(e,t,n){return La.apply(this,arguments)}function La(){return La=Ne(De().mark((function e(t,n,r){var i,a,o,s,u,l,c,f,d,p,h,v,y,m,g,b,x,w,S,T,E,_;return De().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r||(r=!1),e.next=3,fetch(t);case 3:if((i=e.sent).ok||404!==i.status){e.next=6;break}throw new EvalError("file not found");case 6:return e.next=8,i.arrayBuffer();case 8:if(a=e.sent,o={width:0,height:0,totalTime:0,colorRes:0,pixelAspectRatio:0,frames:[],sortFlag:!1,globalColorTable:[],backgroundImage:new ImageData(1,1,{colorSpace:"srgb"}),comments:[],applicationExtensions:[]},"GIF89a"===(s=new Ca(new Uint8ClampedArray(a))).getString(6)){e.next=12;break}throw new Error("not a supported GIF file");case 12:if(o.width=s.nextTwoBytes(),o.height=s.nextTwoBytes(),u=s.nextByte(),l=128===(128&u),o.colorRes=(112&u)>>>4,o.sortFlag=8===(8&u),c=1<<1+(7&u),f=s.nextByte(),o.pixelAspectRatio=s.nextByte(),0!==o.pixelAspectRatio&&(o.pixelAspectRatio=(o.pixelAspectRatio+15)/64),l&&(o.globalColorTable=Pa(s,c)),null!=(d=function(){try{return new ImageData(o.width,o.height,{colorSpace:"srgb"})}catch(e){if(e instanceof DOMException&&"IndexSizeError"===e.name)return null;throw e}}())){e.next=24;break}throw new Error("GIF frame size is to large");case 24:for(p=o.globalColorTable[f],h=p.r,v=p.g,y=p.b,d.data.set(l?[h,v,y,255]:[0,0,0,0]),m=4;m<d.data.length;m*=2)d.data.copyWithin(m,0,m);o.backgroundImage=d,g=-1,b=!0,x=-1,w=function(e){return e&&(b=!0),g},S=function(e){return null!=e&&(x=e),x},e.prev=31;case 32:b&&(o.frames.push({left:0,top:0,width:0,height:0,disposalMethod:0,image:new ImageData(1,1,{colorSpace:"srgb"}),plainTextData:null,userInputDelayFlag:!1,delayTime:0,sortFlag:!1,localColorTable:[],reserved:0,GCreserved:0}),g++,x=-1,b=!1);case 33:return e.next=35,Ra(s,o,r,w,S,n);case 35:if(!e.sent){e.next=32;break}case 36:o.frames.length--,T=k(o.frames),e.prev=38,T.s();case 40:if((E=T.n()).done){e.next=48;break}if(!(_=E.value).userInputDelayFlag||0!==_.delayTime){e.next=45;break}return o.totalTime=1/0,e.abrupt("break",48);case 45:o.totalTime+=_.delayTime;case 46:e.next=40;break;case 48:e.next=53;break;case 50:e.prev=50,e.t0=e.catch(38),T.e(e.t0);case 53:return e.prev=53,T.f(),e.finish(53);case 56:return e.abrupt("return",o);case 59:if(e.prev=59,e.t1=e.catch(31),!(e.t1 instanceof EvalError)){e.next=63;break}throw new Error("error while parsing frame ".concat(g,' "').concat(e.t1.message,'"'));case 63:throw e.t1;case 64:case"end":return e.stop()}}),e,null,[[31,59],[38,50,53,56]])}))),La.apply(this,arguments)}var Ba=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d.]+%?\))|currentcolor/gi;function ja(e){return za.apply(this,arguments)}function za(){return(za=Ne(De().mark((function e(t){return De().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){t.loading=!0;var n=new Image;t.element=n,n.addEventListener("load",(function(){t.loading=!1,e()})),n.addEventListener("error",(function(){t.element=void 0,t.error=!0,t.loading=!1,ht().error("".concat(Ue," loading image: ").concat(t.source)),e()})),n.src=t.source})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Wa(e){return Va.apply(this,arguments)}function Va(){return(Va=Ne(De().mark((function e(t){var n;return De().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("gif"===t.type){e.next=4;break}return e.next=3,ja(t);case 3:return e.abrupt("return");case 4:return t.loading=!0,e.prev=5,e.next=8,Fa(t.source);case 8:t.gifData=e.sent,t.gifLoopCount=null!==(n=Ma(t.gifData))&&void 0!==n?n:0,0===t.gifLoopCount&&(t.gifLoopCount=1/0),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(5),t.error=!0;case 16:t.loading=!1;case 17:case"end":return e.stop()}}),e,null,[[5,13]])})))).apply(this,arguments)}function Ua(e){return Ka.apply(this,arguments)}function Ka(){return(Ka=Ne(De().mark((function e(t){var n;return De().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("svg"===t.type){e.next=4;break}return e.next=3,ja(t);case 3:return e.abrupt("return");case 4:return t.loading=!0,e.next=7,fetch(t.source);case 7:if((n=e.sent).ok){e.next=13;break}ht().error("".concat(Ue," Image not found")),t.error=!0,e.next=16;break;case 13:return e.next=15,n.text();case 15:t.svgData=e.sent;case 16:t.loading=!1;case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ha(e,t,n,r){var i,a,o,s=function(e,t,n){var r=e.svgData;if(!r)return"";var i=rn(t,n);if(r.includes("fill"))return r.replace(Ba,(function(){return i}));var a=r.indexOf(">");return"".concat(r.substring(0,a),' fill="').concat(i,'"').concat(r.substring(a))}(e,n,null!==(i=null===(a=r.opacity)||void 0===a?void 0:a.value)&&void 0!==i?i:1),u={color:n,gif:t.gif,data:Le(Le({},e),{},{svgData:s}),loaded:!1,ratio:t.width/t.height,replaceColor:null!==(o=t.replaceColor)&&void 0!==o?o:t.replace_color,source:t.src};return new Promise((function(t){var n=new Blob([s],{type:"image/svg+xml"}),r=URL||window.URL||window.webkitURL||window,i=r.createObjectURL(n),a=new Image;a.addEventListener("load",(function(){u.loaded=!0,u.element=a,t(u),r.revokeObjectURL(i)})),a.addEventListener("error",Ne(De().mark((function n(){var a;return De().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r.revokeObjectURL(i),a=Le(Le({},e),{},{error:!1,loading:!0}),n.next=4,ja(a);case 4:u.loaded=!0,u.element=a.element,t(u);case 7:case"end":return n.stop()}}),n)})))),a.src=i}))}var qa=function(){function e(t){var n=this;d(this,e),this.loadImageShape=function(){var e=Ne(De().mark((function e(t){var r,i;return De().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n._engine.loadImage){e.next=2;break}throw new Error("".concat(Ue," image shape not initialized"));case 2:return e.next=4,n._engine.loadImage({gif:t.gif,name:t.name,replaceColor:null!==(r=null!==(i=t.replaceColor)&&void 0!==i?i:t.replace_color)&&void 0!==r&&r,src:t.src});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this._engine=t}return y(e,[{key:"addImage",value:function(e){this._engine.images||(this._engine.images=[]),this._engine.images.push(e)}},{key:"draw",value:function(e,t,n,r,i){var a=t.image,o=null===a||void 0===a?void 0:a.element;if(a){if(e.globalAlpha=r,a.gif&&a.gifData){var s,u,l=new OffscreenCanvas(a.gifData.width,a.gifData.height),c=l.getContext("2d");if(!c)throw new Error("could not create offscreen canvas context");if(c.imageSmoothingQuality="low",c.imageSmoothingEnabled=!1,c.clearRect(0,0,l.width,l.height),void 0===t.gifLoopCount)t.gifLoopCount=null!==(u=a.gifLoopCount)&&void 0!==u?u:0;var f=null!==(s=t.gifFrame)&&void 0!==s?s:0,d={x:.5*-a.gifData.width,y:.5*-a.gifData.height},p=a.gifData.frames[f];if(void 0===t.gifTime&&(t.gifTime=0),!p.bitmap)return;switch(e.scale(n/a.gifData.width,n/a.gifData.height),p.disposalMethod){case 4:case 5:case 6:case 7:case 0:c.drawImage(p.bitmap,p.left,p.top),e.drawImage(l,d.x,d.y),c.clearRect(0,0,l.width,l.height);break;case 1:c.drawImage(p.bitmap,p.left,p.top),e.drawImage(l,d.x,d.y);break;case 2:c.drawImage(p.bitmap,p.left,p.top),e.drawImage(l,d.x,d.y),c.clearRect(0,0,l.width,l.height),0===a.gifData.globalColorTable.length?c.putImageData(a.gifData.frames[0].image,d.x+p.left,d.y+p.top):c.putImageData(a.gifData.backgroundImage,d.x,d.y);break;case 3:var h=c.getImageData(0,0,l.width,l.height);c.drawImage(p.bitmap,p.left,p.top),e.drawImage(l,d.x,d.y),c.clearRect(0,0,l.width,l.height),c.putImageData(h,0,0)}if(t.gifTime+=i.value,t.gifTime>p.delayTime){if(t.gifTime-=p.delayTime,++f>=a.gifData.frames.length){if(--t.gifLoopCount<=0)return;f=0,c.clearRect(0,0,l.width,l.height)}t.gifFrame=f}e.scale(a.gifData.width/n,a.gifData.height/n)}else if(o){var v=a.ratio,y={x:-n,y:-n};e.drawImage(o,y.x,y.y,2*n,2*n/v)}e.globalAlpha=1}}},{key:"getSidesCount",value:function(){return 12}},{key:"init",value:function(){var e=Ne(De().mark((function e(t){var n,r,i,a;return De().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((n=t.actualOptions).preload&&this._engine.loadImage){e.next=3;break}return e.abrupt("return");case 3:r=k(n.preload),e.prev=4,r.s();case 6:if((i=r.n()).done){e.next=12;break}return a=i.value,e.next=10,this._engine.loadImage(a);case 10:e.next=6;break;case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(4),r.e(e.t0);case 17:return e.prev=17,r.f(),e.finish(17);case 20:case"end":return e.stop()}}),e,this,[[4,14,17,20]])})));return function(t){return e.apply(this,arguments)}}()},{key:"loadShape",value:function(e){var t=this;if("image"===e.shape||"images"===e.shape){this._engine.images||(this._engine.images=[]);var n=e.shapeData;this._engine.images.find((function(e){return e.name===n.name||e.source===n.src}))||this.loadImageShape(n).then((function(){t.loadShape(e)}))}}},{key:"particleInit",value:function(e,t){var n,r,i=this;if("image"===t.shape||"images"===t.shape){this._engine.images||(this._engine.images=[]);var a=this._engine.images,o=t.shapeData,s=t.getFillColor(),u=a.find((function(e){return e.name===o.name||e.source===o.src}));if(u){var l=null!==(n=null!==(r=o.replaceColor)&&void 0!==r?r:o.replace_color)&&void 0!==n?n:u.replaceColor;u.loading?setTimeout((function(){i.particleInit(e,t)})):Ne(De().mark((function e(){var n,r,i,a,c,f,d;return De().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!u.svgData||!s){e.next=6;break}return e.next=3,Ha(u,o,s,t);case 3:i=e.sent,e.next=7;break;case 6:i={color:s,data:u,element:u.element,gif:u.gif,gifData:u.gifData,gifLoopCount:u.gifLoopCount,loaded:!0,ratio:o.width&&o.height?o.width/o.height:null!==(a=u.ratio)&&void 0!==a?a:1,replaceColor:l,source:o.src};case 7:i.ratio||(i.ratio=1),c=null!==(n=o.fill)&&void 0!==n?n:t.fill,f=null!==(r=o.close)&&void 0!==r?r:t.close,d={image:i,fill:c,close:f},t.image=d.image,t.fill=d.fill,t.close=d.close;case 12:case"end":return e.stop()}}),e)})))()}}}}]),e}(),Ga=function(){function e(){d(this,e),this.src="",this.gif=!1}return y(e,[{key:"load",value:function(e){e&&(void 0!==e.gif&&(this.gif=e.gif),void 0!==e.height&&(this.height=e.height),void 0!==e.name&&(this.name=e.name),void 0!==e.replaceColor&&(this.replaceColor=e.replaceColor),void 0!==e.src&&(this.src=e.src),void 0!==e.width&&(this.width=e.width))}}]),e}(),Xa=function(){function e(t){d(this,e),this.id="imagePreloader",this._engine=t}return y(e,[{key:"getPlugin",value:function(){return{}}},{key:"loadOptions",value:function(e,t){if(t&&t.preload){e.preload||(e.preload=[]);var n,r=e.preload,i=k(t.preload);try{var a=function(){var e=n.value,t=r.find((function(t){return t.name===e.name||t.src===e.src}));if(t)t.load(e);else{var i=new Ga;i.load(e),r.push(i)}};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}}}},{key:"needsPlugin",value:function(){return!0}}]),e}();function Ya(e){e.loadImage||(e.loadImage=function(){var t=Ne(De().mark((function t(n){var r,i,a,o,s;return De().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.name||n.src){t.next=2;break}throw new Error("".concat(Ue," no image source provided"));case 2:if(e.images||(e.images=[]),!e.images.find((function(e){return e.name===n.name||e.source===n.src}))){t.next=5;break}return t.abrupt("return");case 5:return t.prev=5,a={gif:null!==(r=n.gif)&&void 0!==r&&r,name:null!==(i=n.name)&&void 0!==i?i:n.src,source:n.src,type:n.src.substring(n.src.length-3),error:!1,loading:!0,replaceColor:n.replaceColor,ratio:n.width&&n.height?n.width/n.height:void 0},e.images.push(a),o=n.gif?Wa:n.replaceColor?Ua:ja,t.next=11,o(a);case 11:t.next=16;break;case 13:throw t.prev=13,t.t0=t.catch(5),new Error("".concat(Ue," ").concat(null!==(s=n.name)&&void 0!==s?s:n.src," not found"));case 16:case"end":return t.stop()}}),t,null,[[5,13]])})));return function(e){return t.apply(this,arguments)}}())}function Ja(e){return $a.apply(this,arguments)}function $a(){return $a=Ne(De().mark((function e(t){var n,r,i=arguments;return De().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=!(i.length>1&&void 0!==i[1])||i[1],Ya(t),r=new Xa(t),e.next=5,t.addPlugin(r,n);case 5:return e.next=7,t.addShape(["image","images"],new qa(t),n);case 7:case"end":return e.stop()}}),e)}))),$a.apply(this,arguments)}var Qa=function(e){g(n,e);var t=S(n);function n(){var e;return d(this,n),(e=t.call(this)).sync=!1,e}return y(n,[{key:"load",value:function(e){e&&(Be(b(n.prototype),"load",this).call(this,e),void 0!==e.sync&&(this.sync=e.sync))}}]),n}(zn),Za=function(e){g(n,e);var t=S(n);function n(){var e;return d(this,n),(e=t.call(this)).random.minimumValue=1e-4,e.sync=!1,e}return y(n,[{key:"load",value:function(e){e&&(Be(b(n.prototype),"load",this).call(this,e),void 0!==e.sync&&(this.sync=e.sync))}}]),n}(zn),eo=function(){function e(){d(this,e),this.count=0,this.delay=new Qa,this.duration=new Za}return y(e,[{key:"load",value:function(e){e&&(void 0!==e.count&&(this.count=e.count),this.delay.load(e.delay),this.duration.load(e.duration))}}]),e}(),to=function(){function e(t){d(this,e),this.container=t}return y(e,[{key:"init",value:function(e){var t=this.container,n=e.options.life;n&&(e.life={delay:t.retina.reduceFactor?nt(n.delay.value)*(n.delay.sync?1:Qe())/t.retina.reduceFactor*1e3:0,delayTime:0,duration:t.retina.reduceFactor?nt(n.duration.value)*(n.duration.sync?1:Qe())/t.retina.reduceFactor*1e3:0,time:0,count:n.count},e.life.duration<=0&&(e.life.duration=-1),e.life.count<=0&&(e.life.count=-1),e.life&&(e.spawning=e.life.delay>0))}},{key:"isEnabled",value:function(e){return!e.destroyed}},{key:"loadOptions",value:function(e){e.life||(e.life=new eo);for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e.life.load(null===o||void 0===o?void 0:o.life)}}},{key:"update",value:function(e,t){if(this.isEnabled(e)&&e.life){var n=e.life,r=!1;if(e.spawning){if(n.delayTime+=t.value,!(n.delayTime>=e.life.delay))return;r=!0,e.spawning=!1,n.delayTime=0,n.time=0}if(-1!==n.duration&&!e.spawning&&(r?n.time=0:n.time+=t.value,!(n.time<n.duration)))if(n.time=0,e.life.count>0&&e.life.count--,0!==e.life.count){var i=this.container.canvas.size,a=at(0,i.width),o=at(0,i.width);e.position.x=tt(a),e.position.y=tt(o),e.spawning=!0,n.delayTime=0,n.time=0,e.reset();var s=e.options.life;s&&(n.delay=1e3*nt(s.delay.value),n.duration=1e3*nt(s.duration.value))}else e.destroy()}}}]),e}();function no(e){return ro.apply(this,arguments)}function ro(){return ro=Ne(De().mark((function e(t){var n,r=arguments;return De().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=!(r.length>1&&void 0!==r[1])||r[1],e.next=3,t.addParticleUpdater("life",(function(e){return new to(e)}),n);case 3:case"end":return e.stop()}}),e)}))),ro.apply(this,arguments)}var io=function(){function e(){d(this,e)}return y(e,[{key:"draw",value:function(e,t,n){var r,i=t.shapeData;e.moveTo(-n/2,0),e.lineTo(n/2,0),e.lineCap=null!==(r=null===i||void 0===i?void 0:i.cap)&&void 0!==r?r:"butt"}},{key:"getSidesCount",value:function(){return 1}}]),e}();function ao(e){return oo.apply(this,arguments)}function oo(){return oo=Ne(De().mark((function e(t){var n,r=arguments;return De().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=!(r.length>1&&void 0!==r[1])||r[1],e.next=3,t.addShape("line",new io,n);case 3:case"end":return e.stop()}}),e)}))),oo.apply(this,arguments)}var so=function(){function e(){d(this,e)}return y(e,[{key:"init",value:function(){}},{key:"isEnabled",value:function(e){return!yt()&&!e.destroyed&&e.container.actualOptions.interactivity.events.onHover.parallax.enable}},{key:"move",value:function(e){var t=e.container,n=t.actualOptions.interactivity.events.onHover.parallax;if(!yt()&&n.enable){var r=n.force,i=t.interactivity.mouse.position;if(i){var a=t.canvas.size,o=a.width/2,s=a.height/2,u=n.smooth,l=e.getRadius()/r,c=(i.x-o)*l,f=(i.y-s)*l,d=e.offset;d.x+=(c-d.x)/u,d.y+=(f-d.y)/u}}}}]),e}();function uo(e){return lo.apply(this,arguments)}function lo(){return lo=Ne(De().mark((function e(t){var n,r=arguments;return De().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=!(r.length>1&&void 0!==r[1])||r[1],e.next=3,t.addMover("parallax",(function(){return new so}),n);case 3:case"end":return e.stop()}}),e)}))),lo.apply(this,arguments)}var co=y((function e(t){d(this,e),this.container=t,this.type="particles"})),fo=function(e){g(n,e);var t=S(n);function n(e){return d(this,n),t.call(this,e)}return y(n,[{key:"clear",value:function(){}},{key:"init",value:function(){}},{key:"interact",value:function(){var e=Ne(De().mark((function e(t){var n,r,i,a,o,s,u,l,c,f,d,p,h,v,y,m,g;return De().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=this.container,i=null!==(n=t.retina.attractDistance)&&void 0!==n?n:r.retina.attractDistance,a=t.getPosition(),o=r.particles.quadTree.queryCircle(a,i),s=k(o),e.prev=2,s.s();case 4:if((u=s.n()).done){e.next=15;break}if(l=u.value,t!==l&&l.options.move.attract.enable&&!l.destroyed&&!l.spawning){e.next=8;break}return e.abrupt("continue",13);case 8:c=l.getPosition(),f=st(a,c),d=f.dx,p=f.dy,h=t.options.move.attract.rotate,v=d/(1e3*h.x),y=p/(1e3*h.y),m=l.size.value/t.size.value,g=1/m,t.velocity.x-=v*m,t.velocity.y-=y*m,l.velocity.x+=v*g,l.velocity.y+=y*g;case 13:e.next=4;break;case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(2),s.e(e.t0);case 20:return e.prev=20,s.f(),e.finish(20);case 23:case"end":return e.stop()}}),e,this,[[2,17,20,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"isEnabled",value:function(e){return e.options.move.attract.enable}},{key:"reset",value:function(){}}]),n}(co);function po(e){return ho.apply(this,arguments)}function ho(){return ho=Ne(De().mark((function e(t){var n,r=arguments;return De().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=!(r.length>1&&void 0!==r[1])||r[1],e.next=3,t.addInteractor("particlesAttract",(function(e){return new fo(e)}),n);case 3:case"end":return e.stop()}}),e)}))),ho.apply(this,arguments)}function vo(e,t,n,r,i,a){var o=Ze(e.options.collisions.absorb.speed*i.factor/10,0,r);e.size.value+=o/2,n.size.value-=o,r<=a&&(n.size.value=0,n.destroy())}var yo=function(e){void 0===e.collisionMaxSpeed&&(e.collisionMaxSpeed=nt(e.options.collisions.maxSpeed)),e.velocity.length>e.collisionMaxSpeed&&(e.velocity.length=e.collisionMaxSpeed)};function mo(e,t){It(Ot(e),Ot(t)),yo(e),yo(t)}function go(e,t,n,r){switch(e.options.collisions.mode){case"absorb":!function(e,t,n,r){var i=e.getRadius(),a=t.getRadius();void 0===i&&void 0!==a?e.destroy():void 0!==i&&void 0===a?t.destroy():void 0!==i&&void 0!==a&&(i>=a?vo(e,0,t,a,n,r):vo(t,0,e,i,n,r))}(e,t,n,r);break;case"bounce":mo(e,t);break;case"destroy":!function(e,t){e.unbreakable||t.unbreakable||mo(e,t),void 0===e.getRadius()&&void 0!==t.getRadius()?e.destroy():void 0!==e.getRadius()&&void 0===t.getRadius()?t.destroy():void 0!==e.getRadius()&&void 0!==t.getRadius()&&(e.getRadius()>=t.getRadius()?t:e).destroy()}(e,t)}}var bo=function(e){g(n,e);var t=S(n);function n(e){return d(this,n),t.call(this,e)}return y(n,[{key:"clear",value:function(){}},{key:"init",value:function(){}},{key:"interact",value:function(){var e=Ne(De().mark((function e(t,n){var r,i,a,o,s,u,l,c,f;return De().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.destroyed&&!t.spawning){e.next=2;break}return e.abrupt("return");case 2:r=this.container,i=t.getPosition(),a=t.getRadius(),o=r.particles.quadTree.queryCircle(i,2*a),s=k(o),e.prev=4,s.s();case 6:if((u=s.n()).done){e.next=19;break}if(l=u.value,t!==l&&l.options.collisions.enable&&t.options.collisions.mode===l.options.collisions.mode&&!l.destroyed&&!l.spawning){e.next=10;break}return e.abrupt("continue",17);case 10:if(c=l.getPosition(),f=l.getRadius(),!(Math.abs(Math.round(i.z)-Math.round(c.z))>a+f)){e.next=13;break}return e.abrupt("continue",17);case 13:if(!(ut(i,c)>a+f)){e.next=16;break}return e.abrupt("continue",17);case 16:go(t,l,n,r.retina.pixelRatio);case 17:e.next=6;break;case 19:e.next=24;break;case 21:e.prev=21,e.t0=e.catch(4),s.e(e.t0);case 24:return e.prev=24,s.f(),e.finish(24);case 27:case"end":return e.stop()}}),e,this,[[4,21,24,27]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"isEnabled",value:function(e){return e.options.collisions.enable}},{key:"reset",value:function(){}}]),n}(co);function xo(e){return wo.apply(this,arguments)}function wo(){return wo=Ne(De().mark((function e(t){var n,r=arguments;return De().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=!(r.length>1&&void 0!==r[1])||r[1],e.next=3,t.addInteractor("particlesCollisions",(function(e){return new bo(e)}),n);case 3:case"end":return e.stop()}}),e)}))),wo.apply(this,arguments)}var So=function(e){g(n,e);var t=S(n);function n(e,r,i,a){var o;return d(this,n),(o=t.call(this,e,r,i)).canvasSize=a,o.canvasSize=Le({},a),o}return y(n,[{key:"contains",value:function(e){var t=this.canvasSize,r=t.width,i=t.height,a=e.x,o=e.y;return Be(b(n.prototype),"contains",this).call(this,e)||Be(b(n.prototype),"contains",this).call(this,{x:a-r,y:o})||Be(b(n.prototype),"contains",this).call(this,{x:a-r,y:o-i})||Be(b(n.prototype),"contains",this).call(this,{x:a,y:o-i})}},{key:"intersects",value:function(e){if(Be(b(n.prototype),"intersects",this).call(this,e))return!0;var t=e,r=e,i={x:e.position.x-this.canvasSize.width,y:e.position.y-this.canvasSize.height};if(void 0!==r.radius){var a=new Cr(i.x,i.y,2*r.radius);return Be(b(n.prototype),"intersects",this).call(this,a)}if(void 0!==t.size){var o=new _r(i.x,i.y,2*t.size.width,2*t.size.height);return Be(b(n.prototype),"intersects",this).call(this,o)}return!1}}]),n}(Cr),To=function(){function e(){d(this,e),this.blur=5,this.color=new mn,this.color.value="#000",this.enable=!1}return y(e,[{key:"load",value:function(e){e&&(void 0!==e.blur&&(this.blur=e.blur),this.color=mn.create(this.color,e.color),void 0!==e.enable&&(this.enable=e.enable))}}]),e}(),Eo=function(){function e(){d(this,e),this.enable=!1,this.frequency=1}return y(e,[{key:"load",value:function(e){e&&(void 0!==e.color&&(this.color=mn.create(this.color,e.color)),void 0!==e.enable&&(this.enable=e.enable),void 0!==e.frequency&&(this.frequency=e.frequency),void 0!==e.opacity&&(this.opacity=e.opacity))}}]),e}(),ko=function(){function e(){d(this,e),this.blink=!1,this.color=new mn,this.color.value="#fff",this.consent=!1,this.distance=100,this.enable=!1,this.frequency=1,this.opacity=1,this.shadow=new To,this.triangles=new Eo,this.width=1,this.warp=!1}return y(e,[{key:"load",value:function(e){e&&(void 0!==e.id&&(this.id=e.id),void 0!==e.blink&&(this.blink=e.blink),this.color=mn.create(this.color,e.color),void 0!==e.consent&&(this.consent=e.consent),void 0!==e.distance&&(this.distance=e.distance),void 0!==e.enable&&(this.enable=e.enable),void 0!==e.frequency&&(this.frequency=e.frequency),void 0!==e.opacity&&(this.opacity=e.opacity),this.shadow.load(e.shadow),this.triangles.load(e.triangles),void 0!==e.width&&(this.width=e.width),void 0!==e.warp&&(this.warp=e.warp))}}]),e}();function _o(e,t,n,r,i){var a=st(e,t),o=a.dx,s=a.dy,u=a.distance;if(!i||u<=n)return u;var l={x:Math.abs(o),y:Math.abs(s)},c={x:Math.min(l.x,r.width-l.x),y:Math.min(l.y,r.height-l.y)};return Math.sqrt(Math.pow(c.x,2)+Math.pow(c.y,2))}var Co=function(e){g(n,e);var t=S(n);function n(e){var r;return d(this,n),(r=t.call(this,e))._setColor=function(e){if(e.options.links){var t=r.linkContainer,n=e.options.links,i=void 0===n.id?t.particles.linksColor:t.particles.linksColors.get(n.id);if(!i)i=sn(n.color,n.blink,n.consent),void 0===n.id?t.particles.linksColor=i:t.particles.linksColors.set(n.id,i)}},r.linkContainer=e,r}return y(n,[{key:"clear",value:function(){}},{key:"init",value:function(){this.linkContainer.particles.linksColor=void 0,this.linkContainer.particles.linksColors=new Map}},{key:"interact",value:function(){var e=Ne(De().mark((function e(t){var n,r,i,a,o,s,u,l,c,f,d,p,h,v=this;return De().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.options.links){e.next=2;break}return e.abrupt("return");case 2:if(t.links=[],r=t.getPosition(),i=this.container,a=i.canvas.size,!(r.x<0||r.y<0||r.x>a.width||r.y>a.height)){e.next=6;break}return e.abrupt("return");case 6:o=t.options.links,s=o.opacity,u=null!==(n=t.retina.linksDistance)&&void 0!==n?n:0,l=o.warp,c=l?new So(r.x,r.y,u,a):new Cr(r.x,r.y,u),f=i.particles.quadTree.query(c),d=k(f),e.prev=8,h=De().mark((function e(){var n,i,c,f,d;return De().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=p.value,i=n.options.links,t!==n&&null!==i&&void 0!==i&&i.enable&&o.id===i.id&&!n.spawning&&!n.destroyed&&n.links&&!t.links.some((function(e){return e.destination===n}))&&!n.links.some((function(e){return e.destination===t}))){e.next=4;break}return e.abrupt("return",0);case 4:if(!((c=n.getPosition()).x<0||c.y<0||c.x>a.width||c.y>a.height)){e.next=7;break}return e.abrupt("return",0);case 7:if(!((f=_o(r,c,u,a,l&&i.warp))>u)){e.next=10;break}return e.abrupt("return",0);case 10:d=(1-f/u)*s,v._setColor(t),t.links.push({destination:n,opacity:d});case 13:case"end":return e.stop()}}),e)})),d.s();case 11:if((p=d.n()).done){e.next=18;break}return e.delegateYield(h(),"t0",13);case 13:if(0!==e.t0){e.next=16;break}return e.abrupt("continue",16);case 16:e.next=11;break;case 18:e.next=23;break;case 20:e.prev=20,e.t1=e.catch(8),d.e(e.t1);case 23:return e.prev=23,d.f(),e.finish(23);case 26:case"end":return e.stop()}}),e,this,[[8,20,23,26]])})));return function(t){return e.apply(this,arguments)}}()},{key:"isEnabled",value:function(e){var t;return!(null===(t=e.options.links)||void 0===t||!t.enable)}},{key:"loadParticlesOptions",value:function(e){e.links||(e.links=new ko);for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o,s,u=a[i];e.links.load(null!==(o=null!==(s=null===u||void 0===u?void 0:u.links)&&void 0!==s?s:null===u||void 0===u?void 0:u.lineLinked)&&void 0!==o?o:null===u||void 0===u?void 0:u.line_linked)}}},{key:"reset",value:function(){}}]),n}(co);function Po(e){return Oo.apply(this,arguments)}function Oo(){return Oo=Ne(De().mark((function e(t){var n,r=arguments;return De().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=!(r.length>1&&void 0!==r[1])||r[1],e.next=3,t.addInteractor("particlesLinks",(function(e){return new Co(e)}),n);case 3:case"end":return e.stop()}}),e)}))),Oo.apply(this,arguments)}function Io(e,t){var n,r=((n=e.map((function(e){return e.id}))).sort((function(e,t){return e-t})),n.join("_")),i=t.get(r);return void 0===i&&(i=Qe(),t.set(r,i)),i}var Ao=function(){function e(t){var n=this;d(this,e),this.container=t,this._drawLinkLine=function(e,t){var r=e.options.links;if(null!==r&&void 0!==r&&r.enable){var i=n.container,a=i.actualOptions,o=t.destination,s=e.getPosition(),u=o.getPosition(),l=t.opacity;i.canvas.draw((function(t){var n,c,f,d,p=null===(n=e.options.twinkle)||void 0===n?void 0:n.lines;if(null!==p&&void 0!==p&&p.enable){var h=p.frequency,v=Jt(p.color);Qe()<h&&v&&(d=v,l=nt(p.opacity))}if(!d){var y=void 0!==r.id?i.particles.linksColors.get(r.id):i.particles.linksColor;d=on(e,o,y)}if(d){var m=null!==(c=e.retina.linksWidth)&&void 0!==c?c:0,g=null!==(f=e.retina.linksDistance)&&void 0!==f?f:0,b=a.backgroundMask;!function(e){var t=!1,n=e.begin,r=e.end,i=e.maxDistance,a=e.context,o=e.canvasSize,s=e.width,u=e.backgroundMask,l=e.colorLine,c=e.opacity,f=e.links;if(ut(n,r)<=i)fn(a,n,r),t=!0;else if(f.warp){var d,p,h=st(n,{x:r.x-o.width,y:r.y});if(h.distance<=i){var v=n.y-h.dy/h.dx*n.x;d={x:0,y:v},p={x:o.width,y:v}}else{var y=st(n,{x:r.x,y:r.y-o.height});if(y.distance<=i){var m=-(n.y-y.dy/y.dx*n.x)/(y.dy/y.dx);d={x:m,y:0},p={x:m,y:o.height}}else{var g=st(n,{x:r.x-o.width,y:r.y-o.height});if(g.distance<=i){var b=n.y-g.dy/g.dx*n.x;p={x:(d={x:-b/(g.dy/g.dx),y:b}).x+o.width,y:d.y+o.height}}}}d&&p&&(fn(a,n,d),fn(a,r,p),t=!0)}if(t){a.lineWidth=s,u.enable&&(a.globalCompositeOperation=u.composite),a.strokeStyle=nn(l,c);var x=f.shadow;if(x.enable){var w=Jt(x.color);w&&(a.shadowBlur=x.blur,a.shadowColor=nn(w))}a.stroke()}}({context:t,width:m,begin:s,end:u,maxDistance:g,canvasSize:i.canvas.size,links:r,backgroundMask:b,colorLine:d,opacity:l})}}))}},this._drawLinkTriangle=function(e,t,r){var i,a=e.options.links;if(null!==a&&void 0!==a&&a.enable){var o=a.triangles;if(o.enable){var s=n.container,u=s.actualOptions,l=t.destination,c=r.destination,f=null!==(i=o.opacity)&&void 0!==i?i:(t.opacity+r.opacity)/2;f<=0||s.canvas.draw((function(t){var n,r=e.getPosition(),i=l.getPosition(),d=c.getPosition(),p=null!==(n=e.retina.linksDistance)&&void 0!==n?n:0;if(!(ut(r,i)>p||ut(d,i)>p||ut(d,r)>p)){var h=Jt(o.color);if(!h){var v=void 0!==a.id?s.particles.linksColors.get(a.id):s.particles.linksColor;h=on(e,l,v)}h&&function(e){var t=e.context,n=e.pos1,r=e.pos2,i=e.pos3,a=e.backgroundMask,o=e.colorTriangle,s=e.opacityTriangle;!function(e,t,n,r){e.beginPath(),e.moveTo(t.x,t.y),e.lineTo(n.x,n.y),e.lineTo(r.x,r.y),e.closePath()}(t,n,r,i),a.enable&&(t.globalCompositeOperation=a.composite),t.fillStyle=nn(o,s),t.fill()}({context:t,pos1:r,pos2:i,pos3:d,backgroundMask:u.backgroundMask,colorTriangle:h,opacityTriangle:f})}}))}}},this._drawTriangles=function(e,t,r,i){var a,o,s,u=r.destination;if(null!==(a=e.links)&&void 0!==a&&a.triangles.enable&&null!==(o=u.options.links)&&void 0!==o&&o.triangles.enable){var l=null===(s=u.links)||void 0===s?void 0:s.filter((function(e){var t=n._getLinkFrequency(u,e.destination);return u.options.links&&t<=u.options.links.frequency&&i.findIndex((function(t){return t.destination===e.destination}))>=0}));if(null!==l&&void 0!==l&&l.length){var c,f=k(l);try{for(f.s();!(c=f.n()).done;){var d=c.value,p=d.destination;n._getTriangleFrequency(t,u,p)>e.links.triangles.frequency||n._drawLinkTriangle(t,r,d)}}catch(h){f.e(h)}finally{f.f()}}}},this._getLinkFrequency=function(e,t){return Io([e,t],n._freqs.links)},this._getTriangleFrequency=function(e,t,r){return Io([e,t,r],n._freqs.triangles)},this._freqs={links:new Map,triangles:new Map}}return y(e,[{key:"drawParticle",value:function(e,t){var n=this,r=t.links,i=t.options;if(r&&!(r.length<=0)){var a,o=r.filter((function(e){return i.links&&n._getLinkFrequency(t,e.destination)<=i.links.frequency})),s=k(o);try{for(s.s();!(a=s.n()).done;){var u,l=a.value;this._drawTriangles(i,t,l,o),l.opacity>0&&(null!==(u=t.retina.linksWidth)&&void 0!==u?u:0)>0&&this._drawLinkLine(t,l)}}catch(c){s.e(c)}finally{s.f()}}}},{key:"init",value:function(){var e=Ne(De().mark((function e(){return De().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._freqs.links=new Map,this._freqs.triangles=new Map;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"particleCreated",value:function(e){if(e.links=[],e.options.links){var t=this.container.retina.pixelRatio,n=e.retina,r=e.options.links,i=r.distance,a=r.width;n.linksDistance=i*t,n.linksWidth=a*t}}},{key:"particleDestroyed",value:function(e){e.links=[]}}]),e}(),Do=function(){function e(){d(this,e),this.id="links"}return y(e,[{key:"getPlugin",value:function(e){return new Ao(e)}},{key:"loadOptions",value:function(){}},{key:"needsPlugin",value:function(){return!0}}]),e}();function Ro(e){return No.apply(this,arguments)}function No(){return No=Ne(De().mark((function e(t){var n,r,i=arguments;return De().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=!(i.length>1&&void 0!==i[1])||i[1],r=new Do,e.next=4,t.addPlugin(r,n);case 4:case"end":return e.stop()}}),e)}))),No.apply(this,arguments)}function Mo(e){return Fo.apply(this,arguments)}function Fo(){return Fo=Ne(De().mark((function e(t){var n,r=arguments;return De().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=!(r.length>1&&void 0!==r[1])||r[1],e.next=3,Po(t,n);case 3:return e.next=5,Ro(t,n);case 5:case"end":return e.stop()}}),e)}))),Fo.apply(this,arguments)}var Lo=function(){function e(){d(this,e)}return y(e,[{key:"draw",value:function(e,t,n){var r=this.getCenter(t,n),i=this.getSidesData(t,n),a=i.count.numerator*i.count.denominator,o=i.count.numerator/i.count.denominator,s=180*(o-2)/o,u=Math.PI-Math.PI*s/180;if(e){e.beginPath(),e.translate(r.x,r.y),e.moveTo(0,0);for(var l=0;l<a;l++)e.lineTo(i.length,0),e.translate(i.length,0),e.rotate(u)}}},{key:"getSidesCount",value:function(e){var t,n,r=e.shapeData;return Math.round(nt(null!==(t=null!==(n=null===r||void 0===r?void 0:r.sides)&&void 0!==n?n:null===r||void 0===r?void 0:r.nb_sides)&&void 0!==t?t:5))}}]),e}(),Bo=function(e){g(n,e);var t=S(n);function n(){return d(this,n),t.apply(this,arguments)}return y(n,[{key:"getCenter",value:function(e,t){return{x:-t/(e.sides/3.5),y:-t/.76}}},{key:"getSidesData",value:function(e,t){var n=e.sides;return{count:{denominator:1,numerator:n},length:2.66*t/(n/3)}}}]),n}(Lo),jo=function(e){g(n,e);var t=S(n);function n(){return d(this,n),t.apply(this,arguments)}return y(n,[{key:"getCenter",value:function(e,t){return{x:-t,y:t/1.66}}},{key:"getSidesCount",value:function(){return 3}},{key:"getSidesData",value:function(e,t){return{count:{denominator:2,numerator:3},length:2*t}}}]),n}(Lo);function zo(e){return Wo.apply(this,arguments)}function Wo(){return Wo=Ne(De().mark((function e(t){var n,r=arguments;return De().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=!(r.length>1&&void 0!==r[1])||r[1],e.next=3,t.addShape("polygon",new Bo,n);case 3:case"end":return e.stop()}}),e)}))),Wo.apply(this,arguments)}function Vo(e){return Uo.apply(this,arguments)}function Uo(){return Uo=Ne(De().mark((function e(t){var n,r=arguments;return De().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=!(r.length>1&&void 0!==r[1])||r[1],e.next=3,t.addShape("triangle",new jo,n);case 3:case"end":return e.stop()}}),e)}))),Uo.apply(this,arguments)}function Ko(e){return Ho.apply(this,arguments)}function Ho(){return Ho=Ne(De().mark((function e(t){var n,r=arguments;return De().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=!(r.length>1&&void 0!==r[1])||r[1],e.next=3,zo(t,n);case 3:return e.next=5,Vo(t,n);case 5:case"end":return e.stop()}}),e)}))),Ho.apply(this,arguments)}var qo=function(){function e(){d(this,e),this.enable=!1,this.speed=0,this.decay=0,this.sync=!1}return y(e,[{key:"load",value:function(e){e&&(void 0!==e.enable&&(this.enable=e.enable),void 0!==e.speed&&(this.speed=at(e.speed)),void 0!==e.decay&&(this.decay=at(e.decay)),void 0!==e.sync&&(this.sync=e.sync))}}]),e}(),Go=function(e){g(n,e);var t=S(n);function n(){var e;return d(this,n),(e=t.call(this)).animation=new qo,e.direction="clockwise",e.path=!1,e.value=0,e}return y(n,[{key:"load",value:function(e){e&&(Be(b(n.prototype),"load",this).call(this,e),void 0!==e.direction&&(this.direction=e.direction),this.animation.load(e.animation),void 0!==e.path&&(this.path=e.path))}}]),n}(zn);var Xo=function(){function e(t){d(this,e),this.container=t}return y(e,[{key:"init",value:function(e){var t=e.options.rotate;if(t){e.rotate={enable:t.animation.enable,value:nt(t.value)*Math.PI/180},e.pathRotation=t.path;var n=t.direction;if("random"===n)n=Math.floor(2*Qe())>0?"counter-clockwise":"clockwise";switch(n){case"counter-clockwise":case"counterClockwise":e.rotate.status="decreasing";break;case"clockwise":e.rotate.status="increasing"}var r=t.animation;r.enable&&(e.rotate.decay=1-nt(r.decay),e.rotate.velocity=nt(r.speed)/360*this.container.retina.reduceFactor,r.sync||(e.rotate.velocity*=Qe())),e.rotation=e.rotate.value}}},{key:"isEnabled",value:function(e){var t=e.options.rotate;return!!t&&(!e.destroyed&&!e.spawning&&t.animation.enable&&!t.path)}},{key:"loadOptions",value:function(e){e.rotate||(e.rotate=new Go);for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e.rotate.load(null===o||void 0===o?void 0:o.rotate)}}},{key:"update",value:function(e,t){var n,r;this.isEnabled(e)&&(!function(e,t){var n,r,i=e.rotate,a=e.options.rotate;if(i&&a){var o=a.animation,s=(null!==(n=i.velocity)&&void 0!==n?n:0)*t.factor,u=2*Math.PI,l=null!==(r=i.decay)&&void 0!==r?r:1;o.enable&&("increasing"===i.status?(i.value+=s,i.value>u&&(i.value-=u)):(i.value-=s,i.value<0&&(i.value+=u)),i.velocity&&1!==l&&(i.velocity*=l))}}(e,t),e.rotation=null!==(n=null===(r=e.rotate)||void 0===r?void 0:r.value)&&void 0!==n?n:0)}}]),e}();function Yo(e){return Jo.apply(this,arguments)}function Jo(){return Jo=Ne(De().mark((function e(t){var n,r=arguments;return De().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=!(r.length>1&&void 0!==r[1])||r[1],e.next=3,t.addParticleUpdater("rotate",(function(e){return new Xo(e)}),n);case 3:case"end":return e.stop()}}),e)}))),Jo.apply(this,arguments)}var $o=Math.sqrt(2),Qo=function(){function e(){d(this,e)}return y(e,[{key:"draw",value:function(e,t,n){var r=n/$o,i=2*r;e.rect(-r,-r,i,i)}},{key:"getSidesCount",value:function(){return 4}}]),e}();function Zo(e){return es.apply(this,arguments)}function es(){return es=Ne(De().mark((function e(t){var n,r=arguments;return De().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=!(r.length>1&&void 0!==r[1])||r[1],e.next=3,t.addShape(["edge","square"],new Qo,n);case 3:case"end":return e.stop()}}),e)}))),es.apply(this,arguments)}var ts=function(){function e(){d(this,e)}return y(e,[{key:"draw",value:function(e,t,n){var r,i=t.sides,a=null!==(r=t.starInset)&&void 0!==r?r:2;e.moveTo(0,0-n);for(var o=0;o<i;o++)e.rotate(Math.PI/i),e.lineTo(0,0-n*a),e.rotate(Math.PI/i),e.lineTo(0,0-n)}},{key:"getSidesCount",value:function(e){var t,n,r=e.shapeData;return Math.round(nt(null!==(t=null!==(n=null===r||void 0===r?void 0:r.sides)&&void 0!==n?n:null===r||void 0===r?void 0:r.nb_sides)&&void 0!==t?t:5))}},{key:"particleInit",value:function(e,t){var n,r=t.shapeData,i=nt(null!==(n=null===r||void 0===r?void 0:r.inset)&&void 0!==n?n:2);t.starInset=i}}]),e}();function ns(e){return rs.apply(this,arguments)}function rs(){return rs=Ne(De().mark((function e(t){var n,r=arguments;return De().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=!(r.length>1&&void 0!==r[1])||r[1],e.next=3,t.addShape("star",new ts,n);case 3:case"end":return e.stop()}}),e)}))),rs.apply(this,arguments)}function is(e,t,n,r,i){var a,o,s,u,l,c,f,d,p;if(t&&n.enable&&!((null!==(a=t.maxLoops)&&void 0!==a?a:0)>0&&(null!==(o=t.loops)&&void 0!==o?o:0)>(null!==(s=t.maxLoops)&&void 0!==s?s:0))&&(t.time||(t.time=0),(null!==(u=t.delayTime)&&void 0!==u?u:0)>0&&t.time<(null!==(l=t.delayTime)&&void 0!==l?l:0)&&(t.time+=e.value),!((null!==(c=t.delayTime)&&void 0!==c?c:0)>0&&t.time<(null!==(f=t.delayTime)&&void 0!==f?f:0)))){var h=tt(n.offset),v=(null!==(d=t.velocity)&&void 0!==d?d:0)*e.factor+3.6*h,y=null!==(p=t.decay)&&void 0!==p?p:1;i&&"increasing"!==t.status?(t.value-=v,t.value<0&&(t.loops||(t.loops=0),t.loops++,t.status="increasing",t.value+=t.value)):(t.value+=v,t.value>r&&(t.loops||(t.loops=0),t.loops++,i&&(t.status="decreasing",t.value-=t.value%r))),t.velocity&&1!==y&&(t.velocity*=y),t.value>r&&(t.value%=r)}}var as=function(){function e(t){d(this,e),this.container=t}return y(e,[{key:"init",value:function(e){var t,n,r,i=this.container,a=e.options,o=Rt(a.stroke,e.id,a.reduceDuplicates);e.strokeWidth=nt(o.width)*i.retina.pixelRatio,e.strokeOpacity=nt(null!==(t=o.opacity)&&void 0!==t?t:1),e.strokeAnimation=null===(n=o.color)||void 0===n?void 0:n.animation;var s=null!==(r=Qt(o.color))&&void 0!==r?r:e.getFillColor();s&&(e.strokeColor=ln(s,e.strokeAnimation,i.retina.reduceFactor))}},{key:"isEnabled",value:function(e){var t=e.strokeAnimation,n=e.strokeColor;return!e.destroyed&&!e.spawning&&!!t&&(void 0!==(null===n||void 0===n?void 0:n.h.value)&&n.h.enable||void 0!==(null===n||void 0===n?void 0:n.s.value)&&n.s.enable||void 0!==(null===n||void 0===n?void 0:n.l.value)&&n.l.enable)}},{key:"update",value:function(e,t){this.isEnabled(e)&&function(e,t){if(e.strokeColor&&e.strokeAnimation){var n=e.strokeColor,r=n.h,i=n.s,a=n.l,o=e.strokeAnimation,s=o.h,u=o.s,l=o.l;r&&is(t,r,s,360,!1),i&&is(t,i,u,100,!0),a&&is(t,a,l,100,!0)}}(e,t)}}]),e}();function os(e){return ss.apply(this,arguments)}function ss(){return ss=Ne(De().mark((function e(t){var n,r=arguments;return De().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=!(r.length>1&&void 0!==r[1])||r[1],e.next=3,t.addParticleUpdater("strokeColor",(function(e){return new as(e)}),n);case 3:case"end":return e.stop()}}),e)}))),ss.apply(this,arguments)}var us=["text","character","char"],ls=function(){function e(){d(this,e)}return y(e,[{key:"draw",value:function(e,t,n,r){var i,a,o,s=t.shapeData;if(void 0!==s){var u=s.value;if(void 0!==u){void 0===t.text&&(t.text=Rt(u,t.randomIndexData));var l=t.text,c=null!==(i=s.style)&&void 0!==i?i:"",f=null!==(a=s.weight)&&void 0!==a?a:"400",d=2*Math.round(n),p=null!==(o=s.font)&&void 0!==o?o:"Verdana",h=t.fill,v=l.length*n/2;e.font="".concat(c," ").concat(f," ").concat(d,'px "').concat(p,'"');var y={x:-v,y:n/2};e.globalAlpha=r,h?e.fillText(l,y.x,y.y):e.strokeText(l,y.x,y.y),e.globalAlpha=1}}}},{key:"getSidesCount",value:function(){return 12}},{key:"init",value:function(){var e=Ne(De().mark((function e(t){var n,r,i;return De().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.actualOptions,!us.find((function(e){return bt(e,n.particles.shape.type)}))){e.next=6;break}return r=us.map((function(e){return n.particles.shape.options[e]})).find((function(e){return!!e})),i=[],Dt(r,(function(e){i.push(xt(e.font,e.weight))})),e.next=6,Promise.all(i);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"particleInit",value:function(e,t){if(t.shape&&us.includes(t.shape)){var n=t.shapeData;if(void 0!==n){var r=n.value;void 0!==r&&(t.text=Rt(r,t.randomIndexData))}}}}]),e}();function cs(e){return fs.apply(this,arguments)}function fs(){return fs=Ne(De().mark((function e(t){var n,r=arguments;return De().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=!(r.length>1&&void 0!==r[1])||r[1],e.next=3,t.addShape(us,new ls,n);case 3:case"end":return e.stop()}}),e)}))),fs.apply(this,arguments)}function ds(e){return ps.apply(this,arguments)}function ps(){return ps=Ne(De().mark((function e(t){var n,r=arguments;return De().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=!(r.length>1&&void 0!==r[1])||r[1],ei(t),e.next=4,uo(t,!1);case 4:return e.next=6,Di(t,!1);case 6:return e.next=8,Fi(t,!1);case 8:return e.next=10,Ui(t,!1);case 10:return e.next=12,Ji(t,!1);case 12:return e.next=14,na(t,!1);case 14:return e.next=16,aa(t,!1);case 16:return e.next=18,la(t,!1);case 18:return e.next=20,pa(t,!1);case 20:return e.next=22,ba(t,!1);case 22:return e.next=24,Ta(t,!1);case 24:return e.next=26,po(t,!1);case 26:return e.next=28,xo(t,!1);case 28:return e.next=30,Mo(t,!1);case 30:return e.next=32,Ci();case 32:return e.next=34,Ja(t,!1);case 34:return e.next=36,ao(t,!1);case 36:return e.next=38,Ko(t,!1);case 38:return e.next=40,Zo(t,!1);case 40:return e.next=42,ns(t,!1);case 42:return e.next=44,cs(t,!1);case 44:return e.next=46,no(t,!1);case 46:return e.next=48,Yo(t,!1);case 48:return e.next=50,os(t,!1);case 50:return e.next=52,ki(t,n);case 52:case"end":return e.stop()}}),e)}))),ps.apply(this,arguments)}var hs=n(184),vs=function(){var e=(0,t.useCallback)(function(){var e=Ne(De().mark((function e(t){return De().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,ds(t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]),n=(0,t.useCallback)(function(){var e=Ne(De().mark((function e(t){return De().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,console.log(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]);return(0,hs.jsx)(Qr,{id:"tsparticles",init:e,loaded:n,options:{background:{color:{value:"#8BA1CE"}},fullScreen:{enable:!0,zIndex:-1},fpsLimit:120,interactivity:{events:{onClick:{enable:!0,mode:"push"},onHover:{enable:!0,mode:"repulse"},resize:!0},modes:{push:{quantity:4},repulse:{distance:200,duration:.4}}},particles:{color:{value:"#ffffff"},links:{color:"#ffffff",distance:150,enable:!0,opacity:.5,width:1},move:{direction:"none",enable:!0,outModes:{default:"bounce"},random:!1,speed:6,straight:!1},number:{density:{enable:!0,area:800},value:80},opacity:{value:.5},shape:{type:"circle"},size:{value:{min:1,max:5}}},detectRetina:!0}})},ys=function(e){var n=e.text,r=e.delay,i=e.infinite,a=l((0,t.useState)(""),2),o=a[0],s=a[1],u=l((0,t.useState)(0),2),c=u[0],f=u[1];return(0,t.useEffect)((function(){var e;return c<=n.length?e=setTimeout((function(){s((function(e){return e+n[c]})),f((function(e){return e+1}))}),r):i&&(f(0),s("")),function(){return clearTimeout(e)}}),[c,r,i,n]),(0,hs.jsx)("span",{children:o})};function ms(){return(0,hs.jsxs)("div",{children:[(0,hs.jsx)(vs,{}),(0,hs.jsx)("h1",{className:"title-font",children:"Welcome to"}),(0,hs.jsx)("h1",{className:"title-font-second",children:(0,hs.jsx)(ys,{text:"OUR WEBSITE",delay:300,infinite:!0})})]})}var gs=function(){var e=l((0,t.useState)(0),2),n=e[0],r=e[1],i=l((0,t.useState)(0),2),a=i[0],o=i[1],s=l((0,t.useState)(0),2),u=s[0],c=s[1],f=Date.now();return(0,t.useEffect)((function(){var e=setInterval((function(){return function(){var e=Date.now()-f;r(Math.floor(e/36e5)),o(Math.floor(e/1e3/60%60)),c(Math.floor(e/1e3%60))}()}),1e3);return function(){return clearInterval(e)}}),[]),(0,hs.jsxs)("div",{className:"timer",children:["HELLO ",f,"Hrs: ",n,"Minutes: ",a,"seconds: ",u]})};function bs(){return(0,hs.jsxs)("div",{children:[(0,hs.jsx)(gs,{}),"WASSUP"]})}n(7951);var xs=function(e,t){return(xs=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function ws(e,t){function n(){this.constructor=e}xs(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function Ss(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{u(r.next(e))}catch(e){a(e)}}function s(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){e.done?i(e.value):new n((function(t){t(e.value)})).then(o,s)}u((r=r.apply(e,t||[])).next())}))}function Ts(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}var Es=function(){function e(e){this.global=e,this.flags={},this.flagRegistry={},this.urlFlags={},this.populateURLFlags()}return e.prototype.setPlatform=function(e,t){null!=this.platform&&console.warn("Platform "+this.platformName+" has already been set. Overwriting the platform with "+t+"."),this.platformName=e,this.platform=t},e.prototype.registerFlag=function(e,t,n){if(this.flagRegistry[e]={evaluationFn:t,setHook:n},null!=this.urlFlags[e]){var r=this.urlFlags[e];console.warn("Setting feature override from URL "+e+": "+r+"."),this.set(e,r)}},e.prototype.get=function(e){return e in this.flags||(this.flags[e]=this.evaluateFlag(e)),this.flags[e]},e.prototype.getNumber=function(e){return this.get(e)},e.prototype.getBool=function(e){return this.get(e)},e.prototype.getFlags=function(){return this.flags},Object.defineProperty(e.prototype,"features",{get:function(){return this.flags},enumerable:!0,configurable:!0}),e.prototype.set=function(e,t){if(null==this.flagRegistry[e])throw new Error("Cannot set flag "+e+" as it has not been registered.");this.flags[e]=t,null!=this.flagRegistry[e].setHook&&this.flagRegistry[e].setHook(t)},e.prototype.evaluateFlag=function(e){if(null==this.flagRegistry[e])throw new Error("Cannot evaluate flag '"+e+"': no evaluation function found.");return this.flagRegistry[e].evaluationFn()},e.prototype.setFlags=function(e){this.flags=Object.assign({},e)},e.prototype.reset=function(){this.flags={},this.urlFlags={},this.populateURLFlags()},e.prototype.populateURLFlags=function(){var e=this;if(void 0!==this.global&&void 0!==this.global.location&&void 0!==this.global.location.search){var t,n,r=(t=this.global.location.search,n={},t.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g,(function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return function(e,t,n){e[decodeURIComponent(t)]=decodeURIComponent(n||"")}(n,t[0],t[1]),t.join("=")})),n);"tfjsflags"in r&&r.tfjsflags.split(",").forEach((function(t){var n=t.split(":"),r=n[0],i=n[1];e.urlFlags[r]=function(e,t){if("true"===(t=t.toLowerCase())||"false"===t)return"true"===t;if(""+ +t===t)return+t;throw new Error("Could not parse value flag value "+t+" for flag "+e+".")}(r,i)}))}},e}();function ks(){return _s}var _s=null,Cs=new Map,Ps=new Map;function Os(e,t){var n=Rs(e,t);return Cs.get(n)}function Is(e){for(var t=Cs.entries(),n=[];;){var r=t.next(),i=r.done,a=r.value;if(i)break;var o=a[0],s=a[1];o.split("_")[0]===e&&n.push(s)}return n}function As(e){var t=e.kernelName,n=e.backendName,r=Rs(t,n);if(Cs.has(r))throw new Error("The kernel '"+t+"' for backend '"+n+"' is already registered");Cs.set(r,e)}function Ds(e){var t=e.kernelName;Ps.has(t)&&console.warn("Overriding the gradient for '"+t+"'"),Ps.set(t,e)}function Rs(e,t){return t+"_"+e}function Ns(e){for(var t=e.length,n=0,r=0;t>0;)r=Math.random()*t|0,n=e[--t],e[t]=e[r],e[r]=n}function Ms(e,t,n){return Math.max(e,Math.min(t,n))}function Fs(e){return e%2==0?e:e+1}function Ls(e){for(var t=0,n=0;n<e.length;n++)t+=e[n];return t}function Bs(e,t){if(!e)throw new Error("string"==typeof t?t:t())}function js(e,t,n){void 0===n&&(n=""),Bs(Us(e,t),(function(){return n+" Shapes "+e+" and "+t+" must match"}))}function zs(e){Bs(null!=e,(function(){return"The input to the tensor constructor must be a non-null value."}))}function Ws(e,t,n){if(void 0===t&&(t=[]),void 0===n&&(n=!1),null==t&&(t=[]),Array.isArray(e)||ru(e)&&!n)for(var r=0;r<e.length;++r)Ws(e[r],t,n);else t.push(e);return t}function Vs(e){if(0===e.length)return 1;for(var t=e[0],n=1;n<e.length;n++)t*=e[n];return t}function Us(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function Ks(e){return e%1==0}function Hs(e){if(null!=Math.tanh)return Math.tanh(e);if(e===1/0)return 1;if(e===-1/0)return-1;var t=Math.exp(2*e);return(t-1)/(t+1)}function qs(e){var t=Math.ceil(Math.sqrt(e));return[t,Math.ceil(e/t)]}function Gs(e,t){return t<=e.length?e:e+" ".repeat(t-e.length)}function Xs(e,t,n){return void 0===t&&(t=function(e){return 0}),new Promise((function(r,i){var a=0;!function o(){if(e())r();else{a++;var s=t(a);null!=n&&a>=n?i():setTimeout(o,s)}}()}))}function Ys(e,t){for(var n=1,r=-1,i=0;i<e.length;++i)if(e[i]>=0)n*=e[i];else if(-1===e[i]){if(-1!==r)throw Error("Shapes can only have 1 implicit size. Found -1 at dim "+r+" and dim "+i);r=i}else if(e[i]<0)throw Error("Shapes can not be < 0. Found "+e[i]+" at dim "+i);if(-1===r){if(t>0&&t!==n)throw Error("Size("+t+") must match the product of shape "+e);return e}if(0===n)throw Error("Cannot infer the missing size in ["+e+"] when there are 0 elements");if(t%n!=0)throw Error("The implicit shape can't be a fractional number. Got "+t+" / "+n);var a=e.slice();return a[r]=t/n,a}function Js(e,t){var n=t.length;return Bs((e=null==e?t.map((function(e,t){return t})):[].concat(e)).every((function(e){return e>=-n&&e<n})),(function(){return"All values in axis param must be in range [-"+n+", "+n+") but got axis "+e})),Bs(e.every((function(e){return Ks(e)})),(function(){return"All values in axis param must be integers but got axis "+e})),e.map((function(e){return e<0?n+e:e}))}function $s(e,t){for(var n=[],r=[],i=null!=t&&Array.isArray(t)&&0===t.length,a=null==t||i?null:Js(t,e).sort(),o=0,s=0;s<e.length;++s){if(null!=a){if(a[o]===s&&1!==e[s])throw new Error("Can't squeeze axis "+s+" since its dim '"+e[s]+"' is not 1");(null==a[o]||a[o]>s)&&1===e[s]&&(n.push(e[s]),r.push(s)),a[o]<=s&&o++}1!==e[s]&&(n.push(e[s]),r.push(s))}return{newShape:n,keptDims:r}}function Qs(e,t){var n=null;if(null==e||"float32"===e)n=new Float32Array(t);else if("int32"===e)n=new Int32Array(t);else{if("bool"!==e)throw new Error("Unknown data type "+e);n=new Uint8Array(t)}return n}function Zs(e,t){var n=null;if(null==e||"float32"===e)n=new Float32Array(t);else if("int32"===e)n=new Int32Array(t);else if("bool"===e)n=new Uint8Array(t);else{if("string"!==e)throw new Error("Unknown data type "+e);n=new Array(t)}return n}function eu(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(isNaN(r)||!isFinite(r))throw Error("A tensor of type "+t+" being uploaded contains "+r+".")}}function tu(e){return"bool"===e||"complex64"===e||"float32"===e||"int32"===e||"string"===e}function nu(e,t){return"complex64"!==t&&("float32"!==t||"complex64"===e)&&("int32"!==t||"float32"===e||"complex64"===e)&&("bool"!==t||"bool"!==e)}function ru(e){return e instanceof Float32Array||e instanceof Int32Array||e instanceof Uint8Array}function iu(e){if("float32"===e||"int32"===e)return 4;if("complex64"===e)return 8;if("bool"===e)return 1;throw new Error("Unknown dtype "+e)}function au(e){if(null==e)return 0;var t=0;return e.forEach((function(e){return t+=e.length})),t}function ou(e){return"string"==typeof e||e instanceof String}function su(e){return"boolean"==typeof e}function uu(e){return"number"==typeof e}function lu(e){return Array.isArray(e)?lu(e[0]):e instanceof Float32Array?"float32":e instanceof Int32Array||e instanceof Uint8Array?"int32":uu(e)?"float32":ou(e)?"string":su(e)?"bool":"float32"}function cu(e){return!!(e&&e.constructor&&e.call&&e.apply)}function fu(e,t){for(var n=t;n<e;++n)if(e%n==0)return n;return e}function du(e){var t=e.length;if(t<2)return[];var n=new Array(t-1);n[t-2]=e[t-1];for(var r=t-3;r>=0;--r)n[r]=n[r+1]*e[r+1];return n}function pu(e,t,n){if("string"===t)throw new Error("Cannot convert a string[] to a TypedArray");if(Array.isArray(e)&&(e=Ws(e)),n&&eu(e,t),function(e,t){return e instanceof Float32Array&&"float32"===t||e instanceof Int32Array&&"int32"===t||e instanceof Uint8Array&&"bool"===t}(e,t))return e;if(null==t||"float32"===t||"complex64"===t)return new Float32Array(e);if("int32"===t)return new Int32Array(e);if("bool"===t){for(var r=new Uint8Array(e.length),i=0;i<r.length;++i)0!==Math.round(e[i])&&(r[i]=1);return r}throw new Error("Unknown data type "+t)}function hu(e,t){if(0===e.length)return t[0];var n=e.reduce((function(e,t){return e*t}));if(0===n)return[];if(n!==t.length)throw new Error("["+e+"] does not match the input size.");return function e(t,n,r){var i=new Array;if(1===n.length)for(var a=n[0],o=0;o<a;o++)i[o]=r[t+o];else{a=n[0];var s=n.slice(1),u=s.reduce((function(e,t){return e*t}));for(o=0;o<a;o++)i[o]=e(t+o*u,s,r)}return i}(0,e,t)}function vu(e,t){for(var n=yu(e,t),r=0;r<n.length;r++)n[r]=1;return n}function yu(e,t){if(null==t||"float32"===t||"complex64"===t)return new Float32Array(e);if("int32"===t)return new Int32Array(e);if("bool"===t)return new Uint8Array(e);throw new Error("Unknown data type "+t)}function mu(){return ks().platform.now()}function gu(e){e.forEach((function(t){Bs(Number.isInteger(t)&&t>=0,(function(){return"Tensor must have a shape comprised of positive integers but got shape ["+e+"]."}))}))}function bu(e,t){return void 0===t&&(t="utf-8"),t=t||"utf-8",ks().platform.encode(e,t)}function xu(e,t){return void 0===t&&(t="utf-8"),t=t||"utf-8",ks().platform.decode(e,t)}function wu(e,t,n){if(0===t)return 0;if(1===t)return e[0];for(var r=e[e.length-1],i=0;i<e.length-1;++i)r+=n[i]*e[i];return r}function Su(e,t,n){if(0===t)return[];if(1===t)return[e];for(var r=new Array(t),i=0;i<r.length-1;++i)r[i]=Math.floor(e/n[i]),e-=r[i]*n[i];return r[r.length-1]=e,r}Object.freeze({shuffle:Ns,clamp:Ms,nearestLargerEven:Fs,sum:Ls,randUniform:function(e,t){var n=Math.random();return t*n+(1-n)*e},distSquared:function(e,t){for(var n=0,r=0;r<e.length;r++){var i=Number(e[r])-Number(t[r]);n+=i*i}return n},assert:Bs,assertShapesMatch:js,assertNonNull:zs,flatten:Ws,sizeFromShape:Vs,isScalarShape:function(e){return 0===e.length},arraysEqual:Us,isInt:Ks,tanh:Hs,sizeToSquarishShape:qs,createShuffledIndices:function(e){for(var t=new Uint32Array(e),n=0;n<e;++n)t[n]=n;return Ns(t),t},rightPad:Gs,repeatedTry:Xs,inferFromImplicitShape:Ys,parseAxisParam:Js,squeezeShape:$s,getTypedArrayFromDType:Qs,getArrayFromDType:Zs,checkConversionForErrors:eu,isValidDtype:tu,hasEncodingLoss:nu,isTypedArray:ru,bytesPerElement:iu,bytesFromStringArray:au,isString:ou,isBoolean:su,isNumber:uu,inferDtype:lu,isFunction:cu,nearestDivisor:fu,computeStrides:du,toTypedArray:pu,toNestedArray:hu,makeOnesTypedArray:vu,makeZerosTypedArray:yu,now:mu,assertNonNegativeIntegerDimensions:gu,fetch:function(e,t){return ks().platform.fetch(e,t)},encodeString:bu,decodeString:xu,locToIndex:wu,indexToLoc:Su});var Tu=function(){function e(e,t){this.backendTimer=e,this.logger=t,null==t&&(this.logger=new Eu)}return e.prototype.profileKernel=function(e,t,n){var r,i=this,a=this.backendTimer.time((function(){r=n()}));return r.forEach((function(n){n.data().then((function(r){!function(e,t,n){if("float32"!==t)return!1;for(var r=0;r<e.length;r++){var i=e[r];if(isNaN(i)||!isFinite(i))return console.warn("Found "+i+" in the result of '"+n+"'"),!0}}(r,n.dtype,e),a.then((function(a){var o="";null!=a.getExtraProfileInfo&&(o=a.getExtraProfileInfo()),i.logger.logKernelProfile(e,n,r,a.kernelMs,t,o)}))}))})),r},e}(),Eu=function(){function e(){}return e.prototype.logKernelProfile=function(e,t,n,r,i,a){var o="number"==typeof r?Gs(r+"ms",9):r.error,s=Gs(e,25),u=t.rank,l=t.size,c=Gs(t.shape.toString(),14),f="";for(var d in i){var p=i[d].shape||t.shape,h=p.length;f+=d+": "+h+"D "+(h>0?p:"")+" "}console.log("%c"+s+"\t%c"+o+"\t%c"+u+"D "+c+"\t%c"+l+"\t%c"+f+"\t%c"+a,"font-weight:bold","color:red","color:blue","color: orange","color: green","color: steelblue")},e}(),ku=7;function _u(e,t,n){return Gs(Array.isArray(e)?parseFloat(e[0].toFixed(ku))+" + "+parseFloat(e[1].toFixed(ku))+"j":ou(e)?"'"+e+"'":"bool"===n?Cu(e):parseFloat(e.toFixed(ku)).toString(),t)}function Cu(e){return 0===e?"false":"true"}function Pu(e){for(var t=[],n=0;n<e.length;n+=2)t.push([e[n],e[n+1]]);return t}var Ou=function(){function e(e,t,n){var r=this;if(this.dtype=t,this.shape=e.slice(),this.size=Vs(e),null!=n){var i=n.length;Bs(i===this.size,(function(){return"Length of values '"+i+"' does not match the size inferred by the shape '"+r.size+"'."}))}if("complex64"===t)throw new Error("complex64 dtype TensorBuffers are not supported. Please create a TensorBuffer for the real and imaginary parts separately and call tf.complex(real, imag).");this.values=n||Zs(t,this.size),this.strides=du(e)}return e.prototype.set=function(e){for(var t=this,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];0===n.length&&(n=[0]),Bs(n.length===this.rank,(function(){return"The number of provided coordinates ("+n.length+") must match the rank ("+t.rank+")"}));var i=this.locToIndex(n);this.values[i]=e},e.prototype.get=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];0===e.length&&(e=[0]);for(var n=0,r=0,i=e;r<i.length;r++){var a=i[r];if(a<0||a>=this.shape[n]){var o="Requested out of range element at "+e+".   Buffer shape="+this.shape;throw new Error(o)}n++}for(var s=e[e.length-1],u=0;u<e.length-1;++u)s+=this.strides[u]*e[u];return this.values[s]},e.prototype.locToIndex=function(e){if(0===this.rank)return 0;if(1===this.rank)return e[0];for(var t=e[e.length-1],n=0;n<e.length-1;++n)t+=this.strides[n]*e[n];return t},e.prototype.indexToLoc=function(e){if(0===this.rank)return[];if(1===this.rank)return[e];for(var t=new Array(this.shape.length),n=0;n<t.length-1;++n)t[n]=Math.floor(e/this.strides[n]),e-=t[n]*this.strides[n];return t[t.length-1]=e,t},Object.defineProperty(e.prototype,"rank",{get:function(){return this.shape.length},enumerable:!0,configurable:!0}),e.prototype.toTensor=function(){return Iu().makeTensor(this.values,this.shape,this.dtype)},e}(),Iu=null,Au=null,Du=null,Ru=function(){function e(e,t,n,r){this.kept=!1,this.isDisposedInternal=!1,this.shape=e.slice(),this.dtype=t||"float32",this.size=Vs(e),this.strides=du(e),this.dataId=n,this.id=r,this.rankType=this.rank<5?this.rank.toString():"higher"}return e.prototype.flatten=function(){return this.throwIfDisposed(),this.as1D()},e.prototype.asScalar=function(){return this.throwIfDisposed(),Bs(1===this.size,(function(){return"The array must have only 1 element."})),this.reshape([])},e.prototype.as1D=function(){return this.throwIfDisposed(),this.reshape([this.size])},e.prototype.as2D=function(e,t){return this.throwIfDisposed(),this.reshape([e,t])},e.prototype.as3D=function(e,t,n){return this.throwIfDisposed(),this.reshape([e,t,n])},e.prototype.as4D=function(e,t,n,r){return this.throwIfDisposed(),this.reshape([e,t,n,r])},e.prototype.as5D=function(e,t,n,r,i){return this.throwIfDisposed(),this.reshape([e,t,n,r,i])},e.prototype.asType=function(e){return this.throwIfDisposed(),Au.cast(this,e)},Object.defineProperty(e.prototype,"rank",{get:function(){return this.shape.length},enumerable:!0,configurable:!0}),e.prototype.buffer=function(){return Ss(this,void 0,void 0,(function(){var e;return Ts(this,(function(t){switch(t.label){case 0:return[4,this.data()];case 1:return e=t.sent(),[2,Au.buffer(this.shape,this.dtype,e)]}}))}))},e.prototype.bufferSync=function(){return Au.buffer(this.shape,this.dtype,this.dataSync())},e.prototype.array=function(){return Ss(this,void 0,void 0,(function(){var e;return Ts(this,(function(t){switch(t.label){case 0:return[4,this.data()];case 1:return e=t.sent(),[2,hu(this.shape,e)]}}))}))},e.prototype.arraySync=function(){return hu(this.shape,this.dataSync())},e.prototype.data=function(){return Ss(this,void 0,void 0,(function(){var e,t;return Ts(this,(function(n){switch(n.label){case 0:return this.throwIfDisposed(),e=Iu().read(this.dataId),"string"!==this.dtype?[3,2]:[4,e];case 1:t=n.sent();try{return[2,t.map((function(e){return xu(e)}))]}catch(e){throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}n.label=2;case 2:return[2,e]}}))}))},e.prototype.dataSync=function(){this.throwIfDisposed();var e=Iu().readSync(this.dataId);if("string"===this.dtype)try{return e.map((function(e){return xu(e)}))}catch(e){throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}return e},e.prototype.bytes=function(){return Ss(this,void 0,void 0,(function(){var e;return Ts(this,(function(t){switch(t.label){case 0:return this.throwIfDisposed(),[4,Iu().read(this.dataId)];case 1:return e=t.sent(),"string"===this.dtype?[2,e]:[2,new Uint8Array(e.buffer)]}}))}))},e.prototype.dispose=function(){this.isDisposed||(Iu().disposeTensor(this),this.isDisposedInternal=!0)},Object.defineProperty(e.prototype,"isDisposed",{get:function(){return this.isDisposedInternal},enumerable:!0,configurable:!0}),e.prototype.throwIfDisposed=function(){if(this.isDisposed)throw new Error("Tensor is disposed.")},e.prototype.toFloat=function(){return this.asType("float32")},e.prototype.toInt=function(){return this.asType("int32")},e.prototype.toBool=function(){return this.asType("bool")},e.prototype.print=function(e){return void 0===e&&(e=!1),Au.print(this,e)},e.prototype.reshape=function(e){return this.throwIfDisposed(),Au.reshape(this,e)},e.prototype.reshapeAs=function(e){return this.throwIfDisposed(),this.reshape(e.shape)},e.prototype.expandDims=function(e){return void 0===e&&(e=0),Au.expandDims(this,e)},e.prototype.cumsum=function(e,t,n){return void 0===e&&(e=0),void 0===t&&(t=!1),void 0===n&&(n=!1),Au.cumsum(this,e,t,n)},e.prototype.squeeze=function(e){return this.throwIfDisposed(),Au.squeeze(this,e)},e.prototype.clone=function(){return this.throwIfDisposed(),Au.clone(this)},e.prototype.oneHot=function(e,t,n){return this.throwIfDisposed(),Au.oneHot(this,e,t,n)},e.prototype.toString=function(e){return void 0===e&&(e=!1),function(e,t,n,r){var i=du(t),a=function(e,t,n,r){var i=Vs(t),a=r[r.length-1],o=new Array(a).fill(0),s=t.length,u="complex64"===n?Pu(e):e;if(s>1)for(var l=0;l<i/a;l++)for(var c=l*a,f=0;f<a;f++)o[f]=Math.max(o[f],_u(u[c+f],0,n).length);return o}(e,t,n,i),o=t.length,s=function e(t,n,r,i,a,o){void 0===o&&(o=!0);var s="complex64"===r?2:1,u=n[0],l=n.length;if(0===l)return"complex64"===r?[_u(Pu(t)[0],0,r)]:"bool"===r?[Cu(t[0])]:[t[0].toString()];if(1===l){if(u>20){var c=3*s,f=Array.from(t.slice(0,c)),d=Array.from(t.slice((u-3)*s,u*s));return"complex64"===r&&(f=Pu(f),d=Pu(d)),["["+f.map((function(e,t){return _u(e,a[t],r)})).join(", ")+", ..., "+d.map((function(e,t){return _u(e,a[u-3+t],r)})).join(", ")+"]"]}return["["+("complex64"===r?Pu(t):Array.from(t)).map((function(e,t){return _u(e,a[t],r)})).join(", ")+"]"]}var p=n.slice(1),h=i.slice(1),v=i[0]*s,y=[];if(u>20){for(var m=0;m<3;m++){var g=(b=m*v)+v;y.push.apply(y,e(t.slice(b,g),p,r,h,a,!1))}for(y.push("..."),m=u-3;m<u;m++)g=(b=m*v)+v,y.push.apply(y,e(t.slice(b,g),p,r,h,a,m===u-1))}else for(m=0;m<u;m++){var b;g=(b=m*v)+v,y.push.apply(y,e(t.slice(b,g),p,r,h,a,m===u-1))}var x=2===l?",":"";for(y[0]="["+y[0]+x,m=1;m<y.length-1;m++)y[m]=" "+y[m]+x;var w=",\n";for(m=2;m<l;m++)w+="\n";return y[y.length-1]=" "+y[y.length-1]+"]"+(o?"":w),y}(e,t,n,i,a),u=["Tensor"];return r&&(u.push("  dtype: "+n),u.push("  rank: "+o),u.push("  shape: ["+t+"]"),u.push("  values:")),u.push(s.map((function(e){return"    "+e})).join("\n")),u.join("\n")}(this.dataSync(),this.shape,this.dtype,e)},e.prototype.tile=function(e){return this.throwIfDisposed(),Au.tile(this,e)},e.prototype.gather=function(e,t){return void 0===t&&(t=0),this.throwIfDisposed(),Au.gather(this,e,t)},e.prototype.matMul=function(e,t,n){return void 0===t&&(t=!1),void 0===n&&(n=!1),this.throwIfDisposed(),Au.matMul(this,e,t,n)},e.prototype.dot=function(e){return this.throwIfDisposed(),Au.dot(this,e)},e.prototype.norm=function(e,t,n){return void 0===e&&(e="euclidean"),void 0===t&&(t=null),void 0===n&&(n=!1),this.throwIfDisposed(),Au.norm(this,e,t,n)},e.prototype.slice=function(e,t){return this.throwIfDisposed(),Au.slice(this,e,t)},e.prototype.reverse=function(e){return this.throwIfDisposed(),Au.reverse(this,e)},e.prototype.concat=function(t,n){return void 0===n&&(n=0),this.throwIfDisposed(),t instanceof e&&(t=[t]),Au.concat([this].concat(t),n)},e.prototype.split=function(e,t){return void 0===t&&(t=0),this.throwIfDisposed(),Au.split(this,e,t)},e.prototype.stack=function(e,t){return void 0===t&&(t=0),Au.stack([this,e],t)},e.prototype.unstack=function(e){return void 0===e&&(e=0),Au.unstack(this,e)},e.prototype.pad=function(e,t){return void 0===t&&(t=0),Au.pad(this,e,t)},e.prototype.batchNormalization=function(e,t,n,r,i){return void 0===n&&(n=.001),Du("tf.batchNormalization() is going away. Use tf.batchNorm() instead, and note the positional argument change of scale, offset, and varianceEpsilon"),this.batchNorm(e,t,i,r,n)},e.prototype.batchNorm=function(e,t,n,r,i){return void 0===i&&(i=.001),this.throwIfDisposed(),Au.batchNorm(this,e,t,n,r,i)},e.prototype.all=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=!1),this.throwIfDisposed(),Au.all(this,e,t)},e.prototype.any=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=!1),this.throwIfDisposed(),Au.any(this,e,t)},e.prototype.logSumExp=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=!1),this.throwIfDisposed(),Au.logSumExp(this,e,t)},e.prototype.sum=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=!1),this.throwIfDisposed(),Au.sum(this,e,t)},e.prototype.prod=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=!1),this.throwIfDisposed(),Au.prod(this,e,t)},e.prototype.mean=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=!1),this.throwIfDisposed(),Au.mean(this,e,t)},e.prototype.min=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=!1),this.throwIfDisposed(),Au.min(this,e,t)},e.prototype.max=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=!1),this.throwIfDisposed(),Au.max(this,e,t)},e.prototype.argMin=function(e){return void 0===e&&(e=null),this.throwIfDisposed(),Au.argMin(this,e)},e.prototype.argMax=function(e){return void 0===e&&(e=null),this.throwIfDisposed(),Au.argMax(this,e)},e.prototype.cast=function(e){return this.throwIfDisposed(),Au.cast(this,e)},e.prototype.add=function(e){return this.throwIfDisposed(),Au.add(this,e)},e.prototype.addStrict=function(e){return this.throwIfDisposed(),Au.addStrict(this,e)},e.prototype.atan2=function(e){return this.throwIfDisposed(),Au.atan2(this,e)},e.prototype.sub=function(e){return this.throwIfDisposed(),Au.sub(this,e)},e.prototype.subStrict=function(e){return this.throwIfDisposed(),Au.subStrict(this,e)},e.prototype.pow=function(e){return this.throwIfDisposed(),Au.pow(this,e)},e.prototype.powStrict=function(e){return this.throwIfDisposed(),Au.powStrict(this,e)},e.prototype.mul=function(e){return this.throwIfDisposed(),Au.mul(this,e)},e.prototype.mulStrict=function(e){return this.throwIfDisposed(),Au.mulStrict(this,e)},e.prototype.div=function(e){return this.throwIfDisposed(),Au.div(this,e)},e.prototype.divNoNan=function(e){return this.throwIfDisposed(),Au.divNoNan(this,e)},e.prototype.floorDiv=function(e){return this.throwIfDisposed(),Au.floorDiv(this,e)},e.prototype.divStrict=function(e){return this.throwIfDisposed(),Au.divStrict(this,e)},e.prototype.minimum=function(e){return this.throwIfDisposed(),Au.minimum(this,e)},e.prototype.minimumStrict=function(e){return this.throwIfDisposed(),Au.minimumStrict(this,e)},e.prototype.maximum=function(e){return this.throwIfDisposed(),Au.maximum(this,e)},e.prototype.maximumStrict=function(e){return this.throwIfDisposed(),Au.maximumStrict(this,e)},e.prototype.mod=function(e){return this.throwIfDisposed(),Au.mod(this,e)},e.prototype.modStrict=function(e){return this.throwIfDisposed(),Au.modStrict(this,e)},e.prototype.squaredDifferenceStrict=function(e){return this.throwIfDisposed(),Au.squaredDifferenceStrict(this,e)},e.prototype.transpose=function(e){return this.throwIfDisposed(),Au.transpose(this,e)},e.prototype.notEqual=function(e){return this.throwIfDisposed(),Au.notEqual(this,e)},e.prototype.notEqualStrict=function(e){return this.throwIfDisposed(),Au.notEqualStrict(this,e)},e.prototype.less=function(e){return this.throwIfDisposed(),Au.less(this,e)},e.prototype.lessStrict=function(e){return this.throwIfDisposed(),Au.lessStrict(this,e)},e.prototype.equal=function(e){return this.throwIfDisposed(),Au.equal(this,e)},e.prototype.equalStrict=function(e){return this.throwIfDisposed(),Au.equalStrict(this,e)},e.prototype.lessEqual=function(e){return this.throwIfDisposed(),Au.lessEqual(this,e)},e.prototype.lessEqualStrict=function(e){return this.throwIfDisposed(),Au.lessEqualStrict(this,e)},e.prototype.greater=function(e){return this.throwIfDisposed(),Au.greater(this,e)},e.prototype.greaterStrict=function(e){return this.throwIfDisposed(),Au.greaterStrict(this,e)},e.prototype.greaterEqual=function(e){return this.throwIfDisposed(),Au.greaterEqual(this,e)},e.prototype.greaterEqualStrict=function(e){return this.throwIfDisposed(),Au.greaterEqualStrict(this,e)},e.prototype.logicalAnd=function(e){return this.throwIfDisposed(),Au.logicalAnd(this,e)},e.prototype.logicalOr=function(e){return this.throwIfDisposed(),Au.logicalOr(this,e)},e.prototype.logicalNot=function(){return this.throwIfDisposed(),Au.logicalNot(this)},e.prototype.logicalXor=function(e){return this.throwIfDisposed(),Au.logicalXor(this,e)},e.prototype.where=function(e,t){return this.throwIfDisposed(),Au.where(e,this,t)},e.prototype.neg=function(){return this.throwIfDisposed(),Au.neg(this)},e.prototype.ceil=function(){return this.throwIfDisposed(),Au.ceil(this)},e.prototype.floor=function(){return this.throwIfDisposed(),Au.floor(this)},e.prototype.sign=function(){return this.throwIfDisposed(),Au.sign(this)},e.prototype.isNaN=function(){return this.throwIfDisposed(),Au.isNaN(this)},e.prototype.isInf=function(){return this.throwIfDisposed(),Au.isInf(this)},e.prototype.isFinite=function(){return this.throwIfDisposed(),Au.isFinite(this)},e.prototype.exp=function(){return this.throwIfDisposed(),Au.exp(this)},e.prototype.expm1=function(){return this.throwIfDisposed(),Au.expm1(this)},e.prototype.log=function(){return this.throwIfDisposed(),Au.log(this)},e.prototype.log1p=function(){return this.throwIfDisposed(),Au.log1p(this)},e.prototype.sqrt=function(){return this.throwIfDisposed(),Au.sqrt(this)},e.prototype.rsqrt=function(){return this.throwIfDisposed(),Au.rsqrt(this)},e.prototype.square=function(){return this.throwIfDisposed(),Au.square(this)},e.prototype.reciprocal=function(){return this.throwIfDisposed(),Au.reciprocal(this)},e.prototype.abs=function(){return this.throwIfDisposed(),Au.abs(this)},e.prototype.clipByValue=function(e,t){return this.throwIfDisposed(),Au.clipByValue(this,e,t)},e.prototype.relu=function(){return this.throwIfDisposed(),Au.relu(this)},e.prototype.relu6=function(){return this.throwIfDisposed(),Au.relu6(this)},e.prototype.elu=function(){return this.throwIfDisposed(),Au.elu(this)},e.prototype.selu=function(){return this.throwIfDisposed(),Au.selu(this)},e.prototype.leakyRelu=function(e){return void 0===e&&(e=.2),this.throwIfDisposed(),Au.leakyRelu(this,e)},e.prototype.prelu=function(e){return this.throwIfDisposed(),Au.prelu(this,e)},e.prototype.sigmoid=function(){return this.throwIfDisposed(),Au.sigmoid(this)},e.prototype.logSigmoid=function(){return this.throwIfDisposed(),Au.logSigmoid(this)},e.prototype.softplus=function(){return this.throwIfDisposed(),Au.softplus(this)},e.prototype.zerosLike=function(){return this.throwIfDisposed(),Au.zerosLike(this)},e.prototype.onesLike=function(){return this.throwIfDisposed(),Au.onesLike(this)},e.prototype.sin=function(){return this.throwIfDisposed(),Au.sin(this)},e.prototype.cos=function(){return this.throwIfDisposed(),Au.cos(this)},e.prototype.tan=function(){return this.throwIfDisposed(),Au.tan(this)},e.prototype.asin=function(){return this.throwIfDisposed(),Au.asin(this)},e.prototype.acos=function(){return this.throwIfDisposed(),Au.acos(this)},e.prototype.atan=function(){return this.throwIfDisposed(),Au.atan(this)},e.prototype.sinh=function(){return this.throwIfDisposed(),Au.sinh(this)},e.prototype.cosh=function(){return this.throwIfDisposed(),Au.cosh(this)},e.prototype.tanh=function(){return this.throwIfDisposed(),Au.tanh(this)},e.prototype.asinh=function(){return this.throwIfDisposed(),Au.asinh(this)},e.prototype.acosh=function(){return this.throwIfDisposed(),Au.acosh(this)},e.prototype.atanh=function(){return this.throwIfDisposed(),Au.atanh(this)},e.prototype.erf=function(){return this.throwIfDisposed(),Au.erf(this)},e.prototype.round=function(){return this.throwIfDisposed(),Au.round(this)},e.prototype.step=function(e){return void 0===e&&(e=0),this.throwIfDisposed(),Au.step(this,e)},e.prototype.softmax=function(e){return void 0===e&&(e=-1),this.throwIfDisposed(),Au.softmax(this,e)},e.prototype.logSoftmax=function(e){return void 0===e&&(e=-1),this.throwIfDisposed(),Au.logSoftmax(this,e)},e.prototype.resizeBilinear=function(e,t){return void 0===t&&(t=!1),this.throwIfDisposed(),Au.image.resizeBilinear(this,e,t)},e.prototype.resizeNearestNeighbor=function(e,t){return void 0===t&&(t=!1),this.throwIfDisposed(),Au.image.resizeNearestNeighbor(this,e,t)},e.prototype.conv1d=function(e,t,n,r,i,a){return void 0===r&&(r="NWC"),void 0===i&&(i=1),this.throwIfDisposed(),Au.conv1d(this,e,t,n,r,i,a)},e.prototype.conv2d=function(e,t,n,r,i,a){return void 0===r&&(r="NHWC"),void 0===i&&(i=[1,1]),this.throwIfDisposed(),Au.conv2d(this,e,t,n,r,i,a)},e.prototype.conv2dTranspose=function(e,t,n,r,i){return this.throwIfDisposed(),Au.conv2dTranspose(this,e,t,n,r,i)},e.prototype.depthwiseConv2D=function(e,t,n,r,i,a){return void 0===r&&(r="NHWC"),void 0===i&&(i=[1,1]),this.throwIfDisposed(),Au.depthwiseConv2d(this,e,t,n,r,i,a)},e.prototype.separableConv2d=function(e,t,n,r,i,a){return void 0===i&&(i=[1,1]),void 0===a&&(a="NHWC"),this.throwIfDisposed(),Au.separableConv2d(this,e,t,n,r,i,a)},e.prototype.avgPool=function(e,t,n,r){return this.throwIfDisposed(),Au.avgPool(this,e,t,n,r)},e.prototype.maxPool=function(e,t,n,r){return this.throwIfDisposed(),Au.maxPool(this,e,t,n,r)},e.prototype.localResponseNormalization=function(e,t,n,r){return void 0===e&&(e=5),void 0===t&&(t=1),void 0===n&&(n=1),void 0===r&&(r=.5),Au.localResponseNormalization(this,e,t,n,r)},e.prototype.pool=function(e,t,n,r,i){return this.throwIfDisposed(),Au.pool(this,e,t,n,r,i)},e.prototype.variable=function(e,t,n){return void 0===e&&(e=!0),this.throwIfDisposed(),Iu().makeVariable(this,e,t,n)},e.prototype.unsortedSegmentSum=function(e,t){return this.throwIfDisposed(),Au.unsortedSegmentSum(this,e,t)},e.prototype.batchToSpaceND=function(e,t){return this.throwIfDisposed(),Au.batchToSpaceND(this,e,t)},e.prototype.spaceToBatchND=function(e,t){return this.throwIfDisposed(),Au.spaceToBatchND(this,e,t)},e.prototype.topk=function(e,t){return void 0===e&&(e=1),void 0===t&&(t=!0),this.throwIfDisposed(),Au.topk(this,e,t)},e.prototype.stridedSlice=function(e,t,n,r,i,a,o,s){return void 0===r&&(r=0),void 0===i&&(i=0),void 0===a&&(a=0),void 0===o&&(o=0),void 0===s&&(s=0),this.throwIfDisposed(),Au.stridedSlice(this,e,t,n,r,i,a,o,s)},e.prototype.depthToSpace=function(e,t){return this.throwIfDisposed(),Au.depthToSpace(this,e,t)},e.prototype.fft=function(){return this.throwIfDisposed(),Au.spectral.fft(this)},e.prototype.ifft=function(){return this.throwIfDisposed(),Au.spectral.ifft(this)},e.prototype.rfft=function(){return this.throwIfDisposed(),Au.spectral.rfft(this)},e.prototype.irfft=function(){return this.throwIfDisposed(),Au.spectral.irfft(this)},e}();Object.defineProperty(Ru,Symbol.hasInstance,{value:function(e){return!!e&&null!=e.dataId&&null!=e.shape&&null!=e.dtype}});var Nu,Mu,Fu,Lu,Bu,ju,zu=function(e){function t(t,n,r,i){var a=e.call(this,t.shape,t.dtype,t.dataId,i)||this;return a.trainable=n,a.name=r,a}return ws(t,e),t.prototype.assign=function(e){if(e.dtype!==this.dtype)throw new Error("dtype of the new value ("+e.dtype+") and previous value ("+this.dtype+") must match");if(!Us(e.shape,this.shape))throw new Error("shape of the new value ("+e.shape+") and previous value ("+this.shape+") must match");Iu().disposeTensor(this),this.dataId=e.dataId,Iu().incRef(this,null)},t.prototype.dispose=function(){Iu().disposeVariable(this),this.isDisposedInternal=!0},t}(Ru);Object.defineProperty(zu,Symbol.hasInstance,{value:function(e){return e instanceof Ru&&null!=e.assign&&e.assign instanceof Function}}),(ju=Nu||(Nu={})).R0="R0",ju.R1="R1",ju.R2="R2",ju.R3="R3",ju.R4="R4",ju.R5="R5",ju.R6="R6",function(e){e.float32="float32",e.int32="int32",e.bool="int32",e.complex64="complex64"}(Mu||(Mu={})),function(e){e.float32="float32",e.int32="int32",e.bool="bool",e.complex64="complex64"}(Fu||(Fu={})),function(e){e.float32="float32",e.int32="float32",e.bool="float32",e.complex64="complex64"}(Lu||(Lu={})),function(e){e.float32="complex64",e.int32="complex64",e.bool="complex64",e.complex64="complex64"}(Bu||(Bu={}));var Wu={float32:Lu,int32:Mu,bool:Fu,complex64:Bu};function Vu(e,t){if("string"===e||"string"===t){if("string"===e&&"string"===t)return"string";throw new Error("Can not upcast "+e+" with "+t)}return Wu[e][t]}function Uu(e){return Vu(e,"int32")}function Ku(e,t){if(e.dtype===t.dtype)return[e,t];var n=Vu(e.dtype,t.dtype);return[e.cast(n),t.cast(n)]}function Hu(e,t){Bs(e.dtype===t.dtype,(function(){return"The dtypes of the first("+e.dtype+") and second("+t.dtype+") input must match"}))}function qu(e){var t=[];return function e(t,n,r){if(null!=t)if(t instanceof Ru)n.push(t);else if(i=t,Array.isArray(i)||"object"==typeof i){var i,a=t;for(var o in a){var s=a[o];r.has(s)||(r.add(s),e(s,n,r))}}}(e,t,new Set),t}Object.freeze({makeTypesMatch:Ku,assertTypesMatch:Hu,isTensorInList:function(e,t){return t.some((function(t){return t.id===e.id}))},getTensorsInContainer:qu});var Gu,Xu=function(){function e(){this.registeredVariables={},this.nextTapeNodeId=0,this.numBytes=0,this.numTensors=0,this.numStringTensors=0,this.numDataBuffers=0,this.gradientDepth=0,this.kernelDepth=0,this.scopeStack=[],this.numDataMovesStack=[],this.nextScopeId=0,this.tensorInfo=new WeakMap,this.profiling=!1,this.activeProfile={newBytes:0,newTensors:0,peakBytes:0,kernels:[],result:null}}return e.prototype.dispose=function(){for(var e in this.registeredVariables)this.registeredVariables[e].dispose()},e}(),Yu=function(){function e(e){this.ENV=e,this.registry={},this.registryFactory={},this.pendingBackendInitId=0,this.state=new Xu}return e.prototype.ready=function(){return Ss(this,void 0,void 0,(function(){var e,t,n;return Ts(this,(function(r){switch(r.label){case 0:if(null!=this.pendingBackendInit)return[2,this.pendingBackendInit.then((function(){}))];if(null!=this.backendInstance)return[2];e=this.getSortedBackends(),t=0,r.label=1;case 1:return t<e.length?(n=e[t],[4,this.initializeBackend(n).success]):[3,5];case 2:return r.sent()?[4,this.setBackend(n)]:[3,4];case 3:return r.sent(),[2];case 4:return t++,[3,1];case 5:throw new Error("Could not initialize any backends, all backend initializations failed.")}}))}))},Object.defineProperty(e.prototype,"backend",{get:function(){if(null!=this.pendingBackendInit)throw new Error("Backend '"+this.backendName+"' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods");if(null==this.backendInstance){var e=this.initializeBackendsAndReturnBest(),t=e.name;if(e.asyncInit)throw new Error("The highest priority backend '"+t+"' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods");this.setBackend(t)}return this.backendInstance},enumerable:!0,configurable:!0}),e.prototype.backendNames=function(){return Object.keys(this.registryFactory)},e.prototype.findBackend=function(e){if(!(e in this.registry)){if(!(e in this.registryFactory))return null;if(this.initializeBackend(e).asyncInit)return null}return this.registry[e]},e.prototype.findBackendFactory=function(e){return e in this.registryFactory?this.registryFactory[e].factory:null},e.prototype.registerBackend=function(e,t,n){return void 0===n&&(n=1),e in this.registryFactory?(console.warn(e+" backend was already registered. Reusing existing backend factory."),!1):(this.registryFactory[e]={factory:t,priority:n},!0)},e.prototype.setBackend=function(e){return Ss(this,void 0,void 0,(function(){var t,n,r;return Ts(this,(function(i){switch(i.label){case 0:if(null==this.registryFactory[e])throw new Error("Backend name '"+e+"' not found in registry");return this.backendName=e,null!=this.registry[e]?[3,4]:(this.backendInstance=null,t=this.initializeBackend(e),n=t.success,t.asyncInit?[4,n]:[3,2]);case 1:return r=i.sent(),[3,3];case 2:r=n,i.label=3;case 3:if(!r)return[2,!1];i.label=4;case 4:return this.backendInstance=this.registry[e],this.setupRegisteredKernels(),this.profiler=new Tu(this.backendInstance),[2,!0]}}))}))},e.prototype.setupRegisteredKernels=function(){var e=this;Is(this.backendName).forEach((function(t){null!=t.setupFunc&&t.setupFunc(e.backendInstance)}))},e.prototype.disposeRegisteredKernels=function(e){var t=this;Is(e).forEach((function(n){null!=n.disposeFunc&&n.disposeFunc(t.registry[e])}))},e.prototype.initializeBackend=function(e){var t=this,n=this.registryFactory[e];if(null==n)throw new Error("Cannot initialize backend "+e+", no registration found.");try{var r=n.factory();if(Promise.resolve(r)===r){var i=++this.pendingBackendInitId,a=r.then((function(n){return!(i<t.pendingBackendInitId)&&(t.registry[e]=n,t.pendingBackendInit=null,!0)})).catch((function(n){return!(i<t.pendingBackendInitId)&&(t.pendingBackendInit=null,console.warn("Initialization of backend "+e+" failed"),console.warn(n.stack||n.message),!1)}));return this.pendingBackendInit=a,{success:a,asyncInit:!0}}return this.registry[e]=r,{success:!0,asyncInit:!1}}catch(t){return console.warn("Initialization of backend "+e+" failed"),console.warn(t.stack||t.message),{success:!1,asyncInit:!1}}},e.prototype.removeBackend=function(e){if(!(e in this.registryFactory))throw new Error(e+" backend not found in registry");this.backendName===e&&null!=this.pendingBackendInit&&this.pendingBackendInitId++,e in this.registry&&(this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e]),delete this.registryFactory[e],this.backendName===e&&(this.pendingBackendInit=null,this.backendName=null,this.backendInstance=null)},e.prototype.getSortedBackends=function(){var e=this;if(0===Object.keys(this.registryFactory).length)throw new Error("No backend found in registry.");return Object.keys(this.registryFactory).sort((function(t,n){return e.registryFactory[n].priority-e.registryFactory[t].priority}))},e.prototype.initializeBackendsAndReturnBest=function(){for(var e=this.getSortedBackends(),t=0;t<e.length;t++){var n=e[t],r=this.initializeBackend(n),i=r.success,a=r.asyncInit;if(a||i)return{name:n,asyncInit:a}}throw new Error("Could not initialize any backends, all backend initializations failed.")},e.prototype.moveData=function(e,t){var n=this.state.tensorInfo.get(t),r=n.backend,i=this.readSync(t);r.disposeData(t),n.backend=e,e.move(t,i,n.shape,n.dtype),this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack[this.state.numDataMovesStack.length-1]++},e.prototype.tidy=function(e,t){var n,r=this,i=null;if(null==t){if("function"!=typeof e)throw new Error("Please provide a function to tidy()");t=e}else{if("string"!=typeof e&&!(e instanceof String))throw new Error("When calling with two arguments, the first argument to tidy() must be a string");if("function"!=typeof t)throw new Error("When calling with two arguments, the 2nd argument to tidy() must be a function");i=e}return this.scopedRun((function(){return r.startScope(i)}),(function(){return r.endScope(n)}),(function(){return(n=t())instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),n}))},e.prototype.scopedRun=function(e,t,n){e();try{var r=n();return t(),r}catch(e){throw t(),e}},e.prototype.nextTensorId=function(){return e.nextTensorId++},e.prototype.nextVariableId=function(){return e.nextVariableId++},e.prototype.clone=function(e){var t=this.makeTensorFromDataId(e.dataId,e.shape,e.dtype),n={x:e};return this.addTapeNode(this.state.activeScope.name,n,[t],(function(e){return{x:function(){return e.toFloat()}}}),[]),t},e.prototype.runKernel=function(e,t,n,r,i){return this.runKernelFunc(null,t,null,e,n,r,i)},e.prototype.shouldCheckForMemLeaks=function(){return this.ENV.getBool("IS_TEST")},e.prototype.checkKernelForMemLeak=function(e,t,n){var r=this.backend.numDataIds(),i=0;n.forEach((function(e){i+="complex64"===e.dtype?3:1}));var a=this.state.numDataMovesStack[this.state.numDataMovesStack.length-1],o=r-t-i-a;if(o>0)throw new Error("Backend '"+this.backendName+"' has an internal memory leak ("+o+" data ids) after running '"+e+"'")},e.prototype.runKernelFunc=function(e,t,n,r,i,a,o){var s,u=this;void 0===a&&(a=[]),void 0===o&&(o=[]);var l=[],c=this.isTapeOn();null==r&&(r=null!=this.state.activeScope?this.state.activeScope.name:"");var f,d=function(e){c&&(l=e.map((function(e){return u.keep(u.clone(e))})))},p=this.state.numBytes,h=this.state.numTensors;this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack.push(0);var v,y=Os(r,this.backendName);return f=null!=y?function(){var e=u.backend.numDataIds();v=y.kernelFunc({inputs:t,attrs:i,backend:u.backend});var n=Array.isArray(v)?v:[v];u.shouldCheckForMemLeaks()&&u.checkKernelForMemLeak(r,e,n);var s=n.map((function(e){var t=e.dataId,n=e.shape,r=e.dtype;return u.makeTensorFromDataId(t,n,r)})),l=s.filter((function(e,t){return o[t]}));return d((a||[]).slice().concat(l)),s}:function(){var t=u.backend.numDataIds();v=u.tidy((function(){return e(u.backend,d)}));var n=Array.isArray(v)?v:[v];return u.shouldCheckForMemLeaks()&&u.checkKernelForMemLeak(r,t,n),n},this.scopedRun((function(){return u.state.kernelDepth++}),(function(){return u.state.kernelDepth--}),(function(){s=u.ENV.getBool("DEBUG")?u.profiler.profileKernel(r,t,(function(){return f()})):f()})),c&&this.addTapeNode(r,t,s,n,l),this.state.profiling&&this.state.activeProfile.kernels.push({name:r,bytesAdded:this.state.numBytes-p,totalBytesSnapshot:this.state.numBytes,tensorsAdded:this.state.numTensors-h,totalTensorsSnapshot:this.state.numTensors,inputShapes:Object.keys(t).map((function(e){return t[e].shape})),outputShapes:s.map((function(e){return e.shape}))}),Array.isArray(v)?s:s[0]},e.prototype.makeTensor=function(e,t,n,r){if(null==e)throw new Error("Values passed to engine.makeTensor() are null");n=n||"float32",r=r||this.backend;var i=e;"string"===n&&ou(e[0])&&(i=e.map((function(e){return bu(e)})));var a=r.write(i,t,n),o=new Ru(t,n,a,this.nextTensorId());if(this.incRef(o,r),"string"===n){var s=this.state.tensorInfo.get(a),u=au(i);this.state.numBytes+=u-s.bytes,s.bytes=u}return o},e.prototype.makeTensorFromDataId=function(e,t,n,r){var i=new Ru(t,n=n||"float32",e,this.nextTensorId());return this.incRef(i,r),i},e.prototype.makeVariable=function(e,t,n,r){void 0===t&&(t=!0),n=n||this.nextVariableId().toString(),null!=r&&r!==e.dtype&&(e=e.asType(r));var i=new zu(e,t,n,this.nextTensorId());if(null!=this.state.registeredVariables[i.name])throw new Error("Variable with name "+i.name+" was already registered");return this.state.registeredVariables[i.name]=i,this.incRef(i,this.backend),i},e.prototype.incRef=function(e,t){var n=this.state.tensorInfo.has(e.dataId)?this.state.tensorInfo.get(e.dataId).refCount:0;if(this.state.numTensors++,"string"===e.dtype&&this.state.numStringTensors++,0===n){this.state.numDataBuffers++;var r=0;"complex64"!==e.dtype&&"string"!==e.dtype&&(r=e.size*iu(e.dtype)),this.state.tensorInfo.set(e.dataId,{backend:t||this.backend,dtype:e.dtype,shape:e.shape,bytes:r,refCount:0}),this.state.numBytes+=r}this.state.tensorInfo.get(e.dataId).refCount++,e instanceof zu||this.track(e)},e.prototype.disposeTensor=function(e){if(this.state.tensorInfo.has(e.dataId)){this.state.numTensors--,"string"===e.dtype&&this.state.numStringTensors--;var t=this.state.tensorInfo.get(e.dataId);t.refCount<=1?("complex64"!==e.dtype&&(this.state.numBytes-=t.bytes),this.state.numDataBuffers--,t.backend.disposeData(e.dataId),this.state.tensorInfo.delete(e.dataId)):this.state.tensorInfo.get(e.dataId).refCount--}},e.prototype.disposeVariables=function(){for(var e in this.state.registeredVariables){var t=this.state.registeredVariables[e];this.disposeVariable(t)}},e.prototype.disposeVariable=function(e){this.disposeTensor(e),null!=this.state.registeredVariables[e.name]&&delete this.state.registeredVariables[e.name]},e.prototype.memory=function(){var e=this.backend.memory();return e.numTensors=this.state.numTensors,e.numDataBuffers=this.state.numDataBuffers,e.numBytes=this.state.numBytes,this.state.numStringTensors>0&&(e.unreliable=!0,null==e.reasons&&(e.reasons=[]),e.reasons.push("Memory usage by string tensors is approximate (2 bytes per character)")),e},e.prototype.profile=function(e){return Ss(this,void 0,void 0,(function(){var t,n;return Ts(this,(function(r){return this.state.profiling=!0,t=this.state.numBytes,n=this.state.numTensors,this.state.activeProfile.kernels=[],this.state.activeProfile.result=e(),this.state.profiling=!1,this.state.activeProfile.peakBytes=Math.max.apply(Math,this.state.activeProfile.kernels.map((function(e){return e.totalBytesSnapshot}))),this.state.activeProfile.newBytes=this.state.numBytes-t,this.state.activeProfile.newTensors=this.state.numTensors-n,[2,this.state.activeProfile]}))}))},e.prototype.isTapeOn=function(){return this.state.gradientDepth>0&&0===this.state.kernelDepth},e.prototype.addTapeNode=function(e,t,n,r,i){var a=this,o={id:this.state.nextTapeNodeId++,kernelName:e,inputs:t,outputs:n,saved:i},s=function(e){return Ps.get(e)}(e);null!=s&&(r=s.gradFunc),null!=r&&(o.gradient=function(e){return e=e.map((function(e,t){if(null==e){var r=n[t],i=yu(r.size,r.dtype);return a.makeTensor(i,r.shape,r.dtype)}return e})),r(e.length>1?e:e[0],i)}),this.state.activeTape.push(o)},e.prototype.keep=function(e){return e.kept=!0,e},e.prototype.startTape=function(){0===this.state.gradientDepth&&(this.state.activeTape=[]),this.state.gradientDepth++},e.prototype.endTape=function(){this.state.gradientDepth--},e.prototype.startScope=function(e){var t={track:[],name:"unnamed scope",id:this.state.nextScopeId++};e&&(t.name=e),this.state.scopeStack.push(t),this.state.activeScope=t},e.prototype.endScope=function(e){for(var t=this,n=qu(e),r=new Set(n.map((function(e){return e.id}))),i=0;i<this.state.activeScope.track.length;i++){var a=this.state.activeScope.track[i];a.kept||r.has(a.id)||a.dispose()}var o=this.state.scopeStack.pop();this.state.activeScope=0===this.state.scopeStack.length?null:this.state.scopeStack[this.state.scopeStack.length-1],n.forEach((function(e){e.kept||e.scopeId!==o.id||t.track(e)}))},e.prototype.gradients=function(e,t,n,r){var i=this;if(void 0===r&&(r=!1),Bs(t.length>0,(function(){return"gradients() received an empty list of xs."})),null!=n&&"float32"!==n.dtype)throw new Error("dy must have 'float32' dtype, but has '"+n.dtype+"'");var a=this.scopedRun((function(){return i.startTape()}),(function(){return i.endTape()}),(function(){return i.tidy("forward",e)}));Bs(a instanceof Ru,(function(){return"The result y returned by f() must be a tensor."}));var o=function(e,t,n){for(var r={},i={},a=0;a<t.length;a++)r[t[a].id]=!0;for(a=0;a<e.length;a++){var o=(h=e[a]).inputs;for(var s in o){for(var u=o[s],l=!1,c=0;c<t.length;c++)if(r[u.id]){h.outputs.forEach((function(e){return r[e.id]=!0})),l=!0,i[h.id]=!0;break}if(l)break}}var f={};f[n.id]=!0;var d={};for(a=e.length-1;a>=0;a--)for(o=(h=e[a]).inputs,c=0;c<h.outputs.length;c++)if(f[h.outputs[c].id]){for(var s in o)f[o[s].id]=!0,d[h.id]=!0;break}var p=[];for(a=0;a<e.length;a++){var h;if(i[(h=e[a]).id]&&d[h.id]){var v={};for(var s in h.inputs){var y=h.inputs[s];r[y.id]&&(v[s]=y)}var m=Object.assign({},h);m.inputs=v,m.outputs=h.outputs,p.push(m)}}return p}(this.state.activeTape,t,a);if(!r&&0===o.length&&t.length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that the f you passed encloses all operations that lead from x to y.");return this.tidy("backward",(function(){var e,r,s={};s[a.id]=null==n?(r=vu(Vs(e=a.shape),"float32"),Ju.makeTensor(r,e,"float32")):n,function(e,t,n){for(var r=function(r){var i=t[r],a=[];if(i.outputs.forEach((function(t){var n=e[t.id];null!=n?a.push(n):a.push(null)})),null==i.gradient)throw new Error("Cannot compute gradient: gradient function not found for "+i.kernelName+".");var o=i.gradient(a),s=function(t){if(!(t in o))throw new Error("Cannot backprop through input "+t+". Available gradients found: "+Object.keys(o)+".");var r=n((function(){return o[t]()}));if("float32"!==r.dtype)throw new Error("Error in gradient for op "+i.kernelName+". The gradient of input "+t+" must have 'float32' dtype, but has '"+r.dtype+"'");var a=i.inputs[t];if(!Us(r.shape,a.shape))throw new Error("Error in gradient for op "+i.kernelName+". The gradient of input '"+t+"' has shape '"+r.shape+"', which does not match the shape of the input '"+a.shape+"'");if(null==e[a.id])e[a.id]=r;else{var s=e[a.id];e[a.id]=s.add(r),s.dispose()}};for(var u in i.inputs)s(u)},i=t.length-1;i>=0;i--)r(i)}(s,o,(function(e){return i.tidy(e)}));var u=t.map((function(e){return s[e.id]}));return 0===i.state.gradientDepth&&(i.state.activeTape.forEach((function(e){for(var t=0,n=e.saved;t<n.length;t++)n[t].dispose()})),i.state.activeTape=null),{value:a,grads:u}}))},e.prototype.customGrad=function(e){var t=this;return Bs(cu(e),(function(){return"The f passed in customGrad(f) must be a function."})),function(){for(var n,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];Bs(r.every((function(e){return e instanceof Ru})),(function(){return"The args passed in customGrad(f)(x1, x2,...) must all be tensors"}));var a={};return r.forEach((function(e,t){a[t]=e})),t.runKernelFunc((function(t,i){return Bs((n=e.apply(void 0,r.concat([i]))).value instanceof Ru,(function(){return"The function f passed in customGrad(f) must return an object where `obj.value` is a tensor"})),Bs(cu(n.gradFunc),(function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function."})),n.value}),a,(function(e,t){var i=n.gradFunc(e,t),a=Array.isArray(i)?i:[i];Bs(a.length===r.length,(function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns the same number of tensors as inputs passed to f(...)."})),Bs(a.every((function(e){return e instanceof Ru})),(function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns a list of only tensors."}));var o={};return a.forEach((function(e,t){o[t]=function(){return e}})),o}))}},e.prototype.readSync=function(e){return this.state.tensorInfo.get(e).backend.readSync(e)},e.prototype.read=function(e){return this.state.tensorInfo.get(e).backend.read(e)},e.prototype.time=function(e){return Ss(this,void 0,void 0,(function(){var t,n;return Ts(this,(function(r){switch(r.label){case 0:return t=mu(),[4,this.backend.time(e)];case 1:return(n=r.sent()).wallMs=mu()-t,[2,n]}}))}))},e.prototype.track=function(e){return null!=this.state.activeScope&&(e.scopeId=this.state.activeScope.id,this.state.activeScope.track.push(e)),e},Object.defineProperty(e.prototype,"registeredVariables",{get:function(){return this.state.registeredVariables},enumerable:!0,configurable:!0}),e.prototype.reset=function(){for(var e in this.pendingBackendInitId++,this.state.dispose(),this.ENV.reset(),this.state=new Xu,this.registry)this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e];this.backendName=null,this.backendInstance=null,this.pendingBackendInit=null},e.nextTensorId=0,e.nextVariableId=0,e}(),Ju=function(){var e=function(){if(null==Gu){var e=void 0;if("undefined"!=typeof window)e=window;else if("undefined"!=typeof n.g)e=n.g;else if("undefined"!=typeof process)e=process;else{if("undefined"==typeof self)throw new Error("Could not find a global object");e=self}Gu=e}return Gu}();if(null==e._tfengine){var t=new Es(e);e._tfengine=new Yu(t)}return function(e){_s=e}(e._tfengine.ENV),Iu=function(){return e._tfengine},e._tfengine}();function $u(){return"undefined"!=typeof window&&null!=window.document||"undefined"!=typeof WorkerGlobalScope}var Qu=ks();Qu.registerFlag("DEBUG",(function(){return!1}),(function(e){e&&console.warn("Debugging mode is ON. The output of every math call will be downloaded to CPU and checked for NaNs. This significantly impacts performance.")})),Qu.registerFlag("IS_BROWSER",(function(){return $u()})),Qu.registerFlag("IS_NODE",(function(){return"undefined"!=typeof process&&void 0!==process.versions&&void 0!==process.versions.node})),Qu.registerFlag("IS_CHROME",(function(){return"undefined"!=typeof navigator&&null!=navigator&&null!=navigator.userAgent&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)})),Qu.registerFlag("PROD",(function(){return!1})),Qu.registerFlag("TENSORLIKE_CHECK_SHAPE_CONSISTENCY",(function(){return Qu.getBool("DEBUG")})),Qu.registerFlag("DEPRECATION_WARNINGS_ENABLED",(function(){return!0})),Qu.registerFlag("IS_TEST",(function(){return!1}));var Zu,el,tl,nl={},rl={alpha:!1,antialias:!1,premultipliedAlpha:!1,preserveDrawingBuffer:!1,depth:!1,stencil:!1,failIfMajorPerformanceCaveat:!0};function il(e,t){nl[e]=t}function al(e){e in nl||(nl[e]=function(e){if(1!==e&&2!==e)throw new Error("Cannot get WebGL rendering context, WebGL is disabled.");var t=function(e){if("undefined"!=typeof OffscreenCanvas&&2===e)return new OffscreenCanvas(300,150);if("undefined"!=typeof document)return document.createElement("canvas");throw new Error("Cannot create a canvas in this context")}(e);return t.addEventListener("webglcontextlost",(function(t){t.preventDefault(),delete nl[e]}),!1),1===e?t.getContext("webgl",rl)||t.getContext("experimental-webgl",rl):t.getContext("webgl2",rl)}(e));var t=nl[e];return t.isContextLost()?(delete nl[e],al(e)):(t.disable(t.DEPTH_TEST),t.disable(t.STENCIL_TEST),t.disable(t.BLEND),t.disable(t.DITHER),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SAMPLE_COVERAGE),t.enable(t.SCISSOR_TEST),t.enable(t.CULL_FACE),t.cullFace(t.BACK),nl[e])}function ol(e,t){return[t,e]}function sl(e){var t=Vs(e);return qs(Math.ceil(t/4))}function ul(e,t){return[Math.max(1,Math.ceil(t/2)),Math.max(1,Math.ceil(e/2))]}function ll(e,t){var n,r,i,a,o,s,u,l,c,f=e;return 2===ks().getNumber("WEBGL_VERSION")?(n=f.R32F,r=f.R16F,i=f.RGBA16F,a=f.RGBA32F,o=f.RED,s=4,u=1,l=f.HALF_FLOAT,c=f.FLOAT):(n=e.RGBA,r=e.RGBA,i=e.RGBA,a=f.RGBA,o=e.RGBA,s=4,u=4,l=null!=t?t.HALF_FLOAT_OES:null,c=e.FLOAT),{internalFormatFloat:n,internalFormatHalfFloat:r,internalFormatPackedHalfFloat:i,internalFormatPackedFloat:a,textureFormatFloat:o,downloadTextureFormat:e.RGBA,downloadUnpackNumChannels:s,defaultNumChannels:u,textureTypeHalfFloat:l,textureTypeFloat:c}}function cl(e,t,n){var r=n();return t&&function(e){var t=e.getError();if(t!==e.NO_ERROR)throw new Error("WebGL Error: "+dl(e,t))}(e),r}!function(e){e[e.DENSE=0]="DENSE",e[e.SHARED_BATCH=1]="SHARED_BATCH"}(Zu||(Zu={})),function(e){e[e.RENDER=0]="RENDER",e[e.UPLOAD=1]="UPLOAD",e[e.PIXELS=2]="PIXELS",e[e.DOWNLOAD=3]="DOWNLOAD"}(el||(el={})),function(e){e[e.UNPACKED_FLOAT16=0]="UNPACKED_FLOAT16",e[e.UNPACKED_FLOAT32=1]="UNPACKED_FLOAT32",e[e.PACKED_4X1_UNSIGNED_BYTE=2]="PACKED_4X1_UNSIGNED_BYTE",e[e.PACKED_2X2_FLOAT32=3]="PACKED_2X2_FLOAT32",e[e.PACKED_2X2_FLOAT16=4]="PACKED_2X2_FLOAT16"}(tl||(tl={}));function fl(e){return!!(ks().getBool("WEBGL_RENDER_FLOAT32_ENABLED")||0===e||5.96e-8<Math.abs(e)&&Math.abs(e)<65504)}function dl(e,t){switch(t){case e.NO_ERROR:return"NO_ERROR";case e.INVALID_ENUM:return"INVALID_ENUM";case e.INVALID_VALUE:return"INVALID_VALUE";case e.INVALID_OPERATION:return"INVALID_OPERATION";case e.INVALID_FRAMEBUFFER_OPERATION:return"INVALID_FRAMEBUFFER_OPERATION";case e.OUT_OF_MEMORY:return"OUT_OF_MEMORY";case e.CONTEXT_LOST_WEBGL:return"CONTEXT_LOST_WEBGL";default:return"Unknown error code "+t}}function pl(e,t,n){return Fl(e,t,(function(){return e.getExtension(n)}),'Extension "'+n+'" not supported on this browser.')}function hl(e,t,n){var r=Fl(e,t,(function(){return e.createShader(e.VERTEX_SHADER)}),"Unable to create vertex WebGLShader.");if(cl(e,t,(function(){return e.shaderSource(r,n)})),cl(e,t,(function(){return e.compileShader(r)})),!1===e.getShaderParameter(r,e.COMPILE_STATUS))throw console.log(e.getShaderInfoLog(r)),new Error("Failed to compile vertex shader.");return r}function vl(e,t,n){var r=Fl(e,t,(function(){return e.createShader(e.FRAGMENT_SHADER)}),"Unable to create fragment WebGLShader.");if(cl(e,t,(function(){return e.shaderSource(r,n)})),cl(e,t,(function(){return e.compileShader(r)})),!1===e.getShaderParameter(r,e.COMPILE_STATUS))throw function(e,t){var n=gl.exec(t);if(null==n)return console.log("Couldn't parse line number in error: "+t),void console.log(e);for(var r=+n[1],i=e.split("\n"),a=i.length.toString().length+2,o=i.map((function(e,t){return Gs((t+1).toString(),a)+e})),s=0,u=0;u<o.length;u++)s=Math.max(o[u].length,s);var l=o.slice(0,r-1),c=o.slice(r-1,r),f=o.slice(r);console.log(l.join("\n")),console.log(t.split("\n")[0]),console.log("%c "+Gs(c[0],s),"border:1px solid red; background-color:#e3d2d2; color:#a61717"),console.log(f.join("\n"))}(n,e.getShaderInfoLog(r)),new Error("Failed to compile fragment shader.");return r}var yl,ml,gl=/ERROR: [0-9]+:([0-9]+):/g;function bl(e,t){return Fl(e,t,(function(){return e.createProgram()}),"Unable to create WebGLProgram.")}function xl(e,t,n){if(cl(e,t,(function(){return e.linkProgram(n)})),!1===e.getProgramParameter(n,e.LINK_STATUS))throw console.log(e.getProgramInfoLog(n)),new Error("Failed to link vertex and fragment shaders.")}function wl(e,t,n){if(cl(e,t,(function(){return e.validateProgram(n)})),!1===e.getProgramParameter(n,e.VALIDATE_STATUS))throw console.log(e.getProgramInfoLog(n)),new Error("Shader program validation failed.")}function Sl(e,t,n){var r=Fl(e,t,(function(){return e.createBuffer()}),"Unable to create WebGLBuffer");return cl(e,t,(function(){return e.bindBuffer(e.ARRAY_BUFFER,r)})),cl(e,t,(function(){return e.bufferData(e.ARRAY_BUFFER,n,e.STATIC_DRAW)})),r}function Tl(e,t,n){var r=Fl(e,t,(function(){return e.createBuffer()}),"Unable to create WebGLBuffer");return cl(e,t,(function(){return e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,r)})),cl(e,t,(function(){return e.bufferData(e.ELEMENT_ARRAY_BUFFER,n,e.STATIC_DRAW)})),r}function El(e,t){return Fl(e,t,(function(){return e.createTexture()}),"Unable to create WebGLTexture.")}function kl(e,t){var n=ks().getNumber("WEBGL_MAX_TEXTURE_SIZE");if(e<=0||t<=0){var r="["+e+"x"+t+"]";throw new Error("Requested texture size "+r+" is invalid.")}if(e>n||t>n)throw r="["+e+"x"+t+"]",new Error("Requested texture size "+r+" greater than WebGL maximum on this browser / GPU ["+n+"x"+n+"].")}function _l(e,t){return Fl(e,t,(function(){return e.createFramebuffer()}),"Unable to create WebGLFramebuffer.")}function Cl(e,t,n,r,i,a,o,s){var u=e.getAttribLocation(n,r);return-1!==u&&(cl(e,t,(function(){return e.bindBuffer(e.ARRAY_BUFFER,i)})),cl(e,t,(function(){return e.vertexAttribPointer(u,a,e.FLOAT,!1,o,s)})),cl(e,t,(function(){return e.enableVertexAttribArray(u)})),!0)}function Pl(e,t,n,r){Ll(e,r),cl(e,t,(function(){return e.activeTexture(e.TEXTURE0+r)})),cl(e,t,(function(){return e.bindTexture(e.TEXTURE_2D,n)}))}function Ol(e,t,n,r){return Fl(e,t,(function(){return e.getUniformLocation(n,r)}),'uniform "'+r+'" not present in program.')}function Il(e,t,n){return e.getUniformLocation(t,n)}function Al(e,t,n,r,i,a){cl(e,t,(function(){return Pl(e,t,r,a)})),cl(e,t,(function(){return e.uniform1i(i,a)}))}function Dl(e,t,n,r){cl(e,t,(function(){return e.bindFramebuffer(e.FRAMEBUFFER,r)})),cl(e,t,(function(){return e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,n,0)}))}function Rl(e,t,n){cl(e,t,(function(){return e.bindFramebuffer(e.FRAMEBUFFER,n)})),cl(e,t,(function(){return e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,null,0)}))}function Nl(e){var t=e.checkFramebufferStatus(e.FRAMEBUFFER);if(t!==e.FRAMEBUFFER_COMPLETE)throw new Error("Error binding framebuffer: "+Ml(e,t))}function Ml(e,t){switch(t){case e.FRAMEBUFFER_INCOMPLETE_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_ATTACHMENT";case e.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT";case e.FRAMEBUFFER_INCOMPLETE_DIMENSIONS:return"FRAMEBUFFER_INCOMPLETE_DIMENSIONS";case e.FRAMEBUFFER_UNSUPPORTED:return"FRAMEBUFFER_UNSUPPORTED";default:return"unknown error "+t}}function Fl(e,t,n,r){var i=cl(e,t,(function(){return n()}));if(null==i)throw new Error(r);return i}function Ll(e,t){var n=e.MAX_COMBINED_TEXTURE_IMAGE_UNITS-1,r=t+e.TEXTURE0;if(r<e.TEXTURE0||r>n)throw new Error("textureUnit must be in [gl.TEXTURE0, gl.TEXTURE"+n+"].")}function Bl(e,t){return void 0===t&&(t=2),Vs(e.slice(0,e.length-t))}function jl(e){if(0===e.length)throw Error("Cannot get rows and columns of an empty shape array.");return[e.length>1?e[e.length-2]:1,e[e.length-1]]}function zl(e){var t=[1,1,1];return 0===e.length||1===e.length&&1===e[0]||(t=[Bl(e)].concat(jl(e))),t}function Wl(e,t){var n;void 0===t&&(t=!1);var r=ks().getNumber("WEBGL_MAX_TEXTURE_SIZE");if(t&&(r*=2,1===(e=e.map((function(t,n){return n>=e.length-2?Fs(e[n]):e[n]}))).length&&(e=[2,e[0]])),2!==e.length){var i=$s(e);e=i.newShape}var a=Vs(e);if(e.length<=1&&a<=r)return[1,a];if(2===e.length&&e[0]<=r&&e[1]<=r)return e;if(3===e.length&&e[0]*e[1]<=r&&e[2]<=r)return[e[0]*e[1],e[2]];if(3===e.length&&e[0]<=r&&e[1]*e[2]<=r)return[e[0],e[1]*e[2]];if(4===e.length&&e[0]*e[1]*e[2]<=r&&e[3]<=r)return[e[0]*e[1]*e[2],e[3]];if(4===e.length&&e[0]<=r&&e[1]*e[2]*e[3]<=r)return[e[0],e[1]*e[2]*e[3]];if(t){var o=Bl(e),s=2,u=2;return e.length&&(s=(n=jl(e))[0],u=n[1]),qs(a=o*(s/2)*(u/2)).map((function(e){return 2*e}))}return qs(a)}function Vl(e){return e%2==0}function Ul(e,t){if(Us(e=e.slice(-2),t=t.slice(-2)))return!0;if(!e.length||!t.length)return!0;if(0===e[0]||0===e[1]||0===t[0]||0===t[1])return!0;if(e.length!==t.length){var n=e.slice(-1)[0],r=t.slice(-1)[0];if(n===r)return!0;if(Vl(n)&&Vl(r)&&(1===e[0]||1===t[0]))return!0}return e[1]===t[1]&&Vl(e[0])&&Vl(t[0])}function Kl(e){if(null==yl){var t=al(e);yl=t.getParameter(t.MAX_TEXTURE_SIZE)}return yl}function Hl(e){if(null==ml){var t=al(e);ml=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS)}return Math.min(16,ml)}function ql(e){if(0===e)return 0;var t=al(e);return Gl(t,"EXT_disjoint_timer_query_webgl2")&&2===e?2:Gl(t,"EXT_disjoint_timer_query")?1:0}function Gl(e,t){return null!=e.getExtension(t)}function Xl(e){try{if(null!=al(e))return!0}catch(e){return!1}return!1}function Yl(e){if(0===e)return!1;var t=al(e);if(1===e){if(!Gl(t,"OES_texture_float"))return!1}else if(!Gl(t,"EXT_color_buffer_float"))return!1;return $l(t)}function Jl(e){if(0===e)return!1;var t=al(e);if(1!==e){if(Gl(t,"EXT_color_buffer_float"))return $l(t);if(Gl(t,"EXT_color_buffer_half_float")){var n=t.getExtension("EXT_color_buffer_half_float");return function(e,t){var n=ll(e,t),r=e.createTexture();e.bindTexture(e.TEXTURE_2D,r),e.texImage2D(e.TEXTURE_2D,0,n.internalFormatHalfFloat,1,1,0,n.textureFormatFloat,n.textureTypeHalfFloat,null);var i=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,i),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,r,0);var a=e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE;return e.bindTexture(e.TEXTURE_2D,null),e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteTexture(r),e.deleteFramebuffer(i),a}(t,n)}return!1}return!!Gl(t,"OES_texture_float")&&!!Gl(t,"WEBGL_color_buffer_float")&&$l(t)}function $l(e){var t=ll(e),n=e.createTexture();e.bindTexture(e.TEXTURE_2D,n),e.texImage2D(e.TEXTURE_2D,0,t.internalFormatFloat,1,1,0,t.textureFormatFloat,t.textureTypeFloat,null);var r=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,r),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,n,0);var i=e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE;return e.bindTexture(e.TEXTURE_2D,null),e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteTexture(n),e.deleteFramebuffer(r),i}function Ql(e){return 2===e&&null!=al(e).fenceSync}var Zl=Object.freeze({callAndCheck:cl,canBeRepresented:fl,getWebGLErrorMessage:dl,getExtensionOrThrow:pl,createVertexShader:hl,createFragmentShader:vl,createProgram:bl,linkProgram:xl,validateProgram:wl,createStaticVertexBuffer:Sl,createStaticIndexBuffer:Tl,getNumChannels:function(){return 2===ks().getNumber("WEBGL_VERSION")?1:4},createTexture:El,validateTextureSize:kl,createFramebuffer:_l,bindVertexBufferToProgramAttribute:Cl,bindTextureUnit:Pl,unbindTextureUnit:function(e,t,n){Ll(e,n),cl(e,t,(function(){return e.activeTexture(e.TEXTURE0+n)})),cl(e,t,(function(){return e.bindTexture(e.TEXTURE_2D,null)}))},getProgramUniformLocationOrThrow:Ol,getProgramUniformLocation:Il,bindTextureToProgramUniformSampler:Al,bindCanvasToFramebuffer:function(e,t){cl(e,t,(function(){return e.bindFramebuffer(e.FRAMEBUFFER,null)})),cl(e,t,(function(){return e.viewport(0,0,e.canvas.width,e.canvas.height)})),cl(e,t,(function(){return e.scissor(0,0,e.canvas.width,e.canvas.height)}))},bindColorTextureToFramebuffer:Dl,unbindColorTextureFromFramebuffer:Rl,validateFramebuffer:Nl,getFramebufferErrorMessage:Ml,getBatchDim:Bl,getRowsCols:jl,getShapeAs3D:zl,getTextureShapeFromLogicalShape:Wl,isReshapeFree:Ul,getWebGLMaxTextureSize:Kl,resetMaxTextureSize:function(){yl=null},resetMaxTexturesInShader:function(){ml=null},getMaxTexturesInShader:Hl,getWebGLDisjointQueryTimerVersion:ql,hasExtension:Gl,isWebGLVersionEnabled:Xl,isCapableOfRenderingToFloatTexture:Yl,isDownloadFloatTextureEnabled:Jl,isWebGLFenceEnabled:Ql}),ec=ks();function tc(e){ks().getBool("DEPRECATION_WARNINGS_ENABLED")&&console.warn(e+" You can disable deprecation warnings with tf.disableDeprecationWarnings().")}function nc(e,t){return Ju.tidy(e,t)}function rc(e){qu(e).forEach((function(e){return e.dispose()}))}function ic(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];ks().getBool("IS_TEST")||console.warn.apply(console,e)}function ac(e,t){var n=e;if(ru(e))return"string"===t?[]:[e.length];if(!Array.isArray(e))return[];for(var r=[];Array.isArray(n)||ru(n)&&"string"!==t;)r.push(n.length),n=n[0];return Array.isArray(e)&&ks().getBool("TENSORLIKE_CHECK_SHAPE_CONSISTENCY")&&function e(t,n,r){if(r=r||[],Array.isArray(t)||ru(t)){Bs(n.length>0,(function(){return"Element arr["+r.join("][")+"] should be a primitive, but is an array of "+t.length+" elements"})),Bs(t.length===n[0],(function(){return"Element arr["+r.join("][")+"] should have "+n[0]+" elements, but has "+t.length+" elements"}));for(var i=n.slice(1),a=0;a<t.length;++a)e(t[a],i,r.concat(a))}else Bs(0===n.length,(function(){return"Element arr["+r.join("][")+"] is a primitive, but should be an array/TypedArray of "+n[0]+" elements"}))}(e,r,[]),r}function oc(e,t,n,r){if(null!=e&&("numeric"!==e&&e!==t||"numeric"===e&&"string"===t))throw new Error("Argument '"+n+"' passed to '"+r+"' must be "+e+" tensor, but got "+t+" tensor")}function sc(e,t,n,r){if(void 0===r&&(r="numeric"),e instanceof Ru)return oc(r,e.dtype,t,n),e;var i=lu(e);if("string"!==i&&["bool","int32","float32"].indexOf(r)>=0&&(i=r),oc(r,i,t,n),null==e||!ru(e)&&!Array.isArray(e)&&"number"!=typeof e&&"boolean"!=typeof e&&"string"!=typeof e){var a=null==e?"null":e.constructor.name;throw new Error("Argument '"+t+"' passed to '"+n+"' must be a Tensor or TensorLike, but got '"+a+"'")}var o=ac(e,i);ru(e)||Array.isArray(e)||(e=[e]);var s="string"!==i?pu(e,i,ks().getBool("DEBUG")):Ws(e,[],!0);return Ju.makeTensor(s,o,i)}function uc(e,t,n,r){if(void 0===r&&(r="numeric"),!Array.isArray(e))throw new Error("Argument "+t+" passed to "+n+" must be a `Tensor[]` or `TensorLike[]`");return e.map((function(e,r){return sc(e,t+"["+r+"]",n)}),r)}function lc(e,t){for(var n=0;n<e.length;++n)if(e[e.length-n-1]!==t-1-n)return!1;return!0}function cc(e,t,n){for(var r=e.length+t.length,i=[],a=0,o=0,s=0;s<r;s++)-1===n.indexOf(s)?i.push(e[a++]):i.push(t[o++]);return i}function fc(e,t){for(var n=[],r=e.length,i=0;i<r;i++)-1===t.indexOf(i)&&n.push(e[i]);return[n,t.map((function(t){return e[t]}))]}function dc(e,t){return cc(e,t.map((function(e){return 1})),t)}function pc(e,t,n){Bs(lc(t,n),(function(){return e+" supports only inner-most axes for now. Got axes "+t+" and rank-"+n+" input."}))}function hc(e,t){if(lc(e,t))return null;for(var n=[],r=0;r<t;++r)-1===e.indexOf(r)&&n.push(r);return e.forEach((function(e){return n.push(e)})),n}function vc(e){return e.map((function(e,t){return[t,e]})).sort((function(e,t){return e[1]-t[1]})).map((function(e){return e[0]}))}function yc(e,t){for(var n=[],r=t-e;r<t;++r)n.push(r);return n}function mc(e,t){var n=e[0].length;e.forEach((function(e,t){Bs(e.length===n,(function(){return"Error in concat"+n+"D: rank of tensors["+t+"] must be the same as the rank of the rest ("+n+")"}))})),Bs(t>=0&&t<n,(function(){return"Error in concat"+n+"D: axis must be between 0 and "+(n-1)+"."}));var r=e[0];e.forEach((function(e,i){for(var a=0;a<n;a++)Bs(a===t||e[a]===r[a],(function(){return"Error in concat"+n+"D: Shape of tensors["+i+"] ("+e+") does not match the shape of the rest ("+r+") along the non-concatenated axis "+i+"."}))}))}function gc(e,t){for(var n=e[0].slice(),r=1;r<e.length;r++)n[t]+=e[r][t];return n}function bc(e){var t=Object.keys(e);if(1!==t.length)throw new Error("Please provide an object with a single key (operation name) mapping to a function. Got an object with "+t.length+" keys.");var n=t[0],r=e[n];n.endsWith("_")&&(n=n.substring(0,n.length-1));var i=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];Ju.startScope(n);try{var i=r.apply(void 0,e);return i instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),Ju.endScope(i),i}catch(e){throw Ju.endScope(null),e}};return Object.defineProperty(i,"name",{value:n,configurable:!0}),i}ec.registerFlag("HAS_WEBGL",(function(){return ec.getNumber("WEBGL_VERSION")>0})),ec.registerFlag("WEBGL_VERSION",(function(){return Xl(2)?2:Xl(1)?1:0})),ec.registerFlag("WEBGL_BUFFER_SUPPORTED",(function(){return 2===ec.get("WEBGL_VERSION")})),ec.registerFlag("WEBGL_CPU_FORWARD",(function(){return!0})),ec.registerFlag("WEBGL_FORCE_F16_TEXTURES",(function(){return!1})),ec.registerFlag("WEBGL_PACK",(function(){return ec.getBool("HAS_WEBGL")})),ec.registerFlag("WEBGL_PACK_NORMALIZATION",(function(){return ec.getBool("WEBGL_PACK")})),ec.registerFlag("WEBGL_PACK_CLIP",(function(){return ec.getBool("WEBGL_PACK")})),ec.registerFlag("WEBGL_PACK_DEPTHWISECONV",(function(){return!1})),ec.registerFlag("WEBGL_PACK_BINARY_OPERATIONS",(function(){return ec.getBool("WEBGL_PACK")})),ec.registerFlag("WEBGL_PACK_UNARY_OPERATIONS",(function(){return ec.getBool("WEBGL_PACK")})),ec.registerFlag("WEBGL_PACK_ARRAY_OPERATIONS",(function(){return ec.getBool("WEBGL_PACK")})),ec.registerFlag("WEBGL_PACK_IMAGE_OPERATIONS",(function(){return ec.getBool("WEBGL_PACK")})),ec.registerFlag("WEBGL_PACK_REDUCE",(function(){return ec.getBool("WEBGL_PACK")})),ec.registerFlag("WEBGL_LAZILY_UNPACK",(function(){return ec.getBool("WEBGL_PACK")})),ec.registerFlag("WEBGL_CONV_IM2COL",(function(){return ec.getBool("WEBGL_PACK")})),ec.registerFlag("WEBGL_MAX_TEXTURE_SIZE",(function(){return Kl(ec.getNumber("WEBGL_VERSION"))})),ec.registerFlag("WEBGL_MAX_TEXTURES_IN_SHADER",(function(){return Hl(ec.getNumber("WEBGL_VERSION"))})),ec.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION",(function(){var e=ec.getNumber("WEBGL_VERSION");return 0===e?0:ql(e)})),ec.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE",(function(){return ec.getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0&&(e=navigator.userAgent||navigator.vendor||window.opera,!(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4))));var e})),ec.registerFlag("WEBGL_RENDER_FLOAT32_CAPABLE",(function(){return Yl(ec.getNumber("WEBGL_VERSION"))})),ec.registerFlag("WEBGL_RENDER_FLOAT32_ENABLED",(function(){return!ec.getBool("WEBGL_FORCE_F16_TEXTURES")&&ec.getBool("WEBGL_RENDER_FLOAT32_CAPABLE")})),ec.registerFlag("WEBGL_DOWNLOAD_FLOAT_ENABLED",(function(){return Jl(ec.getNumber("WEBGL_VERSION"))})),ec.registerFlag("WEBGL_FENCE_API_ENABLED",(function(){return Ql(ec.getNumber("WEBGL_VERSION"))})),ec.registerFlag("WEBGL_SIZE_UPLOAD_UNIFORM",(function(){return ec.getBool("WEBGL_RENDER_FLOAT32_ENABLED")?4:0})),Du=tc;var xc=bc({complex_:function(e,t){var n=sc(e,"real","complex"),r=sc(t,"imag","complex");return js(n.shape,r.shape,"real and imag shapes, "+n.shape+" and "+r.shape+", must match in call to tf.complex()."),Ju.runKernelFunc((function(e){return e.complex(n,r)}),{$real:n,$imag:r})}}),wc=bc({real_:function(e){var t=sc(e,"input","real");return Ju.runKernelFunc((function(e){return e.real(t)}),{$input:t})}}),Sc=bc({imag_:function(e){var t=sc(e,"input","imag");return Ju.runKernelFunc((function(e){return e.imag(t)}),{$input:t})}});function Tc(e,t,n){return Ec(e,t,ac(e,n),n)}function Ec(e,t,n,r){if(null==r&&(r=lu(e)),"complex64"===r)throw new Error("Cannot construct a complex64 tensor directly. Please use tf.complex(real, imag).");if(!ru(e)&&!Array.isArray(e)&&"number"!=typeof e&&"boolean"!=typeof e&&"string"!=typeof e)throw new Error("values passed to tensor(values) must be a number/boolean/string or an array of numbers/booleans/strings, or a TypedArray");if(null!=t){gu(t);var i=Vs(t),a=Vs(n);Bs(i===a,(function(){return"Based on the provided shape, ["+t+"], the tensor should have "+i+" values but has "+a}));for(var o=0;o<n.length;++o){var s=n[o],u=o!==n.length-1||s!==Vs(t.slice(o));Bs(n[o]===t[o]||!u,(function(){return"Error creating a new Tensor. Inferred shape ("+n+") does not match the provided shape ("+t+"). "}))}}return ru(e)||Array.isArray(e)||(e=[e]),t=t||n,e="string"!==r?pu(e,r,ks().getBool("DEBUG")):Ws(e,[],!0),Ju.makeTensor(e,t,r)}function kc(e,t){if((ru(e)&&"string"!==t||Array.isArray(e))&&"complex64"!==t)throw new Error("Error creating a new Scalar: value must be a primitive (number|boolean|string)");if("string"===t&&ru(e)&&!(e instanceof Uint8Array))throw new Error("When making a scalar from encoded string, the value must be `Uint8Array`.");return Ec(e,[],[],t)}function _c(e,t){zs(e);var n=ac(e,t);if(1!==n.length)throw new Error("tensor1d() requires values to be a flat/TypedArray");return Ec(e,null,n,t)}function Cc(e,t,n){if(zs(e),null!=t&&2!==t.length)throw new Error("tensor2d() requires shape to have two numbers");var r=ac(e,n);if(2!==r.length&&1!==r.length)throw new Error("tensor2d() requires values to be number[][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor2d() requires shape to be provided when `values` are a flat/TypedArray");return Ec(e,t,r,n)}function Pc(e,t,n){if(zs(e),null!=t&&3!==t.length)throw new Error("tensor3d() requires shape to have three numbers");var r=ac(e,n);if(3!==r.length&&1!==r.length)throw new Error("tensor3d() requires values to be number[][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor3d() requires shape to be provided when `values` are a flat array");return Ec(e,t,r,n)}function Oc(e,t,n){if(zs(e),null!=t&&4!==t.length)throw new Error("tensor4d() requires shape to have four numbers");var r=ac(e,n);if(4!==r.length&&1!==r.length)throw new Error("tensor4d() requires values to be number[][][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor4d() requires shape to be provided when `values` are a flat array");return Ec(e,t,r,n)}function Ic(e,t){if(void 0===t&&(t="float32"),"complex64"===t){var n=Ic(e,"float32"),r=Ac(e,"float32");return xc(n,r)}var i=vu(Vs(e),t);return Ju.makeTensor(i,e,t)}function Ac(e,t){if(void 0===t&&(t="float32"),"complex64"===t){var n=Ac(e,"float32"),r=Ac(e,"float32");return xc(n,r)}var i=yu(Vs(e),t);return Ju.makeTensor(i,e,t)}function Dc(e,t,n){return Ju.runKernelFunc((function(r){return r.fill(e,t,n)}),{})}function Rc(e,t,n,r){if(void 0===n&&(n=1),void 0===r&&(r="float32"),0===n)throw new Error("Cannot have a step of zero");if(e===t||e<t&&n<0||t<e&&n>1)return Ac([0],r);var i=yu(Math.abs(Math.ceil((t-e)/n)),r);t<e&&1===n&&(n=-1),i[0]=e;for(var a=1;a<i.length;a++)i[a]=i[a-1]+n;return _c(i,r)}var Nc=bc({onesLike_:function(e){var t=sc(e,"x","onesLike");if("complex64"===t.dtype){var n=Nc(wc(t)),r=Mc(Sc(t));return xc(n,r)}return Ju.runKernelFunc((function(e){return e.onesLike(t)}),{$x:t},(function(e,t){return{$x:function(){return Mc(e)}}}))}}),Mc=bc({zerosLike_:function(e){var t=sc(e,"x","zerosLike");return Ju.runKernelFunc((function(e){return e.zerosLike(t)}),{$x:t},(function(e,t){return{$x:function(){return Mc(e)}}}))}}),Fc=bc({concat_:function(e,t){void 0===t&&(t=0),Bs(e.length>=1,(function(){return"Pass at least one tensor to concat"}));var n=uc(e,"tensors","concat");"complex64"===n[0].dtype&&n.forEach((function(e){if("complex64"!==e.dtype)throw new Error("Cannot concatenate complex64 tensors with a tensor\n          with dtype "+e.dtype+". ")})),t=Js(t,n[0].shape)[0];var r=gc(n.map((function(e){return e.shape})),t);if(0===Vs(r))return Tc([],r);if(1===(n=n.filter((function(e){return e.size>0}))).length)return n[0];var i=n.map((function(e){return e.shape}));mc(i,t);var a=n,o={axis:t};return Ju.runKernelFunc((function(e){return e.concat(n,t)}),a,(function(e){var n=i.map((function(e){return e[t]}));return Wc(e,n,t).map((function(e){return function(){return e}}))}),"Concat",o)}}),Lc=bc({concat1d_:function(e){return Fc(e,0)}}),Bc=bc({concat2d_:function(e,t){return Fc(e,t)}}),jc=bc({concat3d_:function(e,t){return Fc(e,t)}}),zc=bc({concat4d_:function(e,t){return Fc(e,t)}}),Wc=bc({split_:function(e,t,n){void 0===n&&(n=0);var r,i=sc(e,"x","split");return n=Js(n,i.shape)[0],"number"==typeof t?(Bs(i.shape[n]%t==0,(function(){return"Number of splits must evenly divide the axis."})),r=new Array(t).fill(i.shape[n]/t)):(Bs(i.shape[n]===t.reduce((function(e,t){return e+t})),(function(){return"The sum of sizes must match the size of the axis dimension."})),r=t),Ju.runKernelFunc((function(e){return e.split(i,r,n)}),{$x:i},(function(e){return{$x:function(){return Fc(e,n)}}}))}});function Vc(e,t){return e(t={exports:{}},t.exports),t.exports}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof n.g?n.g:"undefined"!=typeof self&&self;var Uc=Vc((function(e){!function(e,t,n){function r(e){var t,n=this,r=(t=4022871197,function(e){e=e.toString();for(var n=0;n<e.length;n++){var r=.02519603282416938*(t+=e.charCodeAt(n));r-=t=r>>>0,t=(r*=t)>>>0,t+=4294967296*(r-=t)}return 2.3283064365386963e-10*(t>>>0)});n.next=function(){var e=2091639*n.s0+2.3283064365386963e-10*n.c;return n.s0=n.s1,n.s1=n.s2,n.s2=e-(n.c=0|e)},n.c=1,n.s0=r(" "),n.s1=r(" "),n.s2=r(" "),n.s0-=r(e),n.s0<0&&(n.s0+=1),n.s1-=r(e),n.s1<0&&(n.s1+=1),n.s2-=r(e),n.s2<0&&(n.s2+=1),r=null}function i(e,t){return t.c=e.c,t.s0=e.s0,t.s1=e.s1,t.s2=e.s2,t}function a(e,t){var n=new r(e),a=t&&t.state,o=n.next;return o.int32=function(){return 4294967296*n.next()|0},o.double=function(){return o()+11102230246251565e-32*(2097152*o()|0)},o.quick=o,a&&("object"==typeof a&&i(a,n),o.state=function(){return i(n,{})}),o}t&&t.exports?t.exports=a:this.alea=a}(0,e)})),Kc=Vc((function(e){!function(e,t,n){function r(e){var t=this,n="";t.x=0,t.y=0,t.z=0,t.w=0,t.next=function(){var e=t.x^t.x<<11;return t.x=t.y,t.y=t.z,t.z=t.w,t.w^=t.w>>>19^e^e>>>8},e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),t.next()}function i(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t}function a(e,t){var n=new r(e),a=t&&t.state,o=function(){return(n.next()>>>0)/4294967296};return o.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},o.int32=n.next,o.quick=o,a&&("object"==typeof a&&i(a,n),o.state=function(){return i(n,{})}),o}t&&t.exports?t.exports=a:this.xor128=a}(0,e)})),Hc=Vc((function(e){!function(e,t,n){function r(e){var t=this,n="";t.next=function(){var e=t.x^t.x>>>2;return t.x=t.y,t.y=t.z,t.z=t.w,t.w=t.v,(t.d=t.d+362437|0)+(t.v=t.v^t.v<<4^e^e<<1)|0},t.x=0,t.y=0,t.z=0,t.w=0,t.v=0,e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),r==n.length&&(t.d=t.x<<10^t.x>>>4),t.next()}function i(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t.v=e.v,t.d=e.d,t}function a(e,t){var n=new r(e),a=t&&t.state,o=function(){return(n.next()>>>0)/4294967296};return o.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},o.int32=n.next,o.quick=o,a&&("object"==typeof a&&i(a,n),o.state=function(){return i(n,{})}),o}t&&t.exports?t.exports=a:this.xorwow=a}(0,e)})),qc=Vc((function(e){!function(e,t,n){function r(e){var t=this;t.next=function(){var e,n,r=t.x,i=t.i;return e=r[i],n=(e^=e>>>7)^e<<24,n^=(e=r[i+1&7])^e>>>10,n^=(e=r[i+3&7])^e>>>3,n^=(e=r[i+4&7])^e<<7,e=r[i+7&7],n^=(e^=e<<13)^e<<9,r[i]=n,t.i=i+1&7,n},function(e,t){var n,r=[];if(t===(0|t))r[0]=t;else for(t=""+t,n=0;n<t.length;++n)r[7&n]=r[7&n]<<15^t.charCodeAt(n)+r[n+1&7]<<13;for(;r.length<8;)r.push(0);for(n=0;n<8&&0===r[n];++n);for(8==n?r[7]=-1:r[n],e.x=r,e.i=0,n=256;n>0;--n)e.next()}(t,e)}function i(e,t){return t.x=e.x.slice(),t.i=e.i,t}function a(e,t){null==e&&(e=+new Date);var n=new r(e),a=t&&t.state,o=function(){return(n.next()>>>0)/4294967296};return o.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},o.int32=n.next,o.quick=o,a&&(a.x&&i(a,n),o.state=function(){return i(n,{})}),o}t&&t.exports?t.exports=a:this.xorshift7=a}(0,e)})),Gc=Vc((function(e){!function(e,t,n){function r(e){var t=this;t.next=function(){var e,n,r=t.w,i=t.X,a=t.i;return t.w=r=r+1640531527|0,n=i[a+34&127],e=i[a=a+1&127],n^=n<<13,e^=e<<17,n^=n>>>15,e^=e>>>12,n=i[a]=n^e,t.i=a,n+(r^r>>>16)|0},function(e,t){var n,r,i,a,o,s=[],u=128;for(t===(0|t)?(r=t,t=null):(t+="\0",r=0,u=Math.max(u,t.length)),i=0,a=-32;a<u;++a)t&&(r^=t.charCodeAt((a+32)%t.length)),0===a&&(o=r),r^=r<<10,r^=r>>>15,r^=r<<4,r^=r>>>13,a>=0&&(o=o+1640531527|0,i=0==(n=s[127&a]^=r+o)?i+1:0);for(i>=128&&(s[127&(t&&t.length||0)]=-1),i=127,a=512;a>0;--a)r=s[i+34&127],n=s[i=i+1&127],r^=r<<13,n^=n<<17,r^=r>>>15,n^=n>>>12,s[i]=r^n;e.w=o,e.X=s,e.i=i}(t,e)}function i(e,t){return t.i=e.i,t.w=e.w,t.X=e.X.slice(),t}function a(e,t){null==e&&(e=+new Date);var n=new r(e),a=t&&t.state,o=function(){return(n.next()>>>0)/4294967296};return o.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},o.int32=n.next,o.quick=o,a&&(a.X&&i(a,n),o.state=function(){return i(n,{})}),o}t&&t.exports?t.exports=a:this.xor4096=a}(0,e)})),Xc=Vc((function(e){!function(e,t,n){function r(e){var t=this,n="";t.next=function(){var e=t.b,n=t.c,r=t.d,i=t.a;return e=e<<25^e>>>7^n,n=n-r|0,r=r<<24^r>>>8^i,i=i-e|0,t.b=e=e<<20^e>>>12^n,t.c=n=n-r|0,t.d=r<<16^n>>>16^i,t.a=i-e|0},t.a=0,t.b=0,t.c=-1640531527,t.d=1367130551,e===Math.floor(e)?(t.a=e/4294967296|0,t.b=0|e):n+=e;for(var r=0;r<n.length+20;r++)t.b^=0|n.charCodeAt(r),t.next()}function i(e,t){return t.a=e.a,t.b=e.b,t.c=e.c,t.d=e.d,t}function a(e,t){var n=new r(e),a=t&&t.state,o=function(){return(n.next()>>>0)/4294967296};return o.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},o.int32=n.next,o.quick=o,a&&("object"==typeof a&&i(a,n),o.state=function(){return i(n,{})}),o}t&&t.exports?t.exports=a:this.tychei=a}(0,e)})),Yc=Vc((function(e){!function(t,r){var i,a=this,o=256,s="random",u=r.pow(o,6),l=r.pow(2,52),c=2*l,f=o-1;function d(e,n,f){var d=[],m=v(function e(t,n){var r,i=[],a=typeof t;if(n&&"object"==a)for(r in t)try{i.push(e(t[r],n-1))}catch(e){}return i.length?i:"string"==a?t:t+"\0"}((n=1==n?{entropy:!0}:n||{}).entropy?[e,y(t)]:null==e?function(){try{var e;return i&&(e=i.randomBytes)?e=e(o):(e=new Uint8Array(o),(a.crypto||a.msCrypto).getRandomValues(e)),y(e)}catch(e){var n=a.navigator,r=n&&n.plugins;return[+new Date,a,r,a.screen,y(t)]}}():e,3),d),g=new p(d),b=function(){for(var e=g.g(6),t=u,n=0;e<l;)e=(e+n)*o,t*=o,n=g.g(1);for(;e>=c;)e/=2,t/=2,n>>>=1;return(e+n)/t};return b.int32=function(){return 0|g.g(4)},b.quick=function(){return g.g(4)/4294967296},b.double=b,v(y(g.S),t),(n.pass||f||function(e,t,n,i){return i&&(i.S&&h(i,g),e.state=function(){return h(g,{})}),n?(r[s]=e,t):e})(b,m,"global"in n?n.global:this==r,n.state)}function p(e){var t,n=e.length,r=this,i=0,a=r.i=r.j=0,s=r.S=[];for(n||(e=[n++]);i<o;)s[i]=i++;for(i=0;i<o;i++)s[i]=s[a=f&a+e[i%n]+(t=s[i])],s[a]=t;(r.g=function(e){for(var t,n=0,i=r.i,a=r.j,s=r.S;e--;)t=s[i=f&i+1],n=n*o+s[f&(s[i]=s[a=f&a+t])+(s[a]=t)];return r.i=i,r.j=a,n})(o)}function h(e,t){return t.i=e.i,t.j=e.j,t.S=e.S.slice(),t}function v(e,t){for(var n,r=e+"",i=0;i<r.length;)t[f&i]=f&(n^=19*t[f&i])+r.charCodeAt(i++);return y(t)}function y(e){return String.fromCharCode.apply(0,e)}if(r["seed"+s]=d,v(r.random(),t),e.exports){e.exports=d;try{i=n(4902)}catch(e){}}}([],Math)}));Yc.alea=Uc,Yc.xor128=Kc,Yc.xorwow=Hc,Yc.xorshift7=qc,Yc.xor4096=Gc,Yc.tychei=Xc;var Jc=Yc.alea,$c=function(){function e(e,t,n,r,i){this.mean=e,this.stdDev=t,this.dtype=n,this.nextVal=NaN,this.truncated=r,this.truncated&&(this.upper=this.mean+2*this.stdDev,this.lower=this.mean-2*this.stdDev);var a=i||Math.random();this.random=Jc(a.toString())}return e.prototype.nextValue=function(){if(!isNaN(this.nextVal)){var e=this.nextVal;return this.nextVal=NaN,e}for(var t,n,r=!1;!r;){var i=void 0,a=void 0,o=void 0;do{o=(i=2*this.random()-1)*i+(a=2*this.random()-1)*a}while(o>=1||0===o);var s=Math.sqrt(-2*Math.log(o)/o);t=this.mean+this.stdDev*i*s,n=this.mean+this.stdDev*a*s,this.truncated&&!this.isValidTruncated(t)||(r=!0)}return this.truncated&&!this.isValidTruncated(n)||(this.nextVal=this.convertValue(n)),this.convertValue(t)},e.prototype.convertValue=function(e){return null==this.dtype||"float32"===this.dtype?e:Math.round(e)},e.prototype.isValidTruncated=function(e){return e<=this.upper&&e>=this.lower},e}(),Qc=function(){function e(e,t,n,r){this.alpha=e,this.beta=1/t,this.dtype=n;var i=r||Math.random();this.randu=Jc(i.toString()),this.randn=new $c(0,1,n,!1,this.randu()),this.d=e<1?e+2/3:e-1/3,this.c=1/Math.sqrt(9*this.d)}return e.prototype.nextValue=function(){for(var e,t,n,r,i,a;;){do{r=this.randn.nextValue(),a=1+this.c*r}while(a<=0);if(a*=a*a,t=1-.331*(e=r*r)*e,n=.5*e+this.d*(1-a+Math.log(a)),(i=this.randu())<t||Math.log(i)<n)break}return a=1/this.beta*this.d*a,this.alpha<1&&(a*=Math.pow(this.randu(),1/this.alpha)),this.convertValue(a)},e.prototype.convertValue=function(e){return"float32"===this.dtype?e:Math.round(e)},e}(),Zc=function(){function e(e,t,n,r){var i=this;if(void 0===e&&(e=0),void 0===t&&(t=1),this.canReturnFloat=function(){return null==i.dtype||"float32"===i.dtype},this.min=e,this.range=t-e,this.dtype=n,null==r&&(r=Math.random()),"number"==typeof r&&(r=r.toString()),!this.canReturnFloat()&&this.range<=1)throw new Error("The difference between "+e+" - "+t+" <= 1 and dtype is not float");this.random=Jc(r)}return e.prototype.convertValue=function(e){return this.canReturnFloat()?e:Math.round(e)},e.prototype.nextValue=function(){return this.convertValue(this.min+this.range*this.random())},e}();function ef(e,t,n){return void 0===t&&(t="float32"),t=t||"float32",gu(e),new Ou(e,t,n)}var tf=bc({batchToSpaceND_:function(e,t,n){var r=sc(e,"x","batchToSpaceND"),i=t.reduce((function(e,t){return e*t}));return Bs(r.rank>=1+t.length,(function(){return"input rank is "+r.rank+" but should be > than blockShape.length "+t.length})),Bs(n.length===t.length,(function(){return"crops.length is "+n.length+" but should be equal to blockShape.length  "+t.length})),Bs(r.shape[0]%i==0,(function(){return"input tensor batch is "+r.shape[0]+" but is not divisible by the product of the elements of blockShape "+t.join(" * ")+" === "+i})),Ju.runKernelFunc((function(e){return e.batchToSpaceND(r,t,n)}),{$x:r},(function(e){return{$x:function(){return e.spaceToBatchND(t,n)}}}))}}),nf=bc({broadcastTo_:function(e,t){var n=sc(e,"broadcastTo","x"),r=n.shape;if(t.some((function(e){return!(e>0)||e%1!=0})))throw new Error("broadcastTo(): Invalid broadcast shape ["+t+"].");if(t.length<n.rank)throw new Error("broadcastTo(): shape.length="+t.length+" < input.rank="+n.rank+".");if(t.length>n.rank){for(var i=n.shape.slice();i.length<t.length;)i.unshift(1);n=n.reshape(i)}for(var a=Array.from(t),o=t.length-1;o>=0;o--)if(n.shape[o]===t[o])a[o]=1;else if(1!==n.shape[o])throw new Error("broadcastTo(): ["+r+"] cannot be broadcast to ["+t+"].");var s=a.map((function(e,t){return e>1?t:-1})).filter((function(e){return e>=0}));return 0===s.length?n.clone():Ju.runKernelFunc((function(e){return e.tile(n,a)}),{input:n},(function(e){return{input:function(){return e.sum(s,!0)}}}))}}),rf=bc({cast_:function(e,t){var n=sc(e,"x","cast");if(!tu(t))throw new Error("Failed to cast to unknown dtype "+t);if("string"===t&&"string"!==n.dtype||"string"!==t&&"string"===n.dtype)throw new Error("Only strings can be casted to strings");var r={dtype:t};return Ju.runKernelFunc((function(e){return e.cast(n,t)}),{x:n},(function(e){return{x:function(){return e.clone()}}}),"Cast",r)}}),af=bc({clone_:function(e){var t=sc(e,"x","clone",null);return Ju.runKernelFunc((function(){return Ju.makeTensorFromDataId(t.dataId,t.shape,t.dtype)}),{$x:t},(function(e){return{$x:function(){return e.toFloat()}}}))}}),of=bc({cumsum_:function(e,t,n,r){void 0===t&&(t=0),void 0===n&&(n=!1),void 0===r&&(r=!1);var i=sc(e,"x","cumsum"),a=hc([t|=0],i.rank),o=i;null!=a&&(o=i.transpose(a));var s=yc(1,i.rank)[0],u=Ju.runKernelFunc((function(e){return e.cumsum(o,s,n,r)}),{permutedX:o},(function(e){return{permutedX:function(){return e.cumsum(t,n,!r)}}}));return null!=a&&(u=u.transpose(a)),u}}),sf=bc({depthToSpace_:function(e,t,n){void 0===n&&(n="NHWC");var r=sc(e,"x","depthToSpace"),i="NHWC"===n?r.shape[1]:r.shape[2],a="NHWC"===n?r.shape[2]:r.shape[3],o="NHWC"===n?r.shape[3]:r.shape[1];return Bs(i*t>=0,(function(){return"Negative dimension size caused by overflow when multiplying\n      "+i+" and "+t+"  for depthToSpace with input shape\n      "+r.shape})),Bs(a*t>=0,(function(){return"Negative dimension size caused by overflow when multiplying\n      "+a+" and "+t+" for depthToSpace with input shape\n          "+r.shape})),Bs(o%(t*t)==0,(function(){return"Dimension size must be evenly divisible by "+t*t+" but is "+o+" for depthToSpace with input shape "+r.shape})),Ju.runKernelFunc((function(e){return e.depthToSpace(r,t,n)}),{$x:r})}}),uf=bc({expandDims_:function(e,t){void 0===t&&(t=0);var n=sc(e,"x","expandDims",null);Bs(t<=n.rank,(function(){return"Axis must be <= rank of the tensor"}));var r=n.shape.slice();return t<0&&(Bs(-(n.rank+1)<=t,(function(){return"Axis must be in the interval ["+-(n.rank+1)+", "+n.rank+"]"})),t=n.rank+t+1),r.splice(t,0,1),wf(n,r)}}),lf=bc({eye_:function(e,t,n,r){void 0===r&&(r="float32"),null==t&&(t=e);for(var i=ef([e,t],r),a=e<=t?e:t,o=0;o<a;++o)i.set(1,o,o);var s=i.toTensor().as2D(e,t);if(null==n)return s;if(1===n.length)return kf(uf(s,0),[n[0],1,1]);if(2===n.length)return kf(uf(uf(s,0),0),[n[0],n[1],1,1]);if(3===n.length)return kf(uf(uf(uf(s,0),0),0),[n[0],n[1],n[2],1,1]);throw new Error("eye() currently supports only 1D and 2D batchShapes, but received "+n.length+"D.")}}),cf=bc({multinomial_:function(e,t,n,r){void 0===r&&(r=!1);var i=sc(e,"logits","multinomial"),a=i.size,o=i.rank;if(a<2)throw new Error("Error in multinomial: you need at least 2 outcomes, but got "+a+".");if(o>2)throw new Error("Rank of probabilities must be 1 or 2, but is "+o);n=n||Math.random();var s=1===o?i.as2D(1,-1):i,u=Ju.runKernelFunc((function(e){return e.multinomial(s,r,t,n)}),{logits2D:s});return 1===o?u.as1D():u}}),ff=bc({oneHot_:function(e,t,n,r){if(void 0===n&&(n=1),void 0===r&&(r=0),t<2)throw new Error("Error in oneHot: depth must be >=2, but it is "+t);var i=sc(e,"indices","oneHot","int32"),a=i.shape.concat([t]);return i=i.flatten(),Ju.runKernelFunc((function(e){return e.oneHot(i,t,n,r)}),{$indices:i},(function(e){return{$indices:function(){return Ac(i.shape,"float32")}}})).reshape(a)}}),df=bc({pad_:function(e,t,n){void 0===n&&(n=0);var r=sc(e,"x","pad");if(0===r.rank)throw new Error("pad(scalar) is not defined. Pass non-scalar to pad");var i={paddings:t,constantValue:n};return Ju.runKernelFunc((function(e){return e.pad(r,t,n)}),{x:r},(function(e){var n=t.map((function(e){return e[0]}));return{x:function(){return e.slice(n,r.shape)}}}),"PadV2",i)}}),pf=bc({pad1d_:function(e,t,n){return void 0===n&&(n=0),Bs(2===t.length,(function(){return"Invalid number of paddings. Must be length of 2."})),df(e,[t],n)}}),hf=bc({pad2d_:function(e,t,n){return void 0===n&&(n=0),Bs(2===t.length&&2===t[0].length&&2===t[1].length,(function(){return"Invalid number of paddings. Must be length of 2 each."})),df(e,t,n)}}),vf=bc({pad3d_:function(e,t,n){return void 0===n&&(n=0),Bs(3===t.length&&2===t[0].length&&2===t[1].length&&2===t[2].length,(function(){return"Invalid number of paddings. Must be length of 2 each."})),df(e,t,n)}}),yf=bc({pad4d_:function(e,t,n){return void 0===n&&(n=0),Bs(4===t.length&&2===t[0].length&&2===t[1].length&&2===t[2].length&&2===t[3].length,(function(){return"Invalid number of paddings. Must be length of 2 each."})),df(e,t,n)}}),mf=bc({rand_:function(e,t,n){var r=Vs(e),i=null;if(null==n||"float32"===n)i=new Float32Array(r);else if("int32"===n)i=new Int32Array(r);else{if("bool"!==n)throw new Error("Unknown data type "+n);i=new Uint8Array(r)}for(var a=0;a<r;a++)i[a]=t();return Ju.makeTensor(i,e,n)}}),gf=bc({randomNormal_:function(e,t,n,r,i){if(void 0===t&&(t=0),void 0===n&&(n=1),null!=r&&"bool"===r)throw new Error("Unsupported data type "+r);for(var a=new $c(t,n,r,!1,i),o=ef(e,r),s=0;s<o.values.length;s++)o.values[s]=a.nextValue();return o.toTensor()}}),bf=bc({randomGamma_:function(e,t,n,r,i){if(void 0===n&&(n=1),void 0===r&&(r="float32"),null==n&&(n=1),null==r&&(r="float32"),"float32"!==r&&"int32"!==r)throw new Error("Unsupported data type "+r);for(var a=new Qc(t,n,r,i),o=ef(e,r),s=0;s<o.values.length;s++)o.values[s]=a.nextValue();return o.toTensor()}}),xf=bc({randomUniform_:function(e,t,n,r,i){void 0===t&&(t=0),void 0===n&&(n=1),void 0===r&&(r="float32");for(var a=ef(e,r),o=new Zc(t,n,null,i),s=0;s<a.values.length;s++)a.values[s]=o.nextValue();return a.toTensor()}}),wf=bc({reshape_:function(e,t){var n=sc(e,"x","reshape",null);t=Ys(t,n.size),Bs(n.size===Vs(t),(function(){return"new shape and old shape must have the same number of elements."}));var r={shape:t};return Ju.runKernelFunc((function(e){return e.reshape(n,t)}),{x:n},(function(e){return{x:function(){return e.reshape(n.shape)}}}),"Reshape",r)}}),Sf=bc({spaceToBatchND_:function(e,t,n){var r=sc(e,"x","spaceToBatchND");return Bs(r.rank>=1+t.length,(function(){return"input rank "+r.rank+" should be > than [blockShape] "+t.length})),Bs(n.length===t.length,(function(){return"paddings.shape[0] "+n.length+" must be equal to [blockShape] "+t.length})),Bs(r.shape.reduce((function(e,r,i){return i>0&&i<=t.length?e&&(r+n[i-1][0]+n[i-1][1])%t[i-1]==0:e}),!0),(function(){return"input spatial dimensions "+r.shape.slice(1)+" with paddings "+n.toString()+" must be divisible by blockShapes "+t.toString()})),Ju.runKernelFunc((function(e){return e.spaceToBatchND(r,t,n)}),{$x:r},(function(e){return{$x:function(){return e.batchToSpaceND(t,n)}}}))}}),Tf=bc({squeeze_:function(e,t){var n=sc(e,"x","squeeze");return wf(n,$s(n.shape,t).newShape)}}),Ef=bc({stack_:function(e,t){void 0===t&&(t=0);var n=uc(e,"tensors","stack");if(Bs(n.length>=1,(function(){return"Pass at least one tensor to tf.stack"})),1===n.length)return n[0].expandDims(t);var r=n[0].rank,i=n[0].shape,a=n[0].dtype;Bs(t<=r,(function(){return"Axis must be <= rank of the tensor"})),n.forEach((function(e){js(i,e.shape,"All tensors passed to stack must have matching shapes")})),n.forEach((function(e){Bs(a===e.dtype,(function(){return"All tensors passed to stack must have matching dtypes"}))}));var o=n.map((function(e){return e.expandDims(t)}));return Fc(o,t)}}),kf=bc({tile_:function(e,t){var n=sc(e,"x","tile",null);Bs(n.rank===t.length,(function(){return"Error in transpose: rank of input "+n.rank+" must match length of reps "+t+"."}));var r=[n],i={reps:t};return Ju.runKernelFunc((function(e,r){var i=e.tile(n,t);return r([n]),i}),{x:n},(function(e,n){var r=n[0];return{x:function(){var n=Mc(r);if(1===r.rank)for(var i=0;i<t[0];++i)n=n.add(e.slice([i*r.shape[0]],[r.shape[0]]));else if(2===r.rank)for(i=0;i<t[0];++i)for(var a=0;a<t[1];++a)n=n.add(e.slice([i*r.shape[0],a*r.shape[1]],[r.shape[0],r.shape[1]]));else if(3===r.rank)for(i=0;i<t[0];++i)for(a=0;a<t[1];++a)for(var o=0;o<t[2];++o)n=n.add(e.slice([i*r.shape[0],a*r.shape[1],o*r.shape[2]],[r.shape[0],r.shape[1],r.shape[2]]));else{if(4!==r.rank)throw new Error("Gradient for tile operation is not implemented for rank-"+r.rank+" tensors yet.");for(i=0;i<t[0];++i)for(a=0;a<t[1];++a)for(o=0;o<t[2];++o)for(var s=0;s<t[3];++s)n=n.add(e.slice([i*r.shape[0],a*r.shape[1],o*r.shape[2],s*r.shape[3]],[r.shape[0],r.shape[1],r.shape[2],r.shape[3]]))}return n}}}),"Tile",i,r)}}),_f=bc({truncatedNormal_:function(e,t,n,r,i){if(void 0===t&&(t=0),void 0===n&&(n=1),null!=r&&"bool"===r)throw new Error("Unsupported data type "+r);for(var a=new $c(t,n,r,!0,i),o=ef(e,r),s=0;s<o.values.length;s++)o.values[s]=a.nextValue();return o.toTensor()}}),Cf=bc({unstack_:function(e,t){void 0===t&&(t=0),t=t||0;var n=sc(e,"x","unstack");Bs(t>=-n.shape.length&&t<n.shape.length,(function(){return"Axis = "+t+" is not in [-"+n.shape.length+", "+n.shape.length+")"})),t<0&&(t+=n.shape.length);var r={axis:t};return Ju.runKernelFunc((function(e){return e.unstack(n,t)}),{x:n},(function(e){return{x:function(){return Ef(e,t)}}}),"Unpack",r)}});function Pf(e,t,n,r){void 0===r&&(r=!0);var i=[];if(r)(i=i.concat(t.slice(0))).push(e[0]/n),i=i.concat(e.slice(1));else{i=i.concat(e[0]);for(var a=t.length,o=0;o<a;++o)i=i.concat([e[o+1]/t[o],t[o]]);i=i.concat(e.slice(a+1))}return i}function Of(e,t,n){void 0===n&&(n=!0);var r=[];if(n){r.push(t);for(var i=t+1;i<e;++i)i<=2*t?(r.push(i),r.push(i-(t+1))):r.push(i)}else{var a=[],o=[];for(i=1;i<e;++i)i>=2*t+1||i%2==1?o.push(i):a.push(i);r.push.apply(r,a),r.push(0),r.push.apply(r,o)}return r}function If(e,t,n,r){void 0===r&&(r=!0);var i=[];r?i.push(e[0]/n):i.push(e[0]*n);for(var a=1;a<e.length;++a)a<=t.length?r?i.push(t[a-1]*e[a]):i.push(e[a]/t[a-1]):i.push(e[a]);return i}function Af(e,t){for(var n=[0],r=0;r<t;++r)n.push(e[r][0]);return n}function Df(e,t,n){for(var r=e.slice(0,1),i=0;i<n;++i)r.push(e[i+1]-t[i][0]-t[i][1]);return r}function Rf(e,t){if(e.rank<1)throw new Error("tf.gatherND() expects the input to be rank 1 or higher, but the rank was "+e.rank+".");if(t.rank<1)throw new Error("tf.gatherND() expects the indices to be rank 1 or higher, but the rank was "+t.rank+".");if("int32"!==t.dtype)throw new Error("tf.gatherND() expects the indices to be int32 type, but the dtype was "+t.dtype+".");if(t.shape[t.rank-1]>e.rank)throw new Error("index innermost dimension length must be <= tensor rank; saw: "+t.shape[t.rank-1]+" vs. "+e.rank);if(0===e.size)throw new Error("Requested more than 0 entries, but input is empty. Input shape: "+e.shape+".");for(var n=t.shape,r=n[n.length-1],i=1,a=0;a<n.length-1;++a)i*=n[a];var o=e.shape,s=n.slice();s.pop();var u=1;for(a=r;a<e.rank;++a)u*=o[a],s.push(o[a]);var l=du(e.shape).map((function(e){return e/u})).concat([1]).slice(0,r);return[s,i,u,l]}Object.freeze({prepareAndValidate:Rf});function Nf(e){return e<=30?e:fu(e,Math.floor(Math.sqrt(e)))}function Mf(e,t,n){var r=t.rank>1?t.shape[t.rank-1]:1,i=t.rank>1?t.rank-1:1,a="Must have updates.shape = indices.shape[:batchDim] + shape[sliceDim:], got updates.shape: "+n.shape+", indices.shape: "+t.shape+", shape: "+e+", sliceDim: "+r+", and batchDim: "+i+".";if(n.rank<i)throw new Error(a+" update.rank < "+i+". ");if(e.length<r+(n.rank-i))throw new Error(a+" Output shape length < "+(r+(n.rank-i)));if(n.rank!==i+e.length-r)throw new Error(a+" update.rank != "+(i+e.length-r));for(var o=0;o<i;++o)if(n.shape[o]!==t.shape[o])throw new Error(a+" updates.shape["+o+"] ("+n.shape[o]+") != indices.shape["+o+"] ("+t.shape[o]+").");for(o=0;o<n.rank-i;++o)if(n.shape[o+i]!==e[o+r])throw new Error(a+" updates.shape["+(o+i)+"] ("+n.shape[o+i]+") != shape["+(o+i)+"] ("+e[o+i]+")")}function Ff(e,t,n){if(t.rank<1)throw new Error("tf.scatterND() expects the indices to be rank 1 or higher, but the rank was "+t.rank+".");if(e.rank<1)throw new Error("tf.scatterND() expects the updates to be rank 1 or higher, but the rank was "+e.rank+".");if("int32"!==t.dtype)throw new Error("The dtype of 'indices' should be int32, but got dtype: "+t.dtype);if(n.length<1)throw new Error("Output rank must be greater or equal to 1, but got shape: "+n);if(0===n.length){if(0===t.size)throw new Error("Indices specified for empty output. indices shape: "+t.shape);if(0===e.size)throw new Error("Updates specified for empty output. updates shape: "+e.shape)}Mf(n,t,e)}function Lf(e,t,n){for(var r=t.shape.length,i=r>1?t.shape[r-1]:1,a=n.length,o=1,s=i;s<a;++s)o*=n[s];var u=i<1?1:i;return{sliceRank:i,numUpdates:Vs(t.shape)/u,sliceSize:o,strides:du(n.slice(0,i)).concat([1]),outputSize:Vs(n)}}Object.freeze({validateUpdateShape:Mf,validateInput:Ff,calculateShapes:Lf});function Bf(e,t,n){Bs(e.rank===t.length,(function(){return"Error in slice"+e.rank+"D: Length of begin "+t+" must match the rank of the array ("+e.rank+")."})),Bs(e.rank===n.length,(function(){return"Error in slice"+e.rank+"D: Length of size "+n+" must match the rank of the array ("+e.rank+")."}));for(var r=function(r){Bs(t[r]+n[r]<=e.shape[r],(function(){return"Error in slice"+e.rank+"D: begin["+r+"] + size["+r+"] ("+(t[r]+n[r])+") would overflow input.shape["+r+"] ("+e.shape[r]+")"}))},i=0;i<e.rank;++i)r(i)}function jf(e){for(var t=[],n=0;e>0;)1&e&&t.push(n),e/=2,n++;return t}function zf(e,t,n){for(var r=[],i=0;i<e.length;i++)r[i]=Math.ceil((t[i]-e[i])/n[i]);return r}function Wf(e,t,n,r,i){var a=t[i],o=n[i]||1;(e&1<<i||null==a)&&(a=o>0?Number.MIN_SAFE_INTEGER:Number.MAX_SAFE_INTEGER);var s=r[i];return a<0&&(a+=s),Ms(0,a,s-1)}function Vf(e,t,n,r,i){var a=t[i],o=n[i]||1;(e&1<<i||null==a)&&(a=o>0?Number.MAX_SAFE_INTEGER:Number.MIN_SAFE_INTEGER);var s=r[i];return a<0&&(a+=s),o>0?Ms(0,a,s):Ms(-1,a,s-1)}function Uf(e,t,n){for(var r=n.length,i=0;i<n.length;i++)if(n[i]>1){r=i;break}for(i=r+1;i<n.length;i++)if(t[i]>0||n[i]!==e[i])return!1;return!0}function Kf(e,t){for(var n=e.length>0?e[e.length-1]:1,r=0;r<e.length-1;r++)n+=e[r]*t[r];return n}Object.freeze({assertParamsValid:Bf,maskToAxes:jf,computeOutShape:zf,startForAxis:Wf,stopForAxis:Vf,isSliceContinous:Uf,computeFlatOffset:Kf});function Hf(e){return Ju.customGrad(e)}var qf=bc({softmax_:function(e,t){void 0===t&&(t=-1);var n=sc(e,"logits","softmax","float32");if(-1===t&&(t=n.rank-1),t!==n.rank-1)throw Error("Softmax along a non-last dimension is not yet supported. Logits was rank "+n.rank+" and dim was "+t);return Ju.runKernelFunc((function(e,r){var i=e.softmax(n,t);return r([i]),i}),{logits:n},(function(e,n){var r=n[0],i=e.mul(r);return{logits:function(){return i.sub(i.sum([t],!0).mul(r))}}}),"Softmax",{dim:t},[],[!0])}}),Gf=bc({logSoftmax_:function(e,t){void 0===t&&(t=-1);var n=sc(e,"logits","logSoftmax");if(-1===t&&(t=n.rank-1),t!==n.rank-1)throw Error("Log Softmax along a non-last dimension is not yet supported. Logits was rank "+n.rank+" and axis was "+t);return Hf((function(e,n){var r=e.max(t,!0),i=e.sub(r),a=i.toFloat().sub(i.exp().sum(t,!0).log());return n([a]),{value:a,gradFunc:function(e,n){var r=n[0].exp();return e.sub(e.sum(t,!0).mul(r))}}}))(n)}}),Xf=function(){function e(e,t){this.backend=e,this.dataMover=t,this.data=new WeakMap,this.dataIdsCount=0}return e.prototype.get=function(e){return this.data.has(e)||this.dataMover.moveData(this.backend,e),this.data.get(e)},e.prototype.set=function(e,t){this.dataIdsCount++,this.data.set(e,t)},e.prototype.has=function(e){return this.data.has(e)},e.prototype.delete=function(e){return this.dataIdsCount--,this.data.delete(e)},e.prototype.numDataIds=function(){return this.dataIdsCount},e}(),Yf=function(){function e(){}return e.prototype.time=function(e){return Jf("time")},e.prototype.read=function(e){return Jf("read")},e.prototype.readSync=function(e){return Jf("readSync")},e.prototype.numDataIds=function(){return Jf("numDataIds")},e.prototype.disposeData=function(e){return Jf("disposeData")},e.prototype.write=function(e,t,n){return Jf("write")},e.prototype.move=function(e,t,n,r){return Jf("move")},e.prototype.memory=function(){return Jf("memory")},e.prototype.floatPrecision=function(){return Jf("floatPrecision")},e.prototype.epsilon=function(){return 32===this.floatPrecision()?1e-7:1e-4},e.prototype.batchMatMul=function(e,t,n,r){return Jf("batchMatMul")},e.prototype.fusedBatchMatMul=function(e){return e.a,e.b,e.transposeA,e.transposeB,e.bias,e.activation,e.preluActivationWeights,Jf("fusedBatchMatMul")},e.prototype.slice=function(e,t,n){return Jf("slice")},e.prototype.stridedSlice=function(e,t,n,r){return Jf("stridedSlice")},e.prototype.unstack=function(e,t){return Jf("unstack")},e.prototype.reverse=function(e,t){return Jf("reverse")},e.prototype.concat=function(e,t){return Jf("concat")},e.prototype.neg=function(e){return Jf("neg")},e.prototype.add=function(e,t){return Jf("add")},e.prototype.addN=function(e){return Jf("addN")},e.prototype.subtract=function(e,t){return Jf("subtract")},e.prototype.multiply=function(e,t){return Jf("multiply")},e.prototype.realDivide=function(e,t){return Jf("realDivide")},e.prototype.floorDiv=function(e,t){return Jf("floorDiv")},e.prototype.sum=function(e,t){return Jf("sum")},e.prototype.prod=function(e,t){return Jf("prod")},e.prototype.unsortedSegmentSum=function(e,t,n){return Jf("unsortedSegmentSum")},e.prototype.argMin=function(e,t){return Jf("argMin")},e.prototype.argMax=function(e,t){return Jf("argMax")},e.prototype.equal=function(e,t){return Jf("equal")},e.prototype.notEqual=function(e,t){return Jf("notEqual")},e.prototype.less=function(e,t){return Jf("less")},e.prototype.lessEqual=function(e,t){return Jf("lessEqual")},e.prototype.greater=function(e,t){return Jf("greater")},e.prototype.greaterEqual=function(e,t){return Jf("greaterEqual")},e.prototype.logicalNot=function(e){return Jf("logicalNot")},e.prototype.logicalAnd=function(e,t){return Jf("logicalAnd")},e.prototype.logicalOr=function(e,t){return Jf("logicalOr")},e.prototype.where=function(e){return Jf("where")},e.prototype.select=function(e,t,n){return Jf("select")},e.prototype.topk=function(e,t,n){return Jf("topk")},e.prototype.min=function(e,t){return Jf("min")},e.prototype.minimum=function(e,t){return Jf("minimum")},e.prototype.mod=function(e,t){return Jf("mod")},e.prototype.max=function(e,t){return Jf("max")},e.prototype.maximum=function(e,t){return Jf("maximum")},e.prototype.all=function(e,t){return Jf("all")},e.prototype.any=function(e,t){return Jf("any")},e.prototype.squaredDifference=function(e,t){return Jf("squaredDifference")},e.prototype.ceil=function(e){return Jf("ceil")},e.prototype.floor=function(e){return Jf("floor")},e.prototype.round=function(e){return Jf("round")},e.prototype.sign=function(e){return Jf("sign")},e.prototype.isNaN=function(e){return Jf("isNaN")},e.prototype.isInf=function(e){return Jf("isInf")},e.prototype.isFinite=function(e){return Jf("isFinite")},e.prototype.pow=function(e,t){return Jf("pow")},e.prototype.exp=function(e){return Jf("exp")},e.prototype.expm1=function(e){return Jf("expm1")},e.prototype.softmax=function(e,t){return Jf("softmax")},e.prototype.log=function(e){return Jf("log")},e.prototype.log1p=function(e){return Jf("log1p")},e.prototype.sqrt=function(e){return Jf("sqrt")},e.prototype.rsqrt=function(e){return Jf("rsqrt")},e.prototype.square=function(e){return Jf("square")},e.prototype.reciprocal=function(e){return Jf("reciprocal")},e.prototype.relu=function(e){return Jf("relu")},e.prototype.relu6=function(e){return Jf("relu6")},e.prototype.prelu=function(e,t){return Jf("prelu")},e.prototype.elu=function(e){return Jf("elu")},e.prototype.eluDer=function(e,t){return Jf("eluDer")},e.prototype.selu=function(e){return Jf("selu")},e.prototype.int=function(e){return Jf("int")},e.prototype.clip=function(e,t,n){return Jf("clip")},e.prototype.abs=function(e){return Jf("abs")},e.prototype.complexAbs=function(e){return Jf("complexAbs")},e.prototype.sigmoid=function(e){return Jf("sigmoid")},e.prototype.softplus=function(e){return Jf("softplus")},e.prototype.sin=function(e){return Jf("sin")},e.prototype.cos=function(e){return Jf("cos")},e.prototype.tan=function(e){return Jf("tan")},e.prototype.asin=function(e){return Jf("asin")},e.prototype.acos=function(e){return Jf("acos")},e.prototype.atan=function(e){return Jf("atan")},e.prototype.atan2=function(e,t){return Jf("atan2")},e.prototype.sinh=function(e){return Jf("sinh")},e.prototype.cosh=function(e){return Jf("cosh")},e.prototype.tanh=function(e){return Jf("tanh")},e.prototype.asinh=function(e){return Jf("asinh")},e.prototype.acosh=function(e){return Jf("acosh")},e.prototype.atanh=function(e){return Jf("atanh")},e.prototype.erf=function(e){return Jf("erf")},e.prototype.step=function(e,t){return Jf("step")},e.prototype.fusedConv2d=function(e){return e.input,e.filter,e.convInfo,e.bias,e.activation,e.preluActivationWeights,Jf("fusedConv2d")},e.prototype.conv2d=function(e,t,n){return Jf("conv2d")},e.prototype.conv2dDerInput=function(e,t,n){return Jf("conv2dDerInput")},e.prototype.conv2dDerFilter=function(e,t,n){return Jf("conv2dDerFilter")},e.prototype.fusedDepthwiseConv2D=function(e){return e.input,e.filter,e.convInfo,e.bias,e.activation,e.preluActivationWeights,Jf("fusedDepthwiseConv2D")},e.prototype.depthwiseConv2D=function(e,t,n){return Jf("depthwiseConv2D")},e.prototype.depthwiseConv2DDerInput=function(e,t,n){return Jf("depthwiseConv2DDerInput")},e.prototype.depthwiseConv2DDerFilter=function(e,t,n){return Jf("depthwiseConv2DDerFilter")},e.prototype.conv3d=function(e,t,n){return Jf("conv3d")},e.prototype.conv3dDerInput=function(e,t,n){return Jf("conv3dDerInput")},e.prototype.conv3dDerFilter=function(e,t,n){return Jf("conv3dDerFilter")},e.prototype.maxPool=function(e,t){return Jf("maxPool")},e.prototype.maxPoolBackprop=function(e,t,n,r){return Jf("maxPoolBackprop")},e.prototype.avgPool=function(e,t){return Jf("avgPool")},e.prototype.avgPoolBackprop=function(e,t,n){return Jf("avgPoolBackprop")},e.prototype.avgPool3d=function(e,t){return Jf("avgPool3d")},e.prototype.avgPool3dBackprop=function(e,t,n){return Jf("avgPool3dBackprop")},e.prototype.maxPool3d=function(e,t){return Jf("maxPool3d")},e.prototype.maxPool3dBackprop=function(e,t,n,r){return Jf("maxPool3dBackprop")},e.prototype.reshape=function(e,t){return Jf("reshape")},e.prototype.cast=function(e,t){return Jf("cast")},e.prototype.tile=function(e,t){return Jf("tile")},e.prototype.pad=function(e,t,n){return Jf("pad")},e.prototype.transpose=function(e,t){return Jf("transpose")},e.prototype.gather=function(e,t,n){return Jf("gather")},e.prototype.gatherND=function(e,t){return Jf("gatherND")},e.prototype.scatterND=function(e,t,n){return Jf("scatterND")},e.prototype.batchToSpaceND=function(e,t,n){return Jf("batchToSpaceND")},e.prototype.spaceToBatchND=function(e,t,n){return Jf("spaceToBatchND")},e.prototype.resizeBilinear=function(e,t,n,r){return Jf("resizeBilinear")},e.prototype.resizeBilinearBackprop=function(e,t,n){return Jf("resizeBilinearBackprop")},e.prototype.resizeNearestNeighbor=function(e,t,n,r){return Jf("resizeNearestNeighbor")},e.prototype.resizeNearestNeighborBackprop=function(e,t,n){return Jf("resizeNearestNeighborBackprop")},e.prototype.batchNormalization=function(e,t,n,r,i,a){return Jf("batchNormalization")},e.prototype.localResponseNormalization4D=function(e,t,n,r,i){return Jf("localResponseNormalization4D")},e.prototype.LRNGrad=function(e,t,n,r,i,a,o){return Jf("LRNGrad")},e.prototype.multinomial=function(e,t,n,r){return Jf("multinomial")},e.prototype.oneHot=function(e,t,n,r){return Jf("oneHot")},e.prototype.cumsum=function(e,t,n,r){return Jf("cumsum")},e.prototype.nonMaxSuppression=function(e,t,n,r,i){return Jf("nonMaxSuppression")},e.prototype.fft=function(e){return Jf("fft")},e.prototype.ifft=function(e){return Jf("ifft")},e.prototype.complex=function(e,t){return Jf("complex")},e.prototype.real=function(e){return Jf("real")},e.prototype.imag=function(e){return Jf("imag")},e.prototype.cropAndResize=function(e,t,n,r,i,a){return Jf("cropAndResize")},e.prototype.depthToSpace=function(e,t,n){return Jf("depthToSpace")},e.prototype.split=function(e,t,n){return Jf("split")},e.prototype.sparseToDense=function(e,t,n,r){return Jf("sparseToDense")},e.prototype.diag=function(e){return Jf("diag")},e.prototype.fill=function(e,t,n){return Jf("fill")},e.prototype.onesLike=function(e){return Jf("onesLike")},e.prototype.zerosLike=function(e){return Jf("zerosLike")},e.prototype.linspace=function(e,t,n){return Jf("linspace")},e.prototype.dispose=function(){return Jf("dispose")},e}();function Jf(e){throw new Error("'"+e+"' not yet implemented or not found in the registry. Did you forget to import the kernel?")}function $f(e,t){for(var n=e.length,r=[],i=0;i<n;i++){var a=n-1-i,o=e[a]||1;(t[t.length-1-i]||1)>1&&1===o&&r.unshift(a)}return r}function Qf(e,t){for(var n=[],r=0;r<t.length;r++){var i=e[e.length-r-1],a=t.length-r-1,o=t[a];(null==i||1===i&&o>1)&&n.unshift(a)}return n}function Zf(e,t){for(var n=[],r=Math.max(e.length,t.length),i=0;i<r;i++){var a=e[e.length-i-1];null==a&&(a=1);var o=t[t.length-i-1];if(null==o&&(o=1),1===a)n.unshift(o);else if(1===o)n.unshift(a);else{if(a!==o)throw Error("Operands could not be broadcast together with shapes "+e+" and "+t+".");n.unshift(a)}}return n}function ed(e,t,n,r,i,a,o){void 0===o&&(o="channelsLast");var s,u=ad(t),l=u[0],c=u[1];if("channelsLast"===o)s=[l,c,e[3],e[3]];else{if("channelsFirst"!==o)throw new Error("Unknown dataFormat "+o);s=[l,c,e[1],e[1]]}return nd(e,s,n,r,i,a,!1,o)}function td(e,t,n,r,i,a,o){void 0===o&&(o="NDHWC");var s,u,l=od(t),c=l[0],f=l[1],d=l[2];if("NDHWC"===o)u="channelsLast",s=[c,f,d,e[4],e[4]];else{if("NCDHW"!==o)throw new Error("Unknown dataFormat "+o);u="channelsFirst",s=[c,f,d,e[1],e[1]]}return rd(e,s,n,r,i,!1,u,a)}function nd(e,t,n,r,i,a,o,s){void 0===o&&(o=!1),void 0===s&&(s="channelsLast");var u=[-1,-1,-1,-1],l=u[0],c=u[1],f=u[2],d=u[3];if("channelsLast"===s)l=e[0],c=e[1],f=e[2],d=e[3];else{if("channelsFirst"!==s)throw new Error("Unknown dataFormat "+s);l=e[0],d=e[1],c=e[2],f=e[3]}var p,h=t[0],v=t[1],y=t[3],m=ad(n),g=m[0],b=m[1],x=ad(r),w=x[0],S=x[1],T=sd(h,w),E=sd(v,S),k=function(e,t,n,r,i,a,o,s){var u,l,c;if("number"==typeof e){u={top:e,bottom:e,left:e,right:e,type:0===e?"VALID":"NUMBER"};var f=function(e,t,n,r,i){null==r&&(r=id(e,t,n));var a=e[1],o=ud((e[0]-t+2*r)/n+1,i);Bs(Ks(o),(function(){return"The output # of rows ("+o+") must be an integer. Change the stride and/or zero pad parameters"}));var s=ud((a-t+2*r)/n+1,i);return Bs(Ks(s),(function(){return"The output # of columns ("+s+") must be an integer. Change the stride and/or zero pad parameters"})),[o,s]}([t,n],a,r,e,s);l=f[0],c=f[1]}else if("same"===e){l=Math.ceil(t/r),c=Math.ceil(n/i);var d=Math.max(0,(l-1)*r+a-t),p=Math.max(0,(c-1)*i+o-n),h=Math.floor(d/2),v=d-h,y=Math.floor(p/2);u={top:h,bottom:v,left:y,right:p-y,type:"SAME"}}else{if("valid"!==e)throw Error("Unknown padding parameter: "+e);u={top:0,bottom:0,left:0,right:0,type:"VALID"},l=Math.ceil((t-a+1)/r),c=Math.ceil((n-o+1)/i)}return{padInfo:u,outHeight:l,outWidth:c}}(i,c,f,g,b,T,E,a),_=k.padInfo,C=k.outHeight,P=k.outWidth,O=o?y*d:y;return"channelsFirst"===s?p=[l,O,C,P]:"channelsLast"===s&&(p=[l,C,P,O]),{batchSize:l,dataFormat:s,inHeight:c,inWidth:f,inChannels:d,outHeight:C,outWidth:P,outChannels:O,padInfo:_,strideHeight:g,strideWidth:b,filterHeight:h,filterWidth:v,effectiveFilterHeight:T,effectiveFilterWidth:E,dilationHeight:w,dilationWidth:S,inShape:e,outShape:p,filterShape:t}}function rd(e,t,n,r,i,a,o,s){void 0===a&&(a=!1),void 0===o&&(o="channelsLast");var u=[-1,-1,-1,-1,-1],l=u[0],c=u[1],f=u[2],d=u[3],p=u[4];if("channelsLast"===o)l=e[0],c=e[1],f=e[2],d=e[3],p=e[4];else{if("channelsFirst"!==o)throw new Error("Unknown dataFormat "+o);l=e[0],p=e[1],c=e[2],f=e[3],d=e[4]}var h,v=t[0],y=t[1],m=t[2],g=t[4],b=od(n),x=b[0],w=b[1],S=b[2],T=od(r),E=T[0],k=T[1],_=T[2],C=sd(v,E),P=sd(y,k),O=sd(m,_),I=function(e,t,n,r,i,a,o,s,u,l,c){var f,d,p,h;if("number"==typeof e){f={top:e,bottom:e,left:e,right:e,front:e,back:e,type:0===e?"VALID":"NUMBER"};var v=function(e,t,n,r,i,a){null==i&&(i=id(e,t,r));var o=e[1],s=e[2],u=ud((e[0]-t+2*i)/r+1,a);Bs(Ks(u),(function(){return"The output # of depths ("+u+") must be an integer. Change the stride and/or zero pad parameters"}));var l=ud((o-t+2*i)/r+1,a);Bs(Ks(l),(function(){return"The output # of rows ("+l+") must be an integer. Change the stride and/or zero pad parameters"}));var c=ud((s-t+2*i)/r+1,a);return Bs(Ks(c),(function(){return"The output # of columns ("+c+") must be an integer. Change the stride and/or zero pad parameters"})),[u,l,c,1]}([t,n,r,1],s,0,i,e,c);d=v[0],p=v[1],h=v[2]}else if("same"===e){var y=((d=Math.ceil(t/i))-1)*i+s-t,m=((p=Math.ceil(n/a))-1)*a+u-n,g=((h=Math.ceil(r/o))-1)*o+l-r,b=Math.floor(y/2),x=y-b,w=Math.floor(m/2),S=m-w,T=Math.floor(g/2);f={top:w,bottom:S,left:T,right:g-T,front:b,back:x,type:"SAME"}}else{if("valid"!==e)throw Error("Unknown padding parameter: "+e);f={top:0,bottom:0,left:0,right:0,front:0,back:0,type:"VALID"},d=Math.ceil((t-s+1)/i),p=Math.ceil((n-u+1)/a),h=Math.ceil((r-l+1)/o)}return{padInfo:f,outDepth:d,outHeight:p,outWidth:h}}(i,c,f,d,x,w,S,C,P,O,s),A=I.padInfo,D=I.outDepth,R=I.outHeight,N=I.outWidth,M=a?g*p:g;return"channelsFirst"===o?h=[l,M,D,R,N]:"channelsLast"===o&&(h=[l,D,R,N,M]),{batchSize:l,dataFormat:o,inDepth:c,inHeight:f,inWidth:d,inChannels:p,outDepth:D,outHeight:R,outWidth:N,outChannels:M,padInfo:A,strideDepth:x,strideHeight:w,strideWidth:S,filterDepth:v,filterHeight:y,filterWidth:m,effectiveFilterDepth:C,effectiveFilterHeight:P,effectiveFilterWidth:O,dilationDepth:E,dilationHeight:k,dilationWidth:_,inShape:e,outShape:h,filterShape:t}}function id(e,t,n,r){void 0===r&&(r=1);var i=sd(t,r);return Math.floor((e[0]*(n-1)-n+i)/2)}function ad(e){return"number"==typeof e?[e,e,e]:2===e.length?[e[0],e[1],1]:e}function od(e){return"number"==typeof e?[e,e,e]:e}function sd(e,t){return t<=1?e:e+(e-1)*(t-1)}function ud(e,t){if(!t)return e;switch(t){case"round":return Math.round(e);case"ceil":return Math.ceil(e);case"floor":return Math.floor(e);default:throw new Error("Unknown roundingMode "+t)}}function ld(e){var t=ad(e),n=t[0],r=t[1],i=t[2];return 1===n&&1===r&&1===i}function cd(e,t){return ld(e)||ld(t)}function fd(e){if("NHWC"===e)return"channelsLast";if("NCHW"===e)return"channelsFirst";throw new Error("Unknown dataFormat "+e)}function dd(e,t,n){if("complex64"===t){if("complex64"===e.dtype)return e.clone();var r=Ac(e.shape),i=e.toFloat(),a=n.complex(i,r);return r.dispose(),i.dispose(),a}if(!nu(e.dtype,t))return Ju.makeTensorFromDataId(e.dataId,e.shape,t);if("complex64"===e.dtype){var o=n.real(e);return a=o.cast(t),o.dispose(),a}if("int32"===t)return n.int(e);if("bool"===t){var s=kc(0,e.dtype);return a=n.notEqual(e,s),s.dispose(),a}throw new Error("Error in Cast: failed to cast "+e.dtype+" to "+t)}function pd(e,t){return Ju.makeTensorFromDataId(e.dataId,t,e.dtype)}function hd(e,t,n){var r=(t-e)/(n-1),i=yu(n,"float32");i[0]=e;for(var a=1;a<i.length;a++)i[a]=i[a-1]+r;return _c(i,"float32")}Object.freeze({castTensor:dd,reshapeTensor:pd,linspaceImpl:hd,upcastType:Vu,axesAreInnerMostDims:lc,combineLocations:cc,computeOutAndReduceShapes:fc,expandShapeToKeepDim:dc,assertAxesAreInnerMostDims:pc,getAxesPermutation:hc,getUndoAxesPermutation:vc,getInnerMostAxes:yc,getBroadcastDims:$f,getReductionAxes:Qf,assertAndGetBroadcastShape:Zf,assertParamsConsistent:mc,computeOutShape:gc,computePool2DInfo:ed,computePool3DInfo:td,computeConv2DInfo:nd,computeConv3DInfo:rd,computeDefaultPad:id,tupleValuesAreOne:ld,eitherStridesOrDilationsAreOne:cd,convertConv2DDataFormat:fd,PARALLELIZE_THRESHOLD:30,computeOptimalWindowSize:Nf});function vd(e,t){if(e.length!==t.length)throw new Error("Cannot merge real and imag arrays of different lengths. real:"+e.length+", imag: "+t.length+".");for(var n=new Float32Array(2*e.length),r=0;r<n.length;r+=2)n[r]=e[r/2],n[r+1]=t[r/2];return n}function yd(e,t){return{real:e[2*t],imag:e[2*t+1]}}function md(e,t,n,r){e[2*r]=t,e[2*r+1]=n}function gd(e,t,n){var r=(n?2:-2)*Math.PI*(e/t);return{real:Math.cos(r),imag:Math.sin(r)}}function bd(e,t,n){var r=function(e,t,n){return function(e,t,n){for(var r=0,i=e.length,a=0,o=!1;r<i;){var s=n(t,e[a=r+(i-r>>>1)]);s>0?r=a+1:(i=a,o=!s)}return o?r:-r-1}(e,t,n||xd)}(e,t,n),i=r<0?-(r+1):r;e.splice(i,0,t)}function xd(e,t){return e>t?1:e<t?-1:0}function wd(e,t,n,r,i){return Td(e,t,n,r,i,0).selectedIndices}function Sd(e,t,n,r,i,a){var o=Td(e,t,n,r,i,a,!0);return o.numValidOutputs.dispose(),{selectedIndices:o.selectedIndices,selectedScores:o.selectedScores}}function Td(e,t,n,r,i,a,o,s){void 0===o&&(o=!1),void 0===s&&(s=!1);for(var u=Array.from(t).map((function(e,t){return{score:e,boxIndex:t,suppressBeginIndex:0}})).filter((function(e){return e.score>i})).sort(_d),l=a>0?-.5/a:0,c=[],f=[];c.length<n&&u.length>0;){var d=u.pop(),p=d.score,h=d.boxIndex,v=d.suppressBeginIndex;if(p<i)break;for(var y=!1,m=c.length-1;m>=v;--m){var g=Ed(e,h,c[m]);if(g>=r){y=!0;break}if(d.score=d.score*kd(r,l,g),d.score<=i)break}d.suppressBeginIndex=c.length,y||(d.score===p?(c.push(h),f.push(d.score)):d.score>i&&bd(u,d,_d))}var b=c.length;return s&&(c.fill(0,b),f.fill(0,b)),{selectedIndices:_c(c,"int32"),selectedScores:_c(f,"float32"),numValidOutputs:kc(b,"int32")}}function Ed(e,t,n){var r=e.subarray(4*t,4*t+4),i=e.subarray(4*n,4*n+4),a=Math.min(r[0],r[2]),o=Math.min(r[1],r[3]),s=Math.max(r[0],r[2]),u=Math.max(r[1],r[3]),l=Math.min(i[0],i[2]),c=Math.min(i[1],i[3]),f=Math.max(i[0],i[2]),d=Math.max(i[1],i[3]),p=(s-a)*(u-o),h=(f-l)*(d-c);if(p<=0||h<=0)return 0;var v=Math.max(a,l),y=Math.max(o,c),m=Math.min(s,f),g=Math.min(u,d),b=Math.max(m-v,0)*Math.max(g-y,0);return b/(p+h-b)}function kd(e,t,n){var r=Math.exp(t*n*n);return n<=e?r:0}function _d(e,t){return e.score-t.score||e.score===t.score&&t.boxIndex-e.boxIndex}function Cd(e,t,n){var r=new Array(e.rank).fill(0),i=e.shape.slice();return t.map((function(t){i[n]=t;var a=e.slice(r,i);return r[n]+=t,a}))}function Pd(e,t){for(var n=new Array(e.rank),r=0;r<n.length;r++)n[r]=e.shape[r]*t[r];var i=ef(n,e.dtype);for(r=0;r<i.values.length;++r){for(var a=i.indexToLoc(r),o=new Array(e.rank),s=0;s<o.length;s++)o[s]=a[s]%e.shape[s];var u=e.locToIndex(o);i.values[r]=e.values[u]}return i.toTensor()}function Od(e,t,n,r,i){for(var a=t[t.length-1],o=[e.length/a,a],s=o[0],u=o[1],l=Qs(n,s*r),c=Qs("int32",s*r),f=0;f<s;f++){for(var d=f*u,p=e.subarray(d,d+u),h=[],v=0;v<p.length;v++)h.push({value:p[v],index:v});h.sort((function(e,t){return t.value-e.value}));var y=f*r,m=l.subarray(y,y+r),g=c.subarray(y,y+r);for(v=0;v<r;v++)m[v]=h[v].value,g[v]=h[v].index}var b=t.slice();return b[b.length-1]=r,[Tc(l,b,n),Tc(c,b,"int32")]}function Id(e,t){for(var n=[],r=0;r<t.length;r++)t[r]&&n.push(r);var i=ef(e,"int32"),a=ef([n.length,e.length],"int32");for(r=0;r<n.length;r++){var o=i.indexToLoc(n[r]),s=r*e.length;a.values.set(o,s)}return a.toTensor()}var Ad=function(e,t){this.outputShape=[],this.outputShape=e,this.variableNames=t.map((function(e,t){return"T"+t}));var n=[];this.variableNames.forEach((function(e){n.push("float v"+e+" = get"+e+"AtOutCoords();")}));var r=this.variableNames.map((function(e){return"v"+e})).join(" + ");this.userCode="\n      void main() {\n        "+n.join("\n        ")+"\n\n        float result = "+r+";\n        setOutput(result);\n      }\n    "},Dd=function(e,t){this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.variableNames=t.map((function(e,t){return"T"+t}));var n=[];this.variableNames.forEach((function(e){n.push("vec4 v"+e+" = get"+e+"AtOutCoords();")}));var r=this.variableNames.map((function(e){return"v"+e})).join(" + ");this.userCode="\n      void main() {\n        "+n.join("\n        ")+"\n\n        vec4 result = "+r+";\n        setOutput(result);\n      }\n    "},Rd=function(e,t,n){this.variableNames=["A"];var r=e.windowSize,i=e.batchSize,a=e.inSize,o=Math.ceil(a/r);n||this.variableNames.push("bestIndicesA"),this.outputShape=[i,o];var s="max"===t?">":"<",u=n?"inOffset + i;":"round(getBestIndicesA(batch, inOffset + i));";this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * "+r+";\n\n        int bestIndex = inOffset;\n        float bestValue = getA(batch, bestIndex);\n\n        for (int i = 0; i < "+r+"; i++) {\n          int inIdx = "+u+";\n          float candidate = getA(batch, inIdx);\n          if (candidate "+s+" bestValue) {\n            bestValue = candidate;\n            bestIndex = inIdx;\n          }\n        }\n        setOutput(float(bestIndex));\n      }\n    "};function Nd(e,t){return["x","y","z","w","u","v"].slice(0,t).map((function(t){return e+"."+t}))}function Md(e,t){return 1===t?[e]:Nd(e,t)}function Fd(){var e,t,n,r,i,a,o,s,u,l;return 2===ks().getNumber("WEBGL_VERSION")?(e="#version 300 es",t="in",n="out",r="in",i="texture",a="outputColor",o="out vec4 outputColor;",s="\n      bool isnan_custom(float val) {\n        return (val > 0.0 || val < 0.0) ? false : val != 0.0;\n      }\n\n      bvec4 isnan_custom(vec4 val) {\n        return bvec4(isnan_custom(val.x),\n          isnan_custom(val.y), isnan_custom(val.z), isnan_custom(val.w));\n      }\n\n      #define isnan(value) isnan_custom(value)\n    ",u="",l="\n      #define round(value) newRound(value)\n      int newRound(float value) {\n        return int(floor(value + 0.5));\n      }\n\n      ivec4 newRound(vec4 value) {\n        return ivec4(floor(value + vec4(0.5)));\n      }\n    "):(e="",t="attribute",n="varying",r="varying",i="texture2D",a="gl_FragColor",o="",s="\n      #define isnan(value) isnan_custom(value)\n      bool isnan_custom(float val) {\n        return (val > 0. || val < 1. || val == 0.) ? false : true;\n      }\n      bvec4 isnan_custom(vec4 val) {\n        return bvec4(isnan(val.x), isnan(val.y), isnan(val.z), isnan(val.w));\n      }\n    ",u="\n      uniform float INFINITY;\n\n      bool isinf(float val) {\n        return abs(val) == INFINITY;\n      }\n      bvec4 isinf(vec4 val) {\n        return equal(abs(val), vec4(INFINITY));\n      }\n    ",l="\n      int round(float value) {\n        return int(floor(value + 0.5));\n      }\n\n      ivec4 round(vec4 value) {\n        return ivec4(floor(value + vec4(0.5)));\n      }\n    "),{version:e,attribute:t,varyingVs:n,varyingFs:r,texture2D:i,output:a,defineOutput:o,defineSpecialNaN:s,defineSpecialInf:u,defineRound:l}}function Ld(e,t,n){void 0===n&&(n="index");var r=du(t);return r.map((function(t,i){return"int "+e[i]+" = "+n+" / "+t+"; "+(i===r.length-1?"int "+e[i+1]+" = "+n+" - "+e[i]+" * "+t:"index -= "+e[i]+" * "+t)+";"})).join("")}function Bd(e){var t=du(e).map((function(e){return e.toString()}));return"\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * "+t[0]+" + coords.y * "+t[1]+" + coords.z;\n  }\n"}var jd="\n  const float FLOAT_MAX = 1.70141184e38;\n  const float FLOAT_MIN = 1.17549435e-38;\n\n  lowp vec4 encode_float(highp float v) {\n    if (isnan(v)) {\n      return vec4(255, 255, 255, 255);\n    }\n\n    highp float av = abs(v);\n\n    if(av < FLOAT_MIN) {\n      return vec4(0.0, 0.0, 0.0, 0.0);\n    } else if(v > FLOAT_MAX) {\n      return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;\n    } else if(v < -FLOAT_MAX) {\n      return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;\n    }\n\n    highp vec4 c = vec4(0,0,0,0);\n\n    highp float e = floor(log2(av));\n    highp float m = exp2(fract(log2(av))) - 1.0;\n\n    c[2] = floor(128.0 * m);\n    m -= c[2] / 128.0;\n    c[1] = floor(32768.0 * m);\n    m -= c[1] / 32768.0;\n    c[0] = floor(8388608.0 * m);\n\n    highp float ebias = e + 127.0;\n    c[3] = floor(ebias / 2.0);\n    ebias -= c[3] * 2.0;\n    c[2] += floor(ebias) * 128.0;\n\n    c[3] += 128.0 * step(0.0, -v);\n\n    return c / 255.0;\n  }\n";function zd(e,t,n,r){var i=[];e.forEach((function(e){var t=Vs(e.shapeInfo.logicalShape);e.shapeInfo.isUniform?i.push("uniform float "+e.name+(t>1?"["+t+"]":"")+";"):(i.push("uniform sampler2D "+e.name+";"),i.push("uniform int offset"+e.name+";"))}));var a,o,s=i.join("\n"),u=e.map((function(e){return function(e,t,n){void 0===n&&(n=!1);var r="";r+=n?Vd(e):Wd(e);var i=e.shapeInfo.logicalShape,a=t.logicalShape;return i.length<=a.length&&(r+=n?function(e,t){var n,r=e.name,i=r.charAt(0).toUpperCase()+r.slice(1),a="get"+i+"AtOutCoords",o=e.shapeInfo.logicalShape.length,s=t.logicalShape.length,u=$f(e.shapeInfo.logicalShape,t.logicalShape),l=Yd(s),c=s-o,f=["x","y","z","w","u","v"];n=0===o?"":s<2&&u.length>=1?"coords = 0;":u.map((function(e){return"coords."+f[e+c]+" = 0;"})).join("\n");var d;d=s<2&&o>0?"coords":e.shapeInfo.logicalShape.map((function(e,t){return"coords."+f[t+c]})).join(", ");var p="return outputValue;",h=1===Vs(e.shapeInfo.logicalShape),v=1===Vs(t.logicalShape);if(1!==o||h||v){if(h&&!v)p=1===s?"\n        return vec4(outputValue.x, outputValue.x, 0., 0.);\n      ":"\n        return vec4(outputValue.x);\n      ";else if(u.length){var y=o-2,m=o-1;u.indexOf(y)>-1&&u.indexOf(m)>-1?p="return vec4(outputValue.x);":u.indexOf(y)>-1?p="return vec4(outputValue.x, outputValue.y, outputValue.x, outputValue.y);":u.indexOf(m)>-1&&(p="return vec4(outputValue.xx, outputValue.zz);")}}else p="\n      return vec4(outputValue.xy, outputValue.xy);\n    ";return"\n    vec4 "+a+"() {\n      "+l+" coords = getOutputCoords();\n      "+n+"\n      vec4 outputValue = get"+i+"("+d+");\n      "+p+"\n    }\n  "}(e,t):function(e,t){var n=e.name,r=n.charAt(0).toUpperCase()+n.slice(1),i="get"+r+"AtOutCoords",a=t.texShape,o=e.shapeInfo.texShape,s=e.shapeInfo.logicalShape.length,u=t.logicalShape.length;if(!e.shapeInfo.isUniform&&s===u&&null==e.shapeInfo.flatOffset&&Us(o,a))return"\n      float "+i+"() {\n        return sampleTexture("+n+", resultUV);\n      }\n    ";var l,c=Yd(u),f=$f(e.shapeInfo.logicalShape,t.logicalShape),d=u-s,p=["x","y","z","w","u","v"];l=0===s?"":u<2&&f.length>=1?"coords = 0;":f.map((function(e){return"coords."+p[e+d]+" = 0;"})).join("\n");var h;return h=u<2&&s>0?"coords":e.shapeInfo.logicalShape.map((function(e,t){return"coords."+p[t+d]})).join(", "),"\n    float "+i+"() {\n      "+c+" coords = getOutputCoords();\n      "+l+"\n      return get"+r+"("+h+");\n    }\n  "}(e,t)),r}(e,t,r)})).join("\n"),l=t.texShape,c=Fd(),f=function(e){return"\n    float sampleTexture(sampler2D textureSampler, vec2 uv) {\n      return "+e.texture2D+"(textureSampler, uv).r;\n    }\n  "}(c),d=function(e){return e.version+"\n    precision highp float;\n    precision highp int;\n    precision highp sampler2D;\n    "+e.varyingFs+" vec2 resultUV;\n    "+e.defineOutput+"\n    const vec2 halfCR = vec2(0.5, 0.5);\n\n    struct ivec5\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n    };\n\n    struct ivec6\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n      int v;\n    };\n\n    uniform float NAN;\n    "+e.defineSpecialNaN+"\n    "+e.defineSpecialInf+"\n    "+e.defineRound+"\n\n    int imod(int x, int y) {\n      return x - y * (x / y);\n    }\n\n    int idiv(int a, int b, float sign) {\n      int res = a / b;\n      int mod = imod(a, b);\n      if (sign < 0. && mod != 0) {\n        res -= 1;\n      }\n      return res;\n    }\n\n    //Based on the work of Dave Hoskins\n    //https://www.shadertoy.com/view/4djSRW\n    #define HASHSCALE1 443.8975\n    float random(float seed){\n      vec2 p = resultUV * seed;\n      vec3 p3  = fract(vec3(p.xyx) * HASHSCALE1);\n      p3 += dot(p3, p3.yzx + 19.19);\n      return fract((p3.x + p3.y) * p3.z);\n    }\n\n    "+Ud+"\n    "+Kd+"\n    "+Hd+"\n  "}(c);return t.isPacked?(a=function(e,t){switch(e.length){case 0:return"\n    int getOutputCoords() {\n      return 0;\n    }\n  ";case 1:return function(e,t){var n=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)];return 1===n[0]?"\n      int getOutputCoords() {\n        return 2 * int(resultUV.x * "+n[1]+".0);\n      }\n    ":1===n[1]?"\n      int getOutputCoords() {\n        return 2 * int(resultUV.y * "+n[0]+".0);\n      }\n    ":"\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+n[0]+", "+n[1]+"));\n      return 2 * (resTexRC.x * "+n[1]+" + resTexRC.y);\n    }\n  "}(0,t);case 2:return function(e,t){var n=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)];if(Us(e,t))return"\n      ivec2 getOutputCoords() {\n        return 2 * ivec2(resultUV.yx * vec2("+n[0]+", "+n[1]+"));\n      }\n    ";var r=Math.ceil(e[1]/2);return"\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+n[0]+", "+n[1]+"));\n\n      int index = resTexRC.x * "+n[1]+" + resTexRC.y;\n      int r = 2 * (index / "+r+");\n      int c = imod(index, "+r+") * 2;\n\n      return ivec2(r, c);\n    }\n  "}(e,t);case 3:return n=e,r=t,i=[Math.ceil(r[0]/2),Math.ceil(r[1]/2)],o=(a=Math.ceil(n[2]/2))*Math.ceil(n[1]/2),"\n    ivec3 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+i[0]+", "+i[1]+"));\n      int index = resTexRC.x * "+i[1]+" + resTexRC.y;\n\n      int b = index / "+o+";\n      index -= b * "+o+";\n\n      int r = 2 * (index / "+a+");\n      int c = imod(index, "+a+") * 2;\n\n      return ivec3(b, r, c);\n    }\n  ";default:return function(e,t){for(var n=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)],r=Math.ceil(e[e.length-1]/2),i=r*Math.ceil(e[e.length-2]/2),a=i,o="",s="b, r, c",u=2;u<e.length-1;u++)o="\n      int b"+u+" = index / "+(a*=e[e.length-u-1])+";\n      index -= b"+u+" * "+a+";\n    "+o,s="b"+u+", "+s;return"\n    ivec"+e.length+" getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+n[0]+", "+n[1]+"));\n      int index = resTexRC.x * "+n[1]+" + resTexRC.y;\n\n      "+o+"\n\n      int b = index / "+i+";\n      index -= b * "+i+";\n\n      int r = 2 * (index / "+r+");\n      int c = imod(index, "+r+") * 2;\n\n      return ivec"+e.length+"("+s+");\n    }\n  "}(e,t)}var n,r,i,a,o}(t.logicalShape,l),o=function(e){return"\n    void setOutput(vec4 val) {\n      "+e.output+" = val;\n    }\n  "}(c)):(a=function(e,t){switch(e.length){case 0:return"\n    int getOutputCoords() {\n      return 0;\n    }\n  ";case 1:return function(e,t){return 1===t[0]?"\n      int getOutputCoords() {\n        return int(resultUV.x * "+t[1]+".0);\n      }\n    ":1===t[1]?"\n      int getOutputCoords() {\n        return int(resultUV.y * "+t[0]+".0);\n      }\n    ":"\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+t[0]+", "+t[1]+"));\n      return resTexRC.x * "+t[1]+" + resTexRC.y;\n    }\n  "}(0,t);case 2:return function(e,t){return Us(e,t)?"\n      ivec2 getOutputCoords() {\n        return ivec2(resultUV.yx * vec2("+t[0]+", "+t[1]+"));\n      }\n    ":1===e[1]?"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2("+t[0]+", "+t[1]+"));\n        int index = resTexRC.x * "+t[1]+" + resTexRC.y;\n        return ivec2(index, 0);\n      }\n    ":1===e[0]?"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2("+t[0]+", "+t[1]+"));\n        int index = resTexRC.x * "+t[1]+" + resTexRC.y;\n        return ivec2(0, index);\n      }\n    ":"\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+t[0]+", "+t[1]+"));\n      int index = resTexRC.x * "+t[1]+" + resTexRC.y;\n      int r = index / "+e[1]+";\n      int c = index - r * "+e[1]+";\n      return ivec2(r, c);\n    }\n  "}(e,t);case 3:return n=t,r=Ld(["r","c","d"],e),"\n    ivec3 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+n[0]+", "+n[1]+"));\n      int index = resTexRC.x * "+n[1]+" + resTexRC.y;\n      "+r+"\n      return ivec3(r, c, d);\n    }\n  ";case 4:return function(e,t){var n=Ld(["r","c","d","d2"],e);return"\n    ivec4 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2("+t[0]+", "+t[1]+"));\n      int index = resTexRC.x * "+t[1]+" + resTexRC.y;\n      "+n+"\n      return ivec4(r, c, d, d2);\n    }\n  "}(e,t);case 5:return function(e,t){var n=Ld(["r","c","d","d2","d3"],e);return"\n    ivec5 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx * vec2("+t[0]+",\n                             "+t[1]+"));\n\n      int index = resTexRC.x * "+t[1]+" + resTexRC.y;\n\n      "+n+"\n\n      ivec5 outShape = ivec5(r, c, d, d2, d3);\n      return outShape;\n    }\n  "}(e,t);case 6:return function(e,t){var n=Ld(["r","c","d","d2","d3","d4"],e);return"\n    ivec6 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2("+t[0]+", "+t[1]+"));\n      int index = resTexRC.x * "+t[1]+" + resTexRC.y;\n\n      "+n+"\n\n      ivec6 result = ivec6(r, c, d, d2, d3, d4);\n      return result;\n    }\n  "}(e,t);default:throw new Error(e.length+"-D output sampling is not yet supported")}var n,r}(t.logicalShape,l),o=function(e){return"\n    void setOutput(float val) {\n      "+e.output+" = vec4(val, 0, 0, 0);\n    }\n  "}(c)),r&&(d+=qd),[d,f,o,s,a,u,n].join("\n")}function Wd(e){var t=e.shapeInfo.logicalShape;switch(t.length){case 0:return function(e){var t=e.name,n="get"+t.charAt(0).toUpperCase()+t.slice(1);if(e.shapeInfo.isUniform)return"float "+n+"() {return "+t+";}";var r=e.shapeInfo.texShape,i=r[0],a=r[1];if(1===i&&1===a)return"\n      float "+n+"() {\n        return sampleTexture("+t+", halfCR);\n      }\n    ";var o=e.shapeInfo.texShape;return"\n    float "+n+"() {\n      vec2 uv = uvFromFlat("+o[0]+", "+o[1]+", "+Gd(t)+");\n      return sampleTexture("+t+", uv);\n    }\n  "}(e);case 1:return function(e){var t=e.name,n="get"+t.charAt(0).toUpperCase()+t.slice(1);if(e.shapeInfo.isUniform)return"\n      float "+n+"(int index) {\n        "+Xd(e)+"\n      }\n    ";var r=e.shapeInfo.texShape,i=r[0],a=r[1];if(1===a&&1===i)return"\n      float "+n+"(int index) {\n        return sampleTexture("+t+", halfCR);\n      }\n    ";var o=Gd(t);return 1===a?"\n      float "+n+"(int index) {\n        vec2 uv = vec2(0.5, (float(index + "+o+") + 0.5) / "+i+".0);\n        return sampleTexture("+t+", uv);\n      }\n    ":1===i?"\n      float "+n+"(int index) {\n        vec2 uv = vec2((float(index + "+o+") + 0.5) / "+a+".0, 0.5);\n        return sampleTexture("+t+", uv);\n      }\n    ":"\n    float "+n+"(int index) {\n      vec2 uv = uvFromFlat("+i+", "+a+", index + "+o+");\n      return sampleTexture("+t+", uv);\n    }\n  "}(e);case 2:return function(e){var t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),i=e.shapeInfo.texShape;if(null!=i&&Us(t,i)){var a=i[0];return"\n    float "+r+"(int row, int col) {\n      vec2 uv = (vec2(col, row) + halfCR) / vec2("+i[1]+".0, "+a+".0);\n      return sampleTexture("+n+", uv);\n    }\n  "}var o=$s(t),s=o.newShape,u=o.keptDims,l=s;if(l.length<t.length)return"\n      "+Wd(Jd(e,l))+"\n      float "+r+"(int row, int col) {\n        return "+r+"("+$d(["row","col"],u)+");\n      }\n    ";if(e.shapeInfo.isUniform)return"\n      float "+r+"(int row, int col) {\n        int index = round(dot(vec2(row, col), vec2("+t[1]+", 1)));\n        "+Xd(e)+"\n      }\n    ";var c=i[0],f=i[1],d=Gd(n);return 1===f?"\n    float "+r+"(int row, int col) {\n      float index = dot(vec3(row, col, "+d+"), vec3("+t[1]+", 1, 1));\n      vec2 uv = vec2(0.5, (index + 0.5) / "+c+".0);\n      return sampleTexture("+n+", uv);\n    }\n  ":1===c?"\n    float "+r+"(int row, int col) {\n      float index = dot(vec3(row, col, "+d+"), vec3("+t[1]+", 1, 1));\n      vec2 uv = vec2((index + 0.5) / "+f+".0, 0.5);\n      return sampleTexture("+n+", uv);\n    }\n  ":"\n  float "+r+"(int row, int col) {\n    // Explicitly use integer operations as dot() only works on floats.\n    int index = row * "+t[1]+" + col + "+d+";\n    vec2 uv = uvFromFlat("+c+", "+f+", index);\n    return sampleTexture("+n+", uv);\n  }\n"}(e);case 3:return function(e){var t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),i=t[1]*t[2],a=t[2],o=$s(t),s=o.newShape,u=o.keptDims,l=s;if(l.length<t.length)return"\n        "+Wd(Jd(e,l))+"\n        float "+r+"(int row, int col, int depth) {\n          return "+r+"("+$d(["row","col","depth"],u)+");\n        }\n      ";if(e.shapeInfo.isUniform)return"\n      float "+r+"(int row, int col, int depth) {\n        int index = round(dot(vec3(row, col, depth),\n                          vec3("+i+", "+a+", 1)));\n        "+Xd(e)+"\n      }\n    ";var c=e.shapeInfo.texShape,f=c[0],d=c[1],p=e.shapeInfo.flatOffset;return d===i&&null==p?"\n        float "+r+"(int row, int col, int depth) {\n          float texR = float(row);\n          float texC = dot(vec2(col, depth), vec2("+a+", 1));\n          vec2 uv = (vec2(texC, texR) + halfCR) /\n                     vec2("+d+".0, "+f+".0);\n          return sampleTexture("+n+", uv);\n        }\n      ":d===a&&null==p?"\n    float "+r+"(int row, int col, int depth) {\n      float texR = dot(vec2(row, col), vec2("+t[1]+", 1));\n      float texC = float(depth);\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2("+d+".0, "+f+".0);\n      return sampleTexture("+n+", uv);\n    }\n  ":"\n      float "+r+"(int row, int col, int depth) {\n        // Explicitly use integer operations as dot() only works on floats.\n        int index = row * "+i+" + col * "+a+" + depth + "+Gd(n)+";\n        vec2 uv = uvFromFlat("+f+", "+d+", index);\n        return sampleTexture("+n+", uv);\n      }\n  "}(e);case 4:return function(e){var t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),i=t[3],a=t[2]*i,o=t[1]*a,s=$s(t),u=s.newShape,l=s.keptDims;if(u.length<t.length)return"\n      "+Wd(Jd(e,u))+"\n      float "+r+"(int row, int col, int depth, int depth2) {\n        return "+r+"("+$d(["row","col","depth","depth2"],l)+");\n      }\n    ";if(e.shapeInfo.isUniform)return"\n      float "+r+"(int row, int col, int depth, int depth2) {\n        int index = round(dot(vec4(row, col, depth, depth2),\n                          vec4("+o+", "+a+", "+i+", 1)));\n        "+Xd(e)+"\n      }\n    ";var c=e.shapeInfo.flatOffset,f=e.shapeInfo.texShape,d=f[0],p=f[1];return p===o&&null==c?"\n      float "+r+"(int row, int col, int depth, int depth2) {\n        float texR = float(row);\n        float texC =\n            dot(vec3(col, depth, depth2),\n                vec3("+a+", "+i+", 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2("+p+".0, "+d+".0);\n        return sampleTexture("+n+", uv);\n      }\n    ":p===i&&null==c?"\n      float "+r+"(int row, int col, int depth, int depth2) {\n        float texR = dot(vec3(row, col, depth),\n                         vec3("+t[1]*t[2]+", "+t[2]+", 1));\n        float texC = float(depth2);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2("+p+".0, "+d+".0);\n        return sampleTexture("+n+", uv);\n      }\n    ":"\n    float "+r+"(int row, int col, int depth, int depth2) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * "+o+" + col * "+a+" +\n          depth * "+i+" + depth2;\n      vec2 uv = uvFromFlat("+d+", "+p+", index + "+Gd(n)+");\n      return sampleTexture("+n+", uv);\n    }\n  "}(e);case 5:return function(e){var t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),i=t[4],a=t[3]*i,o=t[2]*a,s=t[1]*o,u=$s(t),l=u.newShape,c=u.keptDims;if(l.length<t.length)return"\n      "+Wd(Jd(e,l))+"\n      float "+r+"(int row, int col, int depth, int depth2, int depth3) {\n        return "+r+"("+$d(["row","col","depth","depth2","depth3"],c)+");\n      }\n    ";if(e.shapeInfo.isUniform)return"\n      float "+r+"(int row, int col, int depth, int depth2, int depth3) {\n        float index = dot(\n          vec4(row, col, depth, depth2),\n          vec4("+s+", "+o+", "+a+", "+i+")) +\n          depth3;\n        "+Xd(e)+"\n      }\n    ";var f=e.shapeInfo.flatOffset,d=e.shapeInfo.texShape,p=d[0],h=d[1];return h===s&&null==f?"\n      float "+r+"(int row, int col, int depth, int depth2, int depth3) {\n        int texR = row;\n        float texC = dot(vec4(col, depth, depth2, depth3),\n                         vec4("+o+", "+a+", "+i+", 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2("+h+".0, "+p+".0);\n        return sampleTexture("+n+", uv);\n      }\n    ":h===i&&null==f?"\n      float "+r+"(int row, int col, int depth, int depth2, int depth3) {\n        float texR = dot(\n          vec4(row, col, depth, depth2),\n          vec4("+t[1]*t[2]*t[3]+",\n               "+t[2]*t[3]+", "+t[3]+", 1));\n        int texC = depth3;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2("+h+".0, "+p+".0);\n        return sampleTexture("+n+", uv);\n      }\n    ":"\n    float "+r+"(int row, int col, int depth, int depth2, int depth3) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * "+s+" + col * "+o+" + depth * "+a+" +\n          depth2 * "+i+" + depth3 + "+Gd(n)+";\n      vec2 uv = uvFromFlat("+p+", "+h+", index);\n      return sampleTexture("+n+", uv);\n    }\n  "}(e);case 6:return function(e){var t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),i=$s(t),a=i.newShape,o=i.keptDims;if(a.length<t.length)return"\n      "+Wd(Jd(e,a))+"\n      float "+r+"(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        return "+r+"("+$d(["row","col","depth","depth2","depth3","depth4"],o)+");\n      }\n    ";var s=t[5],u=t[4]*s,l=t[3]*u,c=t[2]*l,f=t[1]*c;if(e.shapeInfo.isUniform)return"\n      float "+r+"(int row, int col, int depth,\n                  int depth2, int depth3, int depth4) {\n        int index = round(dot(\n          vec4(row, col, depth, depth2),\n          vec4("+f+", "+c+", "+l+", "+u+")) +\n          dot(\n            vec2(depth3, depth4),\n            vec2("+s+", 1)));\n        "+Xd(e)+"\n      }\n    ";var d=e.shapeInfo.flatOffset,p=e.shapeInfo.texShape,h=p[0],v=p[1];return v===f&&null==d?"\n      float "+r+"(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        int texR = row;\n        float texC = dot(vec4(col, depth, depth2, depth3),\n          vec4("+c+", "+l+", "+u+", "+s+")) +\n               float(depth4);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2("+v+".0, "+h+".0);\n        return sampleTexture("+n+", uv);\n      }\n    ":v===s&&null==d?"\n      float "+r+"(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        float texR = dot(vec4(row, col, depth, depth2),\n          vec4("+t[1]*t[2]*t[3]*t[4]+",\n               "+t[2]*t[3]*t[4]+",\n               "+t[3]*t[4]+",\n               "+t[4]+")) + float(depth3);\n        int texC = depth4;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2("+v+".0, "+h+".0);\n        return sampleTexture("+n+", uv);\n      }\n    ":"\n    float "+r+"(int row, int col, int depth,\n                  int depth2, int depth3, int depth4) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * "+f+" + col * "+c+" + depth * "+l+" +\n          depth2 * "+u+" + depth3 * "+s+" + depth4 + "+Gd(n)+";\n      vec2 uv = uvFromFlat("+h+", "+v+", index);\n      return sampleTexture("+n+", uv);\n    }\n  "}(e);default:throw new Error(t.length+"-D input sampling is not yet supported")}}function Vd(e){var t;switch(e.shapeInfo.logicalShape.length){case 0:return"\n    vec4 "+("get"+(t=e.name).charAt(0).toUpperCase()+t.slice(1))+"() {\n      return "+Fd().texture2D+"("+t+", halfCR);\n    }\n  ";case 1:return function(e){var t=e.name,n="get"+t.charAt(0).toUpperCase()+t.slice(1),r=e.shapeInfo.texShape,i=[Math.ceil(r[0]/2),Math.ceil(r[1]/2)],a=Fd();return"\n    vec4 "+n+"(int index) {\n      vec2 uv = packedUVfrom1D(\n        "+i[0]+", "+i[1]+", index);\n      return "+a.texture2D+"("+t+", uv);\n    }\n  "}(e);case 2:return function(e){var t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),i=e.shapeInfo.texShape,a=i[0],o=i[1],s=Fd();if(null!=i&&Us(t,i))return"\n      vec4 "+r+"(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2("+o+".0, "+a+".0);\n\n        return "+s.texture2D+"("+n+", uv);\n      }\n    ";var u=[Math.ceil(i[0]/2),Math.ceil(i[1]/2)];return"\n    vec4 "+r+"(int row, int col) {\n      vec2 uv = packedUVfrom2D("+Math.ceil(t[1]/2)+", "+u[0]+", "+u[1]+", row, col);\n      return "+s.texture2D+"("+n+", uv);\n    }\n  "}(e);case 3:return function(e){var t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),i=e.shapeInfo.texShape,a=[Math.ceil(i[0]/2),Math.ceil(i[1]/2)];if(1===t[0])return"\n        "+Vd(Jd(e,t.slice(1)))+"\n        vec4 "+r+"(int b, int row, int col) {\n          return "+r+"("+$d(["b","row","col"],[1,2])+");\n        }\n      ";var o=a[0],s=a[1],u=Math.ceil(t[2]/2);return"\n    vec4 "+r+"(int b, int row, int col) {\n      vec2 uv = packedUVfrom3D(\n        "+o+", "+s+", "+u*Math.ceil(t[1]/2)+", "+u+", b, row, col);\n      return "+Fd().texture2D+"("+n+", uv);\n    }\n  "}(e);default:return function(e){for(var t=e.shapeInfo.logicalShape,n=t.length,r=e.name,i="get"+r.charAt(0).toUpperCase()+r.slice(1),a=e.shapeInfo.texShape,o=[Math.ceil(a[0]/2),Math.ceil(a[1]/2)],s=o[0],u=o[1],l=Math.ceil(t[n-1]/2),c=l*Math.ceil(t[n-2]/2),f="int b, int row, int col",d="b * "+c+" + (row / 2) * "+l+" + (col / 2)",p=2;p<n-1;p++)f="int b"+p+", "+f,d="b"+p+" * "+(c*=t[n-p-1])+" + "+d;return"\n    vec4 "+i+"("+f+") {\n      int index = "+d+";\n      int texR = index / "+u+";\n      int texC = index - texR * "+u+";\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2("+u+", "+s+");\n      return "+Fd().texture2D+"("+r+", uv);\n    }\n  "}(e)}}var Ud="\nvec2 uvFromFlat(int texNumR, int texNumC, int index) {\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\nvec2 packedUVfrom1D(int texNumR, int texNumC, int index) {\n  int texelIndex = index / 2;\n  int texR = texelIndex / texNumC;\n  int texC = texelIndex - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",Kd="\nvec2 packedUVfrom2D(int texelsInLogicalRow, int texNumR,\n  int texNumC, int row, int col) {\n  int texelIndex = (row / 2) * texelsInLogicalRow + (col / 2);\n  int texR = texelIndex / texNumC;\n  int texC = texelIndex - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",Hd="\nvec2 packedUVfrom3D(int texNumR, int texNumC,\n    int texelsInBatch, int texelsInLogicalRow, int b,\n    int row, int col) {\n  int index = b * texelsInBatch + (row / 2) * texelsInLogicalRow + (col / 2);\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",qd="\n  float getChannel(vec4 frag, vec2 innerDims) {\n    vec2 modCoord = mod(innerDims, 2.);\n    return modCoord.x == 0. ?\n      (modCoord.y == 0. ? frag.r : frag.g) :\n      (modCoord.y == 0. ? frag.b : frag.a);\n  }\n  float getChannel(vec4 frag, int dim) {\n    float modCoord = mod(float(dim), 2.);\n    return modCoord == 0. ? frag.r : frag.g;\n  }\n";function Gd(e){return"offset"+e}function Xd(e){var t=e.name,n=Vs(e.shapeInfo.logicalShape);return n<2?"return "+t+";":"\n    for (int i = 0; i < "+n+"; i++) {\n      if (i == index) {\n        return "+t+"[i];\n      }\n    }\n  "}function Yd(e){if(e<=1)return"int";if(2===e)return"ivec2";if(3===e)return"ivec3";if(4===e)return"ivec4";if(5===e)return"ivec5";if(6===e)return"ivec6";throw Error("GPU for rank "+e+" is not yet supported")}function Jd(e,t){var n=JSON.parse(JSON.stringify(e));return n.shapeInfo.logicalShape=t,n}function $d(e,t){return t.map((function(t){return e[t]})).join(", ")}var Qd=function(e,t,n,r){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,Bs(e.length>2,(function(){return"Packed arg"+(n.charAt(0).toUpperCase()+n.slice(1))+" supports only inputs with rank above 2."}));var i=e[e.length-1],a=Math.ceil(i/t);this.outputShape=e.slice(0,-1),a>1&&this.outputShape.push(a),r||this.variableNames.push("bestIndicesA");var o,s,u=this.outputShape,l=u.length,c=Yd(l),f=Md("coords",l);if(1===a){var d=Yd(s=l+1);o="\n        "+d+" sourceLocR = "+d+"("+f.join()+", 0);\n        ++"+f[l-1]+";\n        "+d+" sourceLocG = "+d+"("+f.join()+", 0);\n        ++"+f[l-2]+";\n        "+d+" sourceLocA = "+d+"("+f.join()+", 0);\n        --"+f[l-1]+";\n        "+d+" sourceLocB = "+d+"("+f.join()+", 0);\n        --"+f[l-2]+";"}else s=l,o="\n        "+c+" sourceLocR = coords;\n        ++"+f[l-1]+";\n        "+c+" sourceLocG = coords;\n        ++"+f[l-2]+";\n        "+c+" sourceLocA = coords;\n        --"+f[l-1]+";\n        "+c+" sourceLocB = coords;\n        --"+f[l-2]+";";var p=["x","y","z","w","u","v"].slice(0,s),h="."+p[s-1],v=p.map((function(e){return"int "+e})),y=Md("sourceLocR",s-1).concat("inIdx.r"),m=Md("sourceLocG",s-1).concat("inIdx.g"),g=Md("sourceLocB",s-1).concat("inIdx.b"),b=Md("sourceLocA",s-1).concat("inIdx.a"),x="max"===n?"greaterThan":"lessThan",w=r?"":"\n          inIdx = round(vec4(getBestIndicesAChannel("+y.join()+"),\n                             getBestIndicesAChannel("+m.join()+"),\n                             getBestIndicesAChannel("+g.join()+"),\n                             getBestIndicesAChannel("+b.join()+")));",S="vec4(\n            getAChannel("+y.join()+"),\n            hasNextCol ? getAChannel("+m.join()+") : 0.,\n            hasNextRow ? getAChannel("+g.join()+") : 0.,\n            hasNextRow && hasNextCol ? getAChannel("+b.join()+") : 0.)",T=r?"":"\n      float getBestIndicesAChannel("+v.join()+") {\n        return getChannel(getBestIndicesA("+p.join()+"),\n                                          vec2("+p.slice(-2).join()+"));\n      }";this.userCode="\n      float getAChannel("+v.join()+") {\n        return getChannel(getA("+p.join()+"),\n                               vec2("+p.slice(-2).join()+"));\n      }\n      "+T+"\n      void main() {\n        "+c+" coords = getOutputCoords();\n        bool hasNextCol = "+f[l-1]+" < "+(u[l-1]-1)+";\n        bool hasNextRow = "+f[l-2]+" < "+(u[l-2]-1)+";\n        "+o+"\n        ivec4 srcIdx = ivec4(sourceLocR"+h+", sourceLocG"+h+",\n          sourceLocB"+h+", sourceLocA"+h+") * "+t+";\n        ivec4 inIdx = srcIdx;\n        vec4 bestIndex = vec4(inIdx);\n        vec4 bestValue = "+S+";\n\n        for (int i = 0; i < "+t+"; i++) {\n          inIdx = srcIdx;\n          "+w+"\n          vec4 candidate = "+S+";\n          bvec4 nan = isnan(candidate);\n          bvec4 replace = bvec4(\n            vec4("+x+"(candidate, bestValue)) * (vec4(1.0) - vec4(nan)));\n\n          bestValue = vec4(replace.x  ? candidate.x : bestValue.x,\n                           replace.y  ? candidate.y : bestValue.y,\n                           replace.z  ? candidate.z : bestValue.z,\n                           replace.w  ? candidate.w : bestValue.w);\n          bestIndex = mix(bestIndex, vec4(inIdx), vec4(replace));\n          srcIdx++;\n        }\n        setOutput(bestIndex);\n      }\n    "},Zd=function(e){this.variableNames=["dy"],this.outputShape=e.inShape;var t=e.filterHeight,n=e.filterWidth,r=e.strideHeight,i=e.strideWidth,a=e.dilationHeight,o=e.dilationWidth,s=e.effectiveFilterHeight,u=e.effectiveFilterWidth,l=s-1-e.padInfo.top,c=u-1-e.padInfo.left,f=1/(t*n);this.userCode="\n      const ivec2 pads = ivec2("+l+", "+c+");\n      const float avgMultiplier = float("+f+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n\n        ivec2 dyRCCorner = coords.yz - pads;\n        int dyRCorner = dyRCCorner.x;\n        int dyCCorner = dyRCCorner.y;\n\n        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < "+s+";\n            wR += "+a+") {\n          float dyR = float(dyRCorner + wR) / "+r+".0;\n\n          if (dyR < 0.0 || dyR >= "+e.outHeight+".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          for (int wC = 0; wC < "+u+";\n            wC+= "+o+") {\n            float dyC = float(dyCCorner + wC) / "+i+".0;\n\n            if (dyC < 0.0 || dyC >= "+e.outWidth+".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            float dyValue = getDy(b, idyR, idyC, d);\n\n            dotProd += dyValue * avgMultiplier;\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},ep=function(e){this.variableNames=["dy"],this.outputShape=e.inShape;var t=e.filterDepth,n=e.filterHeight,r=e.filterWidth,i=e.strideDepth,a=e.strideHeight,o=e.strideWidth,s=e.dilationDepth,u=e.dilationHeight,l=e.dilationWidth,c=e.effectiveFilterDepth,f=e.effectiveFilterHeight,d=e.effectiveFilterWidth,p=c-1-e.padInfo.front,h=f-1-e.padInfo.top,v=d-1-e.padInfo.left,y=1/(t*n*r);this.userCode="\n      const ivec3 pads = ivec3("+p+", "+h+", "+v+");\n      const float avgMultiplier = float("+y+");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyDCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        // Convolve dy(?, ?, ?, d) with pos mask(:, :, :, ch) to get\n        // dx(xD, xR, xC, ch).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int wD = 0; wD < "+c+";\n            wD += "+s+") {\n          float dyD = float(dyDCorner + wD) / "+i+".0;\n\n          if (dyD < 0.0 || dyD >= "+e.outDepth+".0 || fract(dyD) > 0.0) {\n            continue;\n          }\n          int idyD = int(dyD);\n\n          for (int wR = 0; wR < "+f+";\n              wR += "+u+") {\n            float dyR = float(dyRCorner + wR) / "+a+".0;\n\n            if (dyR < 0.0 || dyR >= "+e.outHeight+".0 ||\n                fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            for (int wC = 0; wC < "+d+";\n                wC += "+l+") {\n              float dyC = float(dyCCorner + wC) / "+o+".0;\n\n              if (dyC < 0.0 || dyC >= "+e.outWidth+".0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              float dyValue = getDy(batch, idyD, idyR, idyC, ch);\n\n              dotProd += dyValue * avgMultiplier;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},tp=function(e,t,n,r,i,a){this.outputShape=[],this.variableNames=["x","mean","variance"],Zf(e,t),Zf(e,n);var o="0.0";null!=r&&(Zf(e,r),this.variableNames.push("offset"),o="getOffsetAtOutCoords()");var s="1.0";null!=i&&(Zf(e,i),this.variableNames.push("scale"),s="getScaleAtOutCoords()"),this.outputShape=e,this.userCode="\n      void main() {\n        float x = getXAtOutCoords();\n        float mean = getMeanAtOutCoords();\n        float variance = getVarianceAtOutCoords();\n        float offset = "+o+";\n        float scale = "+s+";\n        float inv = scale * inversesqrt(variance + float("+a+"));\n        setOutput(dot(vec3(x, -mean, offset), vec3(inv, inv, 1)));\n      }\n    "},np=function(e,t,n,r,i,a){this.packedInputs=!0,this.packedOutput=!0,this.variableNames=["x","mean","variance"],Zf(e,t),Zf(e,n);var o="vec4(0.0)";null!=r&&(Zf(e,r),this.variableNames.push("offset"),o="getOffsetAtOutCoords()");var s="vec4(1.0)";null!=i&&(Zf(e,i),this.variableNames.push("scale"),s="getScaleAtOutCoords()"),this.outputShape=e,this.userCode="\n      void main() {\n        vec4 offset = "+o+";\n        vec4 scale = "+s+";\n\n        vec4 x = getXAtOutCoords();\n        vec4 mean = getMeanAtOutCoords();\n        vec4 variance = getVarianceAtOutCoords();\n\n        vec4 inv = scale * inversesqrt(variance + vec4("+a+"));\n\n        setOutput((x - mean) * inv + offset);\n      }\n    "},rp=function(e,t,n){this.variableNames=["AReal","AImag","BReal","BImag"],this.outputShape=Zf(t,n),this.userCode="\n      float binaryOpComplex(\n          float areal, float aimag, float breal, float bimag) {\n        "+e+"\n      }\n\n      void main() {\n        float areal = getARealAtOutCoords();\n        float aimag = getAImagAtOutCoords();\n        float breal = getBRealAtOutCoords();\n        float bimag = getBImagAtOutCoords();\n        setOutput(binaryOpComplex(areal, aimag, breal, bimag));\n      }\n    "},ip="return a + b;",ap="return a - b;",op="return a * b;",sp="return (a < 0.) ? b * a : a;",up=function(e,t,n){this.variableNames=["A","B"],this.outputShape=Zf(t,n),this.userCode="\n      float binaryOperation(float a, float b) {\n        "+e+"\n      }\n\n      void main() {\n        float a = getAAtOutCoords();\n        float b = getBAtOutCoords();\n        setOutput(binaryOperation(a, b));\n      }\n    "},lp="\n  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));\n  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);\n",cp=function(e,t,n,r){void 0===r&&(r=!1),this.variableNames=["A","B"],this.supportsBroadcasting=!0,this.packedInputs=!0,this.packedOutput=!0,this.outputShape=Zf(t,n);var i=this.outputShape.length,a="";if(r)if(0===i||1===Vs(this.outputShape))a="\n          result.y = 0.;\n          result.z = 0.;\n          result.w = 0.;\n        ";else if(a="\n          "+Yd(i)+" coords = getOutputCoords();\n        ",1===i)a+="\n            result.y = (coords + 1) >= "+this.outputShape[0]+" ? 0. : result.y;\n            result.z = 0.;\n            result.w = 0.;\n          ";else{var o=Md("coords",i);a+="\n            bool nextRowOutOfBounds =\n              ("+o[i-2]+" + 1) >= "+this.outputShape[i-2]+";\n            bool nextColOutOfBounds =\n              ("+o[i-1]+" + 1) >= "+this.outputShape[i-1]+";\n            result.y = nextColOutOfBounds ? 0. : result.y;\n            result.z = nextRowOutOfBounds ? 0. : result.z;\n            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;\n          "}this.userCode="\n      vec4 binaryOperation(vec4 a, vec4 b) {\n        "+e+"\n      }\n\n      void main() {\n        vec4 a = getAAtOutCoords();\n        vec4 b = getBAtOutCoords();\n\n        vec4 result = binaryOperation(a, b);\n        "+a+"\n\n        setOutput(result);\n      }\n    "},fp=function(){function e(e){this.variableNames=["A"],this.outputShape=e,this.userCode="\n      uniform float minVal;\n      uniform float maxVal;\n\n      void main() {\n        float value = getAAtOutCoords();\n        if (isnan(value)) {\n          setOutput(value);\n          return;\n        }\n\n        setOutput(clamp(value, minVal, maxVal));\n      }\n    "}return e.prototype.getCustomSetupFunc=function(e,t){var n=this;return function(r,i){null==n.minLoc&&(n.minLoc=r.getUniformLocationNoThrow(i,"minVal"),n.maxLoc=r.getUniformLocationNoThrow(i,"maxVal")),r.gl.uniform1f(n.minLoc,e),r.gl.uniform1f(n.maxLoc,t)}},e}(),dp=function(){function e(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.userCode="\n      uniform float minVal;\n      uniform float maxVal;\n\n      void main() {\n        vec4 value = getAAtOutCoords();\n\n        if (any(isnan(value))) {\n          setOutput(value);\n          return;\n        }\n\n        setOutput(clamp(value, vec4(minVal), vec4(maxVal)));\n      }\n    "}return e.prototype.getCustomSetupFunc=function(e,t){var n=this;return function(r,i){null==n.minLoc&&(n.minLoc=r.getUniformLocationNoThrow(i,"minVal"),n.maxLoc=r.getUniformLocationNoThrow(i,"maxVal")),r.gl.uniform1f(n.minLoc,e),r.gl.uniform1f(n.maxLoc,t)}},e}(),pp=function(e){this.variableNames=["real","imag"],this.outputShape=e,this.userCode="\n      void main() {\n        float re = abs(getRealAtOutCoords());\n        float im = abs(getImagAtOutCoords());\n        float mx = max(re, im);\n\n        // sadly the length function in glsl is not underflow-safe\n        // (at least not on Intel GPUs). So the safe solution is\n        // to ensure underflow-safety in all cases.\n        setOutput(\n          mx == 0.0 ? 0.0 : mx * length(vec2(1, min(re, im)/mx))\n        );\n      }\n    "},hp=function(e){this.outputShape=[],this.outputShape=gc(e,1),this.variableNames=e.map((function(e,t){return"T"+t}));var t=new Array(e.length-1);t[0]=e[0][1];for(var n=1;n<t.length;n++)t[n]=t[n-1]+e[n][1];var r=["if (yC < "+t[0]+") setOutput(getT0(yR, yC));"];for(n=1;n<t.length;n++){var i=t[n-1];r.push("else if (yC < "+t[n]+") setOutput(getT"+n+"(yR, yC-"+i+"));")}var a=t.length,o=t[t.length-1];r.push("else setOutput(getT"+a+"(yR, yC-"+o+"));"),this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int yR = coords.x;\n        int yC = coords.y;\n\n        "+r.join("\n        ")+"\n      }\n    "},vp=function(e,t){this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[],this.outputShape=gc(e,t);var n=this.outputShape,r=n.length,i=Yd(r),a=Md("coords",r),o=["x","y","z","w","u","v"].slice(0,r);this.variableNames=e.map((function(e,t){return"T"+t}));var s=new Array(e.length-1);s[0]=e[0][t];for(var u=1;u<s.length;u++)s[u]=s[u-1]+e[u][t];var l=o[t],c=o.slice(-2),f=o.join(),d="if ("+l+" < "+s[0]+") {\n        return getChannel(\n            getT0("+f+"), vec2("+c.join()+"));\n        }";for(u=1;u<s.length;u++){var p=s[u-1];d+="\n        if ("+l+" < "+s[u]+"  && "+l+" >= "+s[u-1]+") {\n          return getChannel(\n            getT"+u+"("+yp(o,l,p)+"),\n            vec2("+yp(c,l,p)+"));\n        }"}var h=s.length,v=s[s.length-1];d+="\n        return getChannel(\n          getT"+h+"("+yp(o,l,v)+"),\n          vec2("+yp(c,l,v)+"));",this.userCode="\n      float getValue("+o.map((function(e){return"int "+e}))+") {\n        "+d+"\n      }\n\n      void main() {\n        "+i+" coords = getOutputCoords();\n        vec4 result = vec4(getValue("+a+"), 0., 0., 0.);\n\n        "+a[r-1]+" = "+a[r-1]+" + 1;\n        if ("+a[r-1]+" < "+n[r-1]+") {\n          result.g = getValue("+a+");\n        }\n\n        "+a[r-2]+" = "+a[r-2]+" + 1;\n        if ("+a[r-2]+" < "+n[r-2]+") {\n          result.a = getValue("+a+");\n        }\n\n        "+a[r-1]+" = "+a[r-1]+" - 1;\n        if ("+a[r-2]+" < "+n[r-2]+" &&\n            "+a[r-1]+" < "+n[r-1]+") {\n          result.b = getValue("+a+");\n        }\n        setOutput(result);\n      }\n    "};function yp(e,t,n){var r=e.indexOf(t);return e.map((function(e,t){return t===r?e+" - "+n:e})).join()}var mp=function(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;var t=e.strideHeight,n=e.strideWidth,r=e.padInfo.top,i=e.padInfo.left,a="channelsLast"===e.dataFormat;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int wR = coords.x;\n        int wC = coords.y;\n        int d1 = coords.z;\n        int d2 = coords.w;\n\n        // Convolve x(?, ?, d1) with dy(:, :, d2) to get dw(wR, wC, d1, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int b = 0; b < "+e.batchSize+"; b++) {\n          for (int yR = 0; yR < "+e.outHeight+"; yR++) {\n            int xR = wR + yR * "+t+" - "+r+";\n\n            if (xR < 0 || xR >= "+e.inHeight+") {\n              continue;\n            }\n\n            for (int yC = 0; yC < "+e.outWidth+"; yC++) {\n              int xC = wC + yC * "+n+" - "+i+";\n\n              if (xC < 0 || xC >= "+e.inWidth+") {\n                continue;\n              }\n\n              if ("+a+") {\n                float dyValue = getDy(b, yR, yC, d2);\n                float xValue = getX(b, xR, xC, d1);\n                dotProd += (xValue * dyValue);\n              } else {\n                float dyValue = getDy(b, d2, yR, yC);\n                float xValue = getX(b, d1, xR, xC);\n                dotProd += (xValue * dyValue);\n              }\n\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},gp=function(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;var t=e.filterHeight,n=e.filterWidth,r=e.strideHeight,i=e.strideWidth,a="channelsLast"===e.dataFormat,o=t-1-e.padInfo.top,s=n-1-e.padInfo.left,u=a?1:2,l=a?2:3,c=a?3:1;this.userCode="\n      const ivec2 pads = ivec2("+o+", "+s+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords["+c+"];\n\n        ivec2 dyCorner = ivec2(coords["+u+"], coords["+l+"]) - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        // Convolve dy(?, ?, d2) with w(:, :, d1, d2) to compute dx(xR, xC, d1).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < "+t+"; wR++) {\n          float dyR = float(dyRCorner + wR) / "+r+".0;\n\n          if (dyR < 0.0 || dyR >= "+e.outHeight+".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          int wRPerm = "+t+" - 1 - wR;\n\n          for (int wC = 0; wC < "+n+"; wC++) {\n            float dyC = float(dyCCorner + wC) / "+i+".0;\n\n            if (dyC < 0.0 || dyC >= "+e.outWidth+".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            int wCPerm = "+n+" - 1 - wC;\n\n            for (int d2 = 0; d2 < "+e.outChannels+"; d2++) {\n\n              if ("+a+") {\n                float xValue = getDy(batch, idyR, idyC, d2);\n                float wValue = getW(wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              } else {\n                float xValue = getDy(batch, d2, idyR, idyC);\n                float wValue = getW(wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              }\n\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},bp=function(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;var t=e.strideDepth,n=e.strideHeight,r=e.strideWidth,i=e.padInfo.front,a=e.padInfo.top,o=e.padInfo.left;this.userCode="\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int wF = coords.x;\n        int wR = coords.y;\n        int wC = coords.z;\n        int d1 = coords.w;\n        int d2 = coords.u;\n\n        float dotProd = 0.0;\n\n        for (int b = 0; b < "+e.batchSize+"; b++) {\n          for (int yF = 0; yF < "+e.outDepth+"; yF++) {\n            int xF = wF + yF * "+t+" - "+i+";\n\n            if (xF < 0 || xF >= "+e.inDepth+") {\n              continue;\n            }\n\n            for (int yR = 0; yR < "+e.outHeight+"; yR++) {\n              int xR = wR + yR * "+n+" - "+a+";\n\n              if (xR < 0 || xR >= "+e.inHeight+") {\n                continue;\n              }\n\n              for (int yC = 0; yC < "+e.outWidth+"; yC++) {\n                int xC = wC + yC * "+r+" - "+o+";\n\n                if (xC < 0 || xC >= "+e.inWidth+") {\n                  continue;\n                }\n\n                float dyValue = getDy(b, yF, yR, yC, d2);\n                float xValue = getX(b, xF, xR, xC, d1);\n                dotProd += (xValue * dyValue);\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},xp=function(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;var t=e.filterDepth,n=e.filterHeight,r=e.filterWidth,i=e.strideDepth,a=e.strideHeight,o=e.strideWidth,s=t-1-e.padInfo.front,u=n-1-e.padInfo.top,l=r-1-e.padInfo.left;this.userCode="\n      const ivec3 pads = ivec3("+s+", "+u+", "+l+");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int d1 = coords.u;\n\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyFCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        float dotProd = 0.0;\n        for (int wF = 0; wF < "+t+"; wF++) {\n          float dyF = float(dyFCorner + wF) / "+i+".0;\n\n          if (dyF < 0.0 || dyF >= "+e.outDepth+".0 || fract(dyF) > 0.0) {\n            continue;\n          }\n          int idyF = int(dyF);\n\n          int wFPerm = "+t+" - 1 - wF;\n\n          for (int wR = 0; wR < "+n+"; wR++) {\n            float dyR = float(dyRCorner + wR) / "+a+".0;\n\n            if (dyR < 0.0 || dyR >= "+e.outHeight+".0 ||\n              fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            int wRPerm = "+n+" - 1 - wR;\n\n            for (int wC = 0; wC < "+r+"; wC++) {\n              float dyC = float(dyCCorner + wC) / "+o+".0;\n\n              if (dyC < 0.0 || dyC >= "+e.outWidth+".0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              int wCPerm = "+r+" - 1 - wC;\n\n              for (int d2 = 0; d2 < "+e.outChannels+"; d2++) {\n                float xValue = getDy(batch, idyF, idyR, idyC, d2);\n                float wValue = getW(wFPerm, wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},wp=function(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;var t=e.strideHeight,n=e.strideWidth,r=e.padInfo.top,i=e.padInfo.left,a=e.outChannels/e.inChannels;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int wR = coords.x;\n        int wC = coords.y;\n        int d1 = coords.z;\n        int dm = coords.w;\n        int d2 = d1 * "+a+" + dm;\n\n        float dotProd = 0.0;\n\n        // TO DO: Vec4 over the batch size\n        for (int b = 0; b < "+e.batchSize+"; b++) {\n          for (int yR = 0; yR < "+e.outHeight+"; yR++) {\n            int xR = wR + yR * "+t+" - "+r+";\n\n            if (xR < 0 || xR >= "+e.inHeight+") {\n              continue;\n            }\n\n            for (int yC = 0; yC < "+e.outWidth+"; yC++) {\n              int xC = wC + yC * "+n+" - "+i+";\n\n              if (xC < 0 || xC >= "+e.inWidth+") {\n                continue;\n              }\n\n              float dyValue = getDy(b, yR, yC, d2);\n              float xValue = getX(b, xR, xC, d1);\n              dotProd += (xValue * dyValue);\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},Sp=function(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;var t=e.filterHeight,n=e.filterWidth,r=e.strideHeight,i=e.strideWidth,a=t-1-e.padInfo.top,o=n-1-e.padInfo.left,s=e.outChannels/e.inChannels;this.userCode="\n      const ivec2 pads = ivec2("+a+", "+o+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords[3];\n        ivec2 dyCorner = coords.yz - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        float dotProd = 0.0;\n\n        for (int wR = 0; wR < "+t+"; wR++) {\n          float dyR = float(dyRCorner + wR) / "+r+".0;\n\n          if (dyR < 0.0 || dyR >= "+e.outHeight+".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          int wRPerm = "+t+" - 1 - wR;\n\n          for (int wC = 0; wC < "+n+"; wC++) {\n            float dyC = float(dyCCorner + wC) / "+i+".0;\n\n            if (dyC < 0.0 || dyC >= "+e.outWidth+".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            int wCPerm = "+n+" - 1 - wC;\n\n            // TO DO: Vec4 over the channelMul\n            for (int dm = 0; dm < "+s+"; dm++) {\n              int d2 = d1 * "+s+" + dm;\n              float xValue = getDy(batch, idyR, idyC, d2);\n              float wValue = getW(wRPerm, wCPerm, d1, dm);\n              dotProd += xValue * wValue;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},Tp=function(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n=null),void 0===r&&(r=!1),this.variableNames=["x","W"],this.outputShape=e.outShape;var i=e.padInfo.top,a=e.padInfo.left,o=e.strideHeight,s=e.strideWidth,u=e.dilationHeight,l=e.dilationWidth,c=e.filterHeight,f=e.filterWidth,d=4*Math.floor(e.inChannels/4),p=e.inChannels%4,h="channelsLast"===e.dataFormat,v=h?1:2,y=h?2:3,m=h?3:1,g="",b="";n&&(g=r?"float activation(float a) {\n          float b = getPreluActivationWeightsAtOutCoords();\n          "+n+"\n        }":"\n          float activation(float x) {\n            "+n+"\n          }\n        ",b="result = activation(result);");var x=t?"result += getBiasAtOutCoords();":"";t&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),this.userCode="\n      "+g+"\n\n      const ivec2 strides = ivec2("+o+", "+s+");\n      const ivec2 pads = ivec2("+i+", "+a+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d2 = coords["+m+"];\n\n        ivec2 xRCCorner =\n            ivec2(coords["+v+"], coords["+y+"]) * strides - pads;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // Convolve x(?, ?, d1) with w(:, :, d1, d2) to get y(yR, yC, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < "+c+"; wR++) {\n          int xR = xRCorner + wR * "+u+";\n\n          if (xR < 0 || xR >= "+e.inHeight+") {\n            continue;\n          }\n\n          for (int wC = 0; wC < "+f+"; wC++) {\n            int xC = xCCorner + wC * "+l+";\n\n            if (xC < 0 || xC >= "+e.inWidth+") {\n              continue;\n            }\n\n            for (int d1 = 0; d1 < "+d+"; d1 += 4) {\n              vec4 wValues = vec4(\n                getW(wR, wC, d1, d2),\n                getW(wR, wC, d1 + 1, d2),\n                getW(wR, wC, d1 + 2, d2),\n                getW(wR, wC, d1 + 3, d2)\n              );\n\n              if ("+h+") {\n                vec4 xValues = vec4(\n                  getX(batch, xR, xC, d1),\n                  getX(batch, xR, xC, d1 + 1),\n                  getX(batch, xR, xC, d1 + 2),\n                  getX(batch, xR, xC, d1 + 3)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec4 xValues = vec4(\n                  getX(batch, d1, xR, xC),\n                  getX(batch, d1 + 1, xR, xC),\n                  getX(batch, d1 + 2, xR, xC),\n                  getX(batch, d1 + 3, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n            }\n\n            if ("+(1===p)+") {\n\n              if ("+h+") {\n                dotProd +=\n                    getX(batch, xR, xC, "+d+") *\n                    getW(wR, wC, "+d+", d2);\n              } else {\n                dotProd +=\n                    getX(batch, "+d+", xR, xC) *\n                    getW(wR, wC, "+d+", d2);\n              }\n\n            } else if ("+(2===p)+") {\n              vec2 wValues = vec2(\n                getW(wR, wC, "+d+", d2),\n                getW(wR, wC, "+d+" + 1, d2)\n              );\n\n              if ("+h+") {\n                vec2 xValues = vec2(\n                  getX(batch, xR, xC, "+d+"),\n                  getX(batch, xR, xC, "+d+" + 1)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec2 xValues = vec2(\n                  getX(batch, "+d+", xR, xC),\n                  getX(batch, "+d+" + 1, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n\n            } else if ("+(3===p)+") {\n              vec3 wValues = vec3(\n                getW(wR, wC, "+d+", d2),\n                getW(wR, wC, "+d+" + 1, d2),\n                getW(wR, wC, "+d+" + 2, d2)\n              );\n\n              if ("+h+") {\n                vec3 xValues = vec3(\n                  getX(batch, xR, xC, "+d+"),\n                  getX(batch, xR, xC, "+d+" + 1),\n                  getX(batch, xR, xC, "+d+" + 2)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec3 xValues = vec3(\n                  getX(batch, "+d+", xR, xC),\n                  getX(batch, "+d+" + 1, xR, xC),\n                  getX(batch, "+d+" + 2, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n\n            }\n          }\n        }\n\n        float result = dotProd;\n        "+x+"\n        "+b+"\n        setOutput(result);\n      }\n    "},Ep=function(e){this.variableNames=["x","W"],this.outputShape=e.outShape;var t=e.padInfo.front,n=e.padInfo.top,r=e.padInfo.left,i=e.strideDepth,a=e.strideHeight,o=e.strideWidth,s=e.dilationDepth,u=e.dilationHeight,l=e.dilationWidth,c=e.filterDepth,f=e.filterHeight,d=e.filterWidth,p=4*Math.floor(e.inChannels/4),h=e.inChannels%4;this.userCode="\n      const ivec3 strides = ivec3("+i+", "+a+", "+o+");\n      const ivec3 pads = ivec3("+t+", "+n+", "+r+");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int d2 = coords.u;\n\n        ivec3 xFRCCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n        int xFCorner = xFRCCorner.x;\n        int xRCorner = xFRCCorner.y;\n        int xCCorner = xFRCCorner.z;\n\n        // Convolve x(?, ?, ?, d1) with w(:, :, :, d1, d2) to get\n        // y(yF, yR, yC, d2). ? = to be determined. : = across all\n        // values in that axis.\n        float dotProd = 0.0;\n        for (int wF = 0; wF < "+c+"; wF++) {\n          int xF = xFCorner + wF * "+s+";\n\n          if (xF < 0 || xF >= "+e.inDepth+") {\n            continue;\n          }\n\n          for (int wR = 0; wR < "+f+"; wR++) {\n            int xR = xRCorner + wR * "+u+";\n\n            if (xR < 0 || xR >= "+e.inHeight+") {\n              continue;\n            }\n\n            for (int wC = 0; wC < "+d+"; wC++) {\n              int xC = xCCorner + wC * "+l+";\n\n              if (xC < 0 || xC >= "+e.inWidth+") {\n                continue;\n              }\n\n              for (int d1 = 0; d1 < "+p+"; d1 += 4) {\n                vec4 xValues = vec4(\n                  getX(batch, xF, xR, xC, d1),\n                  getX(batch, xF, xR, xC, d1 + 1),\n                  getX(batch, xF, xR, xC, d1 + 2),\n                  getX(batch, xF, xR, xC, d1 + 3)\n                );\n                vec4 wValues = vec4(\n                  getW(wF, wR, wC, d1, d2),\n                  getW(wF, wR, wC, d1 + 1, d2),\n                  getW(wF, wR, wC, d1 + 2, d2),\n                  getW(wF, wR, wC, d1 + 3, d2)\n                );\n\n                dotProd += dot(xValues, wValues);\n              }\n\n              if ("+(1===h)+") {\n                dotProd +=\n                  getX(batch, xF, xR, xC, "+p+") *\n                  getW(wF, wR, wC, "+p+", d2);\n              } else if ("+(2===h)+") {\n                vec2 xValues = vec2(\n                  getX(batch, xF, xR, xC, "+p+"),\n                  getX(batch, xF, xR, xC, "+p+" + 1)\n                );\n                vec2 wValues = vec2(\n                  getW(wF, wR, wC, "+p+", d2),\n                  getW(wF, wR, wC, "+p+" + 1, d2)\n                );\n                dotProd += dot(xValues, wValues);\n              } else if ("+(3===h)+") {\n                vec3 xValues = vec3(\n                  getX(batch, xF, xR, xC, "+p+"),\n                  getX(batch, xF, xR, xC, "+p+" + 1),\n                  getX(batch, xF, xR, xC, "+p+" + 2)\n                );\n                vec3 wValues = vec3(\n                  getW(wF, wR, wC, "+p+", d2),\n                  getW(wF, wR, wC, "+p+" + 1, d2),\n                  getW(wF, wR, wC, "+p+" + 2, d2)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},kp=function(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n=null),void 0===r&&(r=!1),this.variableNames=["x","W"],this.outputShape=e.outShape;var i=e.inHeight,a=e.inWidth,o=e.padInfo.top,s=e.padInfo.left,u=e.strideHeight,l=e.strideWidth,c=e.dilationHeight,f=e.dilationWidth,d=e.filterHeight,p=e.filterWidth,h=e.outChannels/e.inChannels,v="",y="";n&&(v=r?"float activation(float a) {\n          float b = getPreluActivationWeightsAtOutCoords();\n          "+n+"\n        }":"\n          float activation(float x) {\n            "+n+"\n          }\n        ",y="result = activation(result);");var m=t?"result += getBiasAtOutCoords();":"";t&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),this.userCode="\n      "+v+"\n\n      const ivec2 strides = ivec2("+u+", "+l+");\n      const ivec2 pads = ivec2("+o+", "+s+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int d2 = coords.w;\n        int d1 = d2 / "+h+";\n        int q = d2 - d1 * "+h+";\n\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // Convolve x(?, ?, d1) with w(:, :, d1, q) to get y(yR, yC, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        // TO DO(dsmilkov): Flatten the two for loops and vec4 the operations.\n        for (int wR = 0; wR < "+d+"; wR++) {\n          int xR = xRCorner + wR * "+c+";\n\n          if (xR < 0 || xR >= "+i+") {\n            continue;\n          }\n\n          for (int wC = 0; wC < "+p+"; wC++) {\n            int xC = xCCorner + wC * "+f+";\n\n            if (xC < 0 || xC >= "+a+") {\n              continue;\n            }\n\n            float xVal = getX(batch, xR, xC, d1);\n            float wVal = getW(wR, wC, d1, q);\n            dotProd += xVal * wVal;\n          }\n        }\n\n        float result = dotProd;\n        "+m+"\n        "+y+"\n        setOutput(result);\n      }\n    "},_p=function(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n=null),void 0===r&&(r=!1),this.variableNames=["x","W"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e.outShape;for(var i=e.inHeight,a=e.inWidth,o=e.padInfo.top,s=e.padInfo.left,u=e.strideHeight,l=e.strideWidth,c=e.dilationHeight,f=e.dilationWidth,d=e.filterHeight,p=e.filterWidth,h=p,v="int xR; int xC; int xCOffset;",y=0;y<d;y++)for(var m=0;m<p;m++)v+="\n          vec4 xTexelR"+y+"C"+2*m+" = vec4(0.);\n          vec4 wR"+y+"C"+m+" = vec4(0.);\n          vec4 xR"+y+"C"+m+" = vec4(0.);";for(y=0;y<d;y++)for(var g=0;g<h;g++){if(v+="\n          xR = xRCorner + "+y*c+";\n          xC = xCCorner + "+(m=2*g)*f+";\n        ",1===l){if(m<p&&(v+=s%2==1?"\n                xCOffset = xC + 1;\n                if(xR >= 0 && xR < "+i+" && xCOffset >= 0 && xCOffset < "+a+") {\n                  xTexelR"+y+"C"+m+" = getX(batch, xR, xCOffset, d1);\n\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if(xCOffset + 1 >= "+a+") {\n                    xTexelR"+y+"C"+m+".zw = vec2(0.);\n                  }\n                } else {\n                  xTexelR"+y+"C"+m+" = vec4(0.);\n                }\n\n                xCOffset = xC + 1 - 2;\n                if(xR >= 0 && xR < "+i+" && xCOffset >= 0 && xCOffset < "+a+") {\n                  vec4 previous = getX(batch, xR, xCOffset, d1);\n\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if(xCOffset + 1 >= "+a+") {\n                    previous.zw = vec2(0.);\n                  }\n\n                  xR"+y+"C"+m+" = vec4(previous.zw, xTexelR"+y+"C"+m+".xy);\n                } else {\n                  xR"+y+"C"+m+" = vec4(0, 0, xTexelR"+y+"C"+m+".xy);\n                }\n              ":"\n                if(xR >= 0 && xR < "+i+" && xC >= 0 && xC < "+a+") {\n                  xTexelR"+y+"C"+m+" = getX(batch, xR, xC, d1);\n                } else {\n                  xTexelR"+y+"C"+m+" = vec4(0.);\n                }\n\n                xR"+y+"C"+m+" = xTexelR"+y+"C"+m+";\n              ",m+1<p)){var b=s%2==0?Fs(f):f;f%2==0&&s%2==1||f%2!=0&&s%2!=1?(v+="\n                  xCOffset = xC + "+s%2+" + "+b+";\n\n                  if(xR >= 0 && xR < "+i+" &&\n                    xCOffset >= 0 && xCOffset < "+a+") {\n                    xTexelR"+y+"C"+(m+2)+" = getX(batch, xR, xCOffset, d1);\n                  }\n                ",f>1&&(v+="\n                    xCOffset -= 2;\n                    if(xR >= 0 && xR < "+i+" &&\n                      xCOffset >= 0 && xCOffset < "+a+") {\n                      xTexelR"+y+"C"+m+" = getX(batch, xR, xCOffset, d1);\n                    } else {\n                      xTexelR"+y+"C"+m+" = vec4(0.);\n                    }\n                  "),v+="\n                  xR"+y+"C"+(m+1)+" = vec4(\n                    xTexelR"+y+"C"+m+".zw, xTexelR"+y+"C"+(m+2)+".xy);\n                "):v+="\n                  xCOffset = xC + "+b+";\n\n                  if(xR >= 0 && xR < "+i+" &&\n                    xCOffset >= 0 && xCOffset < "+a+") {\n                    xTexelR"+y+"C"+(m+2)+" = getX(batch, xR, xCOffset, d1);\n                  }\n\n                  xR"+y+"C"+(m+1)+" = xTexelR"+y+"C"+(m+2)+";\n                "}}else m<p&&(v+="\n              if(xR >= 0 && xR < "+i+") {\n            ",s%2==1?(v+="\n                xCOffset = xC + 1 - "+l+";\n                if(xCOffset >= 0 && xCOffset < "+a+") {\n                  xTexelR"+y+"C"+m+" = getX(batch, xR, xCOffset, d1);\n                } else {\n                  xTexelR"+y+"C"+m+" = vec4(0.);\n                }\n\n                if(xC + 1 >= 0 && xC + 1 < "+a+") {\n                  xTexelR"+y+"C"+(m+2)+" = getX(batch, xR, xC + 1, d1);\n                } else {\n                  xTexelR"+y+"C"+(m+2)+" = vec4(0.);\n                }\n\n                xR"+y+"C"+m+" = vec4(\n                  xTexelR"+y+"C"+m+".zw, xTexelR"+y+"C"+(m+2)+".zw);\n              ",m+1<p&&(v+="\n                  vec4 final = vec4(0.);\n                  xCOffset = xC + 1 + "+l+";\n                  if(xCOffset >= 0 && xCOffset < "+a+") {\n                    final = getX(batch, xR, xCOffset, d1);\n                  }\n                  xR"+y+"C"+(m+1)+" = vec4(xTexelR"+y+"C"+(m+2)+".xy, final.xy);\n                ")):(v+="\n                if(xC >= 0 && xC < "+a+") {\n                  xTexelR"+y+"C"+m+" = getX(batch, xR, xC, d1);\n                } else {\n                  xTexelR"+y+"C"+m+" = vec4(0.);\n                }\n\n                xCOffset = xC + "+l+";\n                if(xCOffset >= 0 && xCOffset < "+a+") {\n                  xTexelR"+y+"C"+(m+2)+" = getX(batch, xR, xCOffset, d1);\n                } else {\n                  xTexelR"+y+"C"+(m+2)+" = vec4(0.);\n                }\n\n                xR"+y+"C"+m+" = vec4(\n                  xTexelR"+y+"C"+m+".xy, xTexelR"+y+"C"+(m+2)+".xy);\n              ",m+1<p&&(v+="\n                  xR"+y+"C"+(m+1)+" = vec4(\n                    xTexelR"+y+"C"+m+".zw, xTexelR"+y+"C"+(m+2)+".zw);\n                ")),v+="}");m<p&&(v+="\n            vec4 wTexelR"+y+"C"+m+" = getW("+y+", "+m+", d1, q);\n            wR"+y+"C"+m+" = vec4(wTexelR"+y+"C"+m+".xz, wTexelR"+y+"C"+m+".xz);\n          ",m+1<p&&(v+="\n              vec4 wTexelR"+y+"C"+(m+1)+" = getW("+y+", "+(m+1)+", d1, q);\n              wR"+y+"C"+(m+1)+" =\n                vec4(wTexelR"+y+"C"+(m+1)+".xz, wTexelR"+y+"C"+(m+1)+".xz);"))}for(y=0;y<d;y++)for(m=0;m<p;m++)v+="dotProd += xR"+y+"C"+m+" * wR"+y+"C"+m+";";var x="",w="";n&&(x=r?"vec4 activation(vec4 a) {\n          vec4 b = getPreluActivationWeightsAtOutCoords();\n          "+n+"\n        }":"vec4 activation(vec4 x) {\n          "+n+"\n        }",w="result = activation(result);");var S=t?"result += getBiasAtOutCoords();":"";t&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),this.userCode="\n      "+x+"\n\n      const ivec2 strides = ivec2("+u+", "+l+");\n      const ivec2 pads = ivec2("+o+", "+s+");\n\n      void main() {\n\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int d2 = coords.w;\n        int d1 = d2;\n        int q = 0;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        vec4 dotProd = vec4(0.);\n\n        "+v+"\n\n        vec4 result = dotProd;\n        "+S+"\n        "+w+"\n        setOutput(result);\n      }\n    "},Cp=function(e,t,n,r,i){this.variableNames=["Image","Boxes","BoxInd"],this.outputShape=[];var a=e[0],o=e[1],s=e[2],u=e[3],l=t[0],c=n[0],f=n[1];this.outputShape=[l,c,f,u];var d="bilinear"===r?1:0,p=[o-1+".0",s-1+".0"],h=p[0],v=p[1],y=c>1?[""+(o-1)/(c-1),"(y2-y1) * height_ratio","y1*"+h+" + float(y)*(height_scale)"]:["0.0","0.0","0.5 * (y1+y2) * "+h],m=y[0],g=y[1],b=y[2],x=f>1?[""+(s-1)/(f-1),"(x2-x1) * width_ratio","x1*"+v+" + float(x)*(width_scale)"]:["0.0","0.0","0.5 * (x1+x2) * "+v],w=x[0],S=x[1],T=x[2];this.userCode="\n      const float height_ratio = float("+m+");\n      const float width_ratio = float("+w+");\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int y = coords[1];\n        int x = coords[2];\n        int d = coords[3];\n\n        // get box vals\n        float y1 = getBoxes(b,0);\n        float x1 = getBoxes(b,1);\n        float y2 = getBoxes(b,2);\n        float x2 = getBoxes(b,3);\n\n        // get image in batch index\n        int bInd = round(getBoxInd(b));\n        if(bInd < 0 || bInd >= "+a+") {\n          return;\n        }\n\n        float height_scale = "+g+";\n        float width_scale = "+S+";\n\n        float in_y = "+b+";\n        if( in_y < 0.0 || in_y > "+h+" ) {\n          setOutput(float("+i+"));\n          return;\n        }\n        float in_x = "+T+";\n        if( in_x < 0.0 || in_x > "+v+" ) {\n          setOutput(float("+i+"));\n          return;\n        }\n\n        vec2 sourceFracIndexCR = vec2(in_x,in_y);\n        if("+d+" == 1) {\n          // Compute the four integer indices.\n          ivec2 sourceFloorCR = ivec2(sourceFracIndexCR);\n          ivec2 sourceCeilCR = ivec2(ceil(sourceFracIndexCR));\n\n          float topLeft = getImage(b, sourceFloorCR.y, sourceFloorCR.x, d);\n          float bottomLeft = getImage(b, sourceCeilCR.y, sourceFloorCR.x, d);\n          float topRight = getImage(b, sourceFloorCR.y, sourceCeilCR.x, d);\n          float bottomRight = getImage(b, sourceCeilCR.y, sourceCeilCR.x, d);\n\n          vec2 fracCR = sourceFracIndexCR - vec2(sourceFloorCR);\n\n          float top = topLeft + (topRight - topLeft) * fracCR.x;\n          float bottom = bottomLeft + (bottomRight - bottomLeft) * fracCR.x;\n          float newValue = top + (bottom - top) * fracCR.y;\n          setOutput(newValue);\n        } else {\n          // Compute the coordinators of nearest neighbor point.\n          ivec2 sourceNearestCR = ivec2(floor(\n            sourceFracIndexCR + vec2(0.5,0.5)));\n          float newValue = getImage(b, sourceNearestCR.y, sourceNearestCR.x, d);\n          setOutput(newValue);\n        }\n      }\n    "},Pp=function(e,t,n){this.variableNames=["x"],this.outputShape=e;var r=e.length,i=e[e.length-1],a=n?"<":">";this.userCode="\n      int getIndex(int i) {\n        "+(n?"return "+i+" -i - 1;":"return i;")+"\n      }\n\n      void main() {\n        "+Yd(r)+" coords = getOutputCoords();\n        int end = "+Op(r,"coords")+";\n        float val = 0.0;\n        for (int i = "+i+" - 1; i >= 0; i -= 1) {\n          int idx = getIndex(i);\n          if (idx "+a+" end) {\n            continue;\n          }\n          if (idx == end && "+t+") {\n            continue;\n          }\n          "+Op(r,"coords")+" = idx;\n          val += getX("+function(e,t){if(1===e)return""+t;if(2===e)return t+".x, "+t+".y";if(3===e)return t+".x, "+t+".y, "+t+".z";if(4===e)return t+".x, "+t+".y, "+t+".z, "+t+".w";throw Error("Cumulative sum for rank "+e+" is not yet supported")}(r,"coords")+");\n        }\n        setOutput(val);\n      }\n    "};function Op(e,t){if(1===e)return""+t;if(2===e)return t+".y";if(3===e)return t+".z";if(4===e)return t+".w";throw Error("Cumulative sum for rank "+e+" is not yet supported")}var Ip=function(e){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outPackingScheme=Zu.DENSE;var t=sl(e),n=Fd();this.outputShape=e,this.userCode="\n      ivec3 outCoordsFromFlatIndex(int index) {\n        "+Ld(["r","c","d"],e)+"\n        return ivec3(r, c, d);\n      }\n\n      void main() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n          vec2("+t[0]+", "+t[1]+"));\n        int index = 4 * (resTexRC.x * "+t[1]+" + resTexRC.y);\n\n        vec4 result = vec4(0.);\n\n        for (int i=0; i<4; i++) {\n          int flatIndex = index + i;\n          ivec3 rc = outCoordsFromFlatIndex(flatIndex);\n          result[i] = getA(rc.x, rc.y, rc.z);\n        }\n\n        "+n.output+" = result;\n      }\n    "},Ap=function(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outPackingScheme=Zu.DENSE;var t=sl(e),n=Fd();this.outputShape=e,this.userCode="\n      ivec3 outCoordsFromFlatIndex(int index) {\n        "+Ld(["r","c","d"],e)+"\n        return ivec3(r, c, d);\n      }\n\n      void main() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n          vec2("+t[0]+", "+t[1]+"));\n        int index = 4 * (resTexRC.x * "+t[1]+" + resTexRC.y);\n\n        vec4 result = vec4(0.);\n\n        for (int i=0; i<4; i++) {\n          int flatIndex = index + i;\n          ivec3 rc = outCoordsFromFlatIndex(flatIndex);\n          result[i] = getChannel(getA(rc.x, rc.y, rc.z), vec2(rc.y, rc.z));\n        }\n\n        "+n.output+" = result;\n      }\n    "},Dp=function(){function e(e,t,n){this.variableNames=["x"],this.outputShape=[],this.outputShape=e,this.blockSize=t,this.dataFormat=n,this.userCode="\n    void main() {\n      ivec4 coords = getOutputCoords();\n      int b = coords[0];\n      int h = "+this.getHeightCoordString()+";\n      int w = "+this.getWidthCoordString()+";\n      int d = "+this.getDepthCoordString()+";\n\n      int in_h = h / "+t+";\n      int offset_h = imod(h, "+t+");\n      int in_w = w / "+t+";\n      int offset_w = imod(w, "+t+");\n      int offset_d = (offset_h * "+t+" + offset_w) *\n        "+this.getOutputDepthSize()+";\n      int in_d = d + offset_d;\n\n      float result = "+this.getInputSamplingString()+";\n      setOutput(result);\n    }\n  "}return e.prototype.getHeightCoordString=function(){return"NHWC"===this.dataFormat?"coords[1]":"coords[2]"},e.prototype.getWidthCoordString=function(){return"NHWC"===this.dataFormat?"coords[2]":"coords[3]"},e.prototype.getDepthCoordString=function(){return"NHWC"===this.dataFormat?"coords[3]":"coords[1]"},e.prototype.getOutputDepthSize=function(){return"NHWC"===this.dataFormat?this.outputShape[3]:this.outputShape[1]},e.prototype.getInputSamplingString=function(){return"NHWC"===this.dataFormat?"getX(b, in_h, in_w, in_d)":"getX(b, in_d, in_h, in_w)"},e}(),Rp=function(e){this.variableNames=["X"],this.outputShape=[e,e],this.userCode="\n      void main() {\n          ivec2 coords = getOutputCoords();\n          float val = coords[0] == coords[1] ? getX(coords[0]) : 0.0;\n          setOutput(val);\n      }\n    "},Np=function(e){this.variableNames=["A"],this.outTexUsage=el.DOWNLOAD;var t=Fd();this.outputShape=e,this.userCode="\n      "+jd+"\n\n      void main() {\n        float x = getAAtOutCoords();\n        "+t.output+" = encode_float(x);\n      }\n    "},Mp=function(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outTexUsage=el.DOWNLOAD;var t=Fd();this.outputShape=e,this.userCode="\n      "+jd+"\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n        float x = getChannel(getAAtOutCoords(), vec2(coords.y, coords.z));\n        "+t.output+" = encode_float(x);\n      }\n    "},Fp=function(e,t,n){void 0===n&&(n=!1),this.variableNames=["A"];var r=Fd(),i=t[0],a=t[1];this.outputShape=e;var o="result";n&&(o="floor(result * 255. + 0.5)"),this.userCode="\n      "+Bd(e)+"\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n\n        int flatIndex = getFlatIndex(coords);\n        int offset = imod(flatIndex, 4);\n\n        flatIndex = idiv(flatIndex, 4, 1.);\n        \n        int r = flatIndex / "+a+";\n        int c = imod(flatIndex, "+a+");\n        vec2 uv = (vec2(c, r) + halfCR) / vec2("+a+".0, "+i+".0);\n        vec4 values = "+r.texture2D+"(A, uv);\n\n        float result;\n\n        if(offset == 0) {\n          result = values[0];\n        } else if(offset == 1) {\n          result = values[1];\n        } else if(offset == 2) {\n          result = values[2];\n        } else {\n          result = values[3];\n        }\n\n        "+r.output+" = vec4("+o+", 0., 0., 0.);\n      }\n    "},Lp=function(e,t,n){void 0===n&&(n=!1),this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0;var r=Fd(),i=t[0],a=t[1];this.outputShape=e;var o="",s="result";n&&(s="floor(result * 255. + 0.5)");for(var u=0;u<=1;u++)for(var l=0;l<=1;l++){var c=2*u+l;o+="\n          localCoords = coords;\n          if(localCoords[2] + "+l+" < "+e[2]+") {\n            localCoords[2] += "+l+";\n            if(localCoords[1] + "+u+" < "+e[1]+") {\n              localCoords[1] += "+u+";\n\n              flatIndex = getFlatIndex(localCoords);\n              offset = imod(flatIndex, 4);\n\n              flatIndex = idiv(flatIndex, 4, 1.);\n\n              r = flatIndex / "+a+";\n              c = imod(flatIndex, "+a+");\n              uv = (vec2(c, r) + halfCR) / vec2("+a+".0, "+i+".0);\n              values = "+r.texture2D+"(A, uv);\n\n              if(offset == 0) {\n                result["+c+"] = values[0];\n              } else if(offset == 1) {\n                result["+c+"] = values[1];\n              } else if(offset == 2) {\n                result["+c+"] = values[2];\n              } else {\n                result["+c+"] = values[3];\n              }\n            }\n          }\n        "}this.userCode="\n      "+Bd(e)+"\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n\n        vec4 result = vec4(0.);\n        int flatIndex, r, c, offset;\n        ivec3 localCoords;\n        vec2 uv;\n        vec4 values;\n\n        "+o+"\n\n        "+r.output+" = "+s+";\n      }\n    "},Bp=function(e,t,n){this.variableNames=["real","imag"];var r=t[1];this.outputShape=t;var i=n?"2.0 * "+Math.PI:"-2.0 * "+Math.PI,a=n?r+".0":"1.0";this.userCode="\n      const float exponentMultiplier = "+i+";\n\n      float unaryOpComplex(float real, float expR, float imag, float expI) {\n        "+e+"\n      }\n\n      float mulMatDFT(int batch, int index) {\n        float indexRatio = float(index) / float("+r+");\n        float exponentMultiplierTimesIndexRatio =\n            exponentMultiplier * indexRatio;\n\n        float result = 0.0;\n\n        for (int i = 0; i < "+r+"; i++) {\n          // x = (-2|2 * PI / N) * index * i;\n          float x = exponentMultiplierTimesIndexRatio * float(i);\n          float expR = cos(x);\n          float expI = sin(x);\n          float real = getReal(batch, i);\n          float imag = getImag(batch, i);\n\n          result +=\n              unaryOpComplex(real, expR, imag, expI) / "+a+";\n        }\n\n        return result;\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        setOutput(mulMatDFT(coords[0], coords[1]));\n      }\n    "},jp=function(){function e(e,t){this.outputShape=[],this.variableNames=["x"],this.outputShape=e,this.userCode="\n      uniform float value;\n      void main() {\n        // Input can be obtained from uniform value.\n        setOutput(value);\n      }\n    "}return e.prototype.getCustomSetupFunc=function(e){var t=this;return function(n,r){null==t.valueLoc&&(t.valueLoc=n.getUniformLocationNoThrow(r,"value")),n.gl.uniform1f(t.valueLoc,e)}},e}(),zp=function(e,t,n){this.variableNames=["A","indices"];var r=e.slice();r[n]=t,this.outputShape=r,this.rank=r.length;var i=Yd(this.rank),a=function(e,t){var n=e.length;if(n>4)throw Error("Gather for rank "+n+" is not yet supported");if(1===n)return"int(getIndices(resRC))";for(var r=["resRC.x","resRC.y","resRC.z","resRC.w"],i=[],a=0;a<e.length;a++)a===t?i.push("int(getIndices("+r[a]+"))"):i.push(""+r[a]);return i.join()}(e,n);this.userCode="\n      void main() {\n        "+i+" resRC = getOutputCoords();\n        setOutput(getA("+a+"));\n      }\n    "},Wp=function(e,t,n){this.sliceDim=e,this.strides=t,this.variableNames=["x","indices"],this.outputShape=n;var r=Yd(t.length),i=Yd(n.length),a=this.sliceDim>1?"strides[j]":"strides";this.userCode="\n        "+r+" strides = "+r+"("+this.strides+");\n         void main() {\n          "+i+" coords = getOutputCoords();\n          int flattenIndex = 0;\n          for (int j = 0; j < "+this.sliceDim+"; j++) {\n            int index = round(getIndices(coords[0], j));\n            flattenIndex += index * "+a+";\n          }\n          setOutput(getX(flattenIndex, coords[1]));\n        }\n      "};function Vp(e,t){var n=Fd();return hl(e,t,n.version+"\n    precision highp float;\n    "+n.attribute+" vec3 clipSpacePos;\n    "+n.attribute+" vec2 uv;\n    "+n.varyingVs+" vec2 resultUV;\n\n    void main() {\n      gl_Position = vec4(clipSpacePos, 1);\n      resultUV = uv;\n    }")}function Up(e,t){return Sl(e,t,new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0]))}function Kp(e,t){return Tl(e,t,new Uint16Array([0,1,2,2,1,3]))}function Hp(e,t,n,r,i,a,o){kl(n,r);var s=El(e,t),u=e.TEXTURE_2D;return cl(e,t,(function(){return e.bindTexture(u,s)})),cl(e,t,(function(){return e.texParameteri(u,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE)})),cl(e,t,(function(){return e.texParameteri(u,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE)})),cl(e,t,(function(){return e.texParameteri(u,e.TEXTURE_MIN_FILTER,e.NEAREST)})),cl(e,t,(function(){return e.texParameteri(u,e.TEXTURE_MAG_FILTER,e.NEAREST)})),cl(e,t,(function(){return e.texImage2D(u,0,i,n,r,0,a,o,null)})),cl(e,t,(function(){return e.bindTexture(e.TEXTURE_2D,null)})),s}function qp(e,t,n,r,i){var a=ol(n,r);return Hp(e,t,a[0],a[1],i.internalFormatFloat,i.textureFormatFloat,e.FLOAT)}function Gp(e,t,n,r,i){var a=ol(n,r);return Hp(e,t,a[0],a[1],i.internalFormatHalfFloat,i.textureFormatFloat,i.textureTypeHalfFloat)}function Xp(e,t,n,r,i){var a=ol(n,r);return Hp(e,t,a[0],a[1],e.RGBA,e.RGBA,e.UNSIGNED_BYTE)}function Yp(e,t,n,r,i){var a=ul(n,r);return Hp(e,t,a[0],a[1],i.internalFormatPackedFloat,e.RGBA,e.FLOAT)}function Jp(e,t,n,r,i){var a=ul(n,r);return Hp(e,t,a[0],a[1],i.internalFormatPackedHalfFloat,e.RGBA,i.textureTypeHalfFloat)}function $p(e,t,n,r){return cl(e,t,(function(){return e.bindBuffer(e.ARRAY_BUFFER,r)})),Cl(e,t,n,"clipSpacePos",r,3,20,0)&&Cl(e,t,n,"uv",r,2,20,12)}function Qp(e,t,n,r,i,a,o){var s,u,l;cl(e,t,(function(){return e.bindTexture(e.TEXTURE_2D,n)})),a instanceof Uint8Array?(s=new Uint8Array(r*i*4),u=e.UNSIGNED_BYTE,l=e.RGBA):(s=new Float32Array(r*i*4),u=e.FLOAT,l=o.internalFormatPackedFloat),s.set(a),cl(e,t,(function(){return e.texImage2D(e.TEXTURE_2D,0,l,r,i,0,e.RGBA,u,s)})),cl(e,t,(function(){return e.bindTexture(e.TEXTURE_2D,null)}))}function Zp(e,t,n,r){cl(e,t,(function(){return e.bindTexture(e.TEXTURE_2D,n)})),r.data instanceof Uint8Array?cl(e,t,(function(){return e.texImage2D(e.TEXTURE_2D,0,e.RGBA,r.width,r.height,0,e.RGBA,e.UNSIGNED_BYTE,r.data)})):cl(e,t,(function(){return e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,r)})),cl(e,t,(function(){return e.bindTexture(e.TEXTURE_2D,null)}))}function eh(e,t,n,r,i){var a=e.createBuffer();cl(e,t,(function(){return e.bindBuffer(e.PIXEL_PACK_BUFFER,a)}));var o=16*n*r;return cl(e,t,(function(){return e.bufferData(e.PIXEL_PACK_BUFFER,o,e.STREAM_READ)})),cl(e,t,(function(){return e.readPixels(0,0,r,n,e.RGBA,e.FLOAT,0)})),cl(e,t,(function(){return e.bindBuffer(e.PIXEL_PACK_BUFFER,null)})),a}function th(e,t,n){var r=e,i=new Float32Array(n);return r.bindBuffer(r.PIXEL_PACK_BUFFER,t),r.getBufferSubData(r.PIXEL_PACK_BUFFER,0,i),r.bindBuffer(r.PIXEL_PACK_BUFFER,null),i}function nh(e,t,n,r,i){var a=ol(n,r),o=a[0],s=a[1],u=new Uint8Array(n*r*4);return cl(e,t,(function(){return e.readPixels(0,0,o,s,i.downloadTextureFormat,e.UNSIGNED_BYTE,u)})),new Float32Array(u.buffer)}function rh(e,t,n,r,i,a,o,s){var u=e,l=new Float32Array(function(e,t){var n=ul(e,t);return n[0]*n[1]*4}(a,o));return u.bindBuffer(u.PIXEL_PACK_BUFFER,t),u.getBufferSubData(u.PIXEL_PACK_BUFFER,0,l),u.bindBuffer(u.PIXEL_PACK_BUFFER,null),l}function ih(e,t,n,r){var i=new Float32Array(n*r*4);return cl(e,t,(function(){return e.readPixels(0,0,r,n,e.RGBA,e.FLOAT,i)})),i}var ah=Object.freeze({createVertexShader:Vp,createVertexBuffer:Up,createIndexBuffer:Kp,createFloat32MatrixTexture:qp,createFloat16MatrixTexture:Gp,createUnsignedBytesMatrixTexture:Xp,createPackedMatrixTexture:Yp,createFloat16PackedMatrixTexture:Jp,bindVertexProgramAttributeStreams:$p,uploadDenseMatrixToTexture:Qp,uploadPixelDataToTexture:Zp,createBufferFromOutputTexture:eh,downloadFloat32MatrixFromBuffer:th,downloadByteEncodedFloatMatrixFromOutputTexture:nh,downloadPackedMatrixFromBuffer:rh,downloadMatrixFromPackedOutputTexture:ih}),oh=function(){function e(e){this.outputTexture=null,this.program=null,this.disposed=!1,this.vertexAttrsAreBound=!1,this.itemsToPoll=[];var t=ks().getNumber("WEBGL_VERSION");null!=e?(this.gl=e,il(t,e)):this.gl=al(t);var n="WEBGL_color_buffer_float";if(1===ks().getNumber("WEBGL_VERSION")){if(this.textureFloatExtension=pl(this.gl,this.debug,"OES_texture_float"),Gl(this.gl,"OES_texture_half_float"))this.textureHalfFloatExtension=pl(this.gl,this.debug,"OES_texture_half_float");else if(ks().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support half float textures, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.");if(this.colorBufferFloatExtension=this.gl.getExtension(n),Gl(this.gl,"EXT_color_buffer_half_float"))this.colorBufferHalfFloatExtension=pl(this.gl,this.debug,"EXT_color_buffer_half_float");else if(ks().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support color renderable half floats, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.")}else if(n="EXT_color_buffer_float",Gl(this.gl,n))this.colorBufferFloatExtension=this.gl.getExtension(n);else{if(!Gl(this.gl,"EXT_color_buffer_half_float"))throw new Error("GL context does not support color renderable floats");this.colorBufferHalfFloatExtension=this.gl.getExtension("EXT_color_buffer_half_float")}this.vertexBuffer=Up(this.gl,this.debug),this.indexBuffer=Kp(this.gl,this.debug),this.framebuffer=_l(this.gl,this.debug),this.textureConfig=ll(this.gl,this.textureHalfFloatExtension)}return Object.defineProperty(e.prototype,"debug",{get:function(){return ks().getBool("DEBUG")},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){var e=this;if(!this.disposed){null!=this.program&&console.warn("Disposing a GPGPUContext that still has a bound WebGLProgram. This is probably a resource leak, delete the program with GPGPUContext.deleteProgram before disposing."),null!=this.outputTexture&&console.warn("Disposing a GPGPUContext that still has a bound output matrix texture.  This is probably a resource leak, delete the output matrix texture with GPGPUContext.deleteMatrixTexture before disposing.");var t=this.gl;cl(t,this.debug,(function(){return t.finish()})),cl(t,this.debug,(function(){return t.bindFramebuffer(t.FRAMEBUFFER,null)})),cl(t,this.debug,(function(){return t.deleteFramebuffer(e.framebuffer)})),cl(t,this.debug,(function(){return t.bindBuffer(t.ARRAY_BUFFER,null)})),cl(t,this.debug,(function(){return t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null)})),cl(t,this.debug,(function(){return t.deleteBuffer(e.indexBuffer)})),this.disposed=!0}},e.prototype.createFloat32MatrixTexture=function(e,t){return this.throwIfDisposed(),qp(this.gl,this.debug,e,t,this.textureConfig)},e.prototype.createFloat16MatrixTexture=function(e,t){return this.throwIfDisposed(),Gp(this.gl,this.debug,e,t,this.textureConfig)},e.prototype.createUnsignedBytesMatrixTexture=function(e,t){return this.throwIfDisposed(),Xp(this.gl,this.debug,e,t,this.textureConfig)},e.prototype.uploadPixelDataToTexture=function(e,t){this.throwIfDisposed(),Zp(this.gl,this.debug,e,t)},e.prototype.uploadDenseMatrixToTexture=function(e,t,n,r){this.throwIfDisposed(),Qp(this.gl,this.debug,e,t,n,r,this.textureConfig)},e.prototype.createFloat16PackedMatrixTexture=function(e,t){return this.throwIfDisposed(),Jp(this.gl,this.debug,e,t,this.textureConfig)},e.prototype.createPackedMatrixTexture=function(e,t){return this.throwIfDisposed(),Yp(this.gl,this.debug,e,t,this.textureConfig)},e.prototype.deleteMatrixTexture=function(e){var t=this;this.throwIfDisposed(),this.outputTexture===e&&(Rl(this.gl,this.debug,this.framebuffer),this.outputTexture=null),cl(this.gl,this.debug,(function(){return t.gl.deleteTexture(e)}))},e.prototype.downloadByteEncodedFloatMatrixFromOutputTexture=function(e,t,n){var r=this;return this.downloadMatrixDriver(e,(function(){return nh(r.gl,r.debug,t,n,r.textureConfig)}))},e.prototype.downloadPackedMatrixFromBuffer=function(e,t,n,r,i,a){return rh(this.gl,e,0,0,0,i,a,this.textureConfig)},e.prototype.downloadFloat32MatrixFromBuffer=function(e,t){return th(this.gl,e,t)},e.prototype.createBufferFromTexture=function(e,t,n){this.bindTextureToFrameBuffer(e);var r=eh(this.gl,this.debug,t,n,this.textureConfig);return this.unbindTextureToFrameBuffer(),r},e.prototype.createAndWaitForFence=function(){var e=this.createFence(this.gl);return this.pollFence(e)},e.prototype.createFence=function(e){var t,n,r=this;if(ks().getBool("WEBGL_FENCE_API_ENABLED")){var i=e,a=i.fenceSync(i.SYNC_GPU_COMMANDS_COMPLETE,0);e.flush(),n=function(){var e=i.clientWaitSync(a,0,0);return e===i.ALREADY_SIGNALED||e===i.CONDITION_SATISFIED},t=a}else ks().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0?(t=this.beginQuery(),this.endQuery(),n=function(){return r.isQueryAvailable(t,ks().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))}):n=function(){return!0};return{query:t,isFencePassed:n}},e.prototype.downloadMatrixFromPackedTexture=function(e,t,n){var r=this;return this.downloadMatrixDriver(e,(function(){return ih(r.gl,r.debug,t,n)}))},e.prototype.createProgram=function(e){this.throwIfDisposed();var t=this.gl,n=vl(t,this.debug,e),r=Vp(t,this.debug),i=bl(t,this.debug);return cl(t,this.debug,(function(){return t.attachShader(i,r)})),cl(t,this.debug,(function(){return t.attachShader(i,n)})),xl(t,this.debug,i),this.debug&&wl(t,this.debug,i),this.vertexAttrsAreBound||(this.setProgram(i),this.vertexAttrsAreBound=$p(t,this.debug,this.program,this.vertexBuffer)),i},e.prototype.deleteProgram=function(e){var t=this;this.throwIfDisposed(),e===this.program&&(this.program=null),null!=e&&cl(this.gl,this.debug,(function(){return t.gl.deleteProgram(e)}))},e.prototype.setProgram=function(e){var t=this;this.throwIfDisposed(),this.program=e,null!=this.program&&this.debug&&wl(this.gl,this.debug,this.program),cl(this.gl,this.debug,(function(){return t.gl.useProgram(e)}))},e.prototype.getUniformLocation=function(e,t,n){return void 0===n&&(n=!0),this.throwIfDisposed(),n?Ol(this.gl,this.debug,e,t):Il(this.gl,e,t)},e.prototype.getAttributeLocation=function(e,t){var n=this;return this.throwIfDisposed(),cl(this.gl,this.debug,(function(){return n.gl.getAttribLocation(e,t)}))},e.prototype.getUniformLocationNoThrow=function(e,t){return this.throwIfDisposed(),this.gl.getUniformLocation(e,t)},e.prototype.setInputMatrixTexture=function(e,t,n){this.throwIfDisposed(),this.throwIfNoProgram(),Al(this.gl,this.debug,this.program,e,t,n)},e.prototype.setOutputMatrixTexture=function(e,t,n){this.setOutputMatrixTextureDriver(e,n,t)},e.prototype.setOutputPackedMatrixTexture=function(e,t,n){this.throwIfDisposed();var r=ul(t,n),i=r[0],a=r[1];this.setOutputMatrixTextureDriver(e,i,a)},e.prototype.setOutputMatrixWriteRegion=function(e,t,n,r){this.setOutputMatrixWriteRegionDriver(n,e,r,t)},e.prototype.setOutputPackedMatrixWriteRegion=function(e,t,n,r){throw new Error("setOutputPackedMatrixWriteRegion not implemented.")},e.prototype.debugValidate=function(){null!=this.program&&wl(this.gl,this.debug,this.program),Nl(this.gl)},e.prototype.executeProgram=function(){this.throwIfDisposed(),this.throwIfNoProgram();var e=this.gl;this.debug&&this.debugValidate(),cl(e,this.debug,(function(){return e.drawElements(e.TRIANGLES,6,e.UNSIGNED_SHORT,0)}))},e.prototype.blockUntilAllProgramsCompleted=function(){var e=this;this.throwIfDisposed(),cl(this.gl,this.debug,(function(){return e.gl.finish()}))},e.prototype.getQueryTimerExtension=function(){return null==this.disjointQueryTimerExtension&&(this.disjointQueryTimerExtension=pl(this.gl,this.debug,2===ks().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")?"EXT_disjoint_timer_query_webgl2":"EXT_disjoint_timer_query")),this.disjointQueryTimerExtension},e.prototype.getQueryTimerExtensionWebGL2=function(){return this.getQueryTimerExtension()},e.prototype.getQueryTimerExtensionWebGL1=function(){return this.getQueryTimerExtension()},e.prototype.beginQuery=function(){if(2===ks().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")){var e=this.gl,t=this.getQueryTimerExtensionWebGL2(),n=e.createQuery();return e.beginQuery(t.TIME_ELAPSED_EXT,n),n}var r=this.getQueryTimerExtensionWebGL1(),i=r.createQueryEXT();return r.beginQueryEXT(r.TIME_ELAPSED_EXT,i),i},e.prototype.endQuery=function(){if(2!==ks().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")){var e=this.getQueryTimerExtensionWebGL1();e.endQueryEXT(e.TIME_ELAPSED_EXT)}else{var t=this.gl,n=this.getQueryTimerExtensionWebGL2();t.endQuery(n.TIME_ELAPSED_EXT)}},e.prototype.waitForQueryAndGetTime=function(e){return Ss(this,void 0,void 0,(function(){var t=this;return Ts(this,(function(n){switch(n.label){case 0:return[4,Xs((function(){return t.disposed||t.isQueryAvailable(e,ks().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))}))];case 1:return n.sent(),[2,this.getQueryTime(e,ks().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))]}}))}))},e.prototype.getQueryTime=function(e,t){if(0===t)return null;if(2===t){var n=this.gl;return n.getQueryParameter(e,n.QUERY_RESULT)/1e6}var r=this.getQueryTimerExtensionWebGL1();return r.getQueryObjectEXT(e,r.QUERY_RESULT_EXT)/1e6},e.prototype.isQueryAvailable=function(e,t){if(0===t)return!0;if(2===t){var n=this.gl,r=this.getQueryTimerExtensionWebGL2(),i=n.getQueryParameter(e,n.QUERY_RESULT_AVAILABLE);return null==this.disjoint&&(this.disjoint=this.gl.getParameter(r.GPU_DISJOINT_EXT)),i&&!this.disjoint}return i=(r=this.getQueryTimerExtensionWebGL1()).getQueryObjectEXT(e,r.QUERY_RESULT_AVAILABLE_EXT),null==this.disjoint&&(this.disjoint=this.gl.getParameter(r.GPU_DISJOINT_EXT)),i&&!this.disjoint},e.prototype.pollFence=function(e){var t=this;return new Promise((function(n){t.addItemToPoll((function(){return e.isFencePassed()}),(function(){return n()}))}))},e.prototype.pollItems=function(){for(var e=function(e){for(var t=0;t<e.length&&e[t]();++t);return t-1}(this.itemsToPoll.map((function(e){return e.isDoneFn}))),t=0;t<=e;++t)(0,this.itemsToPoll[t].resolveFn)();this.itemsToPoll=this.itemsToPoll.slice(e+1)},e.prototype.addItemToPoll=function(e,t){var n=this;this.itemsToPoll.push({isDoneFn:e,resolveFn:t}),this.itemsToPoll.length>1||Xs((function(){return n.pollItems(),0===n.itemsToPoll.length}))},e.prototype.bindTextureToFrameBuffer=function(e){this.throwIfDisposed(),Dl(this.gl,this.debug,e,this.framebuffer),this.debug&&Nl(this.gl)},e.prototype.unbindTextureToFrameBuffer=function(){null!=this.outputTexture?(Dl(this.gl,this.debug,this.outputTexture,this.framebuffer),this.debug&&Nl(this.gl)):Rl(this.gl,this.debug,this.framebuffer)},e.prototype.downloadMatrixDriver=function(e,t){this.bindTextureToFrameBuffer(e);var n=t();return this.unbindTextureToFrameBuffer(),n},e.prototype.setOutputMatrixTextureDriver=function(e,t,n){this.throwIfDisposed();var r=this.gl;Dl(r,this.debug,e,this.framebuffer),this.debug&&Nl(r),this.outputTexture=e,cl(r,this.debug,(function(){return r.viewport(0,0,t,n)})),cl(r,this.debug,(function(){return r.scissor(0,0,t,n)}))},e.prototype.setOutputMatrixWriteRegionDriver=function(e,t,n,r){var i=this;this.throwIfDisposed(),cl(this.gl,this.debug,(function(){return i.gl.scissor(e,t,n,r)}))},e.prototype.throwIfDisposed=function(){if(this.disposed)throw new Error("Attempted to use disposed GPGPUContext.")},e.prototype.throwIfNoProgram=function(){if(null==this.program)throw new Error("No GPU program is currently set.")},e}();function sh(e,t){if(e.length!==t.length)throw Error("Binary was compiled with "+e.length+" inputs, but was executed with "+t.length+" inputs");e.forEach((function(e,n){var r=e.logicalShape,i=t[n],a=i.shape;if(!Us(r,a))throw Error("Binary was compiled with different shapes than the current args. Shapes "+r+" and "+a+" must match");if(!e.isUniform||!i.isUniform){var o=e.texShape,s=i.isUniform?null:i.texData.texShape;if(!Us(o,s))throw Error("Binary was compiled with different texture shapes than the current args. Shape "+o+" and "+s+" must match")}}))}var uh=function(e,t,n){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e;for(var r=n.filterWidth,i=n.inChannels,a=n.strideWidth,o=n.strideHeight,s=n.padInfo,u=n.outWidth,l=n.dilationWidth,c=n.dilationHeight,f=n.dataFormat,d=s.left,p=s.top,h=i*r,v=Fd(),y="channelsLast"===f,m=y?0:1,g=y?1:2,b="",x=0;x<=1;x++)for(var w=0;w<=1;w++)b+="\n          blockIndex = rc.y + "+w+";\n          pos = rc.x + "+x+";\n\n          if(blockIndex < "+e[1]+" && pos < "+e[0]+") {\n            offsetY = int(blockIndex / ("+u+")) * "+o+" - "+p+";\n            d0 = offsetY + "+c+" * (pos / "+h+");\n\n            if(d0 < "+t[m]+" && d0 >= 0) {\n\n              offsetX = int(mod(float(blockIndex), "+u+".) * "+a+". - "+d+".);\n              d1 = offsetX + "+l+" * (int(mod(float(pos), "+h+".) / "+i+".));\n\n              if(d1 < "+t[g]+" && d1 >= 0) {\n\n                ch = int(mod(float(pos), "+i+".));\n\n                if ("+y+") {\n                  innerDims = vec2(d1, ch);\n                  result["+(2*x+w)+"] = getChannel(\n                    getA(d0, int(innerDims.x),\n                    int(innerDims.y)), innerDims);\n                } else {\n                  innerDims = vec2(d0, d1);\n                  result["+(2*x+w)+"] = getChannel(\n                    getA(ch, int(innerDims.x),\n                    int(innerDims.y)), innerDims);\n                }\n              }\n            }\n          }\n        ";this.userCode="\n      void main() {\n        ivec2 rc = getOutputCoords();\n\n        vec4 result = vec4(0);\n\n        int blockIndex, pos, offsetY, d0, offsetX, d1, ch;\n        vec2 innerDims;\n\n        "+b+"\n\n        "+v.output+" = result;\n      }\n    "},lh=function(e,t,n,r,i){this.variableNames=["x"],this.outputShape=[];var a,o=t,s=e[3]-1;this.outputShape=e;var u="float("+n+") + float("+r+") * sum";a=.5===i?"inversesqrt("+u+")":1===i?"1.0/("+u+")":"exp(log("+u+") * float(-"+i+"));",this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int r = coords[1];\n        int c = coords[2];\n        int d = coords[3];\n        float x = getX(b, r, c, d);\n        float sum = 0.0;\n        for (int j = -"+o+"; j <= "+o+"; j++) {\n          int idx = d + j;\n          if (idx >= 0 && idx <=  "+s+") {\n            float z = getX(b, r, c, idx);\n            sum += z * z;\n          }\n        }\n        float val = x * "+a+";\n        setOutput(val);\n      }\n    "},ch=function(e,t,n,r,i){this.variableNames=["inputImage","outputImage","dy"],this.outputShape=[],this.outputShape=e,this.depth=e[3],this.depthRadius=t,this.bias=n,this.alpha=r,this.beta=i,this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int r = coords[1];\n        int c = coords[2];\n\n        float result = 0.0;\n        for (int d = 0; d < "+this.depth+"; ++d) {\n          int depthBegin = int(max(0.0, float(d - "+t+")));\n          int depthEnd = int(min(float("+this.depth+"),\n              float(d + "+t+" + 1)));\n\n          const int MIN_DEPTH_BEGIN = 0;\n          const int MAX_DEPTH_END = "+this.depth+";\n\n          float norm = 0.0;\n          for (int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k) {\n            if (k < depthBegin){\n              continue;\n            }\n            else if (k >= depthBegin && k < depthEnd) {\n              norm += getInputImage(b, r, c, k) * getInputImage(b, r, c, k);\n            }\n            else {\n              break;\n            }\n          }\n\n          norm = float("+r+") * norm + float("+n+");\n\n          for(int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k){\n            if (k < depthBegin){\n              continue;\n            }\n            else if (k >= depthBegin && k < depthEnd){\n              float dyi = -2.0 * float("+r+")\n                * float("+i+")\n                * getInputImage(b ,r ,c, k) * getOutputImage(b, r, c, d)\n                / norm;\n              if (k == d) {\n                dyi += pow(norm, -1.0 * "+i+");\n              }\n              if (k == coords[3]) {\n                dyi *= getDy(b, r, c, d);\n                result += dyi;\n              }\n            }\n            else {\n              break;\n            }\n          }\n      }\n      setOutput(result);\n      }\n    "},fh=function(e,t,n,r,i){this.variableNames=["x"],this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0;var a,o=t,s=e[3]-1;this.outputShape=e;var u="float("+n+") + float("+r+") * sum";a=.5===i?"inversesqrt("+u+")":1===i?"1.0/("+u+")":"exp(log("+u+") * float(-"+i+"));",this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords.x;\n        int r = coords.y;\n        int c = coords.z;\n        int d = coords.w;\n\n        bool hasNextCol = d < "+this.outputShape[3]+";\n        bool hasNextRow = c < "+this.outputShape[2]+";\n\n        vec4 sum = vec4(0.);\n        vec4 xFragAtOutputCoords = getX(b, r, c, d);\n\n        vec4 xAtOutputCoords = vec4(\n          getChannel(xFragAtOutputCoords, vec2(c, d)),\n          hasNextCol ?\n            getChannel(xFragAtOutputCoords, vec2(c, d + 1)) : 0.0,\n          hasNextRow ?\n            getChannel(xFragAtOutputCoords , vec2(c + 1, d)) : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getChannel(xFragAtOutputCoords, vec2(c + 1, d + 1)) : 0.0\n        );\n\n        int firstChannel = d - "+o+";\n        vec2 cache = vec2(0.);\n        if(firstChannel >= 0){\n          vec4 firstChannelFrag = getX(b, r, c, firstChannel);\n          cache.x = getChannel(firstChannelFrag, vec2(c, firstChannel));\n            if(hasNextRow){\n              cache.y = getChannel(firstChannelFrag, vec2(c + 1, firstChannel));\n            }\n        }\n\n        ivec2 depth = ivec2(d, d + 1);\n        for (int j = - "+o+"; j <= "+o+"; j++) {\n          ivec2 idx = depth + j;\n          bvec2 aboveLowerBound = greaterThanEqual(idx, ivec2(0));\n          bvec2 belowUpperBound = lessThanEqual(idx, ivec2("+s+"));\n\n          bool depthInRange = aboveLowerBound.x && belowUpperBound.x;\n          bool depthPlusOneInRange = aboveLowerBound.y && belowUpperBound.y;\n\n          if(depthInRange || depthPlusOneInRange){\n            vec4 z = vec4(0.);\n            vec4 xFragAtCurrentDepth;\n            z.xz = cache.xy;\n            if(depthPlusOneInRange && hasNextCol){\n              xFragAtCurrentDepth = idx.y != d ?\n                getX(b, r, c, idx.y) : xFragAtOutputCoords;\n              z.y = getChannel(xFragAtCurrentDepth, vec2(c, idx.y));\n              if(hasNextRow){\n                z.w = getChannel(xFragAtCurrentDepth, vec2(c + 1, idx.y));\n              }\n            }\n            cache.xy = z.yw;\n            sum += z * z;\n          }\n        }\n        vec4 result = xAtOutputCoords * "+a+";\n        setOutput(result);\n      }\n    "},dh=function(e){this.variableNames=["dy","maxPos"],this.outputShape=e.inShape;var t=e.strideHeight,n=e.strideWidth,r=e.dilationHeight,i=e.effectiveFilterHeight,a=e.effectiveFilterWidth,o=i-1-e.padInfo.top,s=a-1-e.padInfo.left,u=i*a-1;this.userCode="\n      const ivec2 pads = ivec2("+o+", "+s+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n\n        ivec2 dyRCCorner = coords.yz - pads;\n        int dyRCorner = dyRCCorner.x;\n        int dyCCorner = dyRCCorner.y;\n\n        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < "+i+";\n          wR += "+r+") {\n          float dyR = float(dyRCorner + wR) / "+t+".0;\n\n          if (dyR < 0.0 || dyR >= "+e.outHeight+".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          for (int wC = 0; wC < "+a+"; wC++) {\n            float dyC = float(dyCCorner + wC) / "+n+".0;\n\n            if (dyC < 0.0 || dyC >= "+e.outWidth+".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            float dyValue = getDy(b, idyR, idyC, d);\n            int maxPosValue = "+u+" - int(getMaxPos(b, idyR, idyC, d));\n\n            // Get the current value, check it against the value from the\n            // position matrix.\n            int curPosValue = wR * "+a+" + wC;\n            float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);\n\n            dotProd += dyValue * mask;\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},ph=function(e){this.variableNames=["dy","maxPos"],this.outputShape=e.inShape;var t=e.strideDepth,n=e.strideHeight,r=e.strideWidth,i=e.dilationDepth,a=e.dilationHeight,o=e.dilationWidth,s=e.effectiveFilterDepth,u=e.effectiveFilterHeight,l=e.effectiveFilterWidth,c=s-1-e.padInfo.front,f=u-1-e.padInfo.top,d=l-1-e.padInfo.left,p=s*u*l-1;this.userCode="\n      const ivec3 pads = ivec3("+c+", "+f+", "+d+");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyDCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        // Convolve dy(?, ?, ?, ch) with pos mask(:, :, :, d) to get\n        // dx(xD, xR, xC, ch).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int wD = 0; wD < "+s+";\n           wD += "+i+") {\n          float dyD = float(dyDCorner + wD) / "+t+".0;\n\n          if (dyD < 0.0 || dyD >= "+e.outDepth+".0 || fract(dyD) > 0.0) {\n            continue;\n          }\n          int idyD = int(dyD);\n\n          for (int wR = 0; wR < "+u+";\n              wR += "+a+") {\n            float dyR = float(dyRCorner + wR) / "+n+".0;\n\n            if (dyR < 0.0 || dyR >= "+e.outHeight+".0 ||\n                fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            for (int wC = 0; wC < "+l+";\n                wC += "+o+") {\n              float dyC = float(dyCCorner + wC) / "+r+".0;\n\n              if (dyC < 0.0 || dyC >= "+e.outWidth+".0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              float dyValue = getDy(batch, idyD, idyR, idyC, ch);\n              int maxPosValue = "+p+" -\n                  int(getMaxPos(batch, idyD, idyR, idyC, ch));\n\n              // Get the current value, check it against the value from the\n              // position matrix.\n              int curPosValue =\n                  wD * "+u+" * "+l+" +\n                  wR * "+l+" + wC;\n              float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);\n\n              dotProd += dyValue * mask;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},hh=function(e,t,n,r,i,a,o){void 0===n&&(n=!1),void 0===r&&(r=!1),void 0===i&&(i=!1),void 0===a&&(a=null),void 0===o&&(o=!1),this.variableNames=["matrixA","matrixB"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t;var s=n?e[1]:e[2],u=Math.ceil(s/2),l=n?"i * 2, rc.y":"rc.y, i * 2",c=r?"rc.z, i * 2":"i * 2, rc.z",f=n?["a.xxyy","a.zzww"]:["a.xxzz","a.yyww"],d=r?["b.xzxz","b.ywyw"]:["b.xyxy","b.zwzw"],p="",h="";a&&(p=o?"vec4 activation(vec4 a) {\n          vec4 b = getPreluActivationWeightsAtOutCoords();\n          "+a+"\n        }":"vec4 activation(vec4 x) {\n          "+a+"\n        }",h="result = activation(result);");var v=i?"result += getBiasAtOutCoords();":"";i&&this.variableNames.push("bias"),o&&this.variableNames.push("preluActivationWeights"),this.userCode="\n      "+p+"\n\n      const float sharedDimension = "+u+".0;\n\n      vec4 dot2x2ARowBCol(ivec3 rc) {\n        vec4 result = vec4(0);\n        for (int i = 0; i < "+u+"; i++) {\n          vec4 a = getMatrixA(rc.x, "+l+");\n          vec4 b = getMatrixB(rc.x, "+c+");\n\n          // These swizzled products need to be separately added.\n          // See: https://github.com/tensorflow/tfjs/issues/1735\n          result += ("+f[0]+" * "+d[0]+");\n          result += ("+f[1]+" * "+d[1]+");\n        }\n        return result;\n      }\n\n      void main() {\n        ivec3 rc = getOutputCoords();\n        vec4 result = dot2x2ARowBCol(rc);\n\n        "+v+"\n\n        "+h+"\n\n        setOutput(result);\n      }\n    "},vh=function(){function e(e,t,n){this.variableNames=["probs"],this.outputShape=[e,n],this.userCode="\n      uniform float seed;\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n\n        float r = random(seed);\n        float cdf = 0.0;\n\n        for (int i = 0; i < "+(t-1)+"; i++) {\n          cdf += getProbs(batch, i);\n\n          if (r < cdf) {\n            setOutput(float(i));\n            return;\n          }\n        }\n\n        // If no other event happened, last event happened.\n        setOutput(float("+(t-1)+"));\n      }\n    "}return e.prototype.getCustomSetupFunc=function(e){var t=this;return function(n,r){null==t.seedLoc&&(t.seedLoc=n.getUniformLocation(r,"seed")),n.gl.uniform1f(t.seedLoc,e)}},e}(),yh=function(e,t,n,r){this.variableNames=["indices"],this.outputShape=[e,t],this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int index = round(getIndices(coords.x));\n        setOutput(mix(float("+r+"), float("+n+"),\n                      float(index == coords.y)));\n      }\n    "},mh=function(e){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outputShape=e;var t=e.length;if(0===t)this.userCode="\n        void main() {\n          setOutput(vec4(getA(), 0., 0., 0.));\n        }\n      ";else{var n=Md("rc",t),r=Yd(t),i=function(e,t,n){if(1===e)return"rc > "+t[0];for(var r="",i=e-2;i<e;i++)r+=n[i]+" >= "+t[i],i<e-1&&(r+="||");return r}(t,e,n),a=function(e,t,n,r){if(1===e)return"";var i=r.slice(-2);return"\n    int r = "+i[0]+";\n    int c = "+i[1]+";\n    int rp1 = r + 1;\n    int cp1 = c + 1;\n\n    bool cEdge = cp1 >= "+t+";\n    bool rEdge = rp1 >= "+n+";\n  "}(t,e[e.length-1],e[e.length-2],n),o=function(e,t){var n=e.length,r=function(e,t){for(var n=[],r=0;r<=1;r++)for(var i=0;i<=1;i++){for(var a=(0===r?"r":"rp1")+", "+(0===i?"c":"cp1"),o=2;o<e;o++)a=t[t.length-1-o]+","+a;n.push(a)}return n}(n,t);return 1===n?"getA(rc),\n            rc + 1 >= "+e[0]+" ? 0. : getA(rc + 1),\n            0, 0":"getA("+r[0]+"),\n          cEdge ? 0. : getA("+r[1]+"),\n          rEdge ? 0. : getA("+r[2]+"),\n          rEdge || cEdge ? 0. : getA("+r[3]+")"}(e,n);this.userCode="\n        void main() {\n          "+r+" rc = getOutputCoords();\n\n          if("+i+") {\n            setOutput(vec4(0));\n          } else {\n            "+a+"\n\n            setOutput(vec4("+o+"));\n          }\n        }\n      "}},gh=function(e,t,n){this.variableNames=["x"],this.outputShape=t.map((function(t,n){return t[0]+e[n]+t[1]}));var r=e.length,i=Yd(r),a=t.map((function(e){return e[0]})).join(","),o=t.map((function(t,n){return t[0]+e[n]})).join(","),s=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,r);this.userCode=1!==r?"\n      "+i+" start = "+i+"("+a+");\n      "+i+" end = "+i+"("+o+");\n\n      void main() {\n        "+i+" outC = getOutputCoords();\n        if (any(lessThan(outC, start)) || any(greaterThanEqual(outC, end))) {\n          setOutput(float("+n+"));\n        } else {\n          "+i+" coords = outC - start;\n          setOutput(getX("+s+"));\n        }\n      }\n    ":"\n        int start = "+a+";\n        int end = "+o+";\n\n        void main() {\n          int outC = getOutputCoords();\n          if (outC < start || outC >= end) {\n            setOutput(float("+n+"));\n          } else {\n            setOutput(getX(outC - start));\n          }\n        }\n      "},bh=function(e,t,n){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t.map((function(t,n){return t[0]+e[n]+t[1]}));for(var r=e.length,i=Yd(r),a=t.map((function(e){return e[0]})).join(","),o=t.map((function(t,n){return t[0]+e[n]})).join(","),s=Md("rc",r),u=Md("source",r),l=s[r-1]+" < "+this.outputShape[r-1],c=1===r?"source":"vec2("+u.slice(-2).join()+")",f=[i+" rc = outputLoc;",s[r-1]+" += 1;\n       if("+l+") {\n      ",1===r?"":"}\n       rc = outputLoc;\n       "+s[r-2]+" += 1;\n       if("+s[r-2]+" < "+this.outputShape[r-2]+") {",1===r?"":"  "+s[r-1]+" += 1;\n         if("+l+") {"],d=1===r?"rc < start || rc >= end":"any(lessThan(rc, start)) || any(greaterThanEqual(rc, end))",p="",h=0,v=1===r?2:4;h<v;h++)p+="\n        "+f[h]+"\n        if ("+d+") {\n          result["+h+"] = float("+n+");\n        } else {\n          "+i+" source = rc - start;\n          result["+h+"] = getChannel(getX("+u.join()+"), "+c+");\n        }\n      ";p+=1===r?"} ":"}}",this.userCode="\n      const "+i+" start = "+i+"("+a+");\n      const "+i+" end = "+i+"("+o+");\n\n      void main() {\n        "+i+" outputLoc = getOutputCoords();\n        vec4 result = vec4(0.);\n        "+p+"\n        setOutput(result);\n      }\n    "},xh=function(e,t,n){if(this.variableNames=["x"],"avg"===t&&n)throw new Error("Cannot compute positions for average pool.");var r=e.filterWidth,i=e.strideHeight,a=e.strideWidth,o=e.dilationHeight,s=e.dilationWidth,u=e.effectiveFilterHeight,l=e.effectiveFilterWidth,c=e.padInfo.top,f=e.padInfo.left;this.outputShape=e.outShape;var d="avg"===t,p="0.0";if(d||(p="-1.0 / 1e-20"),n)this.userCode="\n        const ivec2 strides = ivec2("+i+", "+a+");\n        const ivec2 pads = ivec2("+c+", "+f+");\n\n        void main() {\n          ivec4 coords = getOutputCoords();\n          int batch = coords[0];\n          int d = coords[3];\n\n          ivec2 xRCCorner = coords.yz * strides - pads;\n          int xRCorner = xRCCorner.x;\n          int xCCorner = xRCCorner.y;\n\n          // max/min x(?, ?, d) to get y(yR, yC, d).\n          // ? = to be determined\n          float minMaxValue = 0.0;\n          float minMaxValueFound = 0.0;\n          int minMaxPosition = 0;\n          float avgValue = 0.0;\n\n          for (int wR = 0; wR < "+u+";\n              wR += "+o+") {\n            int xR = xRCorner + wR;\n\n            if (xR < 0 || xR >= "+e.inHeight+") {\n              continue;\n            }\n\n            for (int wC = 0; wC < "+l+";\n                wC += "+s+") {\n              int xC = xCCorner + wC;\n\n              if (xC < 0 || xC >= "+e.inWidth+") {\n                continue;\n              }\n\n              float value = getX(batch, xR, xC, d);\n\n              // If a min / max value has already been found, use it. If not,\n              // use the current value.\n              float currMinMaxValue = mix(\n                  value, minMaxValue, minMaxValueFound);\n              if (value >= currMinMaxValue) {\n                minMaxValue = value;\n                minMaxValueFound = 1.0;\n                minMaxPosition = wR * "+l+" + wC;\n              }\n            }\n          }\n          setOutput(float(minMaxPosition));\n        }\n      ";else{var h=t+"("+t+"("+t+"(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";"avg"===t&&(h="avgValue / count");var v=4*Math.floor(r/4),y=r%4,m="\n      if ("+d+") {\n        avgValue += dot(values, ones);\n      } else {\n        minMaxValue = max(values, minMaxValue);\n      }\n    ";this.userCode="\n      const ivec2 strides = ivec2("+i+", "+a+");\n      const ivec2 pads = ivec2("+c+", "+f+");\n      const float initializationValue = "+p+";\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float count = 0.0;\n\n      float getValue(int batch, int xR, int xC, int d) {\n        if (xC < 0 || xC >= "+e.inWidth+") {\n          return initializationValue;\n        }\n        count += 1.0;\n        return getX(batch, xR, xC, d);\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d = coords[3];\n\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // max/min x(?, ?, d) to get y(yR, yC, d).\n        // ? = to be determined\n        vec4 minMaxValue = vec4("+p+");\n        float avgValue = 0.0;\n        count = 0.0;\n\n        for (int wR = 0; wR < "+u+";\n            wR += "+o+") {\n          int xR = xRCorner + wR;\n\n          if (xR < 0 || xR >= "+e.inHeight+") {\n            continue;\n          }\n\n          for (int wC = 0; wC < "+v+"; wC += 4) {\n            int xC = xCCorner + wC * "+s+";\n\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + "+s+", d),\n              getValue(batch, xR, xC + 2 * "+s+", d),\n              getValue(batch, xR, xC + 3 * "+s+", d)\n            );\n\n            "+m+"\n          }\n\n          int xC = xCCorner + "+v+";\n          if ("+(1===y)+") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              initializationValue,\n              initializationValue,\n              initializationValue\n            );\n\n            "+m+"\n          } else if ("+(2===y)+") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + "+s+", d),\n              initializationValue,\n              initializationValue\n            );\n\n            "+m+"\n          } else if ("+(3===y)+") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + "+s+", d),\n              getValue(batch, xR, xC + 2 * "+s+", d),\n              initializationValue\n            );\n\n            "+m+"\n          }\n        }\n        setOutput("+h+");\n      }\n    "}},wh=function(e,t,n){if(this.variableNames=["x"],"avg"===t&&n)throw new Error("Cannot compute positions for average pool.");var r=e.filterWidth,i=e.strideDepth,a=e.strideHeight,o=e.strideWidth,s=e.dilationDepth,u=e.dilationHeight,l=e.dilationWidth,c=e.effectiveFilterDepth,f=e.effectiveFilterHeight,d=e.effectiveFilterWidth,p=e.padInfo.front,h=e.padInfo.top,v=e.padInfo.left;this.outputShape=e.outShape;var y="avg"===t,m="0.0";if(y||(m="-1.0 / 1e-20"),n)this.userCode="\n        const ivec3 strides =\n            ivec3("+i+", "+a+", "+o+");\n        const ivec3 pads = ivec3("+p+", "+h+", "+v+");\n\n        void main() {\n          ivec5 coords = getOutputCoords();\n          int batch = coords.x;\n          int ch = coords.u;\n\n          ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n          int xDCorner = xCorner.x;\n          int xRCorner = xCorner.y;\n          int xCCorner = xCorner.z;\n\n          // max/min x(?, ?, ?, ch) to get y(yD, yR, yC, ch).\n          // ? = to be determined\n          float minMaxValue = 0.0;\n          float minMaxValueFound = 0.0;\n          int minMaxPosition = 0;\n\n          for (int wD = 0; wD < "+c+";\n              wD += "+s+") {\n            int xD = xDCorner + wD;\n\n            if (xD < 0 || xD >= "+e.inDepth+") {\n              continue;\n            }\n\n            for (int wR = 0; wR < "+f+";\n                wR += "+u+") {\n              int xR = xRCorner + wR;\n\n              if (xR < 0 || xR >= "+e.inHeight+") {\n                continue;\n              }\n\n              for (int wC = 0; wC < "+d+";\n                  wC += "+l+") {\n                int xC = xCCorner + wC;\n\n                if (xC < 0 || xC >= "+e.inWidth+") {\n                  continue;\n                }\n\n                float value = getX(batch, xD, xR, xC, ch);\n\n                // If a min / max value has already been found, use it. If not,\n                // use the current value.\n                float currMinMaxValue = mix(\n                    value, minMaxValue, minMaxValueFound);\n                if (value >= currMinMaxValue) {\n                  minMaxValue = value;\n                  minMaxValueFound = 1.0;\n                  minMaxPosition =\n                      wD * "+f+" * "+d+" +\n                      wR * "+d+" + wC;;\n                }\n              }\n            }\n          }\n          setOutput(float(minMaxPosition));\n        }\n      ";else{var g=t+"("+t+"("+t+"(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";"avg"===t&&(g="avgValue / count");var b=4*Math.floor(r/4),x=r%4,w="\n      if ("+y+") {\n        avgValue += dot(values, ones);\n      } else {\n        minMaxValue = max(values, minMaxValue);\n      }\n    ";this.userCode="\n      const ivec3 strides =\n        ivec3("+i+", "+a+", "+o+");\n      const ivec3 pads = ivec3("+p+", "+h+", "+v+");\n      const float initializationValue = "+m+";\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float count = 0.0;\n\n      float getValue(int batch, int xD, int xR, int xC, int ch) {\n        if (xC < 0 || xC >= "+e.inWidth+") {\n          return initializationValue;\n        }\n        count += 1.0;\n        return getX(batch, xD, xR, xC, ch);\n      }\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n        int xDCorner = xCorner.x;\n        int xRCorner = xCorner.y;\n        int xCCorner = xCorner.z;\n\n        // max/min x(?, ?, ?, d) to get y(yD, yR, yC, ch).\n        // ? = to be determined\n        vec4 minMaxValue = vec4("+m+");\n        float avgValue = 0.0;\n        count = 0.0;\n\n        for (int wD = 0; wD < "+c+";\n            wD += "+s+") {\n          int xD = xDCorner + wD;\n\n          if (xD < 0 || xD >= "+e.inDepth+") {\n            continue;\n          }\n\n          for (int wR = 0; wR < "+f+";\n            wR += "+u+") {\n            int xR = xRCorner + wR;\n\n            if (xR < 0 || xR >= "+e.inHeight+") {\n              continue;\n            }\n\n            for (int wC = 0; wC < "+b+"; wC += 4) {\n              int xC = xCCorner + wC * "+l+";\n\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + "+l+", ch),\n                getValue(batch, xD, xR, xC + 2 * "+l+", ch),\n                getValue(batch, xD, xR, xC + 3 * "+l+", ch)\n              );\n\n              "+w+"\n            }\n\n            int xC = xCCorner + "+b+";\n            if ("+(1===x)+") {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                initializationValue,\n                initializationValue,\n                initializationValue\n              );\n\n              "+w+"\n            } else if ("+(2===x)+") {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + "+l+", ch),\n                initializationValue,\n                initializationValue\n              );\n\n              "+w+"\n            } else if ("+(3===x)+") {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + "+l+", ch),\n                getValue(batch, xD, xR, xC + 2 * "+l+", ch),\n                initializationValue\n              );\n\n              "+w+"\n            }\n          }\n          setOutput("+g+");\n        }\n      }\n    "}},Sh=function(e,t){this.variableNames=["x"];var n=e.windowSize,r=e.batchSize,i=e.inSize,a=Math.ceil(i/n);this.outputShape=[r,a];var o="0.0",s="";"prod"===t?o="1.0":"min"===t?(o="1.0 / 1e-20",s="min"):"max"===t&&(o="-1.0 / 1e-20",s="max");var u=t+"("+t+"("+t+"(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";"sum"===t?u="sumValue":"prod"===t?u="prodValue":"all"===t?u="allValue":"any"===t&&(u="anyValue");var l=4*Math.floor(n/4),c=n%4,f="\n      if ("+("sum"===t)+") {\n        sumValue += dot(values, ones);\n      } else if ("+("prod"===t)+") {\n        vec2 tmp = vec2(values[0], values[1]) * vec2(values[2], values[3]);\n        prodValue *= tmp[0] * tmp[1];\n      } else {\n        minMaxValue = "+s+"(values, minMaxValue);\n      }\n    ",d="vec4";"all"===t?(o="1.0",f="\n        bool reducedAllValue = all(values);\n        float floatedReducedAllValue = float(reducedAllValue);\n        allValue = float(allValue >= 1.0 && floatedReducedAllValue >= 1.0);\n      ",d="bvec4"):"any"===t&&(o="0.0",f="\n        bool reducedAnyValue = any(values);\n        float floatedReducedAnyValue = float(reducedAnyValue);\n        anyValue = float(anyValue >= 1.0 || floatedReducedAnyValue >= 1.0);\n      ",d="bvec4");var p="";i%n>0&&(p="\n        if (inIdx < 0 || inIdx >= "+i+") {\n          return initializationValue;\n        }\n      "),this.userCode="\n      const float initializationValue = "+o+";\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float getValue(int batch, int inIdx) {\n        "+p+"\n        return getX(batch, inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * "+n+";\n\n        vec4 minMaxValue = vec4("+o+");\n        float prodValue = 1.0;\n        float sumValue = 0.0;\n        float allValue = 1.0;\n        float anyValue = 0.0;\n\n        for (int i = 0; i < "+l+"; i += 4) {\n          int inIdx = inOffset + i;\n          "+d+" values = "+d+"(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          "+f+"\n        }\n\n        int inIdx = inOffset + "+l+";\n        if ("+(1===c)+") {\n          "+d+" values = "+d+"(\n            getValue(batch, inIdx),\n            initializationValue,\n            initializationValue,\n            initializationValue\n          );\n\n          "+f+"\n        } else if ("+(2===c)+") {\n          "+d+" values = "+d+"(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            initializationValue,\n            initializationValue\n          );\n\n          "+f+"\n        } else if ("+(3===c)+") {\n          "+d+" values = "+d+"(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            initializationValue\n          );\n\n          "+f+"\n        }\n        setOutput("+u+");\n      }\n    "},Th=function(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e;for(var n="",r=0;r<4;r++){var i="thisRC = rc;";r%2==1&&(i+="thisRC.z += 1;"),r>1&&(i+="thisRC.y += 1;"),n+="\n        "+i+"\n        "+(r>0?"if(thisRC.y < rows && thisRC.z < cols){":"")+"\n          int flatIndex = getFlatIndex(thisRC);\n\n          ivec3 inputRC = inputCoordsFromReshapedOutCoords(flatIndex);\n          vec2 inputRCInnerDims = vec2(float(inputRC.y),float(inputRC.z));\n\n          result["+r+"] =\n            getChannel(getA(inputRC.x, inputRC.y, inputRC.z), inputRCInnerDims);\n        "+(r>0?"}":"")+"\n      "}this.userCode="\n      \n    ivec3 inputCoordsFromReshapedOutCoords(int index) {\n      "+Ld(["r","c","d"],t)+"\n      return ivec3(r, c, d);\n    }\n  \n      "+Bd(e)+"\n\n      void main() {\n        ivec3 rc = getOutputCoords();\n\n        vec4 result = vec4(0.);\n\n        ivec3 thisRC;\n        int rows = "+e[1]+";\n        int cols = "+e[2]+";\n\n        "+n+"\n\n        setOutput(result);\n      }\n    "},Eh=function(e,t,n){this.variableNames=["dy"],this.outputShape=[],this.outputShape=t.shape;var r=t.shape,i=r[1],a=r[2],o=e.shape,s=o[1],u=o[2],l=[n&&s>1?i-1:i,n&&u>1?a-1:a],c=[n&&s>1?s-1:s,n&&u>1?u-1:u],f=l[0]/c[0],d=l[1]/c[1],p=1/f,h=1/d,v=2*Math.ceil(p)+2,y=2*Math.ceil(h)+2;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        int r = coords[1];\n        int c = coords[2];\n\n        float accumulator = 0.0;\n\n        const float heightScale = float("+f+");\n        const float widthScale = float("+d+");\n\n        const float invHeightScale = float("+p+");\n        const float invWidthScale = float("+h+");\n\n        const int winHeight = int("+v+");\n        const int winWidth = int("+y+");\n\n        // Compute bounds for where in dy we will look\n        float startRLerp = floor(float(r) * invHeightScale);\n        int startDyR = int(startRLerp - float(winHeight / 2));\n\n        float startCLerp = floor(float(c) * invWidthScale);\n        int startDyC = int(startCLerp - float(winWidth / 2));\n\n        // Loop over dy\n        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {\n          int dyR = dyROffset + startDyR;\n\n          // Guard against the window exceeding the bounds of dy\n          if (dyR < 0 || dyR >= "+s+") {\n            continue;\n          }\n\n          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {\n            int dyC = dyCOffset + startDyC;\n\n            // Guard against the window exceeding the bounds of dy\n            if (dyC < 0 || dyC >= "+u+") {\n              continue;\n            }\n\n            float dxR = float(dyR) * heightScale;\n            int topDxRIndex = int(floor(dxR));\n            int bottomDxRIndex = int(min(ceil(dxR), "+(i-1)+".0));\n            float dxRLerp = dxR - float(topDxRIndex);\n            float inverseDxRLerp = 1.0 - dxRLerp;\n\n            float dxC = float(dyC) * widthScale;\n            int leftDxCIndex = int(floor(dxC));\n            int rightDxCIndex = int(min(ceil(dxC), "+(a-1)+".0));\n            float dxCLerp = dxC - float(leftDxCIndex);\n            float inverseDxCLerp = 1.0 - dxCLerp;\n\n            if (r == topDxRIndex && c == leftDxCIndex) {\n              // topLeft\n              accumulator +=\n                getDy(b, dyR, dyC, d) * inverseDxRLerp * inverseDxCLerp;\n            }\n\n            if (r == topDxRIndex && c == rightDxCIndex) {\n              // topRight\n              accumulator += getDy(b, dyR, dyC, d) * inverseDxRLerp * dxCLerp;\n            }\n\n            if (r == bottomDxRIndex && c == leftDxCIndex) {\n              // bottomLeft\n              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * inverseDxCLerp;\n            }\n\n            if (r == bottomDxRIndex && c == rightDxCIndex) {\n              // bottomRight\n              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * dxCLerp;\n            }\n          }\n        }\n        // End loop over dy\n\n        setOutput(accumulator);\n      }\n    "},kh=function(e,t,n,r){this.variableNames=["A"],this.outputShape=[];var i=e[0],a=e[1],o=e[2],s=e[3];this.outputShape=[i,t,n,s];var u=[r&&t>1?a-1:a,r&&n>1?o-1:o],l=[r&&t>1?t-1:t,r&&n>1?n-1:n];this.userCode="\n      const vec2 effectiveInputOverOutputRatioRC = vec2(\n          "+u[0]/l[0]+",\n          "+u[1]/l[1]+");\n      const vec2 inputShapeRC = vec2("+a+".0, "+o+".0);\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        ivec2 yRC = coords.yz;\n\n        // Fractional source index.\n        vec2 sourceFracIndexRC = vec2(yRC) * effectiveInputOverOutputRatioRC;\n\n        // Compute the four integer indices.\n        ivec2 sourceFloorRC = ivec2(sourceFracIndexRC);\n        ivec2 sourceCeilRC = ivec2(\n          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));\n\n        float topLeft = getA(b, sourceFloorRC.x, sourceFloorRC.y, d);\n        float bottomLeft = getA(b, sourceCeilRC.x, sourceFloorRC.y, d);\n        float topRight = getA(b, sourceFloorRC.x, sourceCeilRC.y, d);\n        float bottomRight = getA(b, sourceCeilRC.x, sourceCeilRC.y, d);\n\n        vec2 fracRC = sourceFracIndexRC - vec2(sourceFloorRC);\n\n        float top = topLeft + (topRight - topLeft) * fracRC.y;\n        float bottom = bottomLeft + (bottomRight - bottomLeft) * fracRC.y;\n        float newValue = top + (bottom - top) * fracRC.x;\n\n        setOutput(newValue);\n      }\n    "},_h=function(e,t,n,r){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];var i=e[0],a=e[1],o=e[2],s=e[3];this.outputShape=[i,t,n,s];var u=[r&&t>1?a-1:a,r&&n>1?o-1:o],l=[r&&t>1?t-1:t,r&&n>1?n-1:n];this.userCode="\n      const vec3 effectiveInputOverOutputRatioRC = vec3(\n          "+u[0]/l[0]+",\n          "+u[1]/l[1]+",\n          "+u[1]/l[1]+");\n      const vec3 inputShapeRC = vec3("+a+".0, "+o+".0,\n                                     "+o+".0);\n\n      float getAValue(int b, int r, int c, int d) {\n        return getChannel(getA(b, r, c, d), vec2(c, d));\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        // Calculate values for next column in yRC.z.\n        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);\n\n        // Fractional source index.\n        vec3 sourceFracIndexRC = vec3(yRC) * effectiveInputOverOutputRatioRC;\n\n        // Compute the four integer indices.\n        ivec3 sourceFloorRC = ivec3(sourceFracIndexRC);\n        ivec3 sourceCeilRC = ivec3(\n          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));\n\n        // Should we calculate next column and row elements in 2x2 packed cell.\n        bool hasNextCol = d < "+(s-1)+";\n        bool hasNextRow = coords.z < "+(n-1)+";\n\n        // In parallel, construct four corners for all four components in\n        // packed 2x2 cell.\n        vec4 topLeft = vec4(\n          getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d),\n          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d + 1) : 0.0);\n\n        vec4 bottomLeft = vec4(\n          getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d),\n          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d + 1) : 0.0);\n\n        vec4 topRight = vec4(\n          getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d),\n          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d + 1) : 0.0);\n\n        vec4 bottomRight = vec4(\n          getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d),\n          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d + 1) : 0.0);\n\n        vec3 fracRC = sourceFracIndexRC - vec3(sourceFloorRC);\n\n        vec4 top = mix(topLeft, topRight, fracRC.yyzz);\n        vec4 bottom = mix(bottomLeft, bottomRight, fracRC.yyzz);\n        vec4 newValue = mix(top, bottom, fracRC.x);\n\n        setOutput(newValue);\n      }\n    "},Ch=function(e,t,n){this.variableNames=["dy"],this.outputShape=[],this.outputShape=t.shape;var r=t.shape,i=r[1],a=r[2],o=e.shape,s=o[1],u=o[2],l=[n&&s>1?i-1:i,n&&u>1?a-1:a],c=[n&&s>1?s-1:s,n&&u>1?u-1:u],f=l[0]/c[0],d=l[1]/c[1],p=1/f,h=1/d,v=2*Math.ceil(p)+2,y=2*Math.ceil(h)+2;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        int r = coords[1];\n        int c = coords[2];\n\n        float accumulator = 0.0;\n\n        const float heightScale = float("+f+");\n        const float widthScale = float("+d+");\n\n        const float invHeightScale = float("+p+");\n        const float invWidthScale = float("+h+");\n\n        const int winHeight = int("+v+");\n        const int winWidth = int("+y+");\n\n        // Compute bounds for where in dy we will look\n        float startRLerp = floor(float(r) * invHeightScale);\n        int startDyR = int(floor(startRLerp - float(winHeight / 2)));\n\n        float startCLerp = floor(float(c) * invWidthScale);\n        int startDyC = int(floor(startCLerp - float(winWidth / 2)));\n\n        // Loop over dy\n        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {\n          int dyR = dyROffset + startDyR;\n\n          // Guard against the window exceeding the bounds of dy\n          if (dyR < 0 || dyR >= "+s+") {\n            continue;\n          }\n\n          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {\n            int dyC = dyCOffset + startDyC;\n\n            // Guard against the window exceeding the bounds of dy\n            if (dyC < 0 || dyC >= "+u+") {\n              continue;\n            }\n\n            float sourceFracRow =\n              float("+l[0]+") *\n                (float(dyR) / float("+c[0]+"));\n\n            float sourceFracCol =\n                float("+l[1]+") *\n                  (float(dyC) / float("+c[1]+"));\n\n            int sourceNearestRow = int(min(\n                float(int("+i+") - 1),\n                "+n+" ? float(round(sourceFracRow)) :\n                                  float(floor(sourceFracRow))));\n\n            int sourceNearestCol = int(min(\n                float(int("+a+") - 1),\n                "+n+" ? float(round(sourceFracCol)) :\n                                  float(floor(sourceFracCol))));\n\n            if (r == sourceNearestRow && c == sourceNearestCol) {\n              accumulator += getDy(b, dyR, dyC, d);\n            }\n          }\n        }\n        // End loop over dy\n\n        setOutput(accumulator);\n      }\n    "},Ph=function(e,t,n,r){this.variableNames=["A"],this.outputShape=[];var i=e[0],a=e[1],o=e[2],s=e[3];this.outputShape=[i,t,n,s];var u=[r&&t>1?a-1:a,r&&n>1?o-1:o],l=[r&&t>1?t-1:t,r&&n>1?n-1:n],c=r?"0.5":"0.0";this.userCode="\n      const vec2 effectiveInputOverOutputRatioRC = vec2(\n          "+u[0]/l[0]+",\n          "+u[1]/l[1]+");\n      const vec2 inputShapeRC = vec2("+a+".0, "+o+".0);\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        ivec2 yRC = coords.yz;\n\n        // Fractional source index.\n        vec2 sourceFracIndexRC = vec2(yRC) * effectiveInputOverOutputRatioRC;\n\n        // Compute the coordinators of nearest neighbor point.\n        ivec2 sourceNearestRC = ivec2(\n          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + "+c+")));\n\n        float newValue = getA(b, sourceNearestRC.x, sourceNearestRC.y, d);\n\n        setOutput(newValue);\n      }\n    "},Oh=function(e,t){this.variableNames=["x"];var n=e.length;if(n>4)throw new Error("WebGL backend: Reverse of rank-"+n+" tensor is not yet supported");if(this.outputShape=e,1!==n){var r=e.map((function(n,r){return function(n){return-1!==t.indexOf(n)&&1!==e[n]?e[n]+" - coords["+n+"] - 1":"coords["+n+"]"}(r)})).join(","),i=Yd(n);this.userCode="\n      void main() {\n        "+i+" coords = getOutputCoords();\n        setOutput(getX("+r+"));\n      }\n    "}else this.userCode="\n        void main() {\n          int coord = getOutputCoords();\n          setOutput(getX("+e[0]+" - coord - 1));\n        }\n      "},Ih=function(e,t){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0;var n=e.length;if(n>4)throw new Error("WebGL backend: Reverse of rank-"+n+" tensor is not yet supported");this.outputShape=e;var r=Md("rc",n),i=r[n-1]+" + 1 < "+this.outputShape[n-1],a=r[n-2]+" + 1 < "+this.outputShape[n-2],o=Yd(n);function s(n){var r=e.map((function(r,i){return function(n,r){return-1!==t.indexOf(n)&&1!==e[n]?e[n]+" - "+r[n]+" - 1":""+r[n]}(i,n)}));return"getChannel(getX("+r.join(",")+"), vec2("+r.slice(-2).join(",")+"))"}this.userCode=1===n?"\n        void main(){\n          int rc = getOutputCoords();\n          vec4 result = vec4(0.);\n          result.r = getChannel(getX("+e[0]+" - rc - 1),\n            "+e[0]+" - rc - 1);\n          if("+i+"){\n              result.g = getChannel(getX("+e[0]+" - (rc  + 1) - 1),\n                "+e[0]+" - (rc  + 1) - 1);\n          }\n          setOutput(result);\n        }\n      ":"\n        void main() {\n          "+o+" rc = getOutputCoords();\n          vec4 result = vec4(0.);\n          result.r = "+function(e){return s(e)}(r.slice())+";\n          if("+i+"){\n            result.g = "+function(e){return e[n-1]="("+e[n-1]+" + 1)",s(e)}(r.slice())+";\n          }\n          if("+a+") {\n            result.b = "+function(e){return e[n-2]="("+e[n-2]+" + 1)",s(e)}(r.slice())+";\n            if("+i+") {\n              result.a = "+function(e){return e[n-1]="("+e[n-1]+" + 1)",e[n-2]="("+e[n-2]+" + 1)",s(e)}(r.slice())+";\n            }\n          }\n          setOutput(result);\n        }\n    "},Ah=function(e,t,n,r,i,a,o){void 0===o&&(o=!0),this.variableNames=["updates","indices","defaultValue"],this.outputShape=a;var s=Yd(i.length),u=Yd(a.length),l="";1===n?l="i":2===n&&(l="i, j");var c="getIndices("+l+")",f="";1===r?f="i":2===r&&(f="i, coords[1]");var d="getUpdates("+f+")",p=t>1?"strides[j]":"strides";this.userCode="\n        "+s+" strides = "+s+"("+i+");\n\n        void main() {\n          "+u+" coords = getOutputCoords();\n          float sum = 0.0;\n          bool found = false;\n          for (int i = 0; i < "+e+"; i++) {\n            int flattenedIndex = 0;\n            for (int j = 0; j < "+t+"; j++) {\n              int index = round("+c+");\n              flattenedIndex += index * "+p+";\n            }\n            if (flattenedIndex == coords[0]) {\n              sum += "+d+";\n              found = true;\n            }\n          }\n          setOutput(mix(getDefaultValue(), sum, float(found)));\n        }\n      "},Dh=function(e,t){this.variableNames=["x","segmentIds"];var n=e.windowSize,r=e.batchSize,i=e.inSize,a=e.numSegments,o=a*Math.ceil(i/n);this.outputShape=[r,o];var s=4*Math.floor(n/4),u=n%4,l="\n        sumValue += dot(values, segFilter);\n    ",c="";i%n>0&&(c="\n        if (inIdx < 0 || inIdx >= "+i+") {\n          return initializationValue;\n        }\n      ");var f="";i%n>0&&(f="\n        if (inIdx < 0 || inIdx >= "+i+") {\n          return -1.0;\n        }\n      "),this.userCode="\n      const float initializationValue = 0.0;\n\n      float getValue(int batch, int inIdx) {\n        "+c+"\n        return getX(batch, inIdx);\n      }\n\n      float getSegmentIdAtIndex(int inIdx) {\n        "+f+"\n        return getSegmentIds(inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = int(floor(float(outIdx) / float(\n          "+a+")) * float("+n+"));\n        int currentSeg = int(mod(float(outIdx), float("+a+")));\n\n        float sumValue = 0.0;\n\n        for (int i = 0; i < "+s+"; i += 4) {\n          int inIdx = inOffset + i;\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 3)) == currentSeg ? 1 : 0\n          );\n\n          "+l+"\n        }\n\n        int inIdx = inOffset + "+s+";\n        if ("+(1===u)+") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            initializationValue,\n            initializationValue,\n            initializationValue\n          );\n\n          int inIdxSeg = int(getSegmentIdAtIndex(inIdx));\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            0,\n            0,\n            0\n          );\n\n          "+l+"\n        } else if ("+(2===u)+") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            initializationValue,\n            initializationValue\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n              0,\n              0\n          );\n\n          "+l+"\n        } else if ("+(3===u)+") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            initializationValue\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,\n            0\n          );\n\n          "+l+"\n        }\n        setOutput(sumValue);\n      }\n    "},Rh=function(e,t,n){var r,i;if(this.variableNames=["c","a","b"],this.outputShape=t,n>4)throw Error("Where for rank "+n+" is not yet supported");if(1===n)i="resRC",r="resRC";else{for(var a=["resRC.x","resRC.y","resRC.z","resRC.w"],o=[],s=[],u=0;u<t.length;u++)s.push(""+a[u]),u<e&&o.push(""+a[u]);r=o.join(),i=s.join()}var l=Yd(n);this.userCode="\n      void main() {\n        "+l+" resRC = getOutputCoords();\n        float cVal = getC("+r+");\n        if (cVal >= 1.0) {\n          setOutput(getA("+i+"));\n        } else {\n          setOutput(getB("+i+"));\n        }\n      }\n    "},Nh=function(){function e(e){this.variableNames=["source"],this.outputShape=e,this.rank=e.length;var t,n=Yd(this.rank),r="uniform int start["+this.rank+"];",i=function(e){if(1===e)return"sourceLoc";if(e<=6)return Mh.slice(0,e).map((function(e){return"sourceLoc."+e})).join(",");throw Error("Slicing for rank "+e+" is not yet supported")}(this.rank);t="\n        "+n+" sourceLoc;\n        "+n+" coords = getOutputCoords();\n        "+e.map((function(e,t){return"sourceLoc."+Mh[t]+" = start["+t+"] + coords."+Mh[t]+";"})).join("\n")+"\n      ",this.userCode="\n      "+r+"\n      void main() {\n        "+t+"\n        setOutput(getSource("+i+"));\n      }\n    "}return e.prototype.getCustomSetupFunc=function(e){var t=this;if(e.length!==this.rank)throw Error("The rank ("+this.rank+") of the program must match the length of start ("+e.length+")");return function(n,r){null==t.startLoc&&(t.startLoc=n.getUniformLocationNoThrow(r,"start"),null==t.startLoc)||n.gl.uniform1iv(t.startLoc,e)}},e}(),Mh=["x","y","z","w","u","v"],Fh=function(){function e(e){this.variableNames=["source"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.rank=e.length;var t=Yd(this.rank),n=Md("coords",this.rank),r=Md("sourceLoc",this.rank),i=1===this.rank?"sourceLoc":"vec2("+r.slice(-2).join()+")",a="getChannel(getSource("+r.join()+"), "+i+")",o="\n      result.x = "+a+";\n      if (++"+n[this.rank-1]+" < "+e[this.rank-1]+") {\n        ++"+r[this.rank-1]+";\n        result.y = "+a+";\n        --"+r[this.rank-1]+";\n      }\n    ",s=1===this.rank?"":"\n      --"+n[this.rank-1]+";\n      if (++"+n[this.rank-2]+" < "+e[this.rank-2]+") {\n        ++"+r[this.rank-2]+";\n        result.z = "+a+";\n        if (++"+n[this.rank-1]+" < "+e[this.rank-1]+") {\n          ++"+r[this.rank-1]+";\n          result.w = "+a+";\n        }\n      }\n    ",u=this.rank<=4?"sourceLoc = coords +\n            "+t+"("+e.map((function(e,t){return"start["+t+"]"})).join()+");":e.map((function(e,t){return r[t]+" = "+n[t]+" + start["+t+"];"})).join("\n");this.userCode="\n      uniform int start["+this.rank+"];\n      void main() {\n        "+t+" coords = getOutputCoords();\n        "+t+" sourceLoc;\n        "+u+"\n        vec4 result = vec4(0.);\n        "+o+"\n        "+s+"\n        setOutput(result);\n      }\n    "}return e.prototype.getCustomSetupFunc=function(e){var t=this;if(e.length!==this.rank)throw Error("The rank ("+this.rank+") of the program must match the length of start ("+e.length+")");return function(n,r){null==t.startLoc&&(t.startLoc=n.getUniformLocationNoThrow(r,"start"),null==t.startLoc)||n.gl.uniform1iv(t.startLoc,e)}},e}(),Lh=function(e,t,n){this.variableNames=["x"],this.outputShape=n;var r=n.length,i=Yd(n.length),a=Yd(n.length),o="";if(1===r)o="coords * strides + begin";else{var s=0;o=n.map((function(e,t){return s++,1===n.length?"coords * strides["+t+"] + begin["+t+"]":"coords["+(s-1)+"] * strides["+t+"] + begin["+t+"]"})).join(",")}this.userCode="\n      "+i+" begin = "+i+"("+e+");\n      "+i+" strides = "+i+"("+t+");\n\n      void main() {\n        "+a+" coords = getOutputCoords();\n        setOutput(getX("+o+"));\n      }\n    "},Bh=function(){function e(e){this.gpgpu=e,this.numUsedTextures=0,this.numFreeTextures=0,this.freeTextures={},this.logEnabled=!1,this.usedTextures={}}return e.prototype.acquireTexture=function(e,t,n){var r,i=jh(t,n),a=zh(e,i,n);if(a in this.freeTextures||(this.freeTextures[a]=[]),a in this.usedTextures||(this.usedTextures[a]=[]),this.freeTextures[a].length>0){this.numFreeTextures--,this.numUsedTextures++,this.log();var o=this.freeTextures[a].shift();return this.usedTextures[a].push(o),o}return this.numUsedTextures++,this.log(),i===tl.PACKED_2X2_FLOAT32?r=this.gpgpu.createPackedMatrixTexture(e[0],e[1]):i===tl.PACKED_2X2_FLOAT16?r=this.gpgpu.createFloat16PackedMatrixTexture(e[0],e[1]):i===tl.UNPACKED_FLOAT32?r=this.gpgpu.createFloat32MatrixTexture(e[0],e[1]):i===tl.UNPACKED_FLOAT16?r=this.gpgpu.createFloat16MatrixTexture(e[0],e[1]):i===tl.PACKED_4X1_UNSIGNED_BYTE&&(r=this.gpgpu.createUnsignedBytesMatrixTexture(e[0],e[1])),this.usedTextures[a].push(r),r},e.prototype.releaseTexture=function(e,t,n,r){if(null!=this.freeTextures){var i=zh(t,jh(n,r),r);i in this.freeTextures||(this.freeTextures[i]=[]),this.freeTextures[i].push(e),this.numFreeTextures++,this.numUsedTextures--;var a=this.usedTextures[i],o=a.indexOf(e);if(o<0)throw new Error("Cannot release a texture that was never provided by this texture manager");a.splice(o,1),this.log()}},e.prototype.log=function(){if(this.logEnabled){var e=this.numFreeTextures+this.numUsedTextures;console.log("Free/Used",this.numFreeTextures+" / "+this.numUsedTextures,"("+e+")")}},e.prototype.getNumUsedTextures=function(){return this.numUsedTextures},e.prototype.getNumFreeTextures=function(){return this.numFreeTextures},e.prototype.dispose=function(){var e=this;if(null!=this.freeTextures){for(var t in this.freeTextures)this.freeTextures[t].forEach((function(t){e.gpgpu.deleteMatrixTexture(t)}));for(var t in this.usedTextures)this.usedTextures[t].forEach((function(t){e.gpgpu.deleteMatrixTexture(t)}));this.freeTextures=null,this.usedTextures=null,this.numUsedTextures=0,this.numFreeTextures=0}},e}();function jh(e,t){if(e===el.UPLOAD)return tl.PACKED_2X2_FLOAT32;if(e===el.RENDER||null==e)return function(e){return ks().getBool("WEBGL_RENDER_FLOAT32_ENABLED")?e?tl.PACKED_2X2_FLOAT32:tl.UNPACKED_FLOAT32:e?tl.PACKED_2X2_FLOAT16:tl.UNPACKED_FLOAT16}(t);if(e===el.DOWNLOAD||e===el.PIXELS)return tl.PACKED_4X1_UNSIGNED_BYTE;throw new Error("Unknown logical texture type "+e)}function zh(e,t,n){return e[0]+"_"+e[1]+"_"+t+"_"+n}var Wh=function(e,t){this.variableNames=["A"];for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e[r]*t[r];this.outputShape=n,this.rank=n.length;var i=Yd(this.rank),a=function(e){var t=e.length;if(t>5)throw Error("Tile for rank "+t+" is not yet supported");if(1===t)return"imod(resRC, "+e[0]+")";for(var n=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u"],r=[],i=0;i<e.length;i++)r.push("imod("+n[i]+", "+e[i]+")");return r.join()}(e);this.userCode="\n      void main() {\n        "+i+" resRC = getOutputCoords();\n        setOutput(getA("+a+"));\n      }\n    "},Vh=function(e,t){this.variableNames=["A"];for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e[t[r]];this.outputShape=n,this.rank=n.length;var i=Yd(this.rank),a=function(e){var t=e.length;if(t>6)throw Error("Transpose for rank "+t+" is not yet supported");for(var n=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u","resRC.v"],r=new Array(t),i=0;i<e.length;i++)r[e[i]]=n[i];return r.join()}(t);this.userCode="\n    void main() {\n      "+i+" resRC = getOutputCoords();\n      setOutput(getA("+a+"));\n    }\n    "},Uh=function(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0;for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e[t[r]];if(this.outputShape=n,this.rank=n.length,this.rank>6)throw Error("Packed transpose for rank "+this.rank+" is not yet supported.");var i=Yd(this.rank),a=Nd("rc",this.rank),o=new Array(this.rank);for(r=0;r<t.length;r++)o[t[r]]=a[r];var s="vec2("+o.slice(-2).join()+")",u="++"+a[this.rank-1]+" < "+n[this.rank-1],l="getChannel(getA("+o.join()+"), "+s+")";this.userCode="\n    void main() {\n      "+i+" rc = getOutputCoords();\n      vec4 result = vec4(0.);\n      result[0] = "+l+";\n      if("+u+") {\n        result[1] = "+l+";\n      }\n      --"+a[this.rank-1]+";\n      if(++"+a[this.rank-2]+" < "+n[this.rank-2]+") {\n        result[2] = "+l+";\n        if("+u+") {\n          result[3] = "+l+";\n        }\n      }\n      setOutput(result);\n    }\n    "},Kh=1.7580993408473768,Hh=1.0507009873554805,qh=function(e,t){this.variableNames=["A"],this.outputShape=e,this.userCode="\n      float unaryOperation(float x) {\n        "+t+"\n      }\n\n      void main() {\n        float x = getAAtOutCoords();\n        float y = unaryOperation(x);\n\n        setOutput(y);\n      }\n    "},Gh="if (isnan(x)) return x;",Xh="return abs(x);",Yh=Gh+"\n  return (x < 0.0) ? 0.0 : x;\n",Jh=Gh+"\n  return (x < 0.0) ? 0.0 : min(6.0, x);\n",$h="return (x >= 0.0) ? x : (exp(x) - 1.0);",Qh="\n  // Stable and Attracting Fixed Point (0, 1) for Normalized Weights.\n  // see: https://arxiv.org/abs/1706.02515\n  float scaleAlpha = "+Kh+";\n  float scale = "+Hh+";\n  return (x >= 0.0) ? scale * x : scaleAlpha * (exp(x) - 1.0);\n",Zh="return -x;",ev="return ceil(x);",tv="return floor(x);",nv="return exp(x);",rv="return exp(x) - 1.0;",iv=Gh+"\n  return sin(x);\n",av=Gh+"\n  return cos(x);\n",ov=Gh+"\n  if (abs(x) > 1.) {\n    return NAN;\n  }\n  return asin(x);\n",sv=Gh+"\n  if (abs(x) > 1.) {\n    return NAN;\n  }\n  return acos(x);\n",uv=Gh+"\n  return atan(x);\n",lv=Gh+"return log(x + sqrt(x * x + 1.0));",cv=Gh+"\n  if (x < 1.0) return NAN;\n  return log(x + sqrt(x * x - 1.0));",fv=Gh+"\n  if ((x < -1.0) || (x > 1.0)) return NAN;\n  return (log(1.0 + x) - log(1.0 - x)) / 2.0;",dv="return x;",pv="\n  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",hv="\n  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",vv="\n  vec4 result;\n\n  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);\n  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);\n  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);\n  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);\n\n  return result;\n",yv=function(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.userCode="\n      vec4 unaryOperation(vec4 x) {\n        "+t+"\n      }\n\n      void main() {\n        vec4 x = getAAtOutCoords();\n        vec4 y = unaryOperation(x);\n\n        setOutput(y);\n      }\n    "},mv=function(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outputShape=e;var t=e.length,n=Md("rc",t),r=Yd(t),i=function(e,t){if(1===e)return"rc";for(var n="",r=0;r<e;r++)n+=t[r],r<e-1&&(n+=",");return n}(t,n),a=n.slice(-2),o=t<=1?"rc":"vec2("+a.join(",")+")";this.userCode="\n      void main() {\n        "+r+" rc = getOutputCoords();\n        vec4 packedInput = getA("+i+");\n\n        setOutput(getChannel(packedInput, "+o+"));\n      }\n    "},gv={};function bv(e,t){if(void 0===t&&(t=!1),"linear"===e)return"return x;";if("relu"===e)return t?pv:Yh;if("elu"===e)return t?vv:$h;if("relu6"===e)return t?hv:Jh;if("prelu"===e)return t?lp:sp;throw new Error("Activation "+e+" has not been implemented for the WebGL backend.")}var xv=function(e){function t(t){var n,r=e.call(this)||this;if(r.pendingRead=new WeakMap,r.pendingDisposal=new WeakSet,r.dataRefCount=new WeakMap,r.numBytesInGPU=0,r.uploadWaitMs=0,r.downloadWaitMs=0,r.warnedAboutMemory=!1,r.pendingDeletes=0,r.disposed=!1,!ks().getBool("HAS_WEBGL"))throw new Error("WebGL is not supported on this device");if(null==t){var i=al(ks().getNumber("WEBGL_VERSION"));r.binaryCache=((n=ks().getNumber("WEBGL_VERSION"))in gv||(gv[n]={}),gv[n]),r.gpgpu=new oh(i),r.canvas=i.canvas,r.gpgpuCreatedLocally=!0}else r.gpgpu=t,r.binaryCache={},r.gpgpuCreatedLocally=!1,r.canvas=t.gl.canvas;return r.textureManager=new Bh(r.gpgpu),r.numMBBeforeWarning=null==ks().global.screen?1024:ks().global.screen.height*ks().global.screen.width*window.devicePixelRatio*600/1024/1024,r.texData=new Xf(r,Ju),r}return ws(t,e),t.prototype.numDataIds=function(){return this.texData.numDataIds()+(this.cpuBackend?this.cpuBackend.numDataIds():0)-this.pendingDeletes},t.prototype.write=function(e,t,n){if(ks().getBool("DEBUG")&&this.checkNumericalProblems(e),"complex64"===n&&null!=e)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");var r={};return this.texData.set(r,{shape:t,dtype:n,values:e,usage:el.UPLOAD}),r},t.prototype.move=function(e,t,n,r){if(ks().getBool("DEBUG")&&this.checkNumericalProblems(t),"complex64"===r)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");this.texData.set(e,{shape:n,dtype:r,values:t,usage:el.UPLOAD})},t.prototype.readSync=function(e){var t=this.texData.get(e),n=t.values,r=t.dtype,i=t.complexTensors,a=t.slice,o=t.shape,s=t.isPacked;if(null!=a){var u;u=s?new yv(o,dv):new qh(o,dv);var l=this.runWebGLProgram(u,[{dataId:e,shape:o,dtype:r}],r),c=this.readSync(l.dataId);return this.disposeData(l.dataId),c}if(null!=n)return this.convertAndCacheOnCPU(e);if("string"===r)return n;var f,d,p=null!=this.activeTimers;return p&&(f=mu()),d="complex64"===r?vd(i.real.dataSync(),i.imag.dataSync()):this.getValuesFromTexture(e),p&&(this.downloadWaitMs+=mu()-f),this.convertAndCacheOnCPU(e,d)},t.prototype.read=function(e){return Ss(this,void 0,void 0,(function(){var t,n,r,i,a,o,s,u,l,c,f,d,p,h,v,y,m,g,b,x,w,S;return Ts(this,(function(T){switch(T.label){case 0:if(this.pendingRead.has(e))return t=this.pendingRead.get(e),[2,new Promise((function(e){return t.push(e)}))];if(n=this.texData.get(e),r=n.values,i=n.shape,a=n.slice,o=n.dtype,s=n.complexTensors,u=n.isPacked,null!=a)return void 0,l=u?new yv(i,dv):new qh(i,dv),c=this.runWebGLProgram(l,[{dataId:e,shape:i,dtype:o}],o),f=this.read(c.dataId),this.disposeData(c.dataId),[2,f];if(null!=r)return[2,this.convertAndCacheOnCPU(e)];if(!ks().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")&&2===ks().getNumber("WEBGL_VERSION"))throw new Error("tensor.data() with WEBGL_DOWNLOAD_FLOAT_ENABLED=false and WEBGL_VERSION=2 not yet supported.");return d=null,"complex64"!==o&&ks().get("WEBGL_BUFFER_SUPPORTED")&&(p=this.decode(e),h=this.texData.get(p.dataId),d=(S=this.gpgpu).createBufferFromTexture.apply(S,[h.texture].concat(sl(i)))),this.pendingRead.set(e,[]),"complex64"===o?[3,2]:[4,this.gpgpu.createAndWaitForFence()];case 1:T.sent(),T.label=2;case 2:return"complex64"!==o?[3,4]:[4,Promise.all([s.real.data(),s.imag.data()])];case 3:return y=T.sent(),m=y[0],g=y[1],v=vd(m,g),[3,5];case 4:null==d?v=this.getValuesFromTexture(e):(b=Vs(i),v=this.gpgpu.downloadFloat32MatrixFromBuffer(d,b)),T.label=5;case 5:return null!=p&&this.disposeData(p.dataId),x=this.convertAndCacheOnCPU(e,v),w=this.pendingRead.get(e),this.pendingRead.delete(e),w.forEach((function(e){return e(x)})),this.pendingDisposal.has(e)&&(this.pendingDisposal.delete(e),this.disposeData(e),this.pendingDeletes--),[2,x]}}))}))},t.prototype.checkNumericalProblems=function(e){if(null!=e)for(var t=0;t<e.length;t++){var n=e[t];if(!fl(n)){if(ks().getBool("WEBGL_RENDER_FLOAT32_CAPABLE"))throw Error("The value "+n+" cannot be represented with your current settings. Consider enabling float32 rendering: 'tf.env().set('WEBGL_RENDER_FLOAT32_ENABLED', true);'");throw Error("The value "+n+" cannot be represented on this device.")}}},t.prototype.getValuesFromTexture=function(e){var t,n=this.texData.get(e),r=n.shape,i=n.dtype,a=n.isPacked,o=Vs(r);if(ks().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")){var s=this.decode(e),u=this.texData.get(s.dataId),l=(t=this.gpgpu).downloadMatrixFromPackedTexture.apply(t,[u.texture].concat(sl(r))).subarray(0,o);return this.disposeData(s.dataId),l}var c=ks().getBool("WEBGL_PACK")&&!0===a,f=c?zl(r):r,d=c?new Mp(f):new Np(f),p=this.runWebGLProgram(d,[{shape:f,dtype:i,dataId:e}],"float32"),h=this.texData.get(p.dataId),v=this.gpgpu.downloadByteEncodedFloatMatrixFromOutputTexture(h.texture,h.texShape[0],h.texShape[1]).subarray(0,o);return this.disposeData(p.dataId),v},t.prototype.time=function(e){return Ss(this,void 0,void 0,(function(){var t,n,r,i,a,o,s;return Ts(this,(function(u){switch(u.label){case 0:return t=this.activeTimers,n=[],r=!1,null==this.programTimersStack?(this.programTimersStack=n,r=!0):this.activeTimers.push(n),this.activeTimers=n,e(),i=Ws(this.activeTimers.map((function(e){return e.query}))).filter((function(e){return null!=e})),a=Ws(this.activeTimers.map((function(e){return e.name}))).filter((function(e){return null!=e})),this.activeTimers=t,r&&(this.programTimersStack=null),o={uploadWaitMs:this.uploadWaitMs,downloadWaitMs:this.downloadWaitMs,kernelMs:null,wallMs:null},ks().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?[4,Promise.all(i)]:[3,2];case 1:return s=u.sent(),o.kernelMs=Ls(s),o.getExtraProfileInfo=function(){return s.map((function(e,t){return{name:a[t],ms:e}})).map((function(e){return e.name+": "+e.ms})).join(", ")},[3,3];case 2:o.kernelMs={error:"WebGL query timers are not supported in this environment."},u.label=3;case 3:return this.uploadWaitMs=0,this.downloadWaitMs=0,[2,o]}}))}))},t.prototype.memory=function(){return{unreliable:!1,numBytesInGPU:this.numBytesInGPU}},t.prototype.startTimer=function(){return ks().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?this.gpgpu.beginQuery():{startMs:mu(),endMs:null}},t.prototype.endTimer=function(e){return ks().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?(this.gpgpu.endQuery(),e):(e.endMs=mu(),e)},t.prototype.getQueryTime=function(e){return Ss(this,void 0,void 0,(function(){var t;return Ts(this,(function(n){return ks().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?[2,this.gpgpu.waitForQueryAndGetTime(e)]:[2,(t=e).endMs-t.startMs]}))}))},t.prototype.disposeData=function(e){if(!this.pendingDisposal.has(e)){if(this.pendingRead.has(e))return this.pendingDisposal.add(e),void this.pendingDeletes++;if(this.texData.has(e)){this.releaseGPUData(e);var t=this.texData.get(e).complexTensors;null!=t&&(t.real.dispose(),t.imag.dispose()),this.texData.delete(e)}}},t.prototype.releaseGPUData=function(e){var t=this.texData.get(e),n=t.texture,r=t.dtype,i=t.texShape,a=t.usage,o=t.isPacked,s=t.slice,u=s&&s.origDataId||e,l=this.dataRefCount.get(u);l>1?this.dataRefCount.set(u,l-1):(this.dataRefCount.delete(u),null!=n&&(this.numBytesInGPU-=this.computeBytes(i,r),this.textureManager.releaseTexture(n,i,a,o)));var c=this.texData.get(e);c.texture=null,c.texShape=null,c.isPacked=!1,c.slice=null},t.prototype.getTexture=function(e){return this.uploadToGPU(e),this.texData.get(e).texture},t.prototype.getDataInfo=function(e){return this.texData.get(e)},t.prototype.getCPUBackend=function(){return ks().getBool("WEBGL_CPU_FORWARD")?(null==this.cpuBackend&&(this.cpuBackend=Ju.findBackend("cpu")),this.cpuBackend):null},t.prototype.shouldExecuteOnCPU=function(e,t){var n=this;return void 0===t&&(t=128),null!=this.getCPUBackend()&&e.every((function(e){return null==n.texData.get(e.dataId).texture&&e.size<t}))},t.prototype.getGPGPUContext=function(){return this.gpgpu},t.prototype.complex=function(e,t){var n=this.makeOutput(e.shape,"complex64");return this.texData.get(n.dataId).complexTensors={real:Ju.keep(e.clone()),imag:Ju.keep(t.clone())},n},t.prototype.real=function(e){return this.texData.get(e.dataId).complexTensors.real.clone()},t.prototype.imag=function(e){return this.texData.get(e.dataId).complexTensors.imag.clone()},t.prototype.slice=function(e,t,n){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.slice(e,t,n);if(0===Vs(n))return Tc([],n,e.dtype);var r=this.texData.get(e.dataId).isPacked,i=Uf(e.shape,t,n);if(r||!i){var a=ks().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new Fh(n):new Nh(n),o=a.getCustomSetupFunc(t);return this.compileAndRun(a,[e],null,o)}return this.uploadToGPU(e.dataId),this.shallowSlice(e,t,n)},t.prototype.shallowSlice=function(e,t,n){var r=this.texData.get(e.dataId),i=this.makeOutput(n,e.dtype),a=this.texData.get(i.dataId);Object.assign(a,r),a.shape=n,a.dtype=e.dtype;var o=Kf(t,e.strides);r.slice&&(o+=r.slice.flatOffset),a.slice={flatOffset:o,origDataId:r.slice&&r.slice.origDataId||e.dataId};var s=this.dataRefCount.get(a.slice.origDataId)||1;return this.dataRefCount.set(a.slice.origDataId,s+1),i},t.prototype.stridedSlice=function(e,t,n,r){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.stridedSlice(e,t,n,r);var i=zf(t,n,r);if(i.some((function(e){return 0===e})))return Tc([],i);var a=new Lh(t,r,i);return this.compileAndRun(a,[e])},t.prototype.reverse=function(e,t){var n=ks().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new Ih(e.shape,t):new Oh(e.shape,t);return this.compileAndRun(n,[e])},t.prototype.concat=function(e,t){if("complex64"===e[0].dtype){var n=e.map((function(e){return wc(e)})),r=e.map((function(e){return Sc(e)}));return xc(this.concat(n,t),this.concat(r,t))}if(this.shouldExecuteOnCPU(e))return this.cpuBackend.concat(e,t);if(1===e.length)return e[0];if(e.length>ks().getNumber("WEBGL_MAX_TEXTURES_IN_SHADER")){var i=Math.floor(e.length/2),a=this.concat(e.slice(0,i),t),o=this.concat(e.slice(i),t);return this.concat([a,o],t)}if(ks().getBool("WEBGL_PACK_ARRAY_OPERATIONS")&&e[0].rank>1){var s=new vp(e.map((function(e){return e.shape})),t);return this.compileAndRun(s,e)}var u=gc(e.map((function(e){return e.shape})),t),l=e.map((function(e){return e.as2D(-1,Vs(e.shape.slice(t)))})),c=new hp(l.map((function(e){return e.shape})));return this.compileAndRun(c,l).reshape(u)},t.prototype.neg=function(e){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.neg(e);if(ks().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,Zh,e.dtype);var t=new qh(e.shape,Zh);return this.compileAndRun(t,[e])},t.prototype.batchMatMul=function(e,t,n,r){var i=n?e.shape[2]:e.shape[1],a=r?t.shape[1]:t.shape[2],o=n?e.shape[1]:e.shape[2],s=e.shape[0];if((1===i||1===a)&&o>1e3){n&&(e=e.transpose([0,2,1])),r&&(t=t.transpose([0,2,1]));var u=1===a?e:e.as3D(s,o,1),l=1===a?2:1,c=1===a?t.as3D(s,1,o):t;return this.multiply(u,c).sum(l,!0)}var f=Vu(e.dtype,t.dtype),d=new hh(e.shape,[s,i,a],n,r);return this.compileAndRun(d,[e,t],f)},t.prototype.fusedBatchMatMul=function(e){var t=e.a,n=e.b,r=e.transposeA,i=e.transposeB,a=e.bias,o=e.activation,s=e.preluActivationWeights,u=r?t.shape[2]:t.shape[1],l=i?n.shape[1]:n.shape[2],c=t.shape[0],f=Vu(t.dtype,n.dtype),d=null!=a,p=null!=s,h=o?bv(o,!0):null,v=new hh(t.shape,[c,u,l],r,i,d,h,p),y=[t,n];return a&&y.push(a),s&&y.push(s),this.compileAndRun(v,y,f)},t.prototype.multiply=function(e,t){if("complex64"===e.dtype){var n=this.texData.get(e.dataId),r=this.texData.get(t.dataId),i=new rp("return areal * breal - aimag * bimag;",e.shape,t.shape),a=new rp("return areal * bimag + aimag * breal;",e.shape,t.shape),o=[this.makeComplexComponentTensorInfo(e,n.complexTensors.real),this.makeComplexComponentTensorInfo(e,n.complexTensors.imag),this.makeComplexComponentTensorInfo(t,r.complexTensors.real),this.makeComplexComponentTensorInfo(t,r.complexTensors.imag)],s=this.compileAndRun(i,o),u=this.compileAndRun(a,o),l=this.complex(s,u);return s.dispose(),u.dispose(),l}if(this.shouldExecuteOnCPU([e,t]))return this.cpuBackend.multiply(e,t);if(ks().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,op,e.dtype);var c=new up(op,e.shape,t.shape);return this.compileAndRun(c,[e,t],e.dtype)},t.prototype.batchNormalization=function(e,t,n,r,i,a){var o=[e,t,n],s=null;null!=a&&(s=a.shape,o.push(a));var u=null;if(null!=i&&(u=i.shape,o.push(i)),ks().getBool("WEBGL_PACK_NORMALIZATION")){var l=new np(e.shape,t.shape,n.shape,s,u,r);return this.compileAndRun(l,o)}var c=new tp(e.shape,t.shape,n.shape,s,u,r);return this.compileAndRun(c,o)},t.prototype.localResponseNormalization4D=function(e,t,n,r,i){var a=ks().getBool("WEBGL_PACK_NORMALIZATION")?new fh(e.shape,t,n,r,i):new lh(e.shape,t,n,r,i);return this.compileAndRun(a,[e])},t.prototype.LRNGrad=function(e,t,n,r,i,a,o){var s=new ch(t.shape,r,i,a,o);return this.compileAndRun(s,[t,n,e])},t.prototype.tile=function(e,t){if("string"===e.dtype){var n=this.readSync(e.dataId).map((function(e){return xu(e)}));return Pd(ef(e.shape,e.dtype,n),t)}var r=new Wh(e.shape,t);return this.compileAndRun(r,[e])},t.prototype.pad=function(e,t,n){var r=ks().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new bh(e.shape,t,n):new gh(e.shape,t,n);return this.compileAndRun(r,[e])},t.prototype.transpose=function(e,t){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.transpose(e,t);var n=ks().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new Uh(e.shape,t):new Vh(e.shape,t);return this.compileAndRun(n,[e])},t.prototype.gather=function(e,t,n){if(this.shouldExecuteOnCPU([e,t]))return this.cpuBackend.gather(e,t,n);var r=new zp(e.shape,t.size,n);return this.compileAndRun(r,[e,t])},t.prototype.batchToSpaceND=function(e,t,n){Bs(e.rank<=4,(function(){return"batchToSpaceND for rank > 4 with a WebGL backend not implemented yet"}));var r=t.reduce((function(e,t){return e*t})),i=Pf(e.shape,t,r),a=Of(i.length,t.length),o=If(e.shape,t,r),s=Af(n,t.length),u=Df(o,n,t.length);return e.reshape(i).transpose(a).reshape(o).slice(s,u)},t.prototype.spaceToBatchND=function(e,t,n){Bs(e.rank<=4,(function(){return"spaceToBatchND for rank > 4 with a WebGL backend not implemented yet"}));var r=t.reduce((function(e,t){return e*t})),i=[[0,0]];i.push.apply(i,n);for(var a=1+t.length;a<e.shape.length;++a)i.push([0,0]);var o=e.pad(i),s=Pf(o.shape,t,r,!1),u=Of(s.length,t.length,!1),l=If(o.shape,t,r,!1);return o.reshape(s).transpose(u).reshape(l)},t.prototype.reduce=function(e,t,n){var r=e.shape[0],i=e.shape[1],a=Nf(i),o=new Sh({windowSize:a,inSize:i,batchSize:r},t),s=this.compileAndRun(o,[e],n);return 1===s.shape[1]?s:this.reduce(s,t,n)},t.prototype.argReduce=function(e,t,n){void 0===n&&(n=null);var r=e.shape[0],i=e.shape[1];null!=n&&(r=n.shape[0],i=n.shape[1]);var a=Nf(i),o=new Rd({windowSize:a,inSize:i,batchSize:r},t,null==n),s=[e];null!=n&&s.push(n);var u=this.compileAndRun(o,s,"int32");return 1===u.shape[1]?u:this.argReduce(e,t,u)},t.prototype.argReducePacked=function(e,t,n){void 0===n&&(n=null);var r=null!=n?n.shape:e.shape,i=Nf(r[r.length-1]),a=new Qd(r,i,t,null==n),o=null==n?[e]:[e,n],s=this.compileAndRun(a,o,"int32");return s.rank===e.rank?this.argReducePacked(e,t,s):s},t.prototype.sum=function(e,t){pc("sum",t,e.rank);var n=fc(e.shape,t),r=n[0],i=Vs(n[1]),a=e.as2D(-1,i),o=Uu(e.dtype);return this.reduce(a,"sum",o).reshape(r)},t.prototype.prod=function(e,t){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.prod(e,t);var n=fc(e.shape,t),r=n[0],i=Vs(n[1]),a=e.as2D(-1,i),o=Uu(e.dtype);return this.reduce(a,"prod",o).reshape(r)},t.prototype.unsortedSegmentSum=function(e,t,n){var r=0,i=hc([r],e.rank),a=e;null!=i&&(a=e.transpose(i),r=yc(1,e.rank)[0]);var o=function(e,t,n){for(var r=[],i=e.length,a=0;a<i;a++)a!==t?r.push(e[a]):r.push(n);return r}(a.shape,r,n),s=Vs([a.shape[r]]),u=a.as2D(-1,s),l=Uu(e.dtype),c=this.segOpCompute(u,"unsortedSegmentSum",t,l,n).reshape(o);return null!=i&&(c=c.transpose(vc(i))),c},t.prototype.segOpCompute=function(e,t,n,r,i){var a=e.shape[0],o=e.shape[1],s=function(e,t){var n,r=!1;for(e<=30?(n=e,r=!0):n=fu(e,Math.floor(Math.sqrt(e)));!r;)n>t||n===e?r=!0:n=fu(e,n+1);return n}(o,i),u=new Dh({windowSize:s,inSize:o,batchSize:a,numSegments:i},t),l=this.compileAndRun(u,[e,n],r);return l.shape[1]===i?l:(n=Rc(0,i).tile([o/s]),this.segOpCompute(l,t,n,r,i))},t.prototype.argMinMaxReduce=function(e,t,n){var r=[t];if(pc("arg"+n.charAt(0).toUpperCase()+n.slice(1),r,e.rank),!ks().getBool("WEBGL_PACK_REDUCE")||e.rank<=2){var i=fc(e.shape,r),a=i[0],o=Vs(i[1]),s=e.as2D(-1,o);return this.argReduce(s,n).reshape(a)}return this.argReducePacked(e,n)},t.prototype.argMin=function(e,t){return this.argMinMaxReduce(e,t,"min")},t.prototype.argMax=function(e,t){return this.argMinMaxReduce(e,t,"max")},t.prototype.cumsum=function(e,t,n,r){if(t!==e.rank-1)throw new Error("WebGL cumsum shader expects an inner-most axis="+(e.rank-1)+" but got axis="+t);var i=new Pp(e.shape,n,r);return this.compileAndRun(i,[e])},t.prototype.equal=function(e,t){if(ks().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,"\n  return vec4(equal(a, b));\n","bool");var n=new up("return float(a == b);",e.shape,t.shape);return this.compileAndRun(n,[e,t],"bool")},t.prototype.notEqual=function(e,t){if(ks().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,"\n  return vec4(notEqual(a, b));\n","bool");var n=new up("return float(a != b);",e.shape,t.shape);return this.compileAndRun(n,[e,t],"bool")},t.prototype.less=function(e,t){if(this.shouldExecuteOnCPU([e,t]))return this.cpuBackend.less(e,t);if(ks().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,"\n  return vec4(lessThan(a, b));\n","bool");var n=new up("return float(a < b);",e.shape,t.shape);return this.compileAndRun(n,[e,t],"bool")},t.prototype.lessEqual=function(e,t){if(ks().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,"\n  return vec4(lessThanEqual(a, b));\n","bool");var n=new up("return float(a <= b);",e.shape,t.shape);return this.compileAndRun(n,[e,t],"bool")},t.prototype.greater=function(e,t){if(this.shouldExecuteOnCPU([e,t]))return this.cpuBackend.greater(e,t);if(ks().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,"\n  return vec4(greaterThan(a, b));\n","bool");var n=new up("return float(a > b);",e.shape,t.shape);return this.compileAndRun(n,[e,t],"bool")},t.prototype.greaterEqual=function(e,t){if(ks().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,"\n  return vec4(greaterThanEqual(a, b));\n","bool");var n=new up("return float(a >= b);",e.shape,t.shape);return this.compileAndRun(n,[e,t],"bool")},t.prototype.logicalNot=function(e){var t=new qh(e.shape,"return float(!(x >= 1.0));");return this.compileAndRun(t,[e])},t.prototype.logicalAnd=function(e,t){if(ks().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,"\n  return vec4(\n    vec4(greaterThanEqual(a, vec4(1.0))) *\n    vec4(greaterThanEqual(b, vec4(1.0))));\n","bool");var n=new up("return float(a >= 1.0 && b >= 1.0);",e.shape,t.shape);return this.compileAndRun(n,[e,t],"bool")},t.prototype.logicalOr=function(e,t){if(ks().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,"\n  return min(\n    vec4(greaterThanEqual(a, vec4(1.0))) +\n    vec4(greaterThanEqual(b, vec4(1.0))),\n    vec4(1.0));\n","bool");var n=new up("return float(a >= 1.0 || b >= 1.0);",e.shape,t.shape);return this.compileAndRun(n,[e,t],"bool")},t.prototype.select=function(e,t,n){var r=new Rh(e.rank,t.shape,t.rank);return this.compileAndRun(r,[e,t,n],Vu(t.dtype,n.dtype))},t.prototype.where=function(e){ic("tf.where() in webgl locks the UI thread. Call tf.whereAsync() instead");var t=e.dataSync();return Id(e.shape,t)},t.prototype.topk=function(e,t,n){return Od(e.dataSync(),e.shape,e.dtype,t)},t.prototype.min=function(e,t){pc("min",t,e.rank);var n=fc(e.shape,t),r=n[0],i=Vs(n[1]),a=e.as2D(-1,i);return this.reduce(a,"min",a.dtype).reshape(r)},t.prototype.minimum=function(e,t){if(this.shouldExecuteOnCPU([e,t]))return this.cpuBackend.minimum(e,t);var n=ks().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new cp("\n  vec4 result = vec4(min(a, b));\n  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n",e.shape,t.shape):new up("\n  if (isnan(a)) return a;\n  if (isnan(b)) return b;\n\n  return min(a, b);\n",e.shape,t.shape);return this.compileAndRun(n,[e,t])},t.prototype.mod=function(e,t){var n=ks().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new cp("\n  vec4 result = mod(a, b);\n  vec4 isNaN = vec4(equal(b, vec4(0.0)));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n",e.shape,t.shape):new up("if (b == 0.0) return NAN;\n  return mod(a, b);",e.shape,t.shape);return this.compileAndRun(n,[e,t])},t.prototype.max=function(e,t){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.max(e,t);pc("max",t,e.rank);var n=fc(e.shape,t),r=n[0],i=Vs(n[1]),a=e.as2D(-1,i);return this.reduce(a,"max",a.dtype).reshape(r)},t.prototype.maximum=function(e,t){if(this.shouldExecuteOnCPU([e,t]))return this.cpuBackend.maximum(e,t);var n=ks().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new cp("\n  vec4 result = vec4(max(a, b));\n  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n",e.shape,t.shape):new up("\n  if (isnan(a)) return a;\n  if (isnan(b)) return b;\n\n  return max(a, b);\n",e.shape,t.shape);return this.compileAndRun(n,[e,t])},t.prototype.all=function(e,t){pc("all",t,e.rank);var n=fc(e.shape,t),r=n[0],i=Vs(n[1]),a=e.as2D(-1,i);return this.reduce(a,"all",a.dtype).reshape(r)},t.prototype.any=function(e,t){pc("any",t,e.rank);var n=fc(e.shape,t),r=n[0],i=Vs(n[1]),a=e.as2D(-1,i);return this.reduce(a,"any",a.dtype).reshape(r)},t.prototype.realDivide=function(e,t){if(ks().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,"\n  // vec4 one = vec4(equal(a, b));\n  // return one + (vec4(1.0) - one) * a / b;\n  vec4 result = a / b;\n  if(a.x == b.x) {\n    result.x = 1.;\n  }\n  if(a.y == b.y) {\n    result.y = 1.;\n  }\n  if(a.z == b.z) {\n    result.z = 1.;\n  }\n  if(a.w == b.w) {\n    result.w = 1.;\n  }\n\n  return result;\n","float32",!0);var n=new up("\nif (a == b) {\n  return 1.0;\n};\nreturn a / b;",e.shape,t.shape);return this.compileAndRun(n,[e,t],"float32")},t.prototype.floorDiv=function(e,t){if(ks().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,"\n  ivec4 ia = round(a);\n  ivec4 ib = round(b);\n  bvec4 cond = notEqual(ib, ivec4(0));\n  ivec4 result = ivec4(0);\n  vec4 s = sign(a) * sign(b);\n\n  // Windows (D3D) wants guaranteed non-zero int division at compile-time.\n  if (cond[0]) {\n    result[0] = idiv(ia[0], ib[0], s[0]);\n  }\n  if (cond[1]) {\n    result[1] = idiv(ia[1], ib[1], s[1]);\n  }\n  if (cond[2]) {\n    result[2] = idiv(ia[2], ib[2], s[2]);\n  }\n  if (cond[3]) {\n    result[3] = idiv(ia[3], ib[3], s[3]);\n  }\n  return vec4(result);\n","int32");var n=new up("\n  float s = sign(a) * sign(b);\n  int ia = round(a);\n  int ib = round(b);\n  if (ib != 0) {\n    // Windows (D3D) wants guaranteed non-zero int division at compile-time.\n    return float(idiv(ia, ib, s));\n  } else {\n    return NAN;\n  }\n",e.shape,t.shape);return this.compileAndRun(n,[e,t],"int32")},t.prototype.add=function(e,t){if("complex64"===e.dtype&&"complex64"===t.dtype)return this.complexSeparableBinaryOp(e,t,ip);if(this.shouldExecuteOnCPU([e,t]))return this.cpuBackend.add(e,t);var n=Vu(e.dtype,t.dtype);if(ks().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,ip,n);var r=new up(ip,e.shape,t.shape);return this.compileAndRun(r,[e,t],n)},t.prototype.packedUnaryOp=function(e,t,n){var r=new yv(e.shape,t);return this.compileAndRun(r,[e],n)},t.prototype.packedBinaryOp=function(e,t,n,r,i){void 0===i&&(i=!1);var a=new cp(n,e.shape,t.shape,i);return this.compileAndRun(a,[e,t],r)},t.prototype.complexSeparableBinaryOp=function(e,t,n){var r=this,i=this.texData.get(e.dataId),a=this.texData.get(t.dataId),o=[[i.complexTensors.real,a.complexTensors.real],[i.complexTensors.imag,a.complexTensors.imag]].map((function(i){var a=i[0],o=i[1],s=r.makeComplexComponentTensorInfo(e,a),u=r.makeComplexComponentTensorInfo(t,o),l=new up(n,e.shape,t.shape);return r.compileAndRun(l,[s,u],Vu(a.dtype,o.dtype))})),s=o[0],u=o[1],l=this.complex(s,u);return s.dispose(),u.dispose(),l},t.prototype.makeComplexComponentTensorInfo=function(e,t){return{dataId:t.dataId,dtype:t.dtype,shape:e.shape}},t.prototype.addN=function(e){if(1===e.length)return e[0];if(e.length>ks().get("WEBGL_MAX_TEXTURES_IN_SHADER")){var t=Math.floor(e.length/2),n=this.addN(e.slice(0,t)),r=this.addN(e.slice(t));return this.addN([n,r])}var i=e.map((function(e){return e.dtype})).reduce((function(e,t){return Vu(e,t)})),a=e.map((function(e){return e.shape})),o=ks().getBool("WEBGL_PACK")?new Dd(e[0].shape,a):new Ad(e[0].shape,a);return this.compileAndRun(o,e,i)},t.prototype.subtract=function(e,t){if("complex64"===e.dtype&&"complex64"===t.dtype)return this.complexSeparableBinaryOp(e,t,ap);if(this.shouldExecuteOnCPU([e,t]))return this.cpuBackend.subtract(e,t);var n=Vu(e.dtype,t.dtype);if(ks().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,ap,e.dtype);var r=new up(ap,e.shape,t.shape);return this.compileAndRun(r,[e,t],n)},t.prototype.pow=function(e,t){var n=ks().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new cp("\n  // isModRound1 has 1 for components with round(mod(b, 2.0)) == 1, 0 otherwise.\n  vec4 isModRound1 = vec4(equal(round(mod(b, 2.0)), ivec4(1)));\n  vec4 multiplier = sign(a) * isModRound1 + (vec4(1.0) - isModRound1);\n  vec4 result = multiplier * pow(abs(a), b);\n\n  // Ensure that a^0 = 1, including 0^0 = 1 as this correspond to TF and JS\n  bvec4 isExpZero = equal(b, vec4(0.0));\n  result.r = isExpZero.r ? 1.0 : result.r;\n  result.g = isExpZero.g ? 1.0 : result.g;\n  result.b = isExpZero.b ? 1.0 : result.b;\n  result.a = isExpZero.a ? 1.0 : result.a;\n\n  vec4 isNaN = vec4(lessThan(a, vec4(0.0))) * vec4(lessThan(floor(b), b));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n",e.shape,t.shape):new up("\nif(a < 0.0 && floor(b) < b){\n  return NAN;\n}\nif (b == 0.0) {\n  return 1.0;\n}\nreturn (round(mod(b, 2.0)) != 1) ?\n    pow(abs(a), b) : sign(a) * pow(abs(a), b);\n",e.shape,t.shape),r=Vu(e.dtype,t.dtype);return this.compileAndRun(n,[e,t],r)},t.prototype.ceil=function(e){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.ceil(e);if(ks().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,ev,e.dtype);var t=new qh(e.shape,ev);return this.compileAndRun(t,[e])},t.prototype.floor=function(e){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.floor(e);if(ks().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,tv,e.dtype);var t=new qh(e.shape,tv);return this.compileAndRun(t,[e])},t.prototype.sign=function(e){var t=new qh(e.shape,"\n  if (isnan(x)) { return 0.0; }\n  return sign(x);\n");return this.compileAndRun(t,[e])},t.prototype.isNaN=function(e){var t=new qh(e.shape,"return float(isnan(x));");return this.compileAndRun(t,[e],"bool")},t.prototype.isInf=function(e){var t=new qh(e.shape,"return float(isinf(x));");return this.compileAndRun(t,[e],"bool")},t.prototype.isFinite=function(e){var t=new qh(e.shape,"return float(!isnan(x) && !isinf(x));");return this.compileAndRun(t,[e],"bool")},t.prototype.round=function(e){var t=new qh(e.shape,"\n  // OpenGL ES does not support round function.\n  // The algorithm is based on banker's rounding.\n  float base = floor(x);\n  if ((x - base) < 0.5) {\n    return floor(x);\n  } else if ((x - base) > 0.5) {\n    return ceil(x);\n  } else {\n    if (mod(base, 2.0) == 0.0) {\n      return base;\n    } else {\n      return base + 1.0;\n    }\n  }\n");return this.compileAndRun(t,[e])},t.prototype.exp=function(e){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.exp(e);if(ks().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,nv,e.dtype);var t=new qh(e.shape,nv);return this.compileAndRun(t,[e])},t.prototype.expm1=function(e){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.expm1(e);if(ks().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,rv,e.dtype);var t=new qh(e.shape,rv);return this.compileAndRun(t,[e])},t.prototype.softmax=function(e,t){var n=Js([t],e.shape),r=this.max(e,n),i=dc(r.shape,n),a=this.subtract(e,r.reshape(i)),o=this.exp(a),s=this.sum(o,n).reshape(i);return this.realDivide(o,s)},t.prototype.log=function(e){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.log(e);if(ks().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,"\n  vec4 result = log(x);\n  vec4 isNaN = vec4(lessThan(x, vec4(0.0)));\n  result.r = isNaN.r == 1.0 ? NAN : result.r;\n  result.g = isNaN.g == 1.0 ? NAN : result.g;\n  result.b = isNaN.b == 1.0 ? NAN : result.b;\n  result.a = isNaN.a == 1.0 ? NAN : result.a;\n\n  return result;\n",e.dtype);var t=new qh(e.shape,"if (x < 0.0) return NAN;\n  return log(x);");return this.compileAndRun(t,[e])},t.prototype.log1p=function(e){var t=new qh(e.shape,"return log(1.0 + x);");return this.compileAndRun(t,[e])},t.prototype.sqrt=function(e){var t=new qh(e.shape,"return sqrt(x);");return this.compileAndRun(t,[e])},t.prototype.rsqrt=function(e){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.rsqrt(e);var t=new qh(e.shape,"return inversesqrt(x);");return this.compileAndRun(t,[e])},t.prototype.reciprocal=function(e){var t=new qh(e.shape,"return 1.0 / x;");return this.compileAndRun(t,[e])},t.prototype.relu=function(e){var t;return t=ks().getBool("WEBGL_PACK")?new yv(e.shape,pv):new qh(e.shape,Yh),this.compileAndRun(t,[e])},t.prototype.relu6=function(e){var t;return t=ks().getBool("WEBGL_PACK")?new yv(e.shape,hv):new qh(e.shape,Jh),this.compileAndRun(t,[e])},t.prototype.prelu=function(e,t){var n=ks().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new cp(lp,e.shape,t.shape):new up(sp,e.shape,t.shape);return this.compileAndRun(n,[e,t])},t.prototype.elu=function(e){if(ks().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,vv,e.dtype);var t=new qh(e.shape,$h);return this.compileAndRun(t,[e])},t.prototype.eluDer=function(e,t){var n=ks().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new cp("\n  vec4 bGTEZero = vec4(greaterThanEqual(b, vec4(0.)));\n  return (bGTEZero * a) + ((vec4(1.0) - bGTEZero) * (a * (b + vec4(1.0))));\n",e.shape,t.shape):new up("return (b >= 1.0) ? a : a * (b + 1.0);",e.shape,t.shape);return this.compileAndRun(n,[e,t])},t.prototype.selu=function(e){var t=new qh(e.shape,Qh);return this.compileAndRun(t,[e])},t.prototype.int=function(e){var t=new qh(e.shape,"return float(int(x));");return this.compileAndRun(t,[e],"int32")},t.prototype.clip=function(e,t,n){var r,i=(r=ks().getBool("WEBGL_PACK_CLIP")?new dp(e.shape):new fp(e.shape)).getCustomSetupFunc(t,n);return this.compileAndRun(r,[e],null,i)},t.prototype.abs=function(e){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.abs(e);if(ks().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,Xh,e.dtype);var t=new qh(e.shape,Xh);return this.compileAndRun(t,[e])},t.prototype.complexAbs=function(e){var t=this.texData.get(e.dataId),n=new pp(e.shape),r=[this.makeComplexComponentTensorInfo(e,t.complexTensors.real),this.makeComplexComponentTensorInfo(e,t.complexTensors.imag)];return this.compileAndRun(n,r)},t.prototype.sigmoid=function(e){var t=new qh(e.shape,"return 1.0 / (1.0 + exp(-1.0 * x));");return this.compileAndRun(t,[e])},t.prototype.softplus=function(e){var t=new qh(e.shape,"\n  float epsilon = 1.1920928955078125e-7;\n  float threshold = log(epsilon) + 2.0;\n\n  bool too_large = x > -threshold;\n  bool too_small = x < threshold;\n\n  float result;\n  float exp_x = exp(x);\n\n  if (too_large){\n    result = x;\n  }\n  else if (too_small){\n    result = exp_x;\n  }\n  else{\n    result = log(exp_x + 1.0);\n  }\n  return result;\n");return this.compileAndRun(t,[e])},t.prototype.sin=function(e){var t=new qh(e.shape,iv);return this.compileAndRun(t,[e])},t.prototype.cos=function(e){var t=new qh(e.shape,av);return this.compileAndRun(t,[e])},t.prototype.tan=function(e){var t=new qh(e.shape,"return tan(x);");return this.compileAndRun(t,[e])},t.prototype.asin=function(e){var t=new qh(e.shape,ov);return this.compileAndRun(t,[e])},t.prototype.acos=function(e){var t=new qh(e.shape,sv);return this.compileAndRun(t,[e])},t.prototype.atan=function(e){var t=new qh(e.shape,uv);return this.compileAndRun(t,[e])},t.prototype.atan2=function(e,t){var n=ks().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new cp("\n  vec4 result = atan(a, b);\n  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n",e.shape,t.shape):new up("\n  if (isnan(a)) return a;\n  if (isnan(b)) return b;\n\n  return atan(a, b);\n",e.shape,t.shape);return this.compileAndRun(n,[e,t])},t.prototype.sinh=function(e){var t=new qh(e.shape,"\n  float e2x = exp(x);\n  return (e2x - 1.0 / e2x) / 2.0;\n");return this.compileAndRun(t,[e])},t.prototype.cosh=function(e){var t=new qh(e.shape,"\n  float e2x = exp(-x);\n  return (e2x + 1.0 / e2x) / 2.0;\n");return this.compileAndRun(t,[e])},t.prototype.tanh=function(e){var t=new qh(e.shape,"\n  float e2x = exp(-2.0 * abs(x));\n  return sign(x) * (1.0 - e2x) / (1.0 + e2x);\n");return this.compileAndRun(t,[e])},t.prototype.asinh=function(e){var t=new qh(e.shape,lv);return this.compileAndRun(t,[e])},t.prototype.acosh=function(e){var t=new qh(e.shape,cv);return this.compileAndRun(t,[e])},t.prototype.atanh=function(e){var t=new qh(e.shape,fv);return this.compileAndRun(t,[e])},t.prototype.erf=function(e){var t=new qh(e.shape,'\n  // Error function is calculated approximately with elementary function.\n  // See "Handbook of Mathematical Functions with Formulas,\n  // Graphs, and Mathematical Tables", Abramowitz and Stegun.\n  float p = 0.3275911;\n  float a1 = 0.254829592;\n  float a2 = -0.284496736;\n  float a3 = 1.421413741;\n  float a4 = -1.453152027;\n  float a5 = 1.061405429;\n\n  float sign = sign(x);\n  x = abs(x);\n  float t = 1.0 / (1.0 + p * x);\n  return sign * (1.0 - (((((a5*t + a4)*t) + a3)*t + a2)*t + a1)*t*exp(-x*x));\n');return this.compileAndRun(t,[e])},t.prototype.step=function(e,t){var n=new qh(e.shape,function(e){return void 0===e&&(e=0),Gh+"\n    return x > 0.0 ? 1.0 : float("+e+");\n  "}(t));return this.compileAndRun(n,[e])},t.prototype.conv2dByMatMul=function(e,t,n,r,i,a){var o=e.shape,s=this.texData.get(e.dataId),u=n.inChannels,l=o[0]*o[1]*o[2],c=n.outChannels,f="channelsLast"===n.dataFormat,d=(1===l||1===c)&&u>1e3,p=o[2]%2!=0&&!!s.isPacked;if(d||!ks().getBool("WEBGL_LAZILY_UNPACK")||!ks().getBool("WEBGL_PACK_BINARY_OPERATIONS")||!p){var h=f?o[0]*o[1]*o[2]:o[0]*o[2]*o[3],v=this.reshape(e,[1,h,n.inChannels]),y=this.reshape(t,[1,n.inChannels,n.outChannels]);return this.reshape(this.fusedBatchMatMul({a:v,b:y,transposeA:!1,transposeB:!1,bias:r,activation:i,preluActivationWeights:a}),n.outShape)}var m=f?o[0]*o[1]*(o[2]+1):o[0]*o[2]*(o[3]+1),g={dataId:e.dataId,shape:[1,m,n.inChannels],dtype:e.dtype},b=s.shape;s.shape=s.shape.slice(),s.shape[s.shape.length-2]++,Bs(Ul(s.shape,g.shape),(function(){return"packed reshape "+s.shape+" to "+g.shape+" isn't free"}));var x=this.reshape(t,[1,n.inChannels,n.outChannels]),w=this.fusedBatchMatMul({a:g,b:x,transposeA:!1,transposeB:!1,bias:r,activation:i,preluActivationWeights:a}),S=this.texData.get(w.dataId);return Bs(S.isPacked,(function(){return"batchMatMul result is expected to be packed"})),s.shape=b,S.shape=n.outShape,Ju.makeTensorFromDataId(w.dataId,n.outShape,w.dtype)},t.prototype.conv2dWithIm2Row=function(e,t,n,r,i,a){var o=n.filterWidth,s=n.filterHeight,u=n.inChannels,l=n.outWidth,c=n.outHeight,f="channelsLast"===n.dataFormat,d=o*s*u,p=c*l,h=[d,p],v=e.squeeze([0]),y=t.reshape([1,d,-1]),m=new uh(h,v.shape,n),g=this.compileAndRun(m,[v]).reshape([1,h[0],h[1]]),b=null!=r,x=null!=a,w=i?bv(i,!0):null,S=new hh(g.shape,[1,p,n.outChannels],!0,!1,b,w,x),T=[g,y];r&&T.push(r),x&&T.push(a);var E=this.compileAndRun(S,T);return f?E.reshape([1,c,l,n.outChannels]):E.reshape([1,n.outChannels,c,l])},t.prototype.fusedConv2d=function(e){var t=e.input,n=e.filter,r=e.convInfo,i=e.bias,a=e.activation,o=e.preluActivationWeights;if(1===r.filterHeight&&1===r.filterWidth&&1===r.dilationHeight&&1===r.dilationWidth&&1===r.strideHeight&&1===r.strideWidth&&("SAME"===r.padInfo.type||"VALID"===r.padInfo.type))return this.conv2dByMatMul(t,n,r,i,a,o);if(ks().getBool("WEBGL_CONV_IM2COL")&&1===t.shape[0])return this.conv2dWithIm2Row(t,n,r,i,a,o);var s=null!=i,u=null!=o,l=a?bv(a,!1):null,c=new Tp(r,s,l,u),f=[t,n];return i&&f.push(i),o&&f.push(o),this.compileAndRun(c,f)},t.prototype.conv2d=function(e,t,n){if(1===n.filterHeight&&1===n.filterWidth&&1===n.dilationHeight&&1===n.dilationWidth&&1===n.strideHeight&&1===n.strideWidth&&("SAME"===n.padInfo.type||"VALID"===n.padInfo.type))return this.conv2dByMatMul(e,t,n);if(ks().getBool("WEBGL_CONV_IM2COL")&&1===e.shape[0])return this.conv2dWithIm2Row(e,t,n);var r=new Tp(n);return this.compileAndRun(r,[e,t])},t.prototype.conv2dDerInput=function(e,t,n){var r=new gp(n);return this.compileAndRun(r,[e,t])},t.prototype.conv2dDerFilter=function(e,t,n){var r=new mp(n);return this.compileAndRun(r,[e,t])},t.prototype.fusedDepthwiseConv2D=function(e){var t,n=e.input,r=e.filter,i=e.convInfo,a=e.bias,o=e.activation,s=e.preluActivationWeights,u=ks().getBool("WEBGL_PACK_DEPTHWISECONV")&&i.strideWidth<=2&&i.outChannels/i.inChannels==1,l=o?bv(o,u):null,c=[n,r],f=null!=a,d=null!=s;return f&&c.push(a),d&&c.push(s),u?(t=new _p(i,f,l,d),this.compileAndRun(t,c)):(t=new kp(i,f,l,d),this.compileAndRun(t,c))},t.prototype.depthwiseConv2D=function(e,t,n){var r;return ks().getBool("WEBGL_PACK_DEPTHWISECONV")&&n.strideWidth<=2&&n.outChannels/n.inChannels==1?(r=new _p(n),this.compileAndRun(r,[e,t])):(r=new kp(n),this.compileAndRun(r,[e,t]))},t.prototype.depthwiseConv2DDerInput=function(e,t,n){var r=new Sp(n);return this.compileAndRun(r,[e,t])},t.prototype.depthwiseConv2DDerFilter=function(e,t,n){var r=new wp(n);return this.compileAndRun(r,[e,t])},t.prototype.conv3d=function(e,t,n){var r=new Ep(n);return this.compileAndRun(r,[e,t])},t.prototype.conv3dDerInput=function(e,t,n){var r=new xp(n);return this.compileAndRun(r,[e,t])},t.prototype.conv3dDerFilter=function(e,t,n){var r=new bp(n);return this.compileAndRun(r,[e,t])},t.prototype.maxPool=function(e,t){var n=new xh(t,"max",!1);return this.compileAndRun(n,[e])},t.prototype.avgPool=function(e,t){var n=new xh(t,"avg",!1);return this.compileAndRun(n,[e],"float32")},t.prototype.maxPoolBackprop=function(e,t,n,r){var i=new xh(r,"max",!0),a=this.compileAndRun(i,[t]),o=new dh(r),s=this.compileAndRun(o,[e,a],t.dtype);return a.dispose(),s},t.prototype.avgPoolBackprop=function(e,t,n){var r=new Zd(n);return this.compileAndRun(r,[e],t.dtype)},t.prototype.cast=function(e,t){return dd(e,t,this)},t.prototype.unstack=function(e,t){for(var n=e.shape[t],r=new Array(e.rank-1),i=0,a=0;a<e.rank;a++)a!==t&&(r[i++]=e.shape[a]);var o=new Array(e.rank).fill(0),s=e.shape.slice();s[t]=1;var u=new Array(n);for(a=0;a<u.length;a++)o[t]=a,u[a]=this.slice(e,o,s).reshape(r);return u},t.prototype.avgPool3d=function(e,t){var n=new wh(t,"avg",!1);return this.compileAndRun(n,[e],"float32")},t.prototype.avgPool3dBackprop=function(e,t,n){var r=new ep(n);return this.compileAndRun(r,[e],t.dtype)},t.prototype.maxPool3d=function(e,t){var n=new wh(t,"max",!1);return this.compileAndRun(n,[e],"float32")},t.prototype.maxPool3dBackprop=function(e,t,n,r){var i=new wh(r,"max",!0),a=this.compileAndRun(i,[t]),o=new ph(r),s=this.compileAndRun(o,[e,a],t.dtype);return a.dispose(),s},t.prototype.reshape=function(e,t){var n=this.texData.get(e.dataId);if(n.isPacked&&!Ul(e.shape,t)&&(null===n.texture||!Ul(n.shape,t))){var r=this.packedReshape(e,t);return Ju.makeTensorFromDataId(r.dataId,r.shape,r.dtype)}return pd(e,t)},t.prototype.resizeBilinear=function(e,t,n,r){var i=ks().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new _h(e.shape,t,n,r):new kh(e.shape,t,n,r);return this.compileAndRun(i,[e],"float32")},t.prototype.resizeBilinearBackprop=function(e,t,n){var r=new Eh(e,t,n);return this.compileAndRun(r,[e])},t.prototype.resizeNearestNeighbor=function(e,t,n,r){var i=new Ph(e.shape,t,n,r);return this.compileAndRun(i,[e])},t.prototype.resizeNearestNeighborBackprop=function(e,t,n){var r=new Ch(e,t,n);return this.compileAndRun(r,[e])},t.prototype.multinomial=function(e,t,n,r){var i=t?e:qf(e),a=i.shape[0],o=i.shape[1],s=new vh(a,o,n),u=s.getCustomSetupFunc(r);return this.compileAndRun(s,[i],"int32",u)},t.prototype.oneHot=function(e,t,n,r){var i=new yh(e.size,t,n,r);return this.compileAndRun(i,[e])},t.prototype.diag=function(e){var t=new Rp(e.size);return this.compileAndRun(t,[e])},t.prototype.nonMaxSuppression=function(e,t,n,r,i){return ic("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead"),wd(e.dataSync(),t.dataSync(),n,r,i)},t.prototype.cropAndResize=function(e,t,n,r,i,a){var o=new Cp(e.shape,t.shape,r,i,a);return this.compileAndRun(o,[e,t,n],"float32")},t.prototype.depthToSpace=function(e,t,n){Bs(t>1,(function(){return"blockSize should be > 1 for depthToSpace, but was: "+t}));var r=e.shape[0],i="NHWC"===n?e.shape[1]:e.shape[2],a="NHWC"===n?e.shape[2]:e.shape[3],o="NHWC"===n?e.shape[3]:e.shape[1],s=i*t,u=a*t,l=o/(t*t),c=new Dp("NHWC"===n?[r,s,u,l]:[r,l,s,u],t,n);return this.compileAndRun(c,[e])},t.prototype.split=function(e,t,n){return Cd(e,t,n)},t.prototype.scatterND=function(e,t,n){var r=Lf(0,e,n),i=r.sliceRank,a=r.numUpdates,o=r.sliceSize,s=r.strides,u=r.outputSize,l=[u/o,o],c=e.reshape([a,i]),f=t.reshape([a,o]);if(0===u)return pd(Tc([]),n);var d=kc(0),p=new Ah(a,i,c.rank,f.rank,s,l);return this.compileAndRun(p,[f,c,d]).reshape(n)},t.prototype.sparseToDense=function(e,t,n,r){var i=Lf(0,e,n),a=i.sliceRank,o=i.numUpdates,s=i.strides,u=i.outputSize,l=new Ah(o,a,e.rank,t.rank,s,[u,1],!1);return this.compileAndRun(l,[t,e,r]).reshape(n)},t.prototype.fft=function(e){return this.fftImpl(e,!1)},t.prototype.ifft=function(e){return this.fftImpl(e,!0)},t.prototype.fftImpl=function(e,t){var n=this.texData.get(e.dataId),r=new Bp("return real * expR - imag * expI;",e.shape,t),i=new Bp("return real * expI + imag * expR;",e.shape,t),a=[this.makeComplexComponentTensorInfo(e,n.complexTensors.real),this.makeComplexComponentTensorInfo(e,n.complexTensors.imag)],o=this.compileAndRun(r,a),s=this.compileAndRun(i,a),u=this.complex(o,s).as2D(e.shape[0],e.shape[1]);return o.dispose(),s.dispose(),u},t.prototype.gatherND=function(e,t){var n=t.shape,r=n[n.length-1],i=Rf(e,t),a=i[0],o=i[1],s=i[2],u=i[3],l=t.reshape([o,r]),c=e.reshape([e.size/s,s]),f=new Wp(r,u,[o,s]);return this.compileAndRun(f,[c,l]).reshape(a)},t.prototype.fill=function(e,t,n){if("string"===(n=n||lu(t))){var r=Zs(n,Vs(e));return r.fill(t),Ju.makeTensor(r,e,n,this)}var i=new jp(e,t),a=i.getCustomSetupFunc(t);return this.compileAndRun(i,[],n,a)},t.prototype.onesLike=function(e){if("string"===e.dtype)throw new Error("onesLike is not supported under string dtype");return this.fill(e.shape,1,e.dtype)},t.prototype.zerosLike=function(e){return this.fill(e.shape,"string"===e.dtype?"":0,e.dtype)},t.prototype.linspace=function(e,t,n){return hd(e,t,n)},t.prototype.makeTensorInfo=function(e,t){var n=this.write(null,e,t);return this.texData.get(n).usage=null,{dataId:n,shape:e,dtype:t}},t.prototype.makeOutput=function(e,t){var n=this.makeTensorInfo(e,t).dataId;return Ju.makeTensorFromDataId(n,e,t,this)},t.prototype.unpackTensor=function(e){var t=new mv(e.shape);return this.runWebGLProgram(t,[e],e.dtype)},t.prototype.packTensor=function(e){var t=new mh(e.shape);return this.runWebGLProgram(t,[e],e.dtype,null,!0)},t.prototype.packedReshape=function(e,t){var n=[Bl(e.shape)].concat(jl(e.shape)),r={dtype:e.dtype,shape:n,dataId:e.dataId},i=[Bl(t)].concat(jl(t)),a=new Th(i,n),o=this.runWebGLProgram(a,[r],e.dtype,null,!0);return{dataId:o.dataId,shape:t,dtype:o.dtype}},t.prototype.decode=function(e){var t,n=this.texData.get(e),r=n.isPacked,i=n.shape,a=n.dtype,o=zl(i);return t=r?new Ap(o):new Ip(o),{dtype:a,shape:i,dataId:this.runWebGLProgram(t,[{shape:o,dtype:a,dataId:e}],a,null,!0).dataId}},t.prototype.runWebGLProgram=function(e,t,n,r,i){var a=this;void 0===i&&(i=!1);var o=this.makeTensorInfo(e.outputShape,n),s=this.texData.get(o.dataId);if(e.packedOutput&&(s.isPacked=!0),e.outPackingScheme===Zu.DENSE){var u=sl(e.outputShape);s.texShape=u.map((function(e){return 2*e}))}if(null!=e.outTexUsage&&(s.usage=e.outTexUsage),0===Vs(o.shape))return s.values=Qs(o.dtype,0),o;var l=[],c=t.map((function(t){if("complex64"===t.dtype)throw new Error("GPGPUProgram does not support complex64 input. For complex64 dtypes, please separate the program into real and imaginary parts.");var n=a.texData.get(t.dataId);if(null==n.texture){if(!e.packedInputs&&Vs(t.shape)<=ks().getNumber("WEBGL_SIZE_UPLOAD_UNIFORM"))return{shape:t.shape,texData:null,isUniform:!0,uniformValues:n.values};e.packedInputs&&(n.isPacked=!0,n.shape=t.shape)}else if(!!n.isPacked!=!!e.packedInputs)t=n.isPacked?a.unpackTensor(t):a.packTensor(t),l.push(t),n=a.texData.get(t.dataId);else if(n.isPacked&&!Ul(n.shape,t.shape)){var r=t,i=t.shape;t.shape=n.shape,t=a.packedReshape(t,i),l.push(t),n=a.texData.get(t.dataId),r.shape=i}return a.uploadToGPU(t.dataId),{shape:t.shape,texData:n,isUniform:!1}}));this.uploadToGPU(o.dataId);var f,d={shape:o.shape,texData:s,isUniform:!1},p=function(e,t,n){var r="";t.concat(n).forEach((function(e){var t=null!=e.texData&&null!=e.texData.slice&&e.texData.slice.flatOffset>0,n=e.isUniform?"uniform":e.texData.texShape;r+=e.shape+"_"+n+"_"+t}));var i=e.userCode;return e.constructor.name+"_"+r+"_"+i}(e,c,d),h=this.getAndSaveBinary(p,(function(){return function(e,t,n,r){var i=t.userCode,a=n.map((function(e,n){var r={logicalShape:e.shape,texShape:e.isUniform?null:e.texData.texShape,isUniform:e.isUniform,isPacked:!e.isUniform&&e.texData.isPacked,flatOffset:null};return null!=e.texData&&null!=e.texData.slice&&e.texData.slice.flatOffset>0&&(r.flatOffset=e.texData.slice.flatOffset),{name:t.variableNames[n],shapeInfo:r}})),o=a.map((function(e){return e.shapeInfo})),s={logicalShape:r.shape,texShape:r.texData.texShape,isUniform:!1,isPacked:r.texData.isPacked,flatOffset:null},u=zd(a,s,i,t.packedInputs),l=e.createProgram(u),c=null,f=e.getUniformLocation(l,"NAN",!1);1===ks().getNumber("WEBGL_VERSION")&&(c=e.getUniformLocation(l,"INFINITY",!1));for(var d={},p=0;p<t.variableNames.length;p++){var h=t.variableNames[p];d[h]=e.getUniformLocation(l,h,!1),d["offset"+h]=e.getUniformLocation(l,"offset"+h,!1)}return{program:t,source:u,webGLProgram:l,uniformLocations:d,inShapeInfos:o,outShapeInfo:s,infLoc:c,nanLoc:f}}(a.gpgpu,e,c,d)})),v=null!=this.activeTimers;if(v&&(f=this.startTimer()),function(e,t,n,r,i){sh(t.inShapeInfos,n),sh([t.outShapeInfo],[r]);var a=r.texData.texture,o=r.texData.texShape;r.texData.isPacked?e.setOutputPackedMatrixTexture(a,o[0],o[1]):e.setOutputMatrixTexture(a,o[0],o[1]),e.setProgram(t.webGLProgram),1===ks().getNumber("WEBGL_VERSION")&&null!==t.infLoc&&e.gl.uniform1f(t.infLoc,1/0),null!==t.nanLoc&&e.gl.uniform1f(t.nanLoc,NaN),n.forEach((function(n,r){var i=t.program.variableNames[r],a=t.uniformLocations[i],o=t.uniformLocations["offset"+i];if(null!=a)if(n.isUniform)if(Vs(n.shape)<2)e.gl.uniform1f(a,n.uniformValues[0]);else{var s=n.uniformValues;s instanceof Float32Array||(s=new Float32Array(s)),e.gl.uniform1fv(a,s)}else null!=n.texData.slice&&null!=o&&e.gl.uniform1i(o,n.texData.slice.flatOffset),e.setInputMatrixTexture(n.texData.texture,a,r)})),null!=i&&i(e,t.webGLProgram),e.executeProgram()}(this.gpgpu,h,c,d,r),l.forEach((function(e){return a.disposeData(e.dataId)})),v&&(f=this.endTimer(f),this.activeTimers.push({name:e.constructor.name,query:this.getQueryTime(f)})),!ks().getBool("WEBGL_LAZILY_UNPACK")&&s.isPacked&&!1===i){var y=this.unpackTensor(o);return this.disposeData(o.dataId),y}return o},t.prototype.compileAndRun=function(e,t,n,r,i){void 0===i&&(i=!1),n=n||t[0].dtype;var a=this.runWebGLProgram(e,t,n,r,i);return Ju.makeTensorFromDataId(a.dataId,a.shape,a.dtype)},t.prototype.getAndSaveBinary=function(e,t){return e in this.binaryCache||(this.binaryCache[e]=t()),this.binaryCache[e]},t.prototype.getTextureManager=function(){return this.textureManager},t.prototype.dispose=function(){var e=this;this.disposed||(ks().getBool("IS_TEST")||Object.keys(this.binaryCache).forEach((function(t){e.gpgpu.deleteProgram(e.binaryCache[t].webGLProgram),delete e.binaryCache[t]})),this.textureManager.dispose(),null!=this.canvas&&"undefined"!=typeof HTMLCanvasElement&&this.canvas instanceof HTMLCanvasElement?this.canvas.remove():this.canvas=null,this.gpgpuCreatedLocally&&(this.gpgpu.program=null,this.gpgpu.dispose()),this.disposed=!0)},t.prototype.floatPrecision=function(){var e=this;return null==this.floatPrecisionValue&&(this.floatPrecisionValue=nc((function(){if(!ks().get("WEBGL_RENDER_FLOAT32_ENABLED")){var t=ks().getBool("DEBUG");ks().set("DEBUG",!1);var n=e.abs(kc(1e-8)).dataSync()[0];if(ks().set("DEBUG",t),n>0)return 32}return 16}))),this.floatPrecisionValue},t.prototype.epsilon=function(){return 32===this.floatPrecision()?1e-7:1e-4},t.prototype.uploadToGPU=function(e){var t,n=this.texData.get(e),r=n.shape,i=n.dtype,a=n.values,o=n.texture,s=n.usage,u=n.isPacked;if(null==o){var l,c=null!=this.activeTimers;c&&(l=mu());var f=n.texShape;if(null==f&&(f=Wl(r,u),n.texShape=f),null!=a){var d=zl(r),p=void 0,h=f[1],v=f[0],y=a instanceof Uint8Array;u?(h=(t=ul(f[0],f[1]))[0],v=t[1],p=new Lp(d,[v,h],y)):p=new Fp(d,[v,h],y);var m=this.makeTensorInfo([v,h],i);this.texData.get(m.dataId).usage=y?el.PIXELS:el.UPLOAD,this.gpgpu.uploadDenseMatrixToTexture(this.getTexture(m.dataId),h,v,a);var g=this.runWebGLProgram(p,[m],i,null,!0),b=this.texData.get(g.dataId);n.texture=b.texture,n.texShape=b.texShape,n.isPacked=b.isPacked,n.usage=b.usage,this.disposeData(m.dataId),this.texData.delete(g.dataId),n.values=null,c&&(this.uploadWaitMs+=mu()-l)}else{var x=this.acquireTexture(f,s,i,u);n.texture=x}}},t.prototype.convertAndCacheOnCPU=function(e,t){var n=this.texData.get(e),r=n.dtype;return this.releaseGPUData(e),null!=t&&(n.values=function(e,t){if("float32"===t||"complex64"===t)return e;if("int32"===t||"bool"===t){for(var n="int32"===t?new Int32Array(e.length):new Uint8Array(e.length),r=0;r<n.length;++r)n[r]=Math.round(e[r]);return n}throw new Error("Unknown dtype "+t)}(t,r)),n.values},t.prototype.acquireTexture=function(e,t,n,r){if(this.numBytesInGPU+=this.computeBytes(e,n),!this.warnedAboutMemory&&this.numBytesInGPU>1024*this.numMBBeforeWarning*1024){var i=(this.numBytesInGPU/1024/1024).toFixed(2);this.warnedAboutMemory=!0,console.warn("High memory usage in GPU: "+i+" MB, most likely due to a memory leak")}return this.textureManager.acquireTexture(e,t,r)},t.prototype.computeBytes=function(e,t){return e[0]*e[1]*iu(t)},t}(Yf);$u()&&Ju.registerBackend("webgl",(function(){return new xv}),2);var wv=bc({square_:function(e){var t=sc(e,"x","square"),n=[t];return Ju.runKernelFunc((function(e,n){return n([t]),e.square(t)}),{x:t},null,"Square",{},n,[])}}),Sv="SquaredDifference",Tv=bc({squaredDifference_:function(e,t){var n,r=sc(e,"a","squaredDifference"),i=sc(t,"b","squaredDifference");n=Ku(r,i),r=n[0],i=n[1],Zf(r.shape,i.shape);var a={a:r,b:i},o=[r,i];return Ju.runKernelFunc((function(e,t){var n=e.squaredDifference(r,i);return t([r,i]),n}),a,(function(e,t){var n=t[0],r=t[1],i=kc(2);return{a:function(){return e.mul(n.sub(r).mul(i))},b:function(){return e.mul(r.sub(n).mul(i))}}}),Sv,{},o,[])}}),Ev=bc({abs_:function(e){var t=sc(e,"x","abs");return"complex64"===t.dtype?Ju.runKernelFunc((function(e){return e.complexAbs(t)}),{$x:t}):Ju.runKernelFunc((function(e,n){var r=e.abs(t);return n([t]),r}),{x:t},(function(e,t){var n=t[0];return{x:function(){return e.mul(n.toFloat().step(-1))}}}),"Abs")}}),kv=bc({acos_:function(e){var t=sc(e,"x","acos");return Ju.runKernelFunc((function(e,n){var r=e.acos(t);return n([t]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){return e.divStrict(kc(1).sub(n.toFloat().square()).sqrt()).neg()}}}))}}),_v=bc({acosh_:function(e){var t=sc(e,"x","acosh");return Ju.runKernelFunc((function(e,n){var r=e.acosh(t);return n([t]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){return e.divStrict(n.toFloat().square().sub(1).sqrt())}}}))}}),Cv=bc({asin_:function(e){var t=sc(e,"x","asin");return Ju.runKernelFunc((function(e,n){var r=e.asin(t);return n([t]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){return e.divStrict(kc(1).sub(n.toFloat().square()).sqrt())}}}))}}),Pv=bc({asinh_:function(e){var t=sc(e,"x","asinh");return Ju.runKernelFunc((function(e,n){var r=e.asinh(t);return n([t]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){return e.divStrict(kc(1).add(n.toFloat().square()).sqrt())}}}))}}),Ov=bc({atan_:function(e){var t=sc(e,"x","atan");return Ju.runKernelFunc((function(e,n){var r=e.atan(t);return n([t]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){return e.div(n.toFloat().square().add(1))}}}))}}),Iv=bc({atanh_:function(e){var t=sc(e,"x","atanh");return Ju.runKernelFunc((function(e,n){var r=e.atanh(t);return n([t]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){return e.div(kc(1).sub(n.toFloat().square()))}}}))}}),Av=bc({ceil_:function(e){var t=sc(e,"x","ceil");return Ju.runKernelFunc((function(e){return e.ceil(t)}),{$x:t},(function(e){return{$x:function(){return Mc(e)}}}))}}),Dv=bc({clipByValue_:function(e,t,n){var r=sc(e,"x","clipByValue");Bs(t<=n,(function(){return"Error in clip: min ("+t+") must be less than or equal to max ("+n+")."}));var i=[r],a={min:t,max:n};return Ju.runKernelFunc((function(e,i){var a=e.clip(r,t,n);return i([r]),a}),{x:r},(function(e,r){var i=r[0];return{x:function(){return e.where(i.greaterEqual(t).logicalAnd(i.lessEqual(n)),Mc(e))}}}),"ClipByValue",a,i)}}),Rv=bc({cos_:function(e){var t=sc(e,"x","cos"),n=[t];return Ju.runKernelFunc((function(e,n){var r=e.cos(t);return n([t]),r}),{x:t},(function(e,t){var n=t[0];return{x:function(){return n.toFloat().sin().neg().mul(e)}}}),"Cos",{},n)}}),Nv=bc({cosh_:function(e){var t=sc(e,"x","cosh");return Ju.runKernelFunc((function(e,n){var r=e.cosh(t);return n([t]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){return n.toFloat().sinh().mulStrict(e)}}}))}}),Mv=bc({erf_:function(e){var t=sc(e,"x","erf");return Bs("int32"===t.dtype||"float32"===t.dtype,(function(){return"Input dtype must be `int32` or `float32`."})),"int32"===t.dtype&&(t=t.toFloat()),Ju.runKernelFunc((function(e,n){var r=e.erf(t);return n([t]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){return e.mul(n.square().neg().exp().mul(2/Math.sqrt(Math.PI)))}}}))}}),Fv=bc({exp_:function(e){var t=sc(e,"x","exp");return Ju.runKernelFunc((function(e,n){var r=e.exp(t);return n([r]),r}),{x:t},(function(e,t){return{x:function(){return e.mulStrict(t[0])}}}),"Exp",{},[],[!0])}}),Lv=bc({expm1_:function(e){var t=sc(e,"x","expm1");return Ju.runKernelFunc((function(e,n){var r=e.expm1(t);return n([t]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){return e.mul(n.exp())}}}))}}),Bv=bc({floor_:function(e){var t=sc(e,"x","floor");return Ju.runKernelFunc((function(e){return e.floor(t)}),{$x:t},(function(e){return{$x:function(){return Mc(e)}}}))}}),jv=bc({log_:function(e){var t=sc(e,"x","log"),n=[t];return Ju.runKernelFunc((function(e,n){var r=e.log(t);return n([t]),r}),{x:t},(function(e,t){var n=t[0];return{x:function(){return e.div(n.toFloat())}}}),"Log",{},n)}}),zv=bc({log1p_:function(e){var t=sc(e,"x","log1p");return Ju.runKernelFunc((function(e,n){var r=e.log1p(t);return n([t]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){return e.div(n.add(1))}}}))}}),Wv=bc({logSigmoid_:function(e){var t=sc(e,"x","logSigmoid");return Ju.runKernelFunc((function(e,n){var r=e.softplus(t.neg()).neg();return n([t]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){return e.mul(n.neg().sigmoid())}}}))}}),Vv=bc({neg_:function(e){var t=sc(e,"x","neg"),n=[t];return Ju.runKernelFunc((function(e){return e.neg(t)}),{x:t},(function(e){return{x:function(){return e.neg()}}}),"Neg",{},n)}}),Uv=bc({reciprocal_:function(e){var t=sc(e,"x","reciprocal");return Ju.runKernelFunc((function(e,n){var r=e.reciprocal(t);return n([t]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){return e.div(n.square().neg())}}}))}}),Kv=bc({round_:function(e){var t=sc(e,"x","round");return Ju.runKernelFunc((function(e){return e.round(t)}),{$x:t},(function(e){return{$x:function(){return Mc(e)}}}))}}),Hv=bc({rsqrt_:function(e){var t=sc(e,"x","rsqrt"),n=[t];return Ju.runKernelFunc((function(e,n){var r=e.rsqrt(t);return n([t]),r}),{x:t},(function(e,t){var n=t[0];return{x:function(){return e.div(n.pow(1.5).mul(2)).neg()}}}),"Rsqrt",{},n)}}),qv=bc({sigmoid_:function(e){var t=sc(e,"x","sigmoid");return Ju.runKernelFunc((function(e,n){var r=e.sigmoid(t);return n([r]),r}),{x:t},(function(e,t){var n=t[0];return{x:function(){return e.mul(n.mul(kc(1).sub(n)))}}}),"Sigmoid")}}),Gv=bc({sign_:function(e){var t=sc(e,"x","sign");return Ju.runKernelFunc((function(e){return e.sign(t)}),{$x:t},(function(e){return{$x:function(){return Mc(e)}}}))}}),Xv=bc({isNaN_:function(e){var t=sc(e,"x","isNaN");return Ju.runKernelFunc((function(e){return e.isNaN(t)}),{$x:t},(function(e){return{$x:function(){return Mc(e)}}}))}}),Yv=bc({isInf_:function(e){var t=sc(e,"x","isInf");return Ju.runKernelFunc((function(e){return e.isInf(t)}),{$x:t},(function(e){return{$x:function(){return Mc(e)}}}))}}),Jv=bc({isFinite_:function(e){var t=sc(e,"x","isFinite");return Ju.runKernelFunc((function(e){return e.isFinite(t)}),{$x:t},(function(e){return{$x:function(){return Mc(e)}}}))}}),$v=bc({sin_:function(e){var t=sc(e,"x","sin"),n=[t];return Ju.runKernelFunc((function(e,n){var r=e.sin(t);return n([t]),r}),{x:t},(function(e,t){var n=t[0];return{x:function(){return n.toFloat().cos().mul(e)}}}),"Sin",{},n)}}),Qv=bc({sinh_:function(e){var t=sc(e,"x","sinh");return Ju.runKernelFunc((function(e,n){var r=e.sinh(t);return n([t]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){return n.toFloat().cosh().mulStrict(e)}}}))}}),Zv=bc({softplus_:function(e){var t=sc(e,"x","softplus");return Ju.runKernelFunc((function(e,n){var r=e.softplus(t);return n([t]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){return e.mul(n.sigmoid())}}}))}}),ey=bc({sqrt_:function(e){var t=sc(e,"x","sqrt");return Ju.runKernelFunc((function(e,n){var r=e.sqrt(t);return n([t]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){return e.div(n.toFloat().sqrt().mul(2))}}}))}}),ty=bc({step_:function(e,t){void 0===t&&(t=0);var n=sc(e,"x","step");return Ju.runKernelFunc((function(e){return e.step(n,t)}),{$x:n},(function(e){return{$x:function(){return Mc(e)}}}))}}),ny=bc({tan_:function(e){var t=sc(e,"x","tan");return Ju.runKernelFunc((function(e,n){var r=e.tan(t);return n([t]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){return e.div(n.cos().square())}}}))}}),ry=bc({tanh_:function(e){var t=sc(e,"x","tanh");return Ju.runKernelFunc((function(e,n){var r=e.tanh(t);return n([r]),r}),{x:t},(function(e,t){var n=t[0];return{x:function(){return kc(1).sub(n.square()).mulStrict(e)}}}),"Tanh",{},null,[!0])}});function iy(e,t,n,r,i,a){var o,s,u=sc(e,"x","batchNorm"),l=sc(t,"mean","batchNorm"),c=sc(n,"variance","batchNorm");return null!=i&&(o=sc(i,"scale","batchNorm")),null!=r&&(s=sc(r,"offset","batchNorm")),Bs(2===u.rank,(function(){return"Error in batchNorm3D: x must be rank 3 but got rank "+u.rank+"."})),Bs(2===l.rank||1===l.rank,(function(){return"Error in batchNorm2D: mean must be rank 2 or rank 1 but got rank "+l.rank+"."})),Bs(2===c.rank||1===c.rank,(function(){return"Error in batchNorm2D: variance must be rank 2 or rank 1 but got rank "+c.rank+"."})),null!=o&&Bs(2===o.rank||1===o.rank,(function(){return"Error in batchNorm2D: scale must be rank 2 or rank 1 but got rank "+o.rank+"."})),null!=s&&Bs(2===s.rank||1===s.rank,(function(){return"Error in batchNorm2D: offset must be rank 2 or rank 1 but got rank "+s.rank+"."})),sy(u,l,c,s,o,a)}function ay(e,t,n,r,i,a){var o,s,u=sc(e,"x","batchNorm"),l=sc(t,"mean","batchNorm"),c=sc(n,"variance","batchNorm");return null!=i&&(o=sc(i,"scale","batchNorm")),null!=r&&(s=sc(r,"offset","batchNorm")),Bs(3===u.rank,(function(){return"Error in batchNorm3D: x must be rank 3 but got rank "+u.rank+"."})),Bs(3===l.rank||1===l.rank,(function(){return"Error in batchNorm3D: mean must be rank 3 or rank 1 but got rank "+l.rank+"."})),Bs(3===c.rank||1===c.rank,(function(){return"Error in batchNorm3D: variance must be rank 3 or rank 1 but got rank "+c.rank+"."})),null!=o&&Bs(3===o.rank||1===o.rank,(function(){return"Error in batchNorm3D: scale must be rank 3 or rank 1 but got rank "+o.rank+"."})),null!=s&&Bs(3===s.rank||1===s.rank,(function(){return"Error in batchNorm3D: offset must be rank 3 or rank 1 but got rank "+s.rank+"."})),sy(u,l,c,s,o,a)}function oy(e,t,n,r,i,a){var o,s,u=sc(e,"x","batchNorm"),l=sc(t,"mean","batchNorm"),c=sc(n,"variance","batchNorm");return null!=i&&(o=sc(i,"scale","batchNorm")),null!=r&&(s=sc(r,"offset","batchNorm")),Bs(4===u.rank,(function(){return"Error in batchNorm4D: x must be rank 4 but got rank "+u.rank+"."})),Bs(4===l.rank||1===l.rank,(function(){return"Error in batchNorm4D: mean must be rank 4 or rank 1 but got rank "+l.rank+"."})),Bs(4===c.rank||1===c.rank,(function(){return"Error in batchNorm4D: variance must be rank 4 or rank 1 but got rank "+c.rank+"."})),null!=o&&Bs(4===o.rank||1===o.rank,(function(){return"Error in batchNorm4D: scale must be rank 4 or rank 1 but got rank "+o.rank+"."})),null!=s&&Bs(4===s.rank||1===s.rank,(function(){return"Error in batchNorm4D: offset must be rank 4 or rank 1 but got rank "+s.rank+"."})),sy(u,l,c,s,o,a)}function sy(e,t,n,r,i,a){null==a&&(a=.001);var o,s,u,l=sc(e,"x","batchNorm"),c=sc(t,"mean","batchNorm"),f=sc(n,"variance","batchNorm");null!=i&&(o=sc(i,"scale","batchNorm")),null!=r&&(s=sc(r,"offset","batchNorm")),Bs(c.rank===f.rank,(function(){return"Batch normalization gradient requires mean and variance to have equal ranks."})),Bs(null==s||c.rank===s.rank,(function(){return"Batch normalization gradient requires mean and offset to have equal ranks."})),Bs(null==o||c.rank===o.rank,(function(){return"Batch normalization gradient requires mean and scale to have equal ranks."})),u=0===l.rank||1===l.rank?l.as4D(1,1,1,l.size):2===l.rank?l.as4D(1,1,l.shape[0],l.shape[1]):3===l.rank?l.as4D(1,l.shape[0],l.shape[1],l.shape[2]):l;var d=[l,c,f,o];return Ju.runKernelFunc((function(e,t){var n=e.batchNormalization(u,uy(c),uy(f),a,uy(o),uy(s));return t([l,c,f,o]),n}),{x:l,mean:c,variance:f,scale:o,offset:s},(function(e,t){var n=t,r=n[0],i=n[1],o=n[2],s=n[3],l=null==s?kc(1):s,c=Qf(i.shape,u.shape),f=[];if(1===i.rank){for(var d=0;d<u.shape.length-1;++d)f.push(u.shape[d]);f.push(1)}var p=r.sub(i),h=e.mul(l),v=Hv(o.add(kc(a))),y=v.mul(v).mul(v).mul(kc(-.5));return{x:function(){return 1===i.rank?e.mul(kf(v.as4D(1,1,1,i.shape[0]),f)).mul(l).reshape(r.shape):e.mul(v).mul(l).reshape(r.shape)},mean:function(){var e=v.mul(kc(-1)).mul(h);return 1===i.rank&&(e=e.sum(c)),e.reshape(i.shape)},variance:function(){var e=y.mul(p).mul(h);return 1===i.rank&&(e=e.sum(c)),e.reshape(i.shape)},scale:function(){var t=p.mul(v),n=e.mul(t);return 1===i.rank&&(n=n.sum(c)),n.reshape(i.shape)},offset:function(){var t=e;return 1===i.rank&&(t=t.sum(c)),t.reshape(i.shape)}}}),"BatchNormalization",{varianceEpsilon:a},d).reshape(l.shape)}function uy(e){return null==e?null:0===e.rank?e.as1D():1===e.rank?e:2===e.rank?e.as4D(1,1,e.shape[0],e.shape[1]):3===e.rank?e.as4D(1,e.shape[0],e.shape[1],e.shape[2]):e}function ly(){tc("tf.batchNormalization() is going away. Use tf.batchNorm() instead, and note the positional argument change of scale, offset, and varianceEpsilon")}var cy=bc({batchNormalization2d_:function(e,t,n,r,i,a){return void 0===r&&(r=.001),ly(),iy(e,t,n,a,i,r)}}),fy=bc({batchNormalization3d_:function(e,t,n,r,i,a){return void 0===r&&(r=.001),ly(),ay(e,t,n,a,i,r)}}),dy=bc({batchNormalization4d_:function(e,t,n,r,i,a){return void 0===r&&(r=.001),ly(),oy(e,t,n,a,i,r)}}),py=bc({batchNormalization_:function(e,t,n,r,i,a){return void 0===r&&(r=.001),ly(),sy(e,t,n,a,i,r)}}),hy=bc({batchNorm_:sy}),vy=bc({batchNorm2d_:iy}),yy=bc({batchNorm3d_:ay}),my=bc({batchNorm4d_:oy}),gy=bc({logicalAnd_:function(e,t){var n=sc(e,"a","logicalAnd","bool"),r=sc(t,"b","logicalAnd","bool");return Zf(n.shape,r.shape),Ju.runKernelFunc((function(e){return e.logicalAnd(n,r)}),{a:n,b:r},null,"LogicalAnd")}}),by=bc({logicalNot_:function(e){var t=sc(e,"x","logicalNot","bool");return Ju.runKernelFunc((function(e){return e.logicalNot(t)}),{$x:t})}}),xy=bc({logicalOr_:function(e,t){var n=sc(e,"a","logicalOr","bool"),r=sc(t,"b","logicalOr","bool");return Zf(n.shape,r.shape),Ju.runKernelFunc((function(e){return e.logicalOr(n,r)}),{$a:n,$b:r})}}),wy=bc({logicalXor_:function(e,t){var n=sc(e,"a","logicalXor","bool"),r=sc(t,"b","logicalXor","bool");return Zf(n.shape,r.shape),xy(e,t).logicalAnd(gy(e,t).logicalNot())}}),Sy=bc({where_:function(e,t,n){var r=sc(t,"a","where"),i=sc(n,"b","where"),a=sc(e,"condition","where","bool");return js(r.shape,i.shape,"Error in where: "),1===a.rank?Bs(a.shape[0]===r.shape[0],(function(){return"The first dimension of `a` must match the size of `condition`."})):js(a.shape,i.shape,"Error in where: "),Ju.runKernelFunc((function(e,t){var n=e.select(a,r,i);return t([a]),n}),{$condition:a,$a:r,$b:i},(function(e,t){var n=t[0];return{$condition:function(){return Mc(n).toFloat()},$a:function(){return e.mul(n.cast(e.dtype))},$b:function(){return e.mul(n.logicalNot().cast(e.dtype))}}}))}}),Ty=function(e){return Ss(this,void 0,void 0,(function(){var t,n,r;return Ts(this,(function(i){switch(i.label){case 0:return[4,(t=sc(e,"condition","whereAsync","bool")).data()];case 1:return n=i.sent(),r=Id(t.shape,n),e!==t&&t.dispose(),[2,r]}}))}))},Ey=bc({add_:function(e,t){var n,r=sc(e,"a","add"),i=sc(t,"b","add");n=Ku(r,i),r=n[0],i=n[1];var a=Zf(r.shape,i.shape);return Ju.runKernelFunc((function(e){return e.add(r,i)}),{a:r,b:i},(function(e){return{a:function(){var t=e,n=Qf(r.shape,a);return n.length>0&&(t=t.sum(n)),t.reshape(r.shape)},b:function(){var t=e,n=Qf(i.shape,a);return n.length>0&&(t=t.sum(n)),t.reshape(i.shape)}}}),"Add")}}),ky=bc({addN_:function(e){Bs(Array.isArray(e),(function(){return"The argument passed to tf.addN() must be a list of tensors"})),Bs(e.length>=1,(function(){return"Must pass at least one tensor to tf.addN(), but got "+e.length}));var t=e.map((function(e,t){return sc(e,"tensors"+t,"addN")})),n=t[0];t.forEach((function(e){if(e.dtype!==n.dtype)throw new Error("All tensors passed to tf.addN() must have the same dtype")})),t.forEach((function(e){if(!Us(e.shape,n.shape))throw new Error("All tensors passed to tf.addN() must have the same shape")}));var r=t;return Ju.runKernelFunc((function(e){return e.addN(t)}),r,(function(e){var n={};return t.forEach((function(t,r){n[r]=function(){return e.clone()}})),n}),"AddN")}}),_y=bc({addStrict_:function(e,t){var n=sc(e,"a","addStrict"),r=sc(t,"b","addStrict");return js(n.shape,r.shape,"Error in addStrict: "),n.add(r)}}),Cy=bc({atan2_:function(e,t){var n,r=sc(e,"a","atan2"),i=sc(t,"b","atan2");n=Ku(r,i),r=n[0],i=n[1];var a=Zf(r.shape,i.shape);return Ju.runKernelFunc((function(e,t){var n=e.atan2(r,i);return t([r,i]),n}),{$a:r,$b:i},(function(e,t){var n=t[0],r=t[1];return{$a:function(){var t=Ey(n.square(),r.square()),i=e.mul(r.div(t)),o=Qf(n.shape,a);return o.length>0&&(i=i.sum(o)),i.reshape(n.shape)},$b:function(){var t=Ey(n.square(),r.square()),i=Vv(e.mul(n.div(t))),o=Qf(r.shape,a);return o.length>0&&(i=i.sum(o)),i.reshape(r.shape)}}}))}}),Py=bc({div_:function(e,t){var n,r=sc(e,"a","div"),i=sc(t,"b","div");if(n=Ku(r,i),r=n[0],i=n[1],"int32"===r.dtype&&"int32"===i.dtype)return Ay(r,i);var a=Zf(r.shape,i.shape);return Ju.runKernelFunc((function(e,t){var n=e.realDivide(r,i);return t([r,i]),n}),{a:r,b:i},(function(e,t){var n=t[0],r=t[1];return{a:function(){var t=e.div(r.toFloat()),i=Qf(n.shape,a);return i.length>0?t.sum(i).reshape(n.shape):t},b:function(){var t=e.mul(n.toFloat()),i=Qf(r.shape,a);i.length>0&&(t=t.sum(i).reshape(r.shape));var o=r.square();return t.div(o.toFloat()).neg()}}}),"Div")}}),Oy=bc({divNoNan_:function(e,t){var n,r=sc(e,"a","div"),i=sc(t,"b","div");r=(n=Ku(r,i))[0],i=n[1];var a=Py(r,i),o=Mc(a),s=i.equal(o);return Sy(s,o,a)}}),Iy=bc({divStrict_:function(e,t){var n=sc(e,"a","div"),r=sc(t,"b","div");return js(n.shape,r.shape,"Error in divideStrict: "),n.div(r)}}),Ay=bc({floorDiv_:function(e,t){var n,r=sc(e,"a","floorDiv"),i=sc(t,"b","floorDiv");n=Ku(r,i),r=n[0],i=n[1];var a=Zf(r.shape,i.shape);return Ju.runKernelFunc((function(e,t){var n=e.floorDiv(r,i);return t([r,i]),n}),{a:r,b:i},(function(e,t){var n=t[0],r=t[1];return{a:function(){var t=e.div(r.toFloat()),i=Qf(n.shape,a);return i.length>0?t.sum(i).reshape(n.shape):t},b:function(){var t=e.mul(n.toFloat()),i=Qf(r.shape,a);i.length>0&&(t=t.sum(i).reshape(r.shape));var o=r.square();return t.div(o.toFloat()).neg()}}}),"FloorDiv")}}),Dy=bc({maximum_:function(e,t){var n,r=sc(e,"a","maximum"),i=sc(t,"b","maximum");return n=Ku(r,i),r=n[0],i=n[1],"bool"===r.dtype&&(r=r.toInt(),i=i.toInt()),Zf(r.shape,i.shape),Ju.runKernelFunc((function(e,t){var n=e.maximum(r,i);return t([r,i]),n}),{a:r,b:i},(function(e,t){var n=t[0],r=t[1];return{a:function(){return e.mul(n.greaterEqual(r).toFloat())},b:function(){return e.mul(n.less(r).toFloat())}}}),"Maximum")}}),Ry=bc({maximumStrict_:function(e,t){var n=sc(e,"a","maximumStrict"),r=sc(t,"b","maximumStrict");return js(n.shape,r.shape,"Error in maximumStrict: "),n.maximum(r)}}),Ny=bc({minimum_:function(e,t){var n,r=sc(e,"a","minimum"),i=sc(t,"b","minimum");return n=Ku(r,i),r=n[0],i=n[1],"bool"===r.dtype&&(r=r.toInt(),i=i.toInt()),Zf(r.shape,i.shape),Ju.runKernelFunc((function(e,t){var n=e.minimum(r,i);return t([r,i]),n}),{a:r,b:i},(function(e,t){var n=t[0],r=t[1];return{a:function(){return e.mul(n.lessEqual(r).toFloat())},b:function(){return e.mul(n.greater(r).toFloat())}}}),"Minimum")}}),My=bc({minimumStrict_:function(e,t){var n=sc(e,"a","minimumStrict"),r=sc(t,"b","minimumStrict");return js(n.shape,r.shape,"Error in minimumStrict: "),n.minimum(r)}}),Fy=bc({mod_:function(e,t){var n,r=sc(e,"a","mod"),i=sc(t,"b","mod");n=Ku(r,i),r=n[0],i=n[1];var a=Zf(r.shape,i.shape);return Ju.runKernelFunc((function(e,t){var n=e.mod(r,i);return t([r,i]),n}),{$a:r,$b:i},(function(e,t){var n=t[0],r=t[1];return{$a:function(){var t=Qf(n.shape,a);return t.length>0?e.sum(t).reshape(n.shape):e},$b:function(){var t=e.mul(n.div(r).floor().neg()),i=Qf(r.shape,a);return i.length>0?t.sum(i).reshape(r.shape):t}}}))}}),Ly=bc({modStrict_:function(e,t){var n=sc(e,"a","modStrict"),r=sc(t,"b","modStrict");return js(n.shape,r.shape,"Error in modStrict: "),n.mod(r)}}),By=bc({mul_:function(e,t){var n,r=sc(e,"a","mul"),i=sc(t,"b","mul");n=Ku(r,i),r=n[0],i=n[1];var a=Zf(r.shape,i.shape);return Ju.runKernelFunc((function(e,t){var n=e.multiply(r,i);return t([r,i]),n}),{a:r,b:i},(function(e,t){var n=t[0],r=t[1];return{a:function(){var t=e.mul(r.toFloat()),i=Qf(n.shape,a);return i.length>0?t.sum(i).reshape(n.shape):t},b:function(){var t=e.mul(n.toFloat()),i=Qf(r.shape,a);return i.length>0?t.sum(i).reshape(r.shape):t}}}),"Mul")}}),jy=bc({mulStrict_:function(e,t){var n=sc(e,"a","mul"),r=sc(t,"b","mul");return js(n.shape,r.shape,"Error in multiplyStrict: "),n.mul(r)}}),zy=bc({pow_:function(e,t){var n,r=sc(e,"base","pow"),i=sc(t,"exp","pow");n=Ku(r,i),r=n[0],i=n[1];var a=Zf(r.shape,i.shape),o=[r,i];return Ju.runKernelFunc((function(e,t){var n=e.pow(r,i);return t([r,i,n]),n}),{a:r,b:i},(function(e,t){var n=t[0],r=t[1],i=t[2];return{a:function(){var t=r.toFloat(),i=e.mul(t.mul(n.pow(t.sub(kc(1))))),o=Qf(n.shape,a);return o.length>0&&(i=i.sum(o)),i.reshape(n.shape)},b:function(){var t=n.greater(0),o=n.log().where(t,Mc(n)),s=e.mul(i.mul(o)),u=Qf(r.shape,a);return u.length>0&&(s=s.sum(u)),s.reshape(r.shape)}}}),"Pow",{},o,[!0])}}),Wy=bc({powStrict_:function(e,t){return js(e.shape,t.shape,"Error in powStrict: "),e.pow(t)}}),Vy=bc({squaredDifferenceStrict_:function(e,t){var n=sc(e,"a","squaredDifferenceStrict"),r=sc(t,"b","squaredDifferenceStrict");return js(n.shape,r.shape,"Error in squaredDifferenceStrict: "),n.squaredDifference(r)}}),Uy=bc({sub_:function(e,t){var n,r=sc(e,"a","sub"),i=sc(t,"b","sub");n=Ku(r,i),r=n[0],i=n[1];var a=Zf(r.shape,i.shape);return Ju.runKernelFunc((function(e){return e.subtract(r,i)}),{a:r,b:i},(function(e){return{a:function(){var t=e,n=Qf(r.shape,a);return n.length>0&&(t=t.sum(n)),t.reshape(r.shape)},b:function(){var t=e,n=Qf(i.shape,a);return n.length>0&&(t=t.sum(n)),t.neg().reshape(i.shape)}}}),"Sub")}}),Ky=bc({subStrict_:function(e,t){var n=sc(e,"a","subStrict"),r=sc(t,"b","subStrict");return js(n.shape,r.shape,"Error in subStrict: "),n.sub(r)}}),Hy=bc({equal_:function(e,t){var n,r=sc(e,"a","equal"),i=sc(t,"b","equal");return n=Ku(r,i),r=n[0],i=n[1],Zf(r.shape,i.shape),Ju.runKernelFunc((function(e){return e.equal(r,i)}),{$a:r,$b:i})}}),qy=bc({equalStrict_:function(e,t){var n=sc(e,"a","equalStrict"),r=sc(t,"b","equalStrict");return js(n.shape,r.shape,"Error in equalStrict: "),n.equal(r)}}),Gy=bc({greater_:function(e,t){var n,r=sc(e,"a","greater"),i=sc(t,"b","greater");return n=Ku(r,i),r=n[0],i=n[1],Zf(r.shape,i.shape),Ju.runKernelFunc((function(e){return e.greater(r,i)}),{a:r,b:i},null,"Greater")}}),Xy=bc({greaterEqual_:function(e,t){var n,r=sc(e,"a","greaterEqual"),i=sc(t,"b","greaterEqual");return n=Ku(r,i),r=n[0],i=n[1],Zf(r.shape,i.shape),Ju.runKernelFunc((function(e,t){var n=e.greaterEqual(r,i);return t([r,i]),n}),{a:r,b:i},(function(e,t){var n=t[0],r=t[1];return{a:function(){return Mc(n)},b:function(){return Mc(r)}}}),"GreaterEqual")}}),Yy=bc({greaterEqualStrict_:function(e,t){var n=sc(e,"a","greaterEqualStrict"),r=sc(t,"b","greaterEqualStrict");return js(n.shape,r.shape,"Error in greaterEqualStrict: "),n.greaterEqual(r)}}),Jy=bc({greaterStrict_:function(e,t){var n=sc(e,"a","greaterStrict"),r=sc(t,"b","greaterStrict");return js(n.shape,r.shape,"Error in greaterStrict: "),n.greater(r)}}),$y=bc({less_:function(e,t){var n,r=sc(e,"a","less"),i=sc(t,"b","less");return n=Ku(r,i),r=n[0],i=n[1],Zf(r.shape,i.shape),Ju.runKernelFunc((function(e){return e.less(r,i)}),{a:r,b:i},null,"Less")}}),Qy=bc({lessEqual_:function(e,t){var n,r=sc(e,"a","lessEqual"),i=sc(t,"b","lessEqual");return n=Ku(r,i),r=n[0],i=n[1],Zf(r.shape,i.shape),Ju.runKernelFunc((function(e,t){var n=e.lessEqual(r,i);return t([r,i]),n}),{a:r,b:i},null,"LessEqual")}}),Zy=bc({lessEqualStrict_:function(e,t){var n=sc(e,"a","lessEqualStrict"),r=sc(t,"b","lessEqualStrict");return js(n.shape,r.shape,"Error in lessEqualStrict: "),n.lessEqual(r)}}),em=bc({lessStrict_:function(e,t){var n=sc(e,"a","lessStrict"),r=sc(t,"b","lessStrict");return js(n.shape,r.shape,"Error in lessStrict: "),n.less(r)}}),tm=bc({notEqual_:function(e,t){var n,r=sc(e,"a","notEqual"),i=sc(t,"b","notEqual");return n=Ku(r,i),r=n[0],i=n[1],Zf(r.shape,i.shape),Ju.runKernelFunc((function(e){return e.notEqual(r,i)}),{a:r,b:i},null,"NotEqual")}}),nm=bc({notEqualStrict_:function(e,t){var n=sc(e,"a","notEqualStrict"),r=sc(t,"b","notEqualStrict");return js(n.shape,r.shape,"Error in notEqualStrict: "),n.notEqual(r)}});function rm(e,t){for(var n=[],r=e;r<t;++r)n.push(r);return n}function im(e){for(var t=[],n=0;n<e.length;++n)for(var r=0;r<e[n].length;++r)t.push(e[n][r]);return t}var am=bc({gather_:function(e,t,n){void 0===n&&(n=0);var r=sc(e,"x","gather"),i=sc(t,"indices","gather","int32");n=Js(n,r.shape)[0];var a=function(e,t,n){for(var r=e.shape[n],i=[],a=1,o=1,s=0;s<n;s++)i.push(e.shape[s]),a*=e.shape[s];for(s=0;s<t.rank;s++)i.push(t.shape[s]);for(s=n+1;s<e.rank;s++)i.push(e.shape[s]),o*=e.shape[s];return{batchSize:a,sliceSize:o,dimSize:r,outputShape:i}}(r,i,n);return Ju.runKernelFunc((function(e,t){var a=e.gather(r,i.flatten(),n);return t([i]),a}),{x:r,indices:i},(function(e,t){var i=t[0];return{x:function(){var t=r.shape,a=i.size,o=t.slice(0,n),s=o.length,u=t.slice(n,t.length).slice(1),l=u.length,c=rm(0,s),f=rm(s+1,s+1+l),d=im([o,[a],u]),p=e.reshape(d),h=i.reshape([a]),v=im([[s],c,f]),y=p.transpose(v),m=om(y,h,r.shape[n]),g=vc(v);return m.transpose(g)},indices:function(){return i}}}),"Gather",{axis:n}).reshape(a.outputShape)}}),om=bc({unsortedSegmentSum_:function(e,t,n){var r=sc(e,"x","unsortedSegmentSum"),i=sc(t,"segmentIds","unsortedSegmentSum","int32");return Bs(Ks(n),(function(){return"numSegments must be of dtype int"})),Ju.runKernelFunc((function(e,t){var a=e.unsortedSegmentSum(r,i,n);return t([i]),a}),{$x:r},(function(e,t){var n=t[0];return{$x:function(){return function(e,t){for(var n=Dy(t,Mc(t)),r=am(e,n),i=Xy(t,kc(0,"int32")),a=r.rank-i.rank,o=0;o<a;++o)i=uf(i,o+1);i=gy(i,Ic(r.shape,"bool"));var s=Mc(r);return Sy(i,r,s)}(e,n)}}}))}});function sm(e,t,n,r,i,a,o){void 0===a&&(a="NHWC"),Bs(e.length===t.rank,(function(){return"Length of inShape ("+e.length+") and rank of dy ("+t.rank+") must match"}));var s=e,u=t,l=!1;3===t.rank&&(l=!0,u=t.as4D(1,t.shape[0],t.shape[1],t.shape[2]),s=[1,e[0],e[1],e[2]]),Bs(4===s.length,(function(){return"Error in conv2dDerInput: inShape must be length 4, but got length "+s.length+"."})),Bs(4===u.rank,(function(){return"Error in conv2dDerInput: dy must be rank 4, but got rank "+u.rank})),Bs(4===n.rank,(function(){return"Error in conv2dDerInput: filter must be rank 4, but got rank "+n.rank}));var c="NHWC"===a?s[3]:s[1],f="NHWC"===a?u.shape[3]:u.shape[1];Bs(c===n.shape[2],(function(){return"Error in conv2dDerInput: depth of input ("+c+") must match input depth for filter "+n.shape[2]+"."})),Bs(f===n.shape[3],(function(){return"Error in conv2dDerInput: depth of output ("+f+") must match output depth for filter "+n.shape[3]+"."})),null!=o&&Bs(Ks(i),(function(){return"Error in conv2dDerInput: pad must be an integer when using, dimRoundingMode "+o+" but got pad "+i+"."}));var d=fd(a),p=nd(s,n.shape,r,1,i,o,!1,d),h=Ju.runKernelFunc((function(e,t){var r=e.conv2dDerInput(u,n,p);return t([n,u]),r}),{dy4D:u,filter:n},(function(e,t){var n=t[0],s=t[1];return{dy4D:function(){return fm(e,n,r,i,a,1,o)},filter:function(){return pm(e,s,n.shape,r,i,a,o)}}}));return l?h.as3D(h.shape[1],h.shape[2],h.shape[3]):h}function um(e){var t=function(e){return"number"==typeof e?[e,e,e]:2===e.length?[e[0],e[1],1]:e}(e),n=t[0],r=t[1],i=t[2];return 1===n&&1===r&&1===i}function lm(e,t,n,r,i){Bs(e.length===t.rank,(function(){return"Length of inShape ("+e.length+") and rank of dy ("+t.rank+") must match"}));var a=e,o=t,s=!1;4===t.rank&&(s=!0,o=t.as5D(1,t.shape[0],t.shape[1],t.shape[2],t.shape[3]),a=[1,e[0],e[1],e[2],e[3]]);var u=a[4],l=o.shape[4];Bs(5===a.length,(function(){return"Error in conv3dDerInput: inShape must be length 5, but got length "+a.length+"."})),Bs(5===o.rank,(function(){return"Error in conv3dDerInput: dy must be rank 5, but got rank "+o.rank})),Bs(5===n.rank,(function(){return"Error in conv3dDerInput: filter must be rank 5, but got rank "+n.rank})),Bs(u===n.shape[3],(function(){return"Error in conv3dDerInput: depth of input ("+u+") must match input depth for filter "+n.shape[3]+"."})),Bs(l===n.shape[4],(function(){return"Error in conv3dDerInput: depth of output ("+l+") must match output depth for filter "+n.shape[4]+"."}));var c=rd(a,n.shape,r,1,i),f=Ju.runKernelFunc((function(e){return e.conv3dDerInput(o,n,c)}),{dy5D:o});return s?f.as4D(f.shape[1],f.shape[2],f.shape[3],f.shape[4]):f}var cm=bc({conv1d_:function(e,t,n,r,i,a,o){void 0===i&&(i="NWC"),void 0===a&&(a=1);var s=sc(e,"x","conv1d"),u=sc(t,"filter","conv1d"),l=s,c=!1;2===s.rank&&(c=!0,l=s.as3D(1,s.shape[0],s.shape[1])),Bs(3===l.rank,(function(){return"Error in conv1d: input must be rank 3, but got rank "+l.rank+"."})),Bs(3===u.rank,(function(){return"Error in conv1d: filter must be rank 3, but got rank "+u.rank+"."})),null!=o&&Bs(Ks(r),(function(){return"Error in conv1d: pad must be an integer when using, dimRoundingMode "+o+" but got pad "+r+"."})),Bs(l.shape[2]===u.shape[1],(function(){return"Error in conv1d: depth of input ("+l.shape[2]+") must match input depth for filter "+u.shape[1]+"."})),Bs(cd(n,a),(function(){return"Error in conv1D: Either stride or dilation must be 1. Got stride "+n+" and dilation '"+a+"'"})),Bs("NWC"===i,(function(){return"Error in conv1d: got dataFormat of "+i+" but only NWC is currently supported."}));var f=u.as4D(1,u.shape[0],u.shape[1],u.shape[2]),d=l.as4D(l.shape[0],1,l.shape[1],l.shape[2]),p=fm(d,f,[1,n],r,"NHWC",[1,a],o);return c?p.as2D(p.shape[2],p.shape[3]):p.as3D(p.shape[0],p.shape[2],p.shape[3])}}),fm=bc({conv2d_:function(e,t,n,r,i,a,o){void 0===i&&(i="NHWC"),void 0===a&&(a=[1,1]);var s=sc(e,"x","conv2d"),u=sc(t,"filter","conv2d"),l=s,c=!1;3===s.rank&&(c=!0,l=s.as4D(1,s.shape[0],s.shape[1],s.shape[2])),Bs(4===l.rank,(function(){return"Error in conv2d: input must be rank 4, but got rank "+l.rank+"."})),Bs(4===u.rank,(function(){return"Error in conv2d: filter must be rank 4, but got rank "+u.rank+"."})),null!=o&&Bs(Ks(r),(function(){return"Error in conv2d: pad must be an integer when using, dimRoundingMode "+o+" but got pad "+r+"."}));var f="NHWC"===i?l.shape[3]:l.shape[1];Bs(f===u.shape[2],(function(){return"Error in conv2d: depth of input ("+f+") must match input depth for filter "+u.shape[2]+"."})),Bs(cd(n,a),(function(){return"Error in conv2D: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+a+"'"}));var d=fd(i),p=nd(l.shape,u.shape,n,a,r,o,!1,d),h=[u,l],v=Ju.runKernelFunc((function(e,t){var n=e.conv2d(l,u,p);return t([u,l]),n}),{x:l,filter:u},(function(e,t){var o=t,s=o[0],u=o[1];return Bs(ld(a),(function(){return"Error in gradient of conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '"+a+"'"})),{x:function(){return hm(u.shape,e,s,n,r,i)},filter:function(){return pm(u,e,s.shape,n,r,i)}}}),"Conv2D",p,h);return c?v.as3D(v.shape[1],v.shape[2],v.shape[3]):v}}),dm=bc({conv3d_:function(e,t,n,r,i,a){void 0===i&&(i="NDHWC"),void 0===a&&(a=[1,1,1]);var o=sc(e,"x","conv3d"),s=sc(t,"filter","conv3d"),u=o,l=!1;4===o.rank&&(l=!0,u=o.as5D(1,o.shape[0],o.shape[1],o.shape[2],o.shape[3])),Bs(5===u.rank,(function(){return"Error in conv3d: input must be rank 5, but got rank "+u.rank+"."})),Bs(5===s.rank,(function(){return"Error in conv3d: filter must be rank 5, but got rank "+s.rank+"."})),Bs(u.shape[4]===s.shape[3],(function(){return"Error in conv3d: depth of input ("+u.shape[4]+") must match input depth for filter "+s.shape[3]+"."})),Bs(function(e,t){return um(e)||um(t)}(n,a),(function(){return"Error in conv3D: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+a+"'"})),Bs("NDHWC"===i,(function(){return"Error in conv3d: got dataFormat of "+i+" but only NDHWC is currently supported."}));var c=rd(u.shape,s.shape,n,a,r),f=Ju.runKernelFunc((function(e,t){var n=e.conv3d(u,s,c);return t([u,s]),n}),{x:u,$filter:s},(function(e,t){Bs(um(a),(function(){return"Error in gradient of conv3D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '"+a+"'"}));var i=t[0],o=t[1];return{x:function(){return lm(i.shape,e,o,n,r)},$filter:function(){return function(e,t,n,r,i){var a=e;4===e.rank&&(a=e.as5D(1,e.shape[0],e.shape[1],e.shape[2],e.shape[3]));var o=t;4===o.rank&&(o=t.as5D(1,t.shape[0],t.shape[1],t.shape[2],t.shape[3])),Bs(5===a.rank,(function(){return"Error in conv3dDerFilter: input must be rank 5, but got shape "+a.shape+"."})),Bs(5===o.rank,(function(){return"Error in conv3dDerFilter: dy must be rank 5, but got shape "+o.shape+"."})),Bs(5===n.length,(function(){return"Error in conv3dDerFilter: filterShape must be length 5, but got "+n+"."})),Bs(a.shape[4]===n[3],(function(){return"Error in conv3dDerFilter: depth of input "+a.shape[4]+") must match input depth in filter ("+n[3]+"."})),Bs(o.shape[4]===n[4],(function(){return"Error in conv3dDerFilter: depth of dy ("+o.shape[4]+") must match output depth for filter ("+n[4]+")."}));var s=rd(a.shape,n,r,1,i);return Ju.runKernelFunc((function(e){return e.conv3dDerFilter(a,o,s)}),{x5D:a,dy5D:o})}(i,e,o.shape,n,r)}}}));return l?f.as4D(f.shape[1],f.shape[2],f.shape[3],f.shape[4]):f}}),pm=bc({conv2dDerFilter_:function(e,t,n,r,i,a,o){void 0===a&&(a="NHWC");var s=e;3===e.rank&&(s=e.as4D(1,e.shape[0],e.shape[1],e.shape[2]));var u=t;3===u.rank&&(u=t.as4D(1,t.shape[0],t.shape[1],t.shape[2])),Bs(4===s.rank,(function(){return"Error in conv2dDerFilter: input must be rank 4, but got shape "+s.shape+"."})),Bs(4===u.rank,(function(){return"Error in conv2dDerFilter: dy must be rank 4, but got shape "+u.shape+"."})),Bs(4===n.length,(function(){return"Error in conv2dDerFilter: filterShape must be length 4, but got "+n+"."}));var l="NHWC"===a?s.shape[3]:s.shape[1],c="NHWC"===a?u.shape[3]:u.shape[1];Bs(l===n[2],(function(){return"Error in conv2dDerFilter: depth of input "+l+") must match input depth in filter ("+n[2]+"."})),Bs(c===n[3],(function(){return"Error in conv2dDerFilter: depth of dy ("+c+") must match output depth for filter ("+n[3]+")."})),null!=o&&Bs(Ks(i),(function(){return"Error in conv2dDerFilter: pad must be an integer when using, dimRoundingMode "+o+" but got pad "+i+"."}));var f=fd(a),d=nd(s.shape,n,r,1,i,o,!1,f);return Ju.runKernelFunc((function(e){return e.conv2dDerFilter(s,u,d)}),{x4D:s,dy4D:u})}}),hm=bc({conv2dDerInput_:sm}),vm=bc({depthwiseConv2d_:function(e,t,n,r,i,a,o){void 0===i&&(i="NHWC"),void 0===a&&(a=[1,1]);var s=sc(e,"x","depthwiseConv2d"),u=sc(t,"filter","depthwiseConv2d"),l=s,c=!1;3===s.rank&&(c=!0,l=s.as4D(1,s.shape[0],s.shape[1],s.shape[2])),Bs(4===l.rank,(function(){return"Error in depthwiseConv2d: input must be rank 4, but got rank "+l.rank+"."})),Bs(4===u.rank,(function(){return"Error in depthwiseConv2d: filter must be rank 4, but got rank "+u.rank+"."})),Bs(l.shape[3]===u.shape[2],(function(){return"Error in depthwiseConv2d: number of input channels ("+l.shape[3]+") must match the inChannels dimension in filter "+u.shape[2]+"."})),null==a&&(a=[1,1]),Bs(cd(n,a),(function(){return"Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+a+"'"})),null!=o&&Bs(Ks(r),(function(){return"Error in depthwiseConv2d: pad must be an integer when using, dimRoundingMode "+o+" but got pad "+r+"."}));var f=nd(l.shape,u.shape,n,a,r,o,!0),d=[l,u],p=Ju.runKernelFunc((function(e,t){var n=e.depthwiseConv2D(l,u,f);return t([l,u]),n}),{x:l,filter:u},(function(e,t){Bs(ld(a),(function(){return"Error in gradient of depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations '"+a+"'"}));var n=t[0],r=t[1];return{x:function(){return ym(n.shape,e,r,f)},filter:function(){return mm(n,e,r.shape,f)}}}),"DepthwiseConv2dNative",f,d);return c?p.as3D(p.shape[1],p.shape[2],p.shape[3]):p}}),ym=bc({depthwiseConv2dDerInput_:function(e,t,n,r){var i=t,a=!1;3===t.rank&&(a=!0,i=t.as4D(1,t.shape[0],t.shape[1],t.shape[2]));var o=Ju.runKernelFunc((function(e){return e.depthwiseConv2DDerInput(i,n,r)}),{dy4D:i});return a?o.as3D(o.shape[1],o.shape[2],o.shape[3]):o}}),mm=bc({depthwiseConv2dDerFilter_:function(e,t,n,r){var i=e;3===e.rank&&(i=e.as4D(1,e.shape[0],e.shape[1],e.shape[2]));var a=t;return 3===a.rank&&(a=t.as4D(1,t.shape[0],t.shape[1],t.shape[2])),Ju.runKernelFunc((function(e){return e.depthwiseConv2DDerFilter(i,a,r)}),{x4D:i,dy4D:a})}}),gm=bc({separableConv2d_:function(e,t,n,r,i,a,o){void 0===a&&(a=[1,1]),void 0===o&&(o="NHWC");var s=sc(e,"x","separableConv2d"),u=sc(t,"depthwiseFilter","separableConv2d"),l=sc(n,"pointwiseFilter","separableConv2d"),c=s,f=!1;if(3===s.rank&&(f=!0,c=s.as4D(1,s.shape[0],s.shape[1],s.shape[2])),"NCHW"===o)throw new Error("separableConv2d currently does not support dataFormat NCHW; only NHWC is supported");Bs(4===c.rank,(function(){return"Error in separableConv2d: input must be rank 4, but got rank "+c.rank+"."})),Bs(4===u.rank,(function(){return"Error in separableConv2d: depthwise filter must be rank 4, but got rank "+u.rank+"."})),Bs(4===l.rank,(function(){return"Error in separableConv2d: pointwise filter must be rank 4, but got rank "+u.rank+"."})),Bs(1===l.shape[0],(function(){return"Error in separableConv2d: the first dimension of pointwise filter  must be 1, but got "+l.shape[0]+"."})),Bs(1===l.shape[1],(function(){return"Error in separableConv2d: the second dimension of pointwise filter must be 1, but got "+l.shape[1]+"."}));var d=u.shape[2],p=u.shape[3];Bs(l.shape[2]===d*p,(function(){return"Error in separableConv2d: the third dimension of pointwise filter must be "+d*p+", but got "+l.shape[2]+"."}));var h=vm(c,u,r,i,o,a),v=fm(h,l,1,"valid",o);return f?v.as3D(v.shape[1],v.shape[2],v.shape[3]):v}}),bm=bc({conv2dTranspose_:function(e,t,n,r,i,a){return sm(n,sc(e,"x","conv2dTranspose"),sc(t,"filter","conv2dTranspose"),r,i,"NHWC",a)}}),xm=bc({conv3dTranspose_:function(e,t,n,r,i){return lm(n,sc(e,"x","conv3dTranspose"),sc(t,"filter","conv3dTranspose"),r,i)}}),wm=bc({matMul_:function(e,t,n,r){var i;void 0===n&&(n=!1),void 0===r&&(r=!1);var a=sc(e,"a","matMul"),o=sc(t,"b","matMul");i=Ku(a,o),a=i[0],o=i[1];var s=n?a.shape[a.rank-2]:a.shape[a.rank-1],u=r?o.shape[o.rank-1]:o.shape[o.rank-2],l=n?a.shape[a.rank-1]:a.shape[a.rank-2],c=r?o.shape[o.rank-2]:o.shape[o.rank-1],f=a.shape.slice(0,-2),d=o.shape.slice(0,-2),p=Vs(f),h=Vs(d);Bs(a.rank>=2&&o.rank>=2&&a.rank===o.rank,(function(){return"Error in matMul: inputs must have the same rank of at least 2, got ranks "+a.rank+" and "+o.rank+"."})),Bs(Us(f,d),(function(){return"Error in matMul: outer dimensions ("+f+") and ("+d+") of Tensors with shapes "+a.shape+" and "+o.shape+" must match."})),Bs(s===u,(function(){return"Error in matMul: inner shapes ("+s+") and ("+u+") of Tensors with shapes "+a.shape+" and "+o.shape+" and transposeA="+n+" and transposeB="+r+" must match."}));var v=a.shape.slice(0,-2).concat([l,c]),y=n?a.as3D(p,s,l):a.as3D(p,l,s),m=r?o.as3D(h,c,u):o.as3D(h,u,c),g={transposeA:n,transposeB:r};return Ju.runKernelFunc((function(e,t){var i=e.batchMatMul(y,m,n,r);return t([y,m]),i}),{a:y,b:m},(function(e,t){var i=t,a=i[0],o=i[1];return n||r?!n&&r?{a:function(){return e.matMul(o,!1,!1)},b:function(){return e.matMul(a,!0,!1)}}:n&&!r?{a:function(){return o.matMul(e,!1,!0)},b:function(){return a.matMul(e,!1,!1)}}:{a:function(){return o.matMul(e,!0,!0)},b:function(){return e.matMul(a,!0,!0)}}:{a:function(){return e.matMul(o,!1,!0)},b:function(){return a.matMul(e,!0,!1)}}}),"BatchMatMul",g).reshape(v)}}),Sm=bc({dot_:function(e,t){var n=sc(e,"t1","dot"),r=sc(t,"t2","dot");Bs(!(1!==n.rank&&2!==n.rank||1!==r.rank&&2!==r.rank),(function(){return"Error in dot: inputs must all be rank 1 or 2, but got ranks "+n.rank+" and "+r.rank+"."}));var i=1===n.rank?n.size:n.shape[1],a=1===r.rank?r.size:r.shape[0];return Bs(i===a,(function(){return"Error in dot: inner dimensions of inputs must match, but got "+i+" and "+a+"."})),1===n.rank&&1===r.rank?n.as2D(1,-1).matMul(r.as2D(-1,1)).asScalar():1===n.rank&&2===r.rank?n.as2D(1,-1).matMul(r.as2D(r.shape[0],r.shape[1])).as1D():2===n.rank&&1===r.rank?n.matMul(r.as2D(-1,1)).as1D():n.matMul(r.as2D(r.shape[0],r.shape[1]))}}),Tm=bc({outerProduct_:function(e,t){var n=sc(e,"v1","outerProduct"),r=sc(t,"v2","outerProduct");return Bs(1===n.rank&&1===r.rank,(function(){return"Error in outerProduct: inputs must be rank 1, but got ranks "+n.rank+" and "+r.rank+"."})),n.as2D(-1,1).matMul(r.as2D(1,-1))}}),Em=bc({reverse_:function(e,t){var n=sc(e,"x","reverse");if(0===n.rank)return n.clone();var r=Js(t,n.shape);return Ju.runKernelFunc((function(e){return e.reverse(n,r)}),{$x:n},(function(e){return{$x:function(){return e.reverse(r)}}})).reshapeAs(n)}}),km=bc({reverse1d_:function(e){var t=sc(e,"x","reverse");return Bs(1===t.rank,(function(){return"Error in reverse1D: x must be rank 1 but got rank "+t.rank+"."})),Em(t,0)}}),_m=bc({reverse2d_:function(e,t){var n=sc(e,"x","reverse");return Bs(2===n.rank,(function(){return"Error in reverse2D: x must be rank 2 but got rank "+n.rank+"."})),Em(n,t)}}),Cm=bc({reverse3d_:function(e,t){var n=sc(e,"x","reverse");return Bs(3===n.rank,(function(){return"Error in reverse3D: x must be rank 3 but got rank "+n.rank+"."})),Em(n,t)}}),Pm=bc({reverse4d_:function(e,t){var n=sc(e,"x","reverse");return Bs(4===n.rank,(function(){return"Error in reverse4D: x must be rank 4 but got rank "+n.rank+"."})),Em(n,t)}});function Om(e,t,n,r,i,a){var o=sc(e,"x","maxPool"),s=o,u=!1;3===o.rank&&(u=!0,s=o.as4D(1,o.shape[0],o.shape[1],o.shape[2])),null==r&&(r=[1,1]),Bs(4===s.rank,(function(){return"Error in maxPool: input must be rank 4 but got rank "+s.rank+"."})),Bs(cd(n,r),(function(){return"Error in maxPool: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+r+"'"})),null!=a&&Bs(Ks(i),(function(){return"Error in maxPool: pad must be an integer when using, dimRoundingMode "+a+" but got pad "+i+"."}));var l=ed(s.shape,t,n,r,i,a);if(1===l.filterWidth&&1===l.filterHeight&&Us(l.inShape,l.outShape))return o.clone();var c=[s],f=Ju.runKernelFunc((function(e,t){var n=e.maxPool(s,l);return t([s,n]),n}),{x:s},(function(e,a){var o=a[0],s=a[1];return{x:function(){return function(e,t,n,r,i,a,o,s){var u=sc(e,"dy","maxPoolBackprop"),l=sc(t,"input","maxPoolBackprop"),c=sc(n,"output","maxPoolBackprop");Bs(l.rank===u.rank,(function(){return"Rank of input ("+l.rank+") does not match rank of dy ("+u.rank+")"})),null==a&&(a=[1,1]),Bs(cd(i,a),(function(){return"Error in maxPoolBackProp: Either strides or dilations must be 1. Got strides "+i+" and dilations '"+a+"'"})),Bs(4===u.rank,(function(){return"Error in maxPoolBackprop: dy must be rank 4 but got rank "+u.rank+"."})),Bs(4===l.rank,(function(){return"Error in maxPoolBackprop: input must be rank 4 but got rank "+l.rank+"."}));var f=ed(l.shape,r,i,a,o,s);return Ju.runKernelFunc((function(e){return e.maxPoolBackprop(u,l,c,f)}),{$dy:u,$input:l})}(e,o,s,t,n,r,i)}}}),"MaxPool",l,c);return u?f.as3D(f.shape[1],f.shape[2],f.shape[3]):f}function Im(e,t,n,r,i,a){var o=sc(e,"x","avgPool","float32");null==r&&(r=[1,1]),Bs(cd(n,r),(function(){return"Error in avgPool: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+r+"'"}));var s=o,u=!1;3===o.rank&&(u=!0,s=o.as4D(1,o.shape[0],o.shape[1],o.shape[2])),Bs(4===s.rank,(function(){return"Error in avgPool: x must be rank 4 but got rank "+s.rank+"."})),null!=a&&Bs(Ks(i),(function(){return"Error in avgPool: pad must be an integer when using, dimRoundingMode "+a+" but got pad "+i+"."}));var l=ed(s.shape,t,n,r,i,a);if(1===l.filterWidth&&1===l.filterHeight&&Us(l.inShape,l.outShape))return o.clone();var c=Ju.runKernelFunc((function(e){return e.avgPool(s,l)}),{x:s},(function(e){return{x:function(){return function(e,t,n,r,i,a){var o=sc(e,"dy","avgPoolBackprop"),s=sc(t,"input","avgPoolBackprop");Bs(s.rank===o.rank,(function(){return"Rank of input ("+s.rank+") does not match rank of dy ("+o.rank+")"})),null==i&&(i=[1,1]),Bs(cd(r,i),(function(){return"Error in avgPoolBackprop: Either strides or dilations must be 1. Got strides "+r+" and dilations '"+i+"'"}));var u=s,l=o,c=!1;3===s.rank&&(c=!0,u=s.as4D(1,s.shape[0],s.shape[1],s.shape[2]),l=o.as4D(1,o.shape[0],o.shape[1],o.shape[2])),Bs(4===l.rank,(function(){return"Error in avgPoolBackprop: dy must be rank 4 but got rank "+l.rank+"."})),Bs(4===u.rank,(function(){return"Error in avgPoolBackprop: input must be rank 4 but got rank "+u.rank+"."}));var f=ed(u.shape,n,r,i,a),d=Ju.runKernelFunc((function(e){return e.avgPoolBackprop(l,u,f)}),{dy4D:l,input4D:u});return c?d.as3D(d.shape[1],d.shape[2],d.shape[3]):d}(e,s,t,n,r,i)}}}),"AvgPool",l);return c=c.cast(o.dtype),u?c.as3D(c.shape[1],c.shape[2],c.shape[3]):c}var Am=bc({maxPool_:function(e,t,n,r,i){return Om(e,t,n,1,r,i)}}),Dm=bc({avgPool_:function(e,t,n,r,i){return Im(e,t,n,1,r,i)}}),Rm=bc({pool_:function(e,t,n,r,i,a){null==i&&(i=[1,1]),null==a&&(a=1),0===r&&(r="valid");var o=sc(e,"x","maxPool"),s=o,u=!1;3===o.rank&&(u=!0,s=o.as4D(1,o.shape[0],o.shape[1],o.shape[2])),Bs(cd(a,i),(function(){return"Error in pool: Either strides or dilations must be 1. Got strides "+a+" and dilations '"+i+"'"}));var l,c=ed(s.shape,t,a,i,r),f=[c.dilationHeight,c.dilationWidth];l="same"===r?function(e,t){var n=e.map((function(e,n){return e+(e-1)*(t[n]-1)})).map((function(e){return e-1})),r=n.map((function(e){return Math.floor(e/2)})),i=n.map((function(e,t){return e-r[t]}));return n.map((function(e,t){return[r[t],i[t]]}))}([c.filterHeight,c.filterWidth],f):[[0,0],[0,0]];var d=1===f[0]&&1===f[1],p=function(e,t,n){var r=n.map((function(e){return e[0]})),i=n.map((function(e){return e[1]})),a=e.concat(r,i),o=t.map((function(e,t){return(e-a[t]%e)%e})),s=i.map((function(e,t){return e+o[t]}));return[t.map((function(e,t){return[r[t],s[t]]})),t.map((function(e,t){return[0,o[t]]}))]}([c.inHeight,c.inWidth],f,l),h=p[0],v=p[1],y=d?r:"valid",m=d?s:Sf(s,f,h),g=("avg"===n?function(){return Im(m,t,a,1,y)}:function(){return Om(m,t,a,1,y)})(),b=d?g:tf(g,f,v);return u?b.as3D(b.shape[1],b.shape[2],b.shape[3]):b}}),Nm=bc({maxPool3d_:function(e,t,n,r,i,a,o){void 0===a&&(a="NDHWC");var s=sc(e,"x","maxPool3d"),u=s,l=!1;4===s.rank&&(l=!0,u=s.as5D(1,s.shape[0],s.shape[1],s.shape[2],s.shape[3])),null==o&&(o=[1,1,1]),Bs(5===u.rank,(function(){return"Error in maxPool3d: x must be rank 5 but got rank "+u.rank+"."})),Bs("NDHWC"===a,(function(){return"Error in maxPool3d: Only NDHWC is currently supported, but got dataFormat of "+a})),Bs(cd(n,o),(function(){return"Error in maxPool3d: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+o+"'"})),null!=i&&Bs(Ks(r),(function(){return"Error in maxPool3d: pad must be an integer when using, dimRoundingMode "+i+" but got pad "+r+"."}));var c=td(u.shape,t,n,o,r,i,a),f=Ju.runKernelFunc((function(e,t){var n=e.maxPool3d(u,c);return t([u,n]),n}),{x:u},(function(e,a){var s=a[0],u=a[1];return{x:function(){return function(e,t,n,r,i,a,o,s){var u=sc(e,"dy","maxPool3dBackprop"),l=sc(t,"input","maxPool3dBackprop"),c=sc(n,"output","maxPool3dBackprop"),f=u,d=l,p=c,h=!1;4===l.rank&&(h=!0,f=u.as5D(1,u.shape[0],u.shape[1],u.shape[2],u.shape[3]),d=l.as5D(1,l.shape[0],l.shape[1],l.shape[2],l.shape[3]),p=c.as5D(1,c.shape[0],c.shape[1],c.shape[2],c.shape[3])),Bs(5===f.rank,(function(){return"Error in maxPool3dBackprop: dy must be rank 5 but got rank "+f.rank+"."})),Bs(5===d.rank,(function(){return"Error in maxPool3dBackprop: input must be rank 5 but got rank "+d.rank+"."})),Bs(5===p.rank,(function(){return"Error in maxPool3dBackprop: output must be rank 5 but got rank "+p.rank+"."})),null==a&&(a=[1,1,1]),Bs(cd(i,a),(function(){return"Error in maxPool3dBackprop: Either strides or dilations must be 1. Got strides "+i+" and dilations '"+a+"'"})),null!=s&&Bs(Ks(o),(function(){return"Error in maxPool3dBackprop: pad must be an integer when using, dimRoundingMode "+s+" but got pad "+o+"."}));var v=td(d.shape,r,i,a,o,s),y=Ju.runKernelFunc((function(e){return e.maxPool3dBackprop(f,d,p,v)}),{dy5D:f,input5D:d});return h?y.as4D(y.shape[1],y.shape[2],y.shape[3],y.shape[4]):y}(e,s,u,t,n,o,r,i)}}}));return l?f.as4D(f.shape[1],f.shape[2],f.shape[3],f.shape[4]):f}}),Mm=bc({avgPool3d_:function(e,t,n,r,i,a,o){void 0===a&&(a="NDHWC");var s=sc(e,"x","avgPool3d","float32"),u=s,l=!1;4===s.rank&&(l=!0,u=s.as5D(1,s.shape[0],s.shape[1],s.shape[2],s.shape[3])),null==o&&(o=[1,1,1]),Bs(5===u.rank,(function(){return"Error in avgPool3d: x must be rank 5 but got rank "+u.rank+"."})),Bs("NDHWC"===a,(function(){return"Error in avgPool3d: Only NDHWC is currently supported, but got dataFormat of "+a})),Bs(cd(n,o),(function(){return"Error in avgPool3d: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+o+"'"})),null!=i&&Bs(Ks(r),(function(){return"Error in avgPool3d: pad must be an integer when using, dimRoundingMode "+i+" but got pad "+r+"."}));var c=td(u.shape,t,n,o,r,i,a),f=Ju.runKernelFunc((function(e){return e.avgPool3d(u,c)}),{x:u},(function(e){return{x:function(){return function(e,t,n,r,i,a,o){var s=sc(e,"dy","avgPool3dBackprop"),u=sc(t,"input","avgPool3dBackprop"),l=s,c=u,f=!1;4===u.rank&&(f=!0,l=s.as5D(1,s.shape[0],s.shape[1],s.shape[2],s.shape[3]),c=u.as5D(1,u.shape[0],u.shape[1],u.shape[2],u.shape[3])),Bs(5===l.rank,(function(){return"Error in avgPool3dBackprop: dy must be rank 5 but got rank "+l.rank+"."})),Bs(5===c.rank,(function(){return"Error in avgPool3dBackprop: input must be rank 5 but got rank "+c.rank+"."})),null==i&&(i=[1,1,1]),Bs(cd(r,i),(function(){return"Error in avgPool3dBackprop: Either strides or dilations must be 1. Got strides "+r+" and dilations '"+i+"'"})),null!=o&&Bs(Ks(a),(function(){return"Error in maxPool3dBackprop: pad must be an integer when using, dimRoundingMode "+o+" but got pad "+a+"."}));var d=td(c.shape,n,r,i,a,o),p=Ju.runKernelFunc((function(e){return e.avgPool3dBackprop(l,c,d)}),{dy5D:l,input5D:c});return f?p.as4D(p.shape[1],p.shape[2],p.shape[3],p.shape[4]):p}(e,u,t,n,o,r,i)}}}));return f=f.cast(u.dtype),l?f.as4D(f.shape[1],f.shape[2],f.shape[3],f.shape[4]):f}}),Fm=bc({slice_:function(e,t,n){var r,i,a=sc(e,"x","slice");if(0===a.rank)throw new Error("Slicing scalar is not possible");(r="number"==typeof t?[t].concat(new Array(a.rank-1).fill(0)):t.length<a.rank?t.concat(new Array(a.rank-t.length).fill(0)):t.slice()).forEach((function(e){Bs(-1!==e,(function(){return"slice() does not support negative begin indexing."}))})),i=(i=null==n?new Array(a.rank).fill(-1):"number"==typeof n?[n].concat(new Array(a.rank-1).fill(-1)):n.length<a.rank?n.concat(new Array(a.rank-n.length).fill(-1)):n).map((function(e,t){return e>=0?e:(Bs(-1===e,(function(){return"Negative size values should be exactly -1 but got "+e+" for the slice() size at index "+t+"."})),a.shape[t]-r[t])})),Bf(a,r,i);var o=a.shape,s={begin:r,size:i};return Ju.runKernelFunc((function(e){return e.slice(a,r,i)}),{x:a},(function(e){for(var t=[],n=0;n<e.rank;n++)t.push([r[n],o[n]-r[n]-i[n]]);return{x:function(){return e.pad(t)}}}),"Slice",s)}}),Lm=bc({slice1d_:function(e,t,n){var r=sc(e,"x","slice1d");return Bs(1===r.rank,(function(){return"slice1d expects a rank-1 tensor, but got a rank-"+r.rank+" tensor"})),Fm(r,[t],[n])}}),Bm=bc({slice2d_:function(e,t,n){var r=sc(e,"x","slice2d");return Bs(2===r.rank,(function(){return"slice2d expects a rank-2 tensor, but got a rank-"+r.rank+" tensor"})),Fm(r,t,n)}}),jm=bc({slice3d_:function(e,t,n){var r=sc(e,"x","slice3d");return Bs(3===r.rank,(function(){return"slice3d expects a rank-3 tensor, but got a rank-"+r.rank+" tensor"})),Fm(r,t,n)}}),zm=bc({slice4d_:function(e,t,n){var r=sc(e,"x","slice4d");return Bs(4===r.rank,(function(){return"slice4d expects a rank-4 tensor, but got a rank-"+r.rank+" tensor"})),Fm(r,t,n)}});function Wm(e,t,n,r,i){return t.rank<n.rank&&(t=t.reshape(dc(t.shape,r))),e.rank<n.rank&&(e=e.reshape(dc(e.shape,r))),{x:function(){var r=e.mul(n.equal(t).cast(e.dtype));return null==i?r:r.transpose(i)}}}var Vm=bc({all_:function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=!1);var r=sc(e,"x","all","bool"),i=Js(t,r.shape),a=i,o=hc(a,r.rank);null!=o&&(r=r.transpose(o),a=yc(a.length,r.rank));var s=Ju.runKernelFunc((function(e){return e.all(r,a)}),{$x:r});if(n){var u=dc(s.shape,i);return s.reshape(u)}return s}}),Um=bc({any_:function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=!1);var r=sc(e,"x","any","bool"),i=Js(t,r.shape),a=i,o=hc(a,r.rank);null!=o&&(r=r.transpose(o),a=yc(a.length,r.rank));var s=Ju.runKernelFunc((function(e){return e.any(r,a)}),{$x:r});if(n){var u=dc(s.shape,i);return s.reshape(u)}return s}}),Km=bc({argMax_:function(e,t){void 0===t&&(t=0);var n=sc(e,"x","argMax");null==t&&(t=0);var r=Js(t,n.shape),i=hc(r,n.rank);null!=i&&(n=n.transpose(i),r=yc(r.length,n.rank));var a={axis:r[0]},o=[n];return Ju.runKernelFunc((function(e,t){var i=e.argMax(n,r[0]);return t([n]),i}),{x:n},(function(e,t){var n=t[0];return{x:function(){return Mc(n)}}}),"ArgMax",a,o)}}),Hm=bc({argMin_:function(e,t){void 0===t&&(t=0);var n=sc(e,"x","argMin");null==t&&(t=0);var r=Js(t,n.shape),i=hc(r,n.rank);return null!=i&&(n=n.transpose(i),r=yc(r.length,n.rank)),Ju.runKernelFunc((function(e,t){var i=e.argMin(n,r[0]);return t([n]),i}),{$x:n},(function(e,t){var n=t[0];return{$x:function(){return Mc(n)}}}))}}),qm=bc({logSumExp_:function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=!1);var r=sc(e,"x","logSumExp"),i=Js(t,r.shape),a=r.max(i,!0),o=r.sub(a).exp().sum(i).log(),s=a.reshape(o.shape).add(o);if(n){var u=dc(s.shape,i);return s.reshape(u)}return s}}),Gm=bc({max_:function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=!1);var r=sc(e,"x","max"),i=r,a=Js(t,r.shape),o=a,s=hc(o,r.rank);null!=s&&(r=r.transpose(s),o=yc(o.length,r.rank));var u=[r],l=Ju.runKernelFunc((function(e,t){var n=e.max(r,o);return t([i,n]),n}),{x:r},(function(e,t){return Wm(e,t[1],t[0],a,s)}),"Max",{axes:o},u,[!0]);if(n){var c=dc(l.shape,a);l=l.reshape(c)}return l}}),Xm=bc({mean_:function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=!1);var r=sc(e,"x","mean"),i=Js(t,r.shape),a=Vs(fc(r.shape,i)[1]);return Hf((function(e){var r=kc(a);return{value:(r.dtype===e.dtype?e:e.cast(r.dtype)).div(r).sum(t,n),gradFunc:function(t){var n=e.shape.slice();return i.forEach((function(e){n[e]=1})),t.reshape(n).mul(Ic(e.shape,"float32")).div(a)}}}))(r)}}),Ym=bc({min_:function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=!1);var r=sc(e,"x","min"),i=r,a=Js(t,r.shape),o=a,s=hc(o,r.rank);null!=s&&(r=r.transpose(s),o=yc(o.length,r.rank));var u=[r],l=Ju.runKernelFunc((function(e,t){var n=e.min(r,o);return t([i,n]),n}),{x:r},(function(e,t){return Wm(e,t[1],t[0],a,s)}),"Min",{axes:o},u,[!0]);if(n){var c=dc(l.shape,a);l=l.reshape(c)}return l}}),Jm=bc({moments_:function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=!1);var r=Js(t,(e=sc(e,"x","moments")).shape),i=e.mean(r,n),a=i.shape;n||(a=dc(i.shape,r));var o=e.toFloat().sub(i.reshape(a)).square();return{mean:i,variance:o.mean(r,n)}}}),$m=bc({sum_:function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=!1);var r=sc(e,"x","sum");"bool"===r.dtype&&(r=r.toInt());var i=Js(t,r.shape);return Hf((function(e){var t=hc(i,e.rank),r=i,a=e;null!=t&&(a=e.transpose(t),r=yc(r.length,e.rank));var o=function(t){var n=e.shape.slice();return i.forEach((function(e){n[e]=1})),t.reshape(n).mul(Ic(e.shape,"float32"))},s={axes:r},u=Ju.runKernelFunc((function(e){return e.sum(a,r)}),{x:a},(function(e){return{x:function(){return o(e)}}}),"Sum",s);if(n){var l=dc(u.shape,i);u=u.reshape(l)}return{value:u,gradFunc:o}}))(r)}}),Qm=bc({prod_:function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=!1);var r=sc(e,"x","prod");"bool"===r.dtype&&(r=r.toInt());var i=Js(t,r.shape),a=hc(i,r.rank),o=i,s=r;null!=a&&(s=r.transpose(a),o=yc(o.length,r.rank));var u=Ju.runKernelFunc((function(e){return e.prod(s,o)}),{permutedX:s});if(n){var l=dc(u.shape,i);u=u.reshape(l)}return u}}),Zm=bc({elu_:function(e){var t=sc(e,"x","elu");return Ju.runKernelFunc((function(e,n){var r=e.elu(t);return n([r]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){return Ju.runKernelFunc((function(t){return t.eluDer(e,n)}),{dy:e,y:n})}}}))}}),eg=bc({leakyRelu_:function(e,t){void 0===t&&(t=.2);var n=sc(e,"x","leakyRelu");return Dy(kc(t).mul(n),n)}}),tg=bc({prelu_:function(e,t){var n=sc(e,"x","prelu"),r=sc(t,"alpha","prelu");return Ju.runKernelFunc((function(e,t){var i=e.prelu(n,r);return t([n,r]),i}),{x:n,alpha:r},(function(e,t){var n=t[0],r=t[1],i=n.greater(0);return{x:function(){return Sy(i,e,e.mul(r))},alpha:function(){var t=Sy(i,Mc(e),e.mul(n)),a=Qf(r.shape,e.shape);return a.length>0&&(t=t.sum(a)),t.reshape(r.shape)}}}),"Prelu")}}),ng=bc({relu_:function(e){var t=sc(e,"x","relu");return"bool"===t.dtype?t.toInt():Ju.runKernelFunc((function(e,n){var r=e.relu(t);return n([t]),r}),{x:t},(function(e,t){var n=t[0];return{x:function(){return e.mulStrict(n.step().toFloat())}}}),"Relu")}}),rg=bc({relu6_:function(e){var t=sc(e,"x","relu6");return"bool"===t.dtype?t.toInt():Ju.runKernelFunc((function(e,n){var r=e.relu6(t);return n([t]),r}),{x:t},(function(e,t){var n=t[0],r=n.lessEqual(6).mul(n.step());return{x:function(){return e.mulStrict(r.toFloat())}}}),"Relu6")}}),ig=bc({selu_:function(e){var t=sc(e,"x","selu");return Ju.runKernelFunc((function(e,n){var r=e.selu(t);return n([t]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){var t=n.greater(kc(0)),r=kc(Kh),i=kc(Hh),a=e.mul(i),o=e.mul(r).mul(n.toFloat().exp());return Sy(t,a,o)}}}))}}),ag=bc({transpose_:function(e,t){var n=sc(e,"x","transpose");if(null==t&&(t=n.shape.map((function(e,t){return t})).reverse()),Bs(n.rank===t.length,(function(){return"Error in transpose: rank of input "+n.rank+" must match length of perm "+t+"."})),t.forEach((function(e){Bs(e>=0&&e<n.rank,(function(){return"All entries in 'perm' must be between 0 and "+(n.rank-1)+" but got "+t}))})),n.rank<=1)return n.clone();var r={perm:t};return Ju.runKernelFunc((function(e){return e.transpose(n,t)}),{x:n},(function(e){var n=vc(t);return{x:function(){return e.transpose(n)}}}),"Transpose",r)}}),og=bc({localResponseNormalization_:function(e,t,n,r,i){void 0===t&&(t=5),void 0===n&&(n=1),void 0===r&&(r=1),void 0===i&&(i=.5);var a=sc(e,"x","localResponseNormalization");Bs(4===a.rank||3===a.rank,(function(){return"Error in localResponseNormalization: x must be rank 3 or 4 but got\n               rank "+a.rank+"."})),Bs(Ks(t),(function(){return"Error in localResponseNormalization: depthRadius must be an integer but got depthRadius "+t+"."}));var o=a,s=!1;3===a.rank&&(s=!0,o=a.as4D(1,a.shape[0],a.shape[1],a.shape[2]));var u=Ju.runKernelFunc((function(e,a){var s=e.localResponseNormalization4D(o,t,n,r,i);return a([o,s]),s}),{x4D:o},(function(e,a){var o=a[0],s=a[1];return{x4D:function(){return Ju.runKernelFunc((function(a){return a.LRNGrad(e,o,s,t,n,r,i)}),{})}}}));return s?u.as3D(u.shape[1],u.shape[2],u.shape[3]):u}}),sg=bc({norm_:function(e,t,n,r){void 0===t&&(t="euclidean"),void 0===n&&(n=null),void 0===r&&(r=!1);var i=function e(t,n,r){if(void 0===r&&(r=null),0===t.rank)return t.abs();if(1!==t.rank&&null===r)return e(t.reshape([-1]),n,r);if(1===t.rank||"number"==typeof r||Array.isArray(r)&&1===r.length){if(1===n)return t.abs().sum(r);if(n===1/0)return t.abs().max(r);if(n===-1/0)return t.abs().min(r);if("euclidean"===n||2===n)return t.abs().pow(kc(2,"int32")).sum(r).sqrt();throw new Error("Error in norm: invalid ord value: "+n)}if(Array.isArray(r)&&2===r.length){if(1===n)return t.abs().sum(r[0]).max(r[1]-1);if(n===1/0)return t.abs().sum(r[1]).max(r[0]);if(n===-1/0)return t.abs().sum(r[1]).min(r[0]);if("fro"===n||"euclidean"===n)return t.square().sum(r).sqrt();throw new Error("Error in norm: invalid ord value: "+n)}throw new Error("Error in norm: invalid axis: "+r)}(e=sc(e,"x","norm"),t,n),a=i.shape;if(r){var o=Js(n,e.shape);a=dc(i.shape,o)}return i.reshape(a)}}),ug=bc({basicLSTMCell_:function(e,t,n,r,i,a){var o=sc(e,"forgetBias","basicLSTMCell"),s=sc(t,"lstmKernel","basicLSTMCell"),u=sc(n,"lstmBias","basicLSTMCell"),l=sc(r,"data","basicLSTMCell"),c=sc(i,"c","basicLSTMCell"),f=sc(a,"h","basicLSTMCell"),d=l.concat(f,1).matMul(s).add(u),p=d.shape[0],h=d.shape[1]/4,v=[p,h],y=d.slice([0,0],v),m=d.slice([0,h],v),g=d.slice([0,2*h],v),b=d.slice([0,3*h],v),x=y.sigmoid().mulStrict(m.tanh()).addStrict(c.mulStrict(o.add(g).sigmoid())),w=x.tanh().mulStrict(b.sigmoid());return[x,w]}}),lg=bc({multiRNNCell_:function(e,t,n,r){for(var i=sc(t,"data","multiRNNCell"),a=uc(n,"c","multiRNNCell"),o=uc(r,"h","multiRNNCell"),s=i,u=[],l=0;l<e.length;l++){var c=e[l](s,a[l],o[l]);u.push(c[0]),u.push(c[1]),s=c[1]}var f=[],d=[];for(l=0;l<u.length;l+=2)f.push(u[l]),d.push(u[l+1]);return[f,d]}}),cg=bc({movingAverage_:function(e,t,n,r,i){void 0===i&&(i=!0);var a=sc(e,"v","movingAverage"),o=sc(t,"x","movingAverage"),s=sc(n,"decay","movingAverage");Hu(a,o),Bs(Us(a.shape,o.shape),(function(){return"Shape mismatch in v and x"}));var u=kc(1),l=u.sub(s),c=o.sub(a).mul(l);if(i){Bs(null!=r,(function(){return"When using zeroDebias: true, step is required."}));var f=sc(r,"step","movingAverage");c=c.div(u.sub(zy(s,f)))}return a.add(c)}}),fg=bc({stridedSlice_:function(e,t,n,r,i,a,o,s,u){if(void 0===i&&(i=0),void 0===a&&(a=0),void 0===o&&(o=0),void 0===s&&(s=0),void 0===u&&(u=0),null==r&&(r=new Array(t.length)),0!==o)throw new Error("ellipsis mask is not yet supported");var l=sc(e,"x","stridedSlice"),c=jf(s),f=l.shape.slice();c.forEach((function(e){t[e]=0,n[e]=1,f.splice(e,0,1)})),l=l.reshape(f);for(var d=0;d<l.rank;d++)t[d]=Wf(i,t,r,l.shape,d),n[d]=Vf(a,n,r,l.shape,d),r[d]=r[d]||1;var p=jf(u);p.forEach((function(e){n[e]=t[e]+1,r[e]=1}));var h=zf(t,n,r),v=h.filter((function(e,t){return-1===p.indexOf(t)}));return r.every((function(e){return 1===e}))?Fm(l,t,h).reshape(v):Ju.runKernelFunc((function(e){return e.stridedSlice(l,t,n,r)}),{$x:l}).reshape(v)}}),dg=bc({topk_:function(e,t,n){void 0===t&&(t=1),void 0===n&&(n=!0);var r=sc(e,"x","topk");if(0===r.rank)throw new Error("topk() expects the input to be of rank 1 or higher");var i=r.shape[r.shape.length-1];if(t>i)throw new Error("'k' passed to topk() must be <= the last dimension ("+i+") but got "+t);var a=Ju.runKernelFunc((function(e){return e.topk(r,t,n)}),{$x:r});return{values:a[0],indices:a[1]}}}),pg=bc({scatterND_:function(e,t,n){var r=sc(e,"indices","scatterND","int32"),i=sc(t,"updates","scatterND");return Ff(i,r,n),Ju.runKernelFunc((function(e){return e.scatterND(r,i,n)}),{indices:r,updates:i},null,"ScatterNd",{shape:n})}}),hg=bc({fft_:function(e){Bs("complex64"===e.dtype,(function(){return"The dtype for tf.spectral.fft() must be complex64 but got "+e.dtype+"."}));var t=e.shape[e.shape.length-1],n=e.size/t,r=e.as2D(n,t);return Ju.runKernelFunc((function(e){return e.fft(r)}),{input:e}).reshape(e.shape)}}),vg=bc({ifft_:function(e){Bs("complex64"===e.dtype,(function(){return"The dtype for tf.spectral.ifft() must be complex64 but got "+e.dtype+"."}));var t=e.shape[e.shape.length-1],n=e.size/t,r=e.as2D(n,t);return Ju.runKernelFunc((function(e){return e.ifft(r)}),{input:e}).reshape(e.shape)}}),yg=bc({rfft_:function(e,t){Bs("float32"===e.dtype,(function(){return"The dtype for rfft() must be real value but got "+e.dtype}));var n,r=e.shape[e.shape.length-1],i=e.size/r;if(null!=t&&t<r){var a=e.shape.map((function(e){return 0})),o=e.shape.map((function(e){return e}));o[e.shape.length-1]=t,n=e.slice(a,o),r=t}else if(null!=t&&t>r){var s=e.shape.map((function(e){return e}));s[e.shape.length-1]=t-r,n=e.concat(Ac(s),e.shape.length-1),r=t}else n=e;var u=n.zerosLike(),l=xc(n,u).as2D(i,r),c=hg(l),f=Math.floor(r/2)+1,d=wc(c),p=Sc(c),h=d.split([f,r-f],d.shape.length-1),v=p.split([f,r-f],p.shape.length-1),y=n.shape.slice();return y[n.shape.length-1]=f,xc(h[0],v[0]).reshape(y)}}),mg=bc({irfft_:function(e){var t=e.shape[e.shape.length-1],n=e.size/t;if(t<=2){var r=e.as2D(n,t),i=vg(r);return wc(i)}var a=[n,2*(t-1)],o=wc(e).as2D(n,t),s=Sc(e).as2D(n,t),u=o.slice([0,1],[n,t-2]).reverse(1),l=s.slice([0,1],[n,t-2]).reverse(1).mul(kc(-1)),c=o.concat(u,1),f=s.concat(l,1);return r=xc(c,f).as2D(a[0],a[1]),i=vg(r),wc(i)}}),gg=Object.freeze({fft:hg,ifft:vg,rfft:yg,irfft:mg}),bg=bc({sparseToDense_:function(e,t,n,r){void 0===r&&(r=0);var i=sc(e,"sparseIndices","sparseToDense","int32"),a=sc(t,"sparseValues","sparseToDense"),o=sc(r,"defaultValue","sparseToDense",a.dtype);return function(e,t,n,r){if("int32"!==e.dtype)throw new Error("tf.sparseToDense() expects the indices to be int32 type, but the dtype was "+e.dtype+".");if(e.rank>2)throw new Error("sparseIndices should be a scalar, vector, or matrix, but got shape "+e.shape+".");var i=e.rank>0?e.shape[0]:1,a=e.rank>1?e.shape[1]:1;if(n.length!==a)throw new Error("outputShape has incorrect number of elements:, "+n.length+", should be: "+a+".");var o=t.size;if(0!==t.rank&&(1!==t.rank||o!==i))throw new Error("sparseValues has incorrect shape "+t.shape+", should be [] or ["+i+"]");if(t.dtype!==r.dtype)throw new Error("sparseValues.dtype must match defaultValues.dtype")}(i,a,n,o),Ju.runKernelFunc((function(e){return e.sparseToDense(i,a,n,o)}),{$sparseIndices:i,$sparseValues:a,$defaultValue:o})}}),xg=bc({gatherND_:function(e,t){var n=sc(t,"indices","gatherND","int32"),r=sc(e,"x","gatherND");return Ju.runKernelFunc((function(e){return e.gatherND(r,n)}),{x:r,indices:n},null,"GatherNd")}}),wg=bc({diag_:function(e){var t=sc(e,"x","diag").flatten(),n=e.shape.concat(e.shape);return Ju.runKernelFunc((function(e){return e.diag(t)}),{$x:t}).reshape(n)}}),Sg=bc({dropout_:function(e,t,n,r){var i=sc(e,"x","dropout");if(Bs("float32"===i.dtype,(function(){return"x has to be a floating point tensor since it's going to be scaled, but got a "+i.dtype+" tensor instead."})),Bs(t>=0&&t<1,(function(){return"rate must be a float in the range [0, 1), but got "+t+"."})),0===t)return e instanceof Ru?i.clone():i;var a=function(e,t){if(null==t)return e.shape.slice();if(Us(e.shape,t))return t;if(e.shape.length===t.length){for(var n=[],r=0;r<e.shape.length;r++)null==t[r]&&null!=e.shape[r]?n.push(e.shape[r]):n.push(t[r]);return n}return t}(i,n),o=1-t,s=xf(a,0,1,"float32",r).add(o).floor().div(o);return i.mul(s)}});function Tg(e,t,n){for(var r=1-e%2,i=new Float32Array(e),a=0;a<e;++a){var o=2*Math.PI*a/(e+r-1);i[a]=t-n*Math.cos(o)}return _c(i,"float32")}var Eg,kg=bc({hannWindow_:function(e){return Tg(e,.5,.5)}}),_g=bc({hammingWindow_:function(e){return Tg(e,.54,.46)}}),Cg=bc({frame_:function(e,t,n,r,i){void 0===r&&(r=!1),void 0===i&&(i=0);for(var a=0,o=[];a+t<=e.size;)o.push(Fm(e,a,t)),a+=n;if(r)for(;a<e.size;){var s=a+t-e.size,u=Fc([Fm(e,a,t-s),Dc([s],i)]);o.push(u),a+=n}return 0===o.length?Cc([],[0,t]):Fc(o).as2D(o.length,t)}}),Pg=bc({stft_:function(e,t,n,r,i){var a;void 0===i&&(i=kg),null==r&&(a=t,r=Math.floor(Math.pow(2,Math.ceil(Math.log(a)/Math.log(2)))));for(var o=Cg(e,t,n),s=By(o,i(t)),u=[],l=0;l<o.shape[0];l++)u.push(yg(s.slice([l,0],[1,t]),r));return Fc(u)}}),Og=Object.freeze({hannWindow:kg,hammingWindow:_g,frame:Cg,stft:Pg});!function(e){e[e.NONE=0]="NONE",e[e.MEAN=1]="MEAN",e[e.SUM=2]="SUM",e[e.SUM_BY_NONZERO_WEIGHTS=3]="SUM_BY_NONZERO_WEIGHTS"}(Eg||(Eg={}));var Ig=bc({absoluteDifference_:function(e,t,n,r){void 0===r&&(r=Eg.SUM_BY_NONZERO_WEIGHTS);var i=sc(e,"labels","absoluteDifference"),a=sc(t,"predictions","absoluteDifference"),o=null;null!=n&&(o=sc(n,"weights","absoluteDifference")),js(i.shape,a.shape,"Error in absoluteDifference: ");var s=i.sub(a).abs();return Ag(s,o,r)}}),Ag=bc({computeWeightedLoss_:function(e,t,n){void 0===n&&(n=Eg.SUM_BY_NONZERO_WEIGHTS);var r=sc(e,"losses","computeWeightedLoss"),i=null;null!=t&&(i=sc(t,"weights","computeWeightedLoss"));var a=null==i?r:r.mul(i);if(n===Eg.NONE)return a;if(n===Eg.SUM)return a.sum();if(n===Eg.MEAN){if(null==i)return a.mean();var o=r.size/i.size,s=a.sum().div(i.sum());return o>1?s.div(kc(o)):s}if(n===Eg.SUM_BY_NONZERO_WEIGHTS){if(null==i)return a.sum().div(kc(r.size));var u=i.mul(Ic(r.shape)).notEqual(kc(0)).sum().toFloat();return a.sum().div(u)}throw Error("Unknown reduction: "+n)}}),Dg=bc({cosineDistance_:function(e,t,n,r,i){void 0===i&&(i=Eg.SUM_BY_NONZERO_WEIGHTS);var a=sc(e,"labels","cosineDistance"),o=sc(t,"predictions","cosineDistance"),s=null;null!=r&&(s=sc(r,"weights","cosineDistance")),js(a.shape,o.shape,"Error in cosineDistance: ");var u=kc(1).sub(a.mul(o).sum(n,!0));return Ag(u,s,i)}}),Rg=bc({hingeLoss_:function(e,t,n,r){void 0===r&&(r=Eg.SUM_BY_NONZERO_WEIGHTS);var i=sc(e,"labels","hingeLoss"),a=sc(t,"predictions","hingeLoss"),o=null;null!=n&&(o=sc(n,"weights","hingeLoss")),js(i.shape,a.shape,"Error in hingeLoss: ");var s=kc(1);i=kc(2).mul(i).sub(s);var u=s.sub(i.mul(a)).relu();return Ag(u,o,r)}}),Ng=bc({huberLoss_:function(e,t,n,r,i){void 0===r&&(r=1),void 0===i&&(i=Eg.SUM_BY_NONZERO_WEIGHTS);var a=sc(e,"labels","huberLoss"),o=sc(t,"predictions","huberLoss"),s=null;null!=n&&(s=sc(n,"weights","huberLoss")),js(a.shape,o.shape,"Error in huberLoss: ");var u=kc(r),l=o.sub(a).abs(),c=Ny(l,u),f=l.sub(c),d=kc(.5).mul(c.square()).add(u.mul(f));return Ag(d,s,i)}}),Mg=bc({logLoss_:function(e,t,n,r,i){void 0===r&&(r=1e-7),void 0===i&&(i=Eg.SUM_BY_NONZERO_WEIGHTS);var a=sc(e,"labels","logLoss"),o=sc(t,"predictions","logLoss"),s=null;null!=n&&(s=sc(n,"weights","logLoss")),js(a.shape,o.shape,"Error in logLoss: ");var u=kc(1),l=kc(r),c=a.mul(o.add(l).log()).neg().sub(u.sub(a).mul(u.sub(o).add(l).log()));return Ag(c,s,i)}}),Fg=bc({meanSquaredError_:function(e,t,n,r){void 0===r&&(r=Eg.SUM_BY_NONZERO_WEIGHTS);var i=sc(e,"labels","meanSquaredError"),a=sc(t,"predictions","meanSquaredError"),o=null;null!=n&&(o=sc(n,"weights","meanSquaredError")),js(i.shape,a.shape,"Error in meanSquaredError: ");var s=i.squaredDifference(a);return Ag(s,o,r)}}),Lg=bc({sigmoidCrossEntropy_:function(e,t,n,r,i){void 0===r&&(r=0),void 0===i&&(i=Eg.SUM_BY_NONZERO_WEIGHTS);var a=sc(e,"multiClassLabels","sigmoidCrossEntropy"),o=sc(t,"logits","sigmoidCrossEntropy"),s=null;if(null!=n&&(s=sc(n,"weights","sigmoidCrossEntropy")),js(a.shape,o.shape,"Error in sigmoidCrossEntropy: "),r>0){var u=kc(r),l=kc(1),c=kc(.5);a=a.mul(l.sub(u)).add(c.mul(u))}var f=function(e,t){var n=sc(e,"labels","sigmoidCrossEntropyWithLogits"),r=sc(t,"logits","sigmoidCrossEntropyWithLogits");js(n.shape,r.shape,"Error in sigmoidCrossEntropyWithLogits: ");var i=r.relu(),a=r.mul(n),o=r.abs().neg().exp().log1p();return i.sub(a).add(o)}(a,o);return Ag(f,s,i)}}),Bg=bc({softmaxCrossEntropy_:function(e,t,n,r,i){void 0===r&&(r=0),void 0===i&&(i=Eg.SUM_BY_NONZERO_WEIGHTS);var a=sc(e,"onehotLabels","softmaxCrossEntropy"),o=sc(t,"logits","softmaxCrossEntropy"),s=null;if(null!=n&&(s=sc(n,"weights","softmaxCrossEntropy")),js(a.shape,o.shape,"Error in softmaxCrossEntropy: "),r>0){var u=kc(r),l=kc(1),c=kc(a.shape[1]);a=a.mul(l.sub(u)).add(u.div(c))}var f=function(e,t,n){if(void 0===n&&(n=-1),-1===n&&(n=t.rank-1),n!==t.rank-1)throw Error("Softmax cross entropy along a non-last dimension is not yet supported. Labels / logits was rank "+t.rank+" and dim was "+n);return Hf((function(e,t,r){var i=t.logSumExp([n],!0),a=t.toFloat().sub(i);return r([e,a]),{value:a.mul(e).neg().sum([n]),gradFunc:function(e,t){var r=t[0],i=t[1],a=dc(e.shape,[n]);return[e.reshape(a).mul(r.toFloat().sub(i.exp())),e.reshape(a).mul(i.exp().sub(r.toFloat()))]}}}))(e,t)}(a,o);return Ag(f,s,i)}}),jg=Object.freeze({get Reduction(){return Eg},absoluteDifference:Ig,computeWeightedLoss:Ag,cosineDistance:Dg,hingeLoss:Rg,huberLoss:Ng,logLoss:Mg,meanSquaredError:Fg,sigmoidCrossEntropy:Lg,softmaxCrossEntropy:Bg});function zg(e,t){return void 0===t&&(t=!1),Ju.tidy((function(){if(2!==e.shape.length)throw new Error("qr2d() requires a 2D Tensor, but got a "+e.shape.length+"D Tensor.");for(var n=e.shape[0],r=e.shape[1],i=lf(n),a=e.clone(),o=Cc([[1]],[1,1]),s=o.clone(),u=n>=r?r:n,l=function(e){var t,u=a,l=s,c=i;t=Ju.tidy((function(){var t=a.slice([e,e],[n-e,1]),u=t.norm(),l=a.slice([e,e],[1,1]),c=Cc([[-1]]).where(l.greater(0),Cc([[1]])),f=l.sub(c.mul(u)),d=t.div(f);s=1===d.shape[0]?o.clone():o.concat(d.slice([1,0],[d.shape[0]-1,d.shape[1]]),0);var p=c.matMul(f).div(u).neg(),h=a.slice([e,0],[n-e,r]),v=p.mul(s);if(0===e)a=h.sub(v.matMul(s.transpose().matMul(h)));else{var y=h.sub(v.matMul(s.transpose().matMul(h)));a=a.slice([0,0],[e,r]).concat(y,0)}var m=i.slice([0,e],[n,i.shape[1]-e]);if(0===e)i=m.sub(m.matMul(s).matMul(v.transpose()));else{var g=m.sub(m.matMul(s).matMul(v.transpose()));i=i.slice([0,0],[n,e]).concat(g,1)}return[s,a,i]})),s=t[0],a=t[1],i=t[2],rc([u,l,c])},c=0;c<u;++c)l(c);return!t&&n>r&&(i=i.slice([0,0],[n,r]),a=a.slice([0,0],[r,r])),[i,a]}))}var Wg=bc({bandPart_:function(e,t,n){if(t%1!=0)throw new Error("bandPart(): numLower must be an integer, got "+t+".");if(n%1!=0)throw new Error("bandPart(): numUpper must be an integer, got "+n+".");var r=sc(e,"a","bandPart");if(r.rank<2)throw new Error("bandPart(): Rank must be at least 2, got "+r.rank+".");var i=r.shape,a=r.shape.slice(-2),o=a[0],s=a[1];if(!(t<=o))throw new Error("bandPart(): numLower ("+t+") must not be greater than the number of rows ("+o+").");if(!(n<=s))throw new Error("bandPart(): numUpper ("+n+") must not be greater than the number of columns ("+s+").");t<0&&(t=o),n<0&&(n=s);var u=Rc(0,o,1,"int32").reshape([-1,1]),l=Rc(0,s,1,"int32"),c=Uy(u,l),f=gy(c.lessEqual(kc(+t,"int32")),c.greaterEqual(kc(-n,"int32"))),d=Ac([o,s],r.dtype);return Ef(Cf(r.reshape([-1,o,s])).map((function(e){return Sy(f,e,d)}))).reshape(i)}}),Vg=bc({gramSchmidt_:function(e){var t;if(Array.isArray(e)){t=!1,Bs(null!=e&&e.length>0,(function(){return"Gram-Schmidt process: input must not be null, undefined, or empty"}));for(var n=e[0].shape[0],r=function(t){Bs(e[t].shape[0]===n,(function(){return"Gram-Schmidt: Non-unique lengths found in the input vectors: ("+e[t].shape[0]+" vs. "+n+")"}))},i=1;i<e.length;++i)r(i)}else t=!0,e=Wc(e,e.shape[0],0).map((function(e){return Tf(e,[0])}));Bs(e.length<=e[0].shape[0],(function(){return"Gram-Schmidt: Number of vectors ("+e.length+") exceeds number of dimensions ("+e[0].shape[0]+")."}));var a=[],o=e,s=function(e){a.push(Ju.tidy((function(){var t=o[e];if(e>0)for(var n=0;n<e;++n){var r=$m(a[n].mulStrict(t)).mul(a[n]);t=t.sub(r)}return t.div(sg(t,"euclidean"))})))};for(i=0;i<e.length;++i)s(i);return t?Ef(a,0):a}}),Ug=bc({qr_:function(e,t){if(void 0===t&&(t=!1),e.rank<2)throw new Error("qr() requires input tensor to have a rank >= 2, but got rank "+e.rank);if(2===e.rank)return zg(e,t);var n=e.shape.slice(0,e.shape.length-2).reduce((function(e,t){return e*t})),r=Cf(e.reshape([n,e.shape[e.shape.length-2],e.shape[e.shape.length-1]]),0),i=[],a=[];return r.forEach((function(e){var n=zg(e,t),r=n[0],o=n[1];i.push(r),a.push(o)})),[Ef(i,0).reshape(e.shape),Ef(a,0).reshape(e.shape)]}}),Kg=Object.freeze({bandPart:Wg,gramSchmidt:Vg,qr:Ug});function Hg(e,t,n,r,i,a){null==r&&(r=.5),null==i&&(i=Number.NEGATIVE_INFINITY),null==a&&(a=0);var o=e.shape[0];return n=Math.min(n,o),Bs(0<=r&&r<=1,(function(){return"iouThreshold must be in [0, 1], but was '"+r+"'"})),Bs(2===e.rank,(function(){return"boxes must be a 2D tensor, but was of rank '"+e.rank+"'"})),Bs(4===e.shape[1],(function(){return"boxes must have 4 columns, but 2nd dimension was "+e.shape[1]})),Bs(1===t.rank,(function(){return"scores must be a 1D tensor"})),Bs(t.shape[0]===o,(function(){return"scores has incompatible shape with boxes. Expected "+o+", but was "+t.shape[0]})),Bs(0<=a&&a<=1,(function(){return"softNmsSigma must be in [0, 1], but was '"+a+"'"})),{maxOutputSize:n,iouThreshold:r,scoreThreshold:i,softNmsSigma:a}}var qg=bc({resizeBilinear_:function(e,t,n){void 0===n&&(n=!1);var r=sc(e,"images","resizeBilinear");Bs(3===r.rank||4===r.rank,(function(){return"Error in resizeBilinear: x must be rank 3 or 4, but got rank "+r.rank+"."})),Bs(2===t.length,(function(){return"Error in resizeBilinear: new shape must 2D, but got shape "+t+"."}));var i=r,a=!1;3===r.rank&&(a=!0,i=r.as4D(1,r.shape[0],r.shape[1],r.shape[2]));var o=t[0],s=t[1],u=Ju.runKernelFunc((function(e,t){return t([i]),e.resizeBilinear(i,o,s,n)}),{x:i},(function(e,t){return{x:function(){return Ju.runKernelFunc((function(r){return r.resizeBilinearBackprop(e,t[0],n)}),{})}}}),"ResizeBilinear",{alignCorners:n,newHeight:o,newWidth:s});return a?u.as3D(u.shape[1],u.shape[2],u.shape[3]):u}}),Gg=bc({resizeNearestNeighbor_:function(e,t,n){void 0===n&&(n=!1);var r=sc(e,"images","resizeNearestNeighbor");Bs(3===r.rank||4===r.rank,(function(){return"Error in resizeNearestNeighbor: x must be rank 3 or 4, but got rank "+r.rank+"."})),Bs(2===t.length,(function(){return"Error in resizeNearestNeighbor: new shape must 2D, but got shape "+t+"."})),Bs("float32"===r.dtype||"int32"===r.dtype,(function(){return"`images` must have `int32` or `float32` as dtype"}));var i=r,a=!1;3===r.rank&&(a=!0,i=r.as4D(1,r.shape[0],r.shape[1],r.shape[2]));var o=t[0],s=t[1],u=Ju.runKernelFunc((function(e,t){return t([i]),e.resizeNearestNeighbor(i,o,s,n)}),{batchImages:i},(function(e,t){return{batchImages:function(){return Ju.runKernelFunc((function(r){return r.resizeNearestNeighborBackprop(e,t[0],n)}),{})}}}));return a?u.as3D(u.shape[1],u.shape[2],u.shape[3]):u}}),Xg=bc({nonMaxSuppression_:function(e,t,n,r,i){void 0===r&&(r=.5),void 0===i&&(i=Number.NEGATIVE_INFINITY);var a=sc(e,"boxes","nonMaxSuppression"),o=sc(t,"scores","nonMaxSuppression"),s=Hg(a,o,n,r,i);n=s.maxOutputSize,r=s.iouThreshold,i=s.scoreThreshold;var u={maxOutputSize:n,iouThreshold:r,scoreThreshold:i};return Ju.runKernelFunc((function(e){return e.nonMaxSuppression(a,o,n,r,i)}),{boxes:a,scores:o},null,"NonMaxSuppressionV3",u)}}),Yg=bc({nonMaxSuppressionWithScore_:function(e,t,n,r,i,a){void 0===r&&(r=.5),void 0===i&&(i=Number.NEGATIVE_INFINITY),void 0===a&&(a=0);var o=sc(e,"boxes","nonMaxSuppression"),s=sc(t,"scores","nonMaxSuppression"),u=Hg(o,s,n,r,i,a),l={maxOutputSize:n=u.maxOutputSize,iouThreshold:r=u.iouThreshold,scoreThreshold:i=u.scoreThreshold,softNmsSigma:a=u.softNmsSigma},c=Ju.runKernel("NonMaxSuppressionV5",{boxes:o,scores:s},l);return{selectedIndices:c[0],selectedScores:c[1]}}}),Jg=bc({cropAndResize_:function(e,t,n,r,i,a){var o=sc(e,"image","cropAndResize"),s=sc(t,"boxes","cropAndResize","float32"),u=sc(n,"boxInd","cropAndResize","int32");i=i||"bilinear",a=a||0;var l=s.shape[0];return Bs(4===o.rank,(function(){return"Error in cropAndResize: image must be rank 4,but got rank "+o.rank+"."})),Bs(2===s.rank&&4===s.shape[1],(function(){return"Error in cropAndResize: boxes must be have size ["+l+",4] but had shape "+s.shape+"."})),Bs(1===u.rank&&u.shape[0]===l,(function(){return"Error in cropAndResize: boxInd must be have size ["+l+"] but had shape "+s.shape+"."})),Bs(2===r.length,(function(){return"Error in cropAndResize: cropSize must be of length 2, but got length "+r.length+"."})),Bs(r[0]>=1&&r[1]>=1,(function(){return"cropSize must be atleast [1,1], but was "+r})),Bs("bilinear"===i||"nearest"===i,(function(){return"method must be bilinear or nearest, but was "+i})),Ju.runKernelFunc((function(e,t){return e.cropAndResize(o,s,u,r,i,a)}),{images:o,boxes:s,boxInd:u},null,"CropAndResize",{method:i,extrapolationValue:a,cropSize:r})}}),$g=Object.freeze({resizeBilinear:qg,resizeNearestNeighbor:Gg,nonMaxSuppression:Xg,nonMaxSuppressionAsync:function(e,t,n,r,i){return void 0===r&&(r=.5),void 0===i&&(i=Number.NEGATIVE_INFINITY),Ss(this,void 0,void 0,(function(){var a,o,s,u,l,c,f;return Ts(this,(function(d){switch(d.label){case 0:return a=sc(e,"boxes","nonMaxSuppressionAsync"),o=sc(t,"scores","nonMaxSuppressionAsync"),s=Hg(a,o,n,r,i),n=s.maxOutputSize,r=s.iouThreshold,i=s.scoreThreshold,[4,Promise.all([a.data(),o.data()])];case 1:return u=d.sent(),l=u[0],c=u[1],f=wd(l,c,n,r,i),a!==e&&a.dispose(),o!==t&&o.dispose(),[2,f]}}))}))},nonMaxSuppressionWithScore:Yg,nonMaxSuppressionWithScoreAsync:function(e,t,n,r,i,a){return void 0===r&&(r=.5),void 0===i&&(i=Number.NEGATIVE_INFINITY),void 0===a&&(a=0),Ss(this,void 0,void 0,(function(){var o,s,u,l,c,f,d;return Ts(this,(function(p){switch(p.label){case 0:return o=sc(e,"boxes","nonMaxSuppressionAsync"),s=sc(t,"scores","nonMaxSuppressionAsync"),u=Hg(o,s,n,r,i,a),n=u.maxOutputSize,r=u.iouThreshold,i=u.scoreThreshold,a=u.softNmsSigma,[4,Promise.all([o.data(),s.data()])];case 1:return l=p.sent(),c=l[0],f=l[1],d=Sd(c,f,n,r,i,a),o!==e&&o.dispose(),s!==t&&s.dispose(),[2,d]}}))}))},cropAndResize:Jg}),Qg=function(e,t){return!(e>0)||"linear"===t},Zg=function(e,t,n){if(null==n||"linear"===n)return e;if("relu"===n)return e.mul(t.step());throw new Error("Gradient for activation "+n+" has not been implemented yet.")},eb=function(e,t){var n=t,r=Qf(e.shape,t.shape);return r.length>0&&(n=n.sum(r)),n.reshape(e.shape)},tb=function(e,t,n){if("linear"===t)return e;if("relu"===t)return ng(e);if("elu"===t)return Zm(e);if("relu6"===t)return rg(e);if("prelu"===t)return tg(e,n);throw new Error("Unknown fused activation "+t+".")},nb=bc({fusedMatMul_:function(e){var t,n=e.a,r=e.b,i=e.transposeA,a=void 0!==i&&i,o=e.transposeB,s=void 0!==o&&o,u=e.bias,l=e.activation,c=void 0===l?"linear":l,f=e.preluActivationWeights;if(!1===Qg(Ju.state.gradientDepth,c)){var d=wm(n,r,a,s);return null!=u&&(d=Ey(d,u)),tb(d,c,f)}var p=sc(n,"a","fused matMul"),h=sc(r,"b","fused matMul");t=Ku(p,h),p=t[0],h=t[1];var v=a?p.shape[p.rank-2]:p.shape[p.rank-1],y=s?h.shape[h.rank-1]:h.shape[h.rank-2],m=a?p.shape[p.rank-1]:p.shape[p.rank-2],g=s?h.shape[h.rank-2]:h.shape[h.rank-1],b=p.shape.slice(0,-2),x=h.shape.slice(0,-2),w=Vs(b),S=Vs(x);Bs(p.rank>=2&&h.rank>=2&&p.rank===h.rank,(function(){return"Error in fused matMul: inputs must have the same rank of at least 2, got ranks "+p.rank+" and "+h.rank+"."})),Bs(Us(b,x),(function(){return"Error in fused matMul: outer dimensions ("+b+") and ("+x+") of Tensors with shapes "+p.shape+" and "+h.shape+" must match."})),Bs(v===y,(function(){return"Error in fused matMul: inner shapes ("+v+") and ("+y+") of Tensors with shapes "+p.shape+" and "+h.shape+" and transposeA="+a+" and transposeB="+s+" must match."}));var T,E,k=p.shape.slice(0,-2).concat([m,g]),_=a?p.as3D(w,v,m):p.as3D(w,m,v),C=s?h.as3D(S,g,y):h.as3D(S,y,g);null!=u&&Zf(k,(T=Ku(T=sc(u,"bias","fused matMul"),p)[0]).shape),null!=f&&(E=sc(f,"prelu weights","fused matMul"));var P={a:_,b:C};null!=u&&(P.bias=T),null!=f&&(P.preluActivationWeights=E);var O=[_,C];return Ju.runKernelFunc((function(e,t){var n=e.fusedBatchMatMul({a:_,b:C,transposeA:a,transposeB:s,bias:T,activation:c,preluActivationWeights:E});return t([_,C,n]),n}),P,(function(e,t){var n=t[0],r=t[1],i=t[2],o=Zg(e,i,c),l={};return null!=u&&(l={bias:function(){return eb(T,o)}}),a||s?!a&&s?Object.assign({a:function(){return o.matMul(r,!1,!1)},b:function(){return o.matMul(n,!0,!1)}},l):a&&!s?Object.assign({a:function(){return r.matMul(o,!1,!0)},b:function(){return n.matMul(o,!1,!1)}},l):Object.assign({a:function(){return r.matMul(o,!0,!0)},b:function(){return o.matMul(n,!0,!0)}},l):Object.assign({a:function(){return o.matMul(r,!1,!0)},b:function(){return n.matMul(o,!0,!1)}},l)}),"_FusedMatMul",{transposeA:a,transposeB:s,activation:c},O,[!0]).reshape(k)}}),rb=bc({fusedConv2d_:function(e){var t=e.x,n=e.filter,r=e.strides,i=e.pad,a=e.dataFormat,o=void 0===a?"NHWC":a,s=e.dilations,u=void 0===s?[1,1]:s,l=e.dimRoundingMode,c=e.bias,f=e.activation,d=void 0===f?"linear":f,p=e.preluActivationWeights;if(d=d||"linear",!1===Qg(Ju.state.gradientDepth,d)){var h=fm(t,n,r,i,o,u,l);return null!=c&&(h=Ey(h,c)),tb(h,d,p)}var v=sc(t,"x","conv2d"),y=sc(n,"filter","conv2d"),m=v,g=!1;3===v.rank&&(g=!0,m=v.as4D(1,v.shape[0],v.shape[1],v.shape[2])),Bs(4===m.rank,(function(){return"Error in fused conv2d: input must be rank 4, but got rank "+m.rank+"."})),Bs(4===y.rank,(function(){return"Error in fused conv2d: filter must be rank 4, but got rank "+y.rank+"."})),null!=l&&Bs(Ks(i),(function(){return"Error in fused conv2d: pad must be an integer when using, dimRoundingMode "+l+" but got pad "+i+"."})),Bs(m.shape[3]===y.shape[2],(function(){return"Error in conv2d: depth of input ("+m.shape[3]+") must match input depth for filter "+y.shape[2]+"."})),Bs(cd(r,u),(function(){return"Error in conv2D: Either strides or dilations must be 1. Got strides "+r+" and dilations '"+u+"'"})),Bs("NHWC"===o,(function(){return"Error in conv2d: got dataFormat of "+o+" but only NHWC is currently supported."}));var b,x,w=nd(m.shape,y.shape,r,u,i,l);null!=c&&(b=Ku(b=sc(c,"bias","fused conv2d"),v)[0],Zf(w.outShape,b.shape)),null!=p&&(x=sc(p,"prelu weights","fused conv2d"));var S={x:m,filter:y};null!=c&&(S.bias=b),null!=p&&(S.preluActivationWeights=x);var T=[y,m],E=Ju.runKernelFunc((function(e,t){var n=e.fusedConv2d({input:m,filter:y,convInfo:w,bias:b,activation:d,preluActivationWeights:x});return t([y,m,n]),n}),S,(function(e,t){var n=t,a=n[0],o=n[1],s=n[2],l=Zg(e,s,d);Bs(ld(u),(function(){return"Error in gradient of fused conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '"+u+"'"}));var f={};return null!=c&&(f={bias:function(){return eb(b,l)}}),Object.assign({x:function(){return hm(o.shape,l,a,r,i)},filter:function(){return pm(o,l,a.shape,r,i)}},f)}),"FusedConv2D",{convInfo:w,activation:d},T,[!0]);return g?E.as3D(E.shape[1],E.shape[2],E.shape[3]):E}}),ib=bc({fusedDepthwiseConv2d_:function(e){var t=e.x,n=e.filter,r=e.strides,i=e.pad,a=e.dataFormat,o=void 0===a?"NHWC":a,s=e.dilations,u=void 0===s?[1,1]:s,l=e.dimRoundingMode,c=e.bias,f=e.activation,d=void 0===f?"linear":f,p=e.preluActivationWeights;if(!1===Qg(Ju.state.gradientDepth,d)){var h=vm(t,n,r,i,o,u,l);return null!=c&&(h=Ey(h,c)),tb(h,d,p)}var v=sc(t,"x","depthwiseConv2d"),y=sc(n,"filter","depthwiseConv2d"),m=v,g=!1;3===v.rank&&(g=!0,m=v.as4D(1,v.shape[0],v.shape[1],v.shape[2])),Bs(4===m.rank,(function(){return"Error in fused depthwiseConv2d: input must be rank 4, but got rank "+m.rank+"."})),Bs(4===y.rank,(function(){return"Error in fused depthwiseConv2d: filter must be rank 4, but got rank "+y.rank+"."})),Bs(m.shape[3]===y.shape[2],(function(){return"Error in fused depthwiseConv2d: number of input channels ("+m.shape[3]+") must match the inChannels dimension in filter "+y.shape[2]+"."})),null==u&&(u=[1,1]),Bs(cd(r,u),(function(){return"Error in fused depthwiseConv2d: Either strides or dilations must be 1. Got strides "+r+" and dilations '"+u+"'"})),null!=l&&Bs(Ks(i),(function(){return"Error in fused depthwiseConv2d: pad must be an integer when using dimRoundingMode "+l+" but got pad "+i+"."}));var b,x,w=nd(m.shape,y.shape,r,u,i,l,!0);null!=c&&(b=Ku(b=sc(c,"bias","fused conv2d"),v)[0],Zf(w.outShape,b.shape)),null!=p&&(x=sc(p,"prelu weights","fused depthwiseConv2d"));var S={x:m,filter:y};null!=c&&(S.bias=b),null!=p&&(S.preluActivationWeights=x);var T=[y,m],E=Ju.runKernelFunc((function(e,t){var n=e.fusedDepthwiseConv2D({input:m,filter:y,convInfo:w,bias:b,activation:d,preluActivationWeights:x});return t([y,m,n]),n}),S,(function(e,t){Bs(ld(u),(function(){return"Error in gradient of fused depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations '"+u+"'"}));var n=t[0],r=t[1],i=t[2],a=Zg(e,i,d),o={};return null!=c&&(o={bias:function(){return eb(b,a)}}),Object.assign({x:function(){return ym(r.shape,a,n,w)},filter:function(){return mm(r,a,n.shape,w)}},o)}),"FusedDepthwiseConv2D",{convInfo:w,activation:d},T,[!0]);return g?E.as3D(E.shape[1],E.shape[2],E.shape[3]):E}}),ab=Object.freeze({matMul:nb,conv2d:rb,depthwiseConv2d:ib}),ob=Object.freeze({image:$g,linalg:Kg,losses:jg,spectral:gg,fused:ab,signal:Og,square:wv,squaredDifference:Tv,conv1d:cm,conv2d:fm,conv3d:dm,depthwiseConv2d:vm,separableConv2d:gm,conv2dTranspose:bm,conv3dTranspose:xm,op:bc,batchNormalization2d:cy,batchNormalization3d:fy,batchNormalization4d:dy,batchNormalization:py,batchNorm:hy,batchNorm2d:vy,batchNorm3d:yy,batchNorm4d:my,booleanMaskAsync:function(e,t,n){return Ss(this,void 0,void 0,(function(){var r,i,a,o,s,u,l,c,f,d,p,h,v;return Ts(this,(function(y){switch(y.label){case 0:for(r=sc(e,"tensor","boolMask"),i=sc(t,"mask","boolMask","bool"),a=null==n?0:n,o=i.rank,s=r.shape,Bs(o>0,(function(){return"mask cannot be scalar"})),js(s.slice(a,a+o),i.shape,"mask's shape must match the first K dimensions of tensor's shape,"),u=1,l=a;l<a+o;l++)u*=s[l];return c=s.slice(0,a).concat([u],s.slice(a+o)),f=r.reshape(c),d=i.reshape([-1]),[4,Ty(d)];case 1:return p=y.sent(),h=p.squeeze([1]),v=am(f,h,a),e!==r&&r.dispose(),t!==i&&i.dispose(),h.dispose(),f.dispose(),d.dispose(),p.dispose(),[2,v]}}))}))},complex:xc,real:wc,imag:Sc,concat:Fc,concat1d:Lc,concat2d:Bc,concat3d:jc,concat4d:zc,split:Wc,matMul:wm,dot:Sm,outerProduct:Tm,reverse:Em,reverse1d:km,reverse2d:_m,reverse3d:Cm,reverse4d:Pm,maxPool:Am,avgPool:Dm,pool:Rm,maxPool3d:Nm,avgPool3d:Mm,slice:Fm,slice1d:Lm,slice2d:Bm,slice3d:jm,slice4d:zm,abs:Ev,acos:kv,acosh:_v,asin:Cv,asinh:Pv,atan:Ov,atanh:Iv,ceil:Av,clipByValue:Dv,cos:Rv,cosh:Nv,erf:Mv,exp:Fv,expm1:Lv,floor:Bv,log:jv,log1p:zv,logSigmoid:Wv,neg:Vv,reciprocal:Uv,round:Kv,rsqrt:Hv,sigmoid:qv,sign:Gv,isNaN:Xv,isInf:Yv,isFinite:Jv,sin:$v,sinh:Qv,softplus:Zv,sqrt:ey,step:ty,tan:ny,tanh:ry,all:Vm,any:Um,argMax:Km,argMin:Hm,logSumExp:qm,max:Gm,mean:Xm,min:Ym,moments:Jm,sum:$m,prod:Qm,equal:Hy,equalStrict:qy,greater:Gy,greaterEqual:Xy,greaterEqualStrict:Yy,greaterStrict:Jy,less:$y,lessEqual:Qy,lessEqualStrict:Zy,lessStrict:em,notEqual:tm,notEqualStrict:nm,add:Ey,addN:ky,addStrict:_y,atan2:Cy,div:Py,divNoNan:Oy,divStrict:Iy,floorDiv:Ay,maximum:Dy,maximumStrict:Ry,minimum:Ny,minimumStrict:My,mod:Fy,modStrict:Ly,mul:By,mulStrict:jy,pow:zy,powStrict:Wy,squaredDifferenceStrict:Vy,sub:Uy,subStrict:Ky,elu:Zm,leakyRelu:eg,prelu:tg,relu:ng,relu6:rg,selu:ig,logicalAnd:gy,logicalNot:by,logicalOr:xy,logicalXor:wy,where:Sy,whereAsync:Ty,buffer:ef,print:function(e,t){void 0===t&&(t=!1),console.log(e.toString(t))},batchToSpaceND:tf,broadcastTo:nf,cast:rf,clone:af,cumsum:of,depthToSpace:sf,expandDims:uf,eye:lf,multinomial:cf,oneHot:ff,pad:df,pad1d:pf,pad2d:hf,pad3d:vf,pad4d:yf,rand:mf,randomNormal:gf,randomGamma:bf,randomUniform:xf,reshape:wf,spaceToBatchND:Sf,squeeze:Tf,stack:Ef,tile:kf,truncatedNormal:_f,unstack:Cf,setdiff1dAsync:function(e,t){return Ss(this,void 0,void 0,(function(){var n,r,i,a,o,s,u,l,c,f;return Ts(this,(function(d){switch(d.label){case 0:return n=sc(e,"x","setdiff1d"),r=sc(t,"y","setdiff1d"),Bs(n.dtype===r.dtype,(function(){return"x and y should have the same dtype, but got x ("+n.dtype+") and y ("+r.dtype+")."})),Bs(1===n.rank,(function(){return"x should be 1D tensor, but got x ("+n.shape+")."})),Bs(1===r.rank,(function(){return"y should be 1D tensor, but got y ("+r.shape+")."})),[4,n.data()];case 1:return i=d.sent(),[4,r.data()];case 2:for(a=d.sent(),o=new Set(a),s=0,c=0;c<i.length;c++)o.has(i[c])||s++;for(u=new Ou([s],n.dtype),l=new Ou([s],"int32"),c=0,f=0;c<i.length;c++)o.has(i[c])||(u.values[f]=i[c],l.values[f]=c,f++);return[2,[u.toTensor(),l.toTensor()]]}}))}))},fill:Dc,linspace:function(e,t,n){if(n<=0)throw new Error("The number of values should be positive.");return Ju.runKernelFunc((function(r){return r.linspace(e,t,n)}),{})},ones:Ic,range:Rc,scalar:kc,tensor:Tc,tensor1d:_c,tensor2d:Cc,tensor3d:Pc,tensor4d:Oc,tensor5d:function(e,t,n){if(zs(e),null!=t&&5!==t.length)throw new Error("tensor5d() requires shape to have five numbers");var r=ac(e,n);if(5!==r.length&&1!==r.length)throw new Error("tensor5d() requires values to be number[][][][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor5d() requires shape to be provided when `values` are a flat array");return Ec(e,t,r,n)},tensor6d:function(e,t,n){if(zs(e),null!=t&&6!==t.length)throw new Error("tensor6d() requires shape to have six numbers");var r=ac(e,n);if(6!==r.length&&1!==r.length)throw new Error("tensor6d() requires values to be number[][][][][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor6d() requires shape to be provided when `values` are a flat array");return Ec(e,t=t||r,r,n)},variable:function(e,t,n,r){return void 0===t&&(t=!0),Ju.makeVariable(e,t,n,r)},zeros:Ac,onesLike:Nc,zerosLike:Mc,transpose:ag,softmax:qf,logSoftmax:Gf,localResponseNormalization:og,norm:sg,gather:am,unsortedSegmentSum:om,basicLSTMCell:ug,multiRNNCell:lg,movingAverage:cg,stridedSlice:fg,topk:dg,scatterND:pg,fft:hg,ifft:vg,rfft:yg,irfft:mg,sparseToDense:bg,gatherND:xg,diag:wg,dropout:Sg,hannWindow:kg,hammingWindow:_g,frame:Cg,stft:Pg,inTopKAsync:function(e,t,n){return void 0===n&&(n=1),Ss(this,void 0,void 0,(function(){var r,i,a,o,s,u,l,c,f,d,p,h,v,y;return Ts(this,(function(m){switch(m.label){case 0:return r=sc(e,"predictions","inTopK"),i=sc(t,"targets","inTopK"),Bs(r.rank>1,(function(){return"inTopK() expects the predictions to be of rank 2 or higher, but got "+r.rank})),Bs(r.rank-1===i.rank,(function(){return"predictions rank should be 1 larger than targets rank, but got predictions rank "+r.rank+" and targets rank "+i.rank})),js(r.shape.slice(0,r.shape.length-1),i.shape,"predictions's shape should be align with the targets' shape, except the last dimension."),a=r.shape[r.shape.length-1],Bs(n>0&&n<=a,(function(){return"'k' passed to inTopK() must be > 0 && <= the predictions last dimension ("+a+"), but got "+n})),[4,r.data()];case 1:return o=m.sent(),[4,i.data()];case 2:for(s=m.sent(),u=[o.length/a,a],c=u[1],f=Qs("bool",l=u[0]),d=0;d<l;d++){for(p=d*c,h=o.subarray(p,p+c),v=[],y=0;y<h.length;y++)v.push({value:h[y],index:y});for(v.sort((function(e,t){return t.value-e.value})),f[d]=0,y=0;y<n;y++)if(v[y].index===s[d]){f[d]=1;break}}return e!==r&&r.dispose(),t!==i&&i.dispose(),[2,Tc(f,i.shape,"bool")]}}))}))}});function sb(e,t){Array.isArray(e)||(e=[e]),e.forEach((function(e){null!=e&&Bs("complex64"!==e.dtype,(function(){return t+" does not support complex64 tensors."}))}))}function ub(e,t,n,r){if("linear"===n)return e.linear(t);if("relu"===n)return e.relu(t);if("elu"===n)return e.elu(t);if("relu6"===n)return e.relu6(t);if("prelu"===n)return e.prelu(t,r);throw new Error("Activation "+n+" has not been implemented for the CPU backend.")}var lb=function(e){function t(){var t=e.call(this)||this;return t.blockSize=48,t.firstUse=!0,t.data=new Xf(t,Ju),t}return ws(t,e),t.prototype.write=function(e,t,n){this.firstUse&&(this.firstUse=!1,ks().get("IS_NODE")&&ic("\n============================\nHi there \ud83d\udc4b. Looks like you are running TensorFlow.js in Node.js. To speed things up dramatically, install our node backend, which binds to TensorFlow C++, by running npm i @tensorflow/tfjs-node, or npm i @tensorflow/tfjs-node-gpu if you have CUDA. Then call require('@tensorflow/tfjs-node'); (-gpu suffix for CUDA) at the start of your program. Visit https://github.com/tensorflow/tfjs-node for more details.\n============================"));var r={};return this.data.set(r,{values:e,dtype:n}),r},t.prototype.move=function(e,t,n,r){this.data.set(e,{values:t,dtype:r})},t.prototype.numDataIds=function(){return this.data.numDataIds()},t.prototype.read=function(e){return Ss(this,void 0,void 0,(function(){return Ts(this,(function(t){return[2,this.readSync(e)]}))}))},t.prototype.readSync=function(e){var t=this.data.get(e),n=t.dtype,r=t.complexTensors;return"complex64"===n?vd(this.readSync(r.real.dataId),this.readSync(r.imag.dataId)):this.data.get(e).values},t.prototype.bufferSync=function(e){var t=this.readSync(e.dataId),n=t;if("string"===e.dtype)try{n=t.map((function(e){return xu(e)}))}catch(e){throw new Error("Failed to decode encoded string bytes into utf-8")}return ef(e.shape,e.dtype,n)},t.prototype.makeOutput=function(e,t,n){var r=this.write(e,t,n);return Ju.makeTensorFromDataId(r,t,n,this)},t.prototype.disposeData=function(e){if(this.data.has(e)){var t=this.data.get(e).complexTensors;null!=t&&(t.real.dispose(),t.imag.dispose()),this.data.delete(e)}},t.prototype.time=function(e){return Ss(this,void 0,void 0,(function(){var t;return Ts(this,(function(n){return t=mu(),e(),[2,{kernelMs:mu()-t}]}))}))},t.prototype.memory=function(){return{unreliable:!0,reasons:["The reported memory is an upper bound. Due to automatic garbage collection, the true allocated memory may be less."]}},t.prototype.complex=function(e,t){var n=this.makeOutput(null,e.shape,"complex64");return this.data.get(n.dataId).complexTensors={real:Ju.keep(e.clone()),imag:Ju.keep(t.clone())},n},t.prototype.real=function(e){return this.data.get(e.dataId).complexTensors.real.clone()},t.prototype.imag=function(e){return this.data.get(e.dataId).complexTensors.imag.clone()},t.prototype.slice=function(e,t,n){if(sb(e,"slice"),Uf(e.shape,t,n)){var r=Kf(t,e.strides),i=Vs(n);return Tc(this.readSync(e.dataId).subarray(r,r+i),n,e.dtype)}for(var a=ef(n,e.dtype),o=this.bufferSync(e),s=0;s<a.size;++s){var u=a.indexToLoc(s).map((function(e,n){return e+t[n]}));a.values[s]=o.get.apply(o,u)}return a.toTensor()},t.prototype.stridedSlice=function(e,t,n,r){sb(e,"stridedSlice");var i=zf(t,n,r);if(i.some((function(e){return 0===e})))return Tc([],i);for(var a=ef(i,e.dtype),o=this.bufferSync(e),s=0;s<a.size;s++){for(var u=a.indexToLoc(s),l=new Array(u.length),c=0;c<l.length;c++)l[c]=u[c]*r[c]+t[c];a.set.apply(a,[o.get.apply(o,l)].concat(u))}return a.toTensor()},t.prototype.diag=function(e){for(var t=this.readSync(e.dataId),n=ef([e.size,e.size],e.dtype),r=n.values,i=0;i<t.length;i++)r[i*e.size+i]=t[i];return n.toTensor()},t.prototype.unstack=function(e,t){for(var n=e.shape[t],r=new Array(e.rank-1),i=0,a=0;a<e.rank;a++)a!==t&&(r[i++]=e.shape[a]);var o=new Array(e.rank).fill(0),s=e.shape.slice();s[t]=1;var u=new Array(n);for(a=0;a<u.length;a++)o[t]=a,u[a]=this.slice(e,o,s).reshape(r);return u},t.prototype.reverse=function(e,t){sb(e,"reverse");for(var n=ef(e.shape,e.dtype),r=this.bufferSync(e),i=function(i){var a=n.indexToLoc(i),o=a.slice();t.forEach((function(t){return o[t]=e.shape[t]-1-o[t]})),n.set.apply(n,[r.get.apply(r,o)].concat(a))},a=0;a<n.size;a++)i(a);return n.toTensor()},t.prototype.concat=function(e,t){var n=this;if("complex64"===e[0].dtype){var r=e.map((function(e){return wc(e)})),i=e.map((function(e){return Sc(e)}));return xc(this.concat(r,t),this.concat(i,t))}var a=e.map((function(e){var n=Vs(e.shape.slice(t));return e.as2D(-1,n)})),o=gc(a.map((function(e){return e.shape})),1),s=ef(o,e[0].dtype).values;if(1===a[0].shape[0]){var u=0;a.forEach((function(e){s.set(n.readSync(e.dataId),u),u+=e.size}))}else{var l=0;a.forEach((function(e){for(var t=n.readSync(e.dataId),r=0,i=0;i<e.shape[0];++i)for(var a=i*o[1]+l,u=0;u<e.shape[1];++u)s[a+u]=t[r++];l+=e.shape[1]}))}var c=gc(e.map((function(e){return e.shape})),t);return Tc(s,c,e[0].dtype)},t.prototype.neg=function(e){return sb(e,"neg"),this.multiply(kc(-1),e)},t.prototype.add=function(e,t){return"complex64"===e.dtype||"complex64"===t.dtype?this.broadcastedBinaryComplexOp(e.cast("complex64"),t.cast("complex64"),(function(e,t,n,r){return{real:e+n,imag:t+r}})):this.broadcastedBinaryOp(e,t,Vu(e.dtype,t.dtype),(function(e,t){return e+t}))},t.prototype.addN=function(e){var t=this;sb(e,"addN");for(var n=e.map((function(e){return t.readSync(e.dataId)})),r=ef(e[0].shape,e[0].dtype),i=r.values,a=0;a<e.length;a++)for(var o=n[a],s=0;s<i.length;s++)i[s]+=o[s];return r.toTensor()},t.prototype.softmax=function(e,t){var n=Js([t],e.shape),r=this.max(e,n),i=dc(r.shape,n),a=this.subtract(e,r.reshape(i)),o=this.exp(a),s=this.sum(o,n).reshape(i);return this.realDivide(o,s)},t.prototype.subtract=function(e,t){return"complex64"===e.dtype||"complex64"===t.dtype?this.broadcastedBinaryComplexOp(e.cast("complex64"),t.cast("complex64"),(function(e,t,n,r){return{real:e-n,imag:t-r}})):this.broadcastedBinaryOp(e,t,Vu(e.dtype,t.dtype),(function(e,t){return e-t}))},t.prototype.pow=function(e,t){return sb([e,t],"pow"),this.broadcastedBinaryOp(e,t,e.dtype,(function(e,t){return Math.pow(e,t)}))},t.prototype.batchMatMul=function(e,t,n,r){sb([e,t],"matMul");for(var i=n?e.shape[1]:e.shape[2],a=n?e.shape[2]:e.shape[1],o=r?t.shape[1]:t.shape[2],s=e.shape[0],u=this.readSync(e.dataId),l=this.readSync(t.dataId),c=n?[e.strides[0],1,e.strides[1]]:[e.strides[0],e.strides[1],1],f=c[0],d=c[1],p=c[2],h=r?[1,t.strides[1],t.strides[0]]:[t.strides[1],1,t.strides[0]],v=h[0],y=h[1],m=h[2],g=a*o,b=ef([s,a,o],e.dtype),x=b.values,w=this.blockSize,S=0;S<s;S++)for(var T=0;T<a;T+=w)for(var E=0;E<o;E+=w)for(var k=0;k<i;k+=w)for(var _=Math.min(T+w,a),C=Math.min(E+w,o),P=Math.min(k+w,i),O=T;O<_;O++)for(var I=E;I<C;I++){for(var A=0,D=k;D<P;D++)A+=u[S*f+O*d+D*p]*l[D*v+I*y+S*m];x[S*g+(O*o+I)]+=A}return b.toTensor()},t.prototype.fusedBatchMatMul=function(e){var t=e.a,n=e.b,r=e.transposeA,i=e.transposeB,a=e.bias,o=e.activation,s=e.preluActivationWeights,u=this.batchMatMul(t,n,r,i);return a&&(u=this.add(u,a)),o&&(u=ub(this,u,o,s)),u},t.prototype.multiply=function(e,t){return"complex64"===e.dtype||"complex64"===t.dtype?this.broadcastedBinaryComplexOp(e.cast("complex64"),t.cast("complex64"),(function(e,t,n,r){return{real:e*n-t*r,imag:e*r+t*n}})):this.broadcastedBinaryOp(e,t,Vu(e.dtype,t.dtype),(function(e,t){return e*t}))},t.prototype.realDivide=function(e,t){return sb([e,t],"realDivide"),this.broadcastedBinaryOp(e,t,"float32",(function(e,t){return e/t}))},t.prototype.floorDiv=function(e,t){return sb([e,t],"floorDiv"),this.broadcastedBinaryOp(e,t,"int32",(function(e,t){return Math.floor(e/t)}))},t.prototype.sum=function(e,t){sb(e,"sum"),pc("sum",t,e.rank);for(var n=fc(e.shape,t),r=n[0],i=n[1],a=Ac(r,Vu(e.dtype,"int32")),o=Vs(i),s=this.readSync(a.dataId),u=this.readSync(e.dataId),l=0;l<s.length;++l){for(var c=l*o,f=0,d=0;d<o;++d)f+=u[c+d];s[l]=f}return a},t.prototype.prod=function(e,t){sb(e,"sum");for(var n=fc(e.shape,t),r=n[0],i=n[1],a=Ac(r,Vu(e.dtype,"int32")),o=Vs(i),s=this.readSync(a.dataId),u=this.readSync(e.dataId),l=0;l<s.length;++l){for(var c=l*o,f=1,d=0;d<o;++d)f*=u[c+d];s[l]=f}return a},t.prototype.unsortedSegmentSum=function(e,t,n){sb(e,"unsortedSegmentSum");for(var r=[],i=e.rank-t.rank,a=0;a<i;++a)t=t.expandDims(a+1);for(a=0;a<n;++a){var o=kc(a,"int32"),s=Hy(o,t).asType("float32").mul(e).sum(0);r.push(s)}return Ef(r)},t.prototype.argMin=function(e,t){sb(e,"argMin");var n=[t];pc("argMin",n,e.rank);for(var r=fc(e.shape,n),i=r[0],a=r[1],o=Ac(i,"int32"),s=Vs(a),u=this.readSync(o.dataId),l=this.readSync(e.dataId),c=0;c<u.length;++c){for(var f=c*s,d=l[f],p=0,h=0;h<s;++h){var v=l[f+h];v<d&&(d=v,p=h)}u[c]=p}return o},t.prototype.argMax=function(e,t){sb(e,"argMax");var n=[t];pc("argMax",n,e.rank);for(var r=fc(e.shape,n),i=r[0],a=r[1],o=Ac(i,"int32"),s=Vs(a),u=this.readSync(o.dataId),l=this.readSync(e.dataId),c=0;c<u.length;++c){for(var f=c*s,d=l[f],p=0,h=0;h<s;++h){var v=l[f+h];v>d&&(d=v,p=h)}u[c]=p}return o},t.prototype.cumsum=function(e,t,n,r){if(sb(e,"cumsum"),t!==e.rank-1)throw new Error("backend.cumsum in CPU expects an inner-most axis="+(e.rank-1)+" but got axis="+t);for(var i=Vu(e.dtype,"int32"),a=Ac(e.shape,i),o=this.readSync(a.dataId),s=this.readSync(e.dataId),u=e.shape[e.rank-1],l=r?function(e,t){return e+u-t-1}:function(e,t){return e+t},c=0;c<s.length;c+=u)for(var f=0;f<u;f++){var d=l(c,f);if(0===f)o[d]=n?0:s[d];else{var p=l(c,f-1);o[d]=n?s[p]+o[p]:s[d]+o[p]}}return a},t.prototype.equal=function(e,t){return sb([e,t],"equal"),this.broadcastedBinaryOp(e,t,"bool",(function(e,t){return e===t?1:0}))},t.prototype.notEqual=function(e,t){return sb([e,t],"notEqual"),this.broadcastedBinaryOp(e,t,"bool",(function(e,t){return e!==t?1:0}))},t.prototype.less=function(e,t){return sb([e,t],"less"),this.broadcastedBinaryOp(e,t,"bool",(function(e,t){return e<t?1:0}))},t.prototype.lessEqual=function(e,t){return sb([e,t],"lessEqual"),this.broadcastedBinaryOp(e,t,"bool",(function(e,t){return e<=t?1:0}))},t.prototype.greater=function(e,t){return sb([e,t],"greater"),this.broadcastedBinaryOp(e,t,"bool",(function(e,t){return e>t?1:0}))},t.prototype.greaterEqual=function(e,t){return sb([e,t],"greaterEqual"),this.broadcastedBinaryOp(e,t,"bool",(function(e,t){return e>=t?1:0}))},t.prototype.logicalNot=function(e){sb(e,"logicalNot");for(var t=this.readSync(e.dataId),n=new Uint8Array(t.length),r=0;r<t.length;++r)n[r]=t[r]?0:1;return this.makeOutput(n,e.shape,"bool")},t.prototype.logicalAnd=function(e,t){return sb([e,t],"logicalAnd"),this.broadcastedBinaryOp(e,t,"bool",(function(e,t){return e&&t}))},t.prototype.logicalOr=function(e,t){return sb([e,t],"logicalOr"),this.broadcastedBinaryOp(e,t,"bool",(function(e,t){return e||t}))},t.prototype.select=function(e,t,n){sb([e,t,n],"select");for(var r=this.readSync(e.dataId),i=this.readSync(t.dataId),a=this.readSync(n.dataId),o=Ac(t.shape,Vu(t.dtype,n.dtype)),s=this.readSync(o.dataId),u=0,l=0===e.rank||e.rank>1||1===t.rank?1:Vs(t.shape.slice(1)),c=0;c<r.length;c++)for(var f=0;f<l;f++)1===r[c]?s[u++]=i[c]:s[u++]=a[c];return o},t.prototype.where=function(e){sb([e],"where");var t=this.readSync(e.dataId);return Id(e.shape,t)},t.prototype.topk=function(e,t,n){return sb(e,"topk"),Od(this.readSync(e.dataId),e.shape,e.dtype,t)},t.prototype.min=function(e,t){sb(e,"min"),pc("min",t,e.rank);for(var n=fc(e.shape,t),r=n[0],i=n[1],a=Ac(r,e.dtype),o=Vs(i),s=this.readSync(a.dataId),u=this.readSync(e.dataId),l=0;l<s.length;++l){for(var c=l*o,f=u[c],d=0;d<o;++d){var p=u[c+d];p<f&&(f=p)}s[l]=f}return a},t.prototype.minimum=function(e,t){return sb([e,t],"minimum"),this.broadcastedBinaryOp(e,t,e.dtype,(function(e,t){return Math.min(e,t)}))},t.prototype.mod=function(e,t){return sb([e,t],"mod"),this.broadcastedBinaryOp(e,t,e.dtype,(function(e,t){var n=e%t;return e<0&&t<0||e>=0&&t>=0?n:(n+t)%t}))},t.prototype.max=function(e,t){sb(e,"max"),pc("max",t,e.rank);for(var n=fc(e.shape,t),r=n[0],i=n[1],a=Ac(r,e.dtype),o=Vs(i),s=this.readSync(a.dataId),u=this.readSync(e.dataId),l=0;l<s.length;++l){for(var c=l*o,f=u[c],d=0;d<o;++d){var p=u[c+d];p>f&&(f=p)}s[l]=f}return a},t.prototype.maximum=function(e,t){return sb([e,t],"maximum"),this.broadcastedBinaryOp(e,t,e.dtype,(function(e,t){return Math.max(e,t)}))},t.prototype.all=function(e,t){sb(e,"all"),pc("all",t,e.rank);for(var n=fc(e.shape,t),r=n[0],i=n[1],a=Ac(r,e.dtype),o=Vs(i),s=this.readSync(a.dataId),u=this.readSync(e.dataId),l=0;l<s.length;++l){for(var c=l*o,f=u[c],d=0;d<o;++d){var p=u[c+d];f=f&&p}s[l]=f}return a},t.prototype.any=function(e,t){sb(e,"any"),pc("any",t,e.rank);for(var n=fc(e.shape,t),r=n[0],i=n[1],a=Ac(r,e.dtype),o=Vs(i),s=this.readSync(a.dataId),u=this.readSync(e.dataId),l=0;l<s.length;++l){for(var c=l*o,f=u[c],d=0;d<o;++d){var p=u[c+d];f=f||p}s[l]=f}return a},t.prototype.squaredDifference=function(e,t){return sb([e,t],"squaredDifference"),this.broadcastedBinaryOp(e,t,e.dtype,(function(e,t){var n=e-t;return n*n}))},t.prototype.ceil=function(e){sb(e,"ceil");for(var t=this.readSync(e.dataId),n=new Float32Array(t.length),r=0;r<t.length;++r)n[r]=Math.ceil(t[r]);return this.makeOutput(n,e.shape,"float32")},t.prototype.floor=function(e){sb(e,"floor");for(var t=this.readSync(e.dataId),n=new Float32Array(t.length),r=0;r<t.length;++r)n[r]=Math.floor(t[r]);return this.makeOutput(n,e.shape,"float32")},t.prototype.sign=function(e){sb(e,"x");for(var t=this.readSync(e.dataId),n=new Float32Array(t.length),r=0;r<t.length;++r)t[r]<0?n[r]=-1:t[r]>0?n[r]=1:n[r]=0;return this.makeOutput(n,e.shape,"float32")},t.prototype.isNaN=function(e){sb(e,"x");for(var t=this.readSync(e.dataId),n=new Uint8Array(t.length),r=0;r<t.length;++r)Number.isNaN(t[r])&&(n[r]=1);return this.makeOutput(n,e.shape,"bool")},t.prototype.isInf=function(e){sb(e,"x");for(var t=this.readSync(e.dataId),n=new Uint8Array(t.length),r=0;r<t.length;++r)Math.abs(t[r])===1/0&&(n[r]=1);return this.makeOutput(n,e.shape,"bool")},t.prototype.isFinite=function(e){sb(e,"x");for(var t=this.readSync(e.dataId),n=new Uint8Array(t.length),r=0;r<t.length;++r)Number.isFinite(t[r])&&(n[r]=1);return this.makeOutput(n,e.shape,"bool")},t.prototype.round=function(e){sb(e,"round");for(var t=this.readSync(e.dataId),n=new Float32Array(t.length),r=0;r<t.length;++r){var i=Math.floor(t[r]);t[r]-i<.5?n[r]=Math.floor(t[r]):t[r]-i>.5?n[r]=Math.ceil(t[r]):n[r]=i%2==0?i:i+1}return this.makeOutput(n,e.shape,"float32")},t.prototype.exp=function(e){sb(e,"exp");for(var t=this.readSync(e.dataId),n=new Float32Array(t.length),r=0;r<t.length;++r)n[r]=Math.exp(t[r]);return this.makeOutput(n,e.shape,"float32")},t.prototype.expm1=function(e){sb(e,"expm1");for(var t=this.readSync(e.dataId),n=new Float32Array(t.length),r=0;r<t.length;++r)n[r]=Math.expm1(t[r]);return this.makeOutput(n,e.shape,"float32")},t.prototype.log=function(e){sb(e,"log");for(var t=this.readSync(e.dataId),n=new Float32Array(t.length),r=0;r<t.length;++r){var i=t[r];n[r]=Math.log(i)}return this.makeOutput(n,e.shape,"float32")},t.prototype.log1p=function(e){sb(e,"log1p");for(var t=this.readSync(e.dataId),n=new Float32Array(t.length),r=0;r<t.length;++r){var i=t[r];n[r]=Math.log1p(i)}return this.makeOutput(n,e.shape,"float32")},t.prototype.sqrt=function(e){sb(e,"sqrt");for(var t=this.readSync(e.dataId),n=new Float32Array(t.length),r=0;r<t.length;++r){var i=t[r];n[r]=Math.sqrt(i)}return this.makeOutput(n,e.shape,"float32")},t.prototype.rsqrt=function(e){sb(e,"rsqrt");for(var t=this.readSync(e.dataId),n=new Float32Array(t.length),r=0;r<t.length;++r){var i=t[r];n[r]=1/Math.sqrt(i)}return this.makeOutput(n,e.shape,"float32")},t.prototype.reciprocal=function(e){sb(e,"reciprocal");for(var t=this.readSync(e.dataId),n=new Float32Array(t.length),r=0;r<t.length;++r)n[r]=1/t[r];return this.makeOutput(n,e.shape,"float32")},t.prototype.linear=function(e){return e},t.prototype.relu=function(e){sb(e,"relu");for(var t=Ac(e.shape,e.dtype),n=this.readSync(t.dataId),r=this.readSync(e.dataId),i=0;i<r.length;++i)n[i]=Math.max(0,r[i]);return t},t.prototype.relu6=function(e){sb(e,"relu");for(var t=Ac(e.shape,e.dtype),n=this.readSync(t.dataId),r=this.readSync(e.dataId),i=0;i<r.length;++i)n[i]=Math.min(Math.max(0,r[i]),6);return t},t.prototype.prelu=function(e,t){return sb([e,t],"prelu"),this.broadcastedBinaryOp(e,t,e.dtype,(function(e,t){return e<0?t*e:e}))},t.prototype.elu=function(e){sb(e,"elu");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r){var i=n[r];t[r]=i>=0?i:Math.exp(i)-1}return this.makeOutput(t,e.shape,"float32")},t.prototype.eluDer=function(e,t){sb([e,t],"eluDer");for(var n=new Float32Array(t.size),r=this.readSync(t.dataId),i=this.readSync(e.dataId),a=0;a<r.length;++a){var o=r[a];n[a]=o>=1?i[a]:i[a]*(o+1)}return this.makeOutput(n,t.shape,"float32")},t.prototype.selu=function(e){sb(e,"selu");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r){var i=n[r];t[r]=i>=0?1.0507009873554805*i:1.7580993408473768*(Math.exp(i)-1)}return this.makeOutput(t,e.shape,"float32")},t.prototype.clip=function(e,t,n){sb(e,"clip");for(var r=new Float32Array(e.size),i=this.readSync(e.dataId),a=0;a<i.length;++a){var o=i[a];r[a]=o>n?n:o<t?t:o}return this.makeOutput(r,e.shape,"float32")},t.prototype.abs=function(e){for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.abs(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.complexAbs=function(e){for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<e.size;++r){var i=n[2*r],a=n[2*r+1];t[r]=Math.hypot(i,a)}return this.makeOutput(t,e.shape,"float32")},t.prototype.int=function(e){sb(e,"int");for(var t=new Int32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=n[r];return this.makeOutput(t,e.shape,"int32")},t.prototype.sigmoid=function(e){sb(e,"sigmoid");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=1/(1+Math.exp(-n[r]));return this.makeOutput(t,e.shape,"float32")},t.prototype.softplus=function(e){sb(e,"softplus");for(var t=Math.log(1.1920928955078125e-7)+2,n=new Float32Array(e.size),r=this.readSync(e.dataId),i=0;i<r.length;++i){var a,o=r[i]>-t,s=r[i]<t,u=Math.exp(r[i]);a=s?u:o?r[i]:Math.log(1+u),n[i]=a}return this.makeOutput(n,e.shape,"float32")},t.prototype.sin=function(e){sb(e,"sin");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.sin(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.cos=function(e){sb(e,"cos");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.cos(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.tan=function(e){sb(e,"tan");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.tan(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.asin=function(e){sb(e,"asin");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.asin(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.acos=function(e){sb(e,"acos");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.acos(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.atan=function(e){sb(e,"atan");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.atan(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.atan2=function(e,t){return sb([e,t],"atan2"),this.broadcastedBinaryOp(e,t,e.dtype,(function(e,t){return Math.atan2(e,t)}))},t.prototype.sinh=function(e){sb(e,"sinh");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.sinh(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.cosh=function(e){sb(e,"cosh");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.cosh(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.tanh=function(e){sb(e,"tanh");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Hs(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.asinh=function(e){sb(e,"asinh");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.asinh(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.acosh=function(e){sb(e,"acosh");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.acosh(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.atanh=function(e){sb(e,"atanh");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.atanh(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.erf=function(e){sb(e,"erf");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r){var i=Math.sign(n[r]),a=Math.abs(n[r]),o=1/(1+.3275911*a);t[r]=i*(1-((((1.061405429*o-1.453152027)*o+1.421413741)*o-.284496736)*o+.254829592)*o*Math.exp(-a*a))}return this.makeOutput(t,e.shape,"float32")},t.prototype.step=function(e,t){void 0===t&&(t=0),sb(e,"step");for(var n=new Float32Array(e.size),r=this.readSync(e.dataId),i=0;i<r.length;++i){var a=r[i];isNaN(a)?n[i]=NaN:n[i]=a>0?1:t}return this.makeOutput(n,e.shape,"float32")},t.prototype.fusedConv2d=function(e){var t=e.input,n=e.filter,r=e.convInfo,i=e.bias,a=e.activation,o=e.preluActivationWeights,s=this.conv2d(t,n,r);return i&&(s=this.add(s,i)),a&&(s=ub(this,s,a,o)),s},t.prototype.conv2d=function(e,t,n){sb([e,t],"conv2d");for(var r=n.filterHeight,i=n.filterWidth,a=n.dilationHeight,o=n.dilationWidth,s=n.padInfo.left,u=n.padInfo.top,l="channelsLast"===n.dataFormat,c=ef(n.outShape,e.dtype),f=e.strides[0],d=l?e.strides[1]:e.strides[2],p=l?e.strides[2]:1,h=l?1:e.strides[1],v=c.strides[0],y=l?c.strides[1]:c.strides[2],m=l?c.strides[2]:1,g=l?1:c.strides[1],b=this.readSync(e.dataId),x=this.readSync(t.dataId),w=c.values,S=0;S<n.batchSize;++S)for(var T=S*f,E=S*v,k=0;k<n.outHeight;++k)for(var _=E+k*y,C=k*n.strideHeight-u,P=0;P<r;P++){var O=C+P*a;if(!(O<0||O>=n.inHeight))for(var I=P*t.strides[0],A=T+O*d,D=0;D<n.outWidth;++D)for(var R=_+D*m,N=D*n.strideWidth-s,M=0;M<i;M++){var F=N+M*o;if(!(F<0||F>=n.inWidth))for(var L=A+F*p,B=I+M*t.strides[1],j=0;j<n.inChannels;++j){for(var z=b[L+j*h],W=0;W<n.outChannels;++W)w[R+W*g]+=z*x[B+W];B+=n.outChannels}}}return c.toTensor()},t.prototype.conv3d=function(e,t,n){for(var r=n.filterDepth,i=n.filterHeight,a=n.filterWidth,o=n.dilationDepth,s=n.dilationHeight,u=n.dilationWidth,l=n.padInfo.front,c=n.padInfo.left,f=n.padInfo.top,d=ef(n.outShape,e.dtype),p=this.readSync(e.dataId),h=this.readSync(t.dataId),v=d.values,y=0;y<n.batchSize;++y)for(var m=y*e.strides[0],g=y*d.strides[0],b=0;b<n.outDepth;++b)for(var x=g+b*d.strides[1],w=b*n.strideDepth-l,S=0;S<r;S++){var T=w+S*o;if(!(T<0||T>=n.inDepth))for(var E=S*t.strides[0],k=m+T*e.strides[1],_=0;_<n.outHeight;++_)for(var C=x+_*d.strides[2],P=_*n.strideHeight-f,O=0;O<i;O++){var I=P+O*s;if(!(I<0||I>=n.inHeight))for(var A=E+O*t.strides[1],D=k+I*e.strides[2],R=0;R<n.outWidth;++R)for(var N=C+R*n.outChannels,M=R*n.strideWidth-c,F=0;F<a;F++){var L=M+F*u;if(!(L<0||L>=n.inWidth))for(var B=A+F*t.strides[2],j=D+L*n.inChannels,z=B,W=0;W<n.inChannels;++W){for(var V=p[j+W],U=0;U<n.outChannels;++U)v[N+U]+=V*h[z+U];z+=n.outChannels}}}}return d.toTensor()},t.prototype.conv2dDerInput=function(e,t,n){sb([e,t],"conv2dDerInput");for(var r=ef(n.inShape,"float32"),i=r.values,a=this.readSync(e.dataId),o=this.readSync(t.dataId),s=t.strides,u=s[0],l=s[1],c=s[2],f=n.batchSize,d=n.filterHeight,p=n.filterWidth,h=n.inChannels,v=n.inHeight,y=n.inWidth,m=n.outChannels,g=n.outHeight,b=n.outWidth,x=n.strideHeight,w=n.strideWidth,S=n.dataFormat,T=d-1-n.padInfo.top,E=p-1-n.padInfo.left,k="channelsLast"===S,_=r.strides[0],C=k?r.strides[1]:r.strides[2],P=k?r.strides[2]:1,O=k?1:r.strides[1],I=e.strides[0],A=k?e.strides[1]:e.strides[2],D=k?e.strides[2]:1,R=k?1:e.strides[1],N=0;N<f;++N)for(var M=0;M<h;++M)for(var F=0;F<v;++F)for(var L=F-T,B=Math.max(0,Math.ceil(L/x)),j=Math.min(g,(d+L)/x),z=0;z<y;++z){for(var W=z-E,V=Math.max(0,Math.ceil(W/w)),U=Math.min(b,(p+W)/w),K=0,H=B;H<j;++H)for(var q=H*x-L,G=V;G<U;++G)for(var X=I*N+A*H+D*G,Y=u*(d-1-q)+l*(p-1-(G*w-W))+c*M,J=0;J<m;++J)K+=a[X+R*J]*o[Y+J];i[_*N+C*F+P*z+O*M]=K}return r.toTensor()},t.prototype.conv3dDerInput=function(e,t,n){for(var r=ef(n.inShape,"float32"),i=r.values,a=r.strides,o=a[0],s=a[1],u=a[2],l=a[3],c=this.readSync(e.dataId),f=e.strides,d=f[0],p=f[1],h=f[2],v=f[3],y=this.readSync(t.dataId),m=t.strides,g=m[0],b=m[1],x=m[2],w=m[3],S=n.batchSize,T=n.filterDepth,E=n.filterHeight,k=n.filterWidth,_=n.inChannels,C=n.inDepth,P=n.inHeight,O=n.inWidth,I=n.outChannels,A=n.outDepth,D=n.outHeight,R=n.outWidth,N=n.strideDepth,M=n.strideHeight,F=n.strideWidth,L=T-1-n.padInfo.front,B=E-1-n.padInfo.top,j=k-1-n.padInfo.left,z=0;z<S;++z)for(var W=0;W<_;++W)for(var V=0;V<C;++V)for(var U=V-L,K=Math.max(0,Math.ceil(U/N)),H=Math.min(A,(T+U)/N),q=0;q<P;++q)for(var G=q-B,X=Math.max(0,Math.ceil(G/M)),Y=Math.min(D,(E+G)/M),J=0;J<O;++J){for(var $=J-j,Q=Math.max(0,Math.ceil($/F)),Z=Math.min(R,(k+$)/F),ee=0,te=K;te<H;++te)for(var ne=te*N-U,re=X;re<Y;++re)for(var ie=re*M-G,ae=Q;ae<Z;++ae)for(var oe=d*z+p*te+h*re+v*ae,se=g*(T-1-ne)+b*(E-1-ie)+x*(k-1-(ae*F-$))+w*W,ue=0;ue<I;++ue)ee+=c[oe+ue]*y[se+ue];i[o*z+s*V+u*q+l*J+W]=ee}return r.toTensor()},t.prototype.conv2dDerFilter=function(e,t,n){sb([e,t],"conv2dDerFilter");for(var r=n.strideHeight,i=n.strideWidth,a=n.filterHeight,o=n.filterWidth,s="channelsLast"===n.dataFormat,u=ef(n.filterShape,"float32"),l=n.padInfo.left,c=n.padInfo.top,f=this.bufferSync(e),d=this.bufferSync(t),p=0;p<a;++p)for(var h=Math.max(0,Math.ceil((c-p)/r)),v=Math.min(n.outHeight,(n.inHeight+c-p)/r),y=0;y<o;++y)for(var m=Math.max(0,Math.ceil((l-y)/i)),g=Math.min(n.outWidth,(n.inWidth+l-y)/i),b=0;b<n.inChannels;++b)for(var x=0;x<n.outChannels;++x){for(var w=0,S=0;S<n.batchSize;++S)for(var T=h;T<v;++T)for(var E=p+T*r-c,k=m;k<g;++k){var _=y+k*i-l;w+=s?f.get(S,E,_,b)*d.get(S,T,k,x):f.get(S,b,E,_)*d.get(S,x,T,k)}u.set(w,p,y,b,x)}return u.toTensor()},t.prototype.conv3dDerFilter=function(e,t,n){for(var r=n.strideDepth,i=n.strideHeight,a=n.strideWidth,o=n.filterDepth,s=n.filterHeight,u=n.filterWidth,l=ef(n.filterShape,"float32"),c=l.values,f=l.strides,d=f[0],p=f[1],h=f[2],v=f[3],y=this.readSync(t.dataId),m=t.strides,g=m[0],b=m[1],x=m[2],w=m[3],S=this.readSync(e.dataId),T=e.strides,E=T[0],k=T[1],_=T[2],C=T[3],P=n.padInfo.front,O=n.padInfo.left,I=n.padInfo.top,A=0;A<o;++A)for(var D=Math.max(0,Math.ceil((P-A)/r)),R=Math.min(n.outDepth,(n.inDepth+P-A)/r),N=A*d,M=0;M<s;++M)for(var F=Math.max(0,Math.ceil((I-M)/i)),L=Math.min(n.outHeight,(n.inHeight+I-M)/i),B=M*p+N,j=0;j<u;++j)for(var z=Math.max(0,Math.ceil((O-j)/a)),W=Math.min(n.outWidth,(n.inWidth+O-j)/a),V=j*h+B,U=0;U<n.inChannels;++U)for(var K=U*v+V,H=0;H<n.outChannels;++H){for(var q=0,G=0;G<n.batchSize;++G)for(var X=G*E,Y=G*g,J=D;J<R;++J)for(var $=(A+J*r-P)*k+X,Q=J*b+Y,Z=F;Z<L;++Z)for(var ee=(M+Z*i-I)*_+$,te=Z*x+Q,ne=z;ne<W;++ne){var re=ne*w+te;q+=S[(j+ne*a-O)*C+ee+U]*y[re+H]}c[K+H]=q}return l.toTensor()},t.prototype.fusedDepthwiseConv2D=function(e){var t=e.input,n=e.filter,r=e.convInfo,i=e.bias,a=e.activation,o=e.preluActivationWeights,s=this.depthwiseConv2D(t,n,r);return i&&(s=this.add(s,i)),a&&(s=ub(this,s,a,o)),s},t.prototype.depthwiseConv2D=function(e,t,n){sb([e,t],"depthwiseConv2D");for(var r=n.filterHeight,i=n.filterWidth,a=n.dilationHeight,o=n.dilationWidth,s=n.padInfo.left,u=n.padInfo.top,l=n.outChannels/n.inChannels,c=ef(n.outShape,e.dtype),f=this.readSync(e.dataId),d=this.readSync(t.dataId),p=c.values,h=0;h<n.batchSize;++h)for(var v=h*e.strides[0],y=h*c.strides[0],m=0;m<n.outHeight;++m)for(var g=y+m*c.strides[1],b=m*n.strideHeight-s,x=0;x<r;++x){var w=b+x*a;if(!(w<0||w>=n.inHeight))for(var S=x*t.strides[0],T=v+w*e.strides[1],E=0;E<n.outWidth;++E)for(var k=g+E*c.strides[2],_=E*n.strideWidth-u,C=0;C<i;++C){var P=_+C*o;if(!(P<0||P>=n.inWidth))for(var O=S+C*t.strides[1],I=T+P*n.inChannels,A=k,D=O,R=0;R<n.inChannels;++R){for(var N=f[I+R],M=0;M<l;++M)p[A+M]+=N*d[D+M];A+=l,D+=l}}}return c.toTensor()},t.prototype.depthwiseConv2DDerInput=function(e,t,n){sb([e,t],"depthwiseConv2DDerInput");for(var r=ef(n.inShape,"float32"),i=r.values,a=r.strides,o=a[0],s=a[1],u=a[2],l=this.readSync(e.dataId),c=e.strides,f=c[0],d=c[1],p=c[2],h=this.readSync(t.dataId),v=t.strides,y=v[0],m=v[1],g=v[2],b=n.batchSize,x=n.filterHeight,w=n.filterWidth,S=n.inChannels,T=n.inHeight,E=n.inWidth,k=n.outChannels,_=n.outHeight,C=n.outWidth,P=n.strideHeight,O=n.strideWidth,I=x-1-n.padInfo.top,A=w-1-n.padInfo.left,D=k/S,R=0;R<b;++R)for(var N=0;N<S;++N)for(var M=0;M<T;++M)for(var F=M-I,L=Math.max(0,Math.ceil(F/P)),B=Math.min(_,(x+F)/P),j=0;j<E;++j){for(var z=j-A,W=Math.max(0,Math.ceil(z/O)),V=Math.min(C,(w+z)/O),U=0,K=L;K<B;++K)for(var H=K*P-F,q=W;q<V;++q)for(var G=f*R+d*K+p*q,X=y*(x-1-H)+m*(w-1-(q*O-z))+g*N,Y=0;Y<D;++Y)U+=l[G+(N*D+Y)]*h[X+Y];i[o*R+s*M+u*j+N]=U}return r.toTensor()},t.prototype.depthwiseConv2DDerFilter=function(e,t,n){sb([e,t],"depthwiseConv2DDerFilter");for(var r=n.strideHeight,i=n.strideWidth,a=n.filterHeight,o=n.filterWidth,s=ef(n.filterShape,"float32"),u=n.padInfo.left,l=n.padInfo.top,c=n.outChannels/n.inChannels,f=this.bufferSync(e),d=this.bufferSync(t),p=0;p<a;++p)for(var h=Math.max(0,Math.ceil((l-p)/r)),v=Math.min(n.outHeight,(n.inHeight+l-p)/r),y=0;y<o;++y)for(var m=Math.max(0,Math.ceil((u-y)/i)),g=Math.min(n.outWidth,(n.inWidth+u-y)/i),b=0;b<n.outChannels;++b){for(var x=Math.trunc(b/c),w=b%c,S=0,T=0;T<n.batchSize;++T)for(var E=h;E<v;++E)for(var k=p+E*r-l,_=m;_<g;++_){var C=y+_*i-u;S+=f.get(T,k,C,x)*d.get(T,E,_,b)}s.set(S,p,y,x,w)}return s.toTensor()},t.prototype.tile=function(e,t){return sb(e,"tile"),Pd(this.bufferSync(e),t)},t.prototype.pad=function(e,t,n){sb(e,"pad");var r=t.map((function(t,n){return t[0]+e.shape[n]+t[1]})),i=t.map((function(e){return e[0]})),a=this.bufferSync(e),o=ef(r,e.dtype);0!==n&&o.values.fill(n);for(var s=0;s<e.size;s++){var u=a.indexToLoc(s),l=u.map((function(e,t){return e+i[t]}));o.set.apply(o,[a.get.apply(a,u)].concat(l))}return o.toTensor()},t.prototype.transpose=function(e,t){sb(e,"transpose");for(var n=new Array(e.rank),r=0;r<n.length;r++)n[r]=e.shape[t[r]];var i=this.readSync(e.dataId),a=ef(n,e.dtype),o=this.bufferSync(e);for(r=0;r<e.size;++r){for(var s=o.indexToLoc(r),u=new Array(s.length),l=0;l<u.length;l++)u[l]=s[t[l]];var c=a.locToIndex(u);a.values[c]=i[r]}return a.toTensor()},t.prototype.gather=function(e,t,n){sb([e,t],"gather");var r=e.shape.slice(),i=this.readSync(t.dataId);r[n]=i.length;for(var a=ef(r,e.dtype),o=this.bufferSync(e),s=0;s<a.size;++s){var u=a.indexToLoc(s),l=u.slice();l[n]=i[u[n]];var c=o.locToIndex(l);a.values[s]=o.values[c]}return a.toTensor()},t.prototype.batchToSpaceND=function(e,t,n){sb([e],"batchToSpaceND");var r=t.reduce((function(e,t){return e*t})),i=Pf(e.shape,t,r),a=Of(i.length,t.length),o=If(e.shape,t,r),s=Af(n,t.length),u=Df(o,n,t.length);return e.reshape(i).transpose(a).reshape(o).slice(s,u)},t.prototype.spaceToBatchND=function(e,t,n){sb([e],"spaceToBatchND");var r=t.reduce((function(e,t){return e*t})),i=[[0,0]];i.push.apply(i,n);for(var a=1+t.length;a<e.shape.length;++a)i.push([0,0]);var o=e.pad(i),s=Pf(o.shape,t,r,!1),u=Of(s.length,t.length,!1),l=If(o.shape,t,r,!1);return o.reshape(s).transpose(u).reshape(l)},t.prototype.pool=function(e,t,n){sb(e,"pool");for(var r=t.strideHeight,i=t.strideWidth,a=t.dilationHeight,o=t.dilationWidth,s=t.effectiveFilterHeight,u=t.effectiveFilterWidth,l=t.padInfo.top,c=t.padInfo.left,f="max"===n?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,d=this.readSync(e.dataId),p=ef(t.outShape,e.dtype),h=p.values,v=t.outShape[1]*t.outShape[2]*t.outShape[3],y=t.outShape[2]*t.outShape[3],m=t.outShape[3],g=0;g<t.batchSize;++g)for(var b=g*v,x=g*e.strides[0],w=0;w<t.inChannels;++w)for(var S=0;S<t.outHeight;++S)for(var T=S*r-l,E=Math.max(0,T),k=Math.min(t.inHeight,s+T),_=b+S*y,C=0;C<t.outWidth;++C){for(var P=C*i-c,O=Math.max(0,P),I=Math.min(t.inWidth,u+P),A=f,D=0,R=0,N=E;N<k;N+=a){for(var M=x+N*e.strides[1],F=O;F<I;F+=o){var L=d[M+F*e.strides[2]+w];"max"===n&&L>A?A=L:"avg"===n&&(D+=L,R++)}if(isNaN(A))break}h[_+C*m+w]="avg"===n?D/R:A}return p.toTensor()},t.prototype.maxPool=function(e,t){return this.pool(e,t,"max")},t.prototype.maxPoolPositions=function(e,t){for(var n=ef(t.outShape,"int32"),r=t.strideHeight,i=t.strideWidth,a=t.dilationHeight,o=t.dilationWidth,s=t.effectiveFilterHeight,u=t.effectiveFilterWidth,l=t.padInfo.top,c=t.padInfo.left,f=this.bufferSync(e),d=0;d<t.batchSize;++d)for(var p=0;p<t.inChannels;++p)for(var h=0;h<t.outHeight;++h){for(var v=h*r-l,y=v;y<0;)y+=a;for(var m=Math.min(t.inHeight,s+v),g=0;g<t.outWidth;++g){for(var b=g*i-c,x=b;x<0;)x+=o;for(var w=Math.min(t.inWidth,u+b),S=Number.NEGATIVE_INFINITY,T=-1,E=y;E<m;E+=a)for(var k=E-v,_=x;_<w;_+=o){var C=_-b,P=f.get(d,E,_,p);P>S&&(S=P,T=k*u+C)}n.set(T,d,h,g,p)}}return n.toTensor()},t.prototype.maxPoolBackprop=function(e,t,n,r){sb([t,n],"maxPoolBackprop");for(var i=this.maxPoolPositions(t,r),a=r.strideHeight,o=r.strideWidth,s=r.dilationHeight,u=r.dilationWidth,l=r.effectiveFilterHeight,c=r.effectiveFilterWidth,f=c-1-r.padInfo.left,d=l-1-r.padInfo.top,p=ef(t.shape,"float32"),h=this.bufferSync(i),v=this.bufferSync(e),y=0;y<r.batchSize;++y)for(var m=0;m<r.inChannels;++m)for(var g=0;g<r.inHeight;++g)for(var b=0;b<r.inWidth;++b){for(var x=g-d,w=b-f,S=0,T=0;T<l;T+=s){var E=(x+T)/a;if(!(E<0||E>=r.outHeight||Math.floor(E)!==E))for(var k=0;k<c;k+=u){var _=(w+k)/o;if(!(_<0||_>=r.outWidth||Math.floor(_)!==_)){var C=l*c-1-h.get(y,E,_,m)===T*c+k?1:0;0!==C&&(S+=v.get(y,E,_,m)*C)}}}p.set(S,y,g,b,m)}return p.toTensor()},t.prototype.avgPoolBackprop=function(e,t,n){sb([e,t],"avgPoolBackprop");for(var r=n.strideHeight,i=n.strideWidth,a=n.filterHeight,o=n.filterWidth,s=n.dilationHeight,u=n.dilationWidth,l=n.effectiveFilterHeight,c=n.effectiveFilterWidth,f=c-1-n.padInfo.left,d=l-1-n.padInfo.top,p=ef(t.shape,"float32"),h=1/(a*o),v=this.bufferSync(e),y=0;y<n.batchSize;++y)for(var m=0;m<n.inChannels;++m)for(var g=0;g<n.inHeight;++g)for(var b=0;b<n.inWidth;++b){for(var x=g-d,w=b-f,S=0,T=0;T<l;T+=s){var E=(x+T)/r;if(!(E<0||E>=n.outHeight||Math.floor(E)!==E))for(var k=0;k<c;k+=u){var _=(w+k)/i;_<0||_>=n.outWidth||Math.floor(_)!==_||(S+=v.get(y,E,_,m))}}p.set(S*h,y,g,b,m)}return p.toTensor()},t.prototype.pool3d=function(e,t,n){sb(e,"pool3d");for(var r=t.strideDepth,i=t.strideHeight,a=t.strideWidth,o=t.dilationDepth,s=t.dilationHeight,u=t.dilationWidth,l=t.effectiveFilterDepth,c=t.effectiveFilterHeight,f=t.effectiveFilterWidth,d=t.padInfo.front,p=t.padInfo.top,h=t.padInfo.left,v="max"===n?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,y=this.readSync(e.dataId),m=ef(t.outShape,e.dtype),g=m.values,b=t.outShape[1]*t.outShape[2]*t.outShape[3]*t.outShape[4],x=t.outShape[2]*t.outShape[3]*t.outShape[4],w=t.outShape[3]*t.outShape[4],S=t.outShape[4],T=0;T<t.batchSize;++T)for(var E=T*b,k=T*e.strides[0],_=0;_<t.inChannels;++_)for(var C=0;C<t.outDepth;++C){for(var P=C*r-d,O=P;O<0;)O+=o;for(var I=Math.min(t.inDepth,l+P),A=E+C*x,D=0;D<t.outHeight;++D){for(var R=D*i-p,N=R;N<0;)N+=s;for(var M=Math.min(t.inHeight,c+R),F=A+D*w,L=0;L<t.outWidth;++L){for(var B=L*a-h,j=B;j<0;)j+=u;for(var z=Math.min(t.inWidth,f+B),W=F+L*S,V=v,U=0,K=0,H=O;H<I;H+=o){for(var q=k+H*e.strides[1],G=N;G<M;G+=s){for(var X=q+G*e.strides[2],Y=j;Y<z;Y+=u){var J=y[X+Y*e.strides[3]+_];if("max"===n&&J>V?V=J:"avg"===n&&(U+=J,K++),isNaN(V))break}if(isNaN(V))break}if(isNaN(V))break}g[W+_]="avg"===n?U/K:V}}}return m.toTensor()},t.prototype.avgPool3d=function(e,t){return sb(e,"avgPool3d"),this.pool3d(e,t,"avg").toFloat()},t.prototype.avgPool3dBackprop=function(e,t,n){sb([e,t],"avgPool3dBackprop");for(var r=n.strideDepth,i=n.strideHeight,a=n.strideWidth,o=n.filterDepth,s=n.filterHeight,u=n.filterWidth,l=n.dilationDepth,c=n.dilationHeight,f=n.dilationWidth,d=n.effectiveFilterDepth,p=n.effectiveFilterHeight,h=n.effectiveFilterWidth,v=d-1-n.padInfo.front,y=h-1-n.padInfo.left,m=p-1-n.padInfo.top,g=ef(t.shape,"float32"),b=1/(o*s*u),x=this.bufferSync(e),w=0;w<n.batchSize;++w)for(var S=0;S<n.inChannels;++S)for(var T=0;T<n.inDepth;++T)for(var E=0;E<n.inHeight;++E)for(var k=0;k<n.inWidth;++k){for(var _=T-v,C=E-m,P=k-y,O=0,I=0;I<d;I+=l){var A=(_+I)/r;if(!(A<0||A>=n.outDepth||Math.floor(A)!==A))for(var D=0;D<p;D+=c){var R=(C+D)/i;if(!(R<0||R>=n.outHeight||Math.floor(R)!==R))for(var N=0;N<h;N+=f){var M=(P+N)/a;M<0||M>=n.outWidth||Math.floor(M)!==M||(O+=x.get(w,A,R,M,S))}}}g.set(O*b,w,T,E,k,S)}return g.toTensor()},t.prototype.maxPool3d=function(e,t){return sb(e,"maxPool3d"),this.pool3d(e,t,"max").toFloat()},t.prototype.maxPool3dPositions=function(e,t){for(var n=ef(t.outShape,"int32"),r=t.strideDepth,i=t.strideHeight,a=t.strideWidth,o=t.dilationDepth,s=t.dilationHeight,u=t.dilationWidth,l=t.effectiveFilterDepth,c=t.effectiveFilterHeight,f=t.effectiveFilterWidth,d=t.padInfo.front,p=t.padInfo.top,h=t.padInfo.left,v=this.bufferSync(e),y=0;y<t.batchSize;++y)for(var m=0;m<t.inChannels;++m)for(var g=0;g<t.outDepth;++g){for(var b=g*r-d,x=b;x<0;)x+=o;for(var w=Math.min(t.inDepth,l+b),S=0;S<t.outHeight;++S){for(var T=S*i-p,E=T;E<0;)E+=s;for(var k=Math.min(t.inHeight,c+T),_=0;_<t.outWidth;++_){for(var C=_*a-h,P=C;P<0;)P+=u;for(var O=Math.min(t.inWidth,f+C),I=Number.NEGATIVE_INFINITY,A=-1,D=x;D<w;D+=o)for(var R=D-b,N=E;N<k;N+=s)for(var M=N-T,F=P;F<O;F+=u){var L=F-C,B=v.get(y,D,N,F,m);B>=I&&(I=B,A=R*c*f+M*c+L)}n.set(A,y,g,S,_,m)}}}return n.toTensor()},t.prototype.maxPool3dBackprop=function(e,t,n,r){sb([t,n],"maxPool3dBackprop");for(var i=this.maxPool3dPositions(t,r),a=r.strideDepth,o=r.strideHeight,s=r.strideWidth,u=r.dilationDepth,l=r.dilationHeight,c=r.dilationWidth,f=r.effectiveFilterDepth,d=r.effectiveFilterHeight,p=r.effectiveFilterWidth,h=f-1-r.padInfo.front,v=p-1-r.padInfo.left,y=d-1-r.padInfo.top,m=ef(t.shape,"float32"),g=this.bufferSync(i),b=this.bufferSync(e),x=0;x<r.batchSize;++x)for(var w=0;w<r.inChannels;++w)for(var S=0;S<r.inDepth;++S)for(var T=0;T<r.inHeight;++T)for(var E=0;E<r.inWidth;++E){for(var k=S-h,_=T-y,C=E-v,P=0,O=0;O<f;O+=u){var I=(k+O)/a;if(!(I<0||I>=r.outDepth||Math.floor(I)!==I))for(var A=0;A<d;A+=l){var D=(_+A)/o;if(!(D<0||D>=r.outHeight||Math.floor(D)!==D))for(var R=0;R<p;R+=c){var N=(C+R)/s;if(!(N<0||N>=r.outWidth||Math.floor(N)!==N)){var M=f*d*p-1-g.get(x,I,D,N,w)===O*d*p+A*p+R?1:0;0!==M&&(P+=b.get(x,I,D,N,w)*M)}}}}m.set(P,x,S,T,E,w)}return m.toTensor()},t.prototype.cast=function(e,t){return dd(e,t,this)},t.prototype.reshape=function(e,t){return pd(e,t)},t.prototype.avgPool=function(e,t){return sb(e,"avgPool"),this.pool(e,t,"avg").toFloat()},t.prototype.resizeBilinear=function(e,t,n,r){sb(e,"resizeBilinear");for(var i=e.shape,a=i[0],o=i[1],s=i[2],u=i[3],l=this.readSync(e.dataId),c=new Float32Array(Vs([a,t,n,u])),f=[r&&t>1?o-1:o,r&&n>1?s-1:s],d=[r&&t>1?t-1:t,r&&n>1?n-1:n],p=0,h=f[0]/d[0],v=f[1]/d[1],y=0;y<a;y++)for(var m=0;m<t;m++)for(var g=h*m,b=Math.floor(g),x=g-b,w=Math.min(o-1,Math.ceil(g)),S=y*e.strides[0]+b*e.strides[1],T=y*e.strides[0]+w*e.strides[1],E=0;E<n;E++)for(var k=v*E,_=Math.floor(k),C=k-_,P=Math.min(s-1,Math.ceil(k)),O=S+_*e.strides[2],I=T+_*e.strides[2],A=S+P*e.strides[2],D=T+P*e.strides[2],R=0;R<u;R++){var N=l[O+R],M=l[I+R],F=N+(l[A+R]-N)*C,L=F+(M+(l[D+R]-M)*C-F)*x;c[p++]=L}return Tc(c,[a,t,n,u])},t.prototype.resizeBilinearBackprop=function(e,t,n){sb([e,t],"resizeBilinearBackprop");for(var r=t.shape,i=r[0],a=r[1],o=r[2],s=r[3],u=e.shape,l=u[1],c=u[2],f=new Float32Array(i*a*o*s),d=[n&&l>1?a-1:a,n&&c>1?o-1:o],p=[n&&l>1?l-1:l,n&&c>1?c-1:c],h=d[0]/p[0],v=d[1]/p[1],y=this.readSync(e.dataId),m=0,g=0;g<i;g++)for(var b=g*t.strides[0],x=0;x<l;x++)for(var w=x*h,S=Math.floor(w),T=Math.min(Math.ceil(w),a-1),E=b+S*t.strides[1],k=b+T*t.strides[1],_=w-S,C=1-_,P=0;P<c;P++)for(var O=P*v,I=Math.floor(O),A=Math.min(Math.ceil(O),o-1),D=O-I,R=1-D,N=E+I*t.strides[2],M=E+A*t.strides[2],F=k+I*t.strides[2],L=k+A*t.strides[2],B=C*R,j=C*D,z=_*R,W=_*D,V=0;V<s;V++){var U=y[m++];f[N+V]+=U*B,f[M+V]+=U*j,f[F+V]+=U*z,f[L+V]+=U*W}return Oc(f,[i,o,a,s],t.dtype)},t.prototype.resizeNearestNeighbor=function(e,t,n,r){sb(e,"resizeNearestNeighbor");for(var i=e.shape,a=i[0],o=i[1],s=i[2],u=i[3],l=this.readSync(e.dataId),c=new Float32Array(a*t*n*u),f=[r&&t>1?o-1:o,r&&n>1?s-1:s],d=[r&&t>1?t-1:t,r&&n>1?n-1:n],p=f[0]/d[0],h=f[1]/d[1],v=0,y=0;y<a;y++)for(var m=y*e.strides[0],g=0;g<t;g++)for(var b=p*g,x=m+Math.min(o-1,r?Math.round(b):Math.floor(b))*e.strides[1],w=0;w<n;w++)for(var S=h*w,T=x+Math.min(s-1,r?Math.round(S):Math.floor(S))*e.strides[2],E=0;E<u;E++){var k=l[T+E];c[v++]=k}return Tc(c,[a,t,n,u],e.dtype)},t.prototype.resizeNearestNeighborBackprop=function(e,t,n){sb([e,t],"resizeNearestNeighborBackprop");for(var r=t.shape,i=r[0],a=r[1],o=r[2],s=r[3],u=e.shape,l=u[1],c=u[2],f=new Float32Array(i*a*o*s),d=this.readSync(e.dataId),p=[n&&l>1?a-1:a,n&&c>1?o-1:o],h=[n&&l>1?l-1:l,n&&c>1?c-1:c],v=p[0]/h[0],y=p[1]/h[1],m=1/v,g=1/y,b=2*Math.ceil(m)+2,x=2*Math.ceil(g)+2,w=0;w<i;w++)for(var S=w*t.strides[0],T=0;T<a;T++)for(var E=S+T*t.strides[1],k=Math.floor(T*m),_=Math.floor(k-b/2),C=0;C<o;C++)for(var P=E+C*t.strides[2],O=Math.floor(C*g),I=Math.floor(O-x/2),A=0;A<s;A++){for(var D=0,R=0;R<b;R++){var N=R+_;if(!(N<0||N>=l)){var M=S+N*e.strides[1],F=N*v;if(T===Math.min(a-1,n?Math.round(F):Math.floor(F)))for(var L=0;L<x;L++){var B=L+I;if(!(B<0||B>=c)){var j=M+B*e.strides[2],z=B*y;C===Math.min(o-1,n?Math.round(z):Math.floor(z))&&(D+=d[j+A])}}}}f[P+A]=D}return Oc(f,t.shape,t.dtype)},t.prototype.batchNormalization=function(e,t,n,r,i,a){sb([e,t,n,i,a],"batchNorm");for(var o=this.readSync(e.dataId),s=this.readSync(t.dataId),u=this.readSync(n.dataId),l=i?this.readSync(i.dataId):new Float32Array([1]),c=a?this.readSync(a.dataId):new Float32Array([0]),f=new Float32Array(o.length),d=c.length,p=l.length,h=u.length,v=s.length,y=0,m=0,g=0,b=0,x=0;x<o.length;++x)f[x]=c[y++]+(o[x]-s[m++])*l[g++]/Math.sqrt(u[b++]+r),y>=d&&(y=0),m>=v&&(m=0),g>=p&&(g=0),b>=h&&(b=0);return Oc(f,e.shape)},t.prototype.localResponseNormalization4D=function(e,t,n,r,i){sb(e,"localResponseNormalization4D");var a=e.shape[3],o=a-1,s=this.readSync(e.dataId),u=e.size,l=new Float32Array(u);function c(e){for(var n=e%a,r=e-n+Math.max(0,n-t),i=e-n+Math.min(n+t,o),u=0;r<=i;r++){var l=s[r];u+=l*l}return u}for(var f=0;f<u;f++){var d=c(f),p=s[f]*Math.pow(n+r*d,-i);l[f]=p}return Oc(l,e.shape)},t.prototype.LRNGrad=function(e,t,n,r,i,a,o){sb(e,"LRNGrad");for(var s=e.shape[3],u=this.readSync(e.dataId),l=this.readSync(t.dataId),c=this.readSync(n.dataId),f=new Float32Array(e.size),d=e.size,p=0;p<d;p++){for(var h=p%s,v=p-h+Math.max(0,h-r),y=p-h+Math.min(s,h+r+1),m=0,g=v;g<y;g++)m+=Math.pow(l[g],2);for(m=a*m+i,g=v;g<y;g++){var b=-2*a*o*l[g]*c[p]/m;p===g&&(b+=Math.pow(m,-o)),b*=u[p],f[g]+=b}}return Oc(f,e.shape)},t.prototype.multinomial=function(e,t,n,r){sb(e,"multinomial");for(var i=t?e:qf(e),a=i.shape[0],o=i.shape[1],s=Ac([a,n],"int32"),u=this.readSync(s.dataId),l=this.readSync(i.dataId),c=0;c<a;++c){var f=c*o,d=new Float32Array(o-1);d[0]=l[f];for(var p=1;p<d.length;++p)d[p]=d[p-1]+l[f+p];for(var h=Jc(r.toString()),v=c*n,y=0;y<n;++y){var m=h();u[v+y]=d.length;for(var g=0;g<d.length;g++)if(m<d[g]){u[v+y]=g;break}}}return s},t.prototype.oneHot=function(e,t,n,r){sb(e,"oneHot");var i=new Float32Array(e.size*t);i.fill(r);for(var a=this.readSync(e.dataId),o=0;o<e.size;++o)a[o]>=0&&a[o]<t&&(i[o*t+a[o]]=n);return Cc(i,[e.size,t],"int32")},t.prototype.nonMaxSuppression=function(e,t,n,r,i){return sb(e,"nonMaxSuppression"),wd(this.readSync(e.dataId),this.readSync(t.dataId),n,r,i)},t.prototype.fft=function(e){return this.fftBatch(e,!1)},t.prototype.ifft=function(e){return this.fftBatch(e,!0)},t.prototype.fftBatch=function(e,t){for(var n=e.shape[0],r=e.shape[1],i=ef(e.shape,"float32"),a=ef(e.shape,"float32"),o=wc(e).as2D(n,r),s=Sc(e).as2D(n,r),u=0;u<n;u++)for(var l=o.slice([u,0],[1,r]),c=s.slice([u,0],[1,r]),f=xc(l,c),d=this.readSync(this.fftImpl(f,t).dataId),p=0;p<r;p++){var h=yd(d,p);i.values[u*r+p]=h.real,a.values[u*r+p]=h.imag}return xc(i.toTensor(),a.toTensor()).as2D(n,r)},t.prototype.fftImpl=function(e,t){var n=e.as1D(),r=n.size;if(this.isExponentOf2(r)){var i=this.fftRadix2(n,r,t).as2D(e.shape[0],e.shape[1]);return t&&(i=xc(wc(i).div(kc(r)),Sc(i).div(kc(r)))),i}var a=this.readSync(e.dataId),o=function(e){for(var t=new Float32Array(e.length/2),n=new Float32Array(e.length/2),r=0;r<e.length;r+=2)t[r/2]=e[r],n[r/2]=e[r+1];return{real:t,imag:n}}(this.fourierTransformByMatmul(a,r,t));return xc(o.real,o.imag).as2D(e.shape[0],e.shape[1])},t.prototype.isExponentOf2=function(e){return 0==(e&e-1)},t.prototype.fftRadix2=function(e,t,n){if(1===t)return e;var r=this.readSync(e.dataId),i=t/2,a=function(e){for(var t=Math.ceil(e.length/4),n=new Float32Array(t),r=new Float32Array(t),i=0;i<e.length;i+=4)n[Math.floor(i/4)]=e[i],r[Math.floor(i/4)]=e[i+1];return{real:n,imag:r}}(r),o=xc(a.real,a.imag).as1D(),s=function(e){for(var t=Math.floor(e.length/4),n=new Float32Array(t),r=new Float32Array(t),i=2;i<e.length;i+=4)n[Math.floor(i/4)]=e[i],r[Math.floor(i/4)]=e[i+1];return{real:n,imag:r}}(r),u=xc(s.real,s.imag).as1D();o=this.fftRadix2(o,i,n),u=this.fftRadix2(u,i,n);var l=function(e,t){for(var n=new Float32Array(e/2),r=new Float32Array(e/2),i=0;i<Math.ceil(e/2);i++){var a=(t?2:-2)*Math.PI*(i/e);n[i]=Math.cos(a),r[i]=Math.sin(a)}return{real:n,imag:r}}(t,n),c=xc(l.real,l.imag).mul(u),f=o.add(c),d=o.sub(c),p=wc(f).concat(wc(d)),h=Sc(f).concat(Sc(d));return xc(p,h).as1D()},t.prototype.fourierTransformByMatmul=function(e,t,n){for(var r=new Float32Array(2*t),i=0;i<t;i++){for(var a=0,o=0,s=0;s<t;s++){var u=gd(i*s,t,n),l=yd(e,s);a+=l.real*u.real-l.imag*u.imag,o+=l.real*u.imag+l.imag*u.real}n&&(a/=t,o/=t),md(r,a,o,i)}return r},t.prototype.depthToSpace=function(e,t,n){Bs("NHWC"===n,(function(){return"Only NHWC dataFormat supported on CPU for depthToSpace. Got "+n})),Bs(t>1,(function(){return"blockSize should be > 1 for depthToSpace, but was: "+t}));for(var r=e.shape[0],i=e.shape[1],a=e.shape[2],o=e.shape[3],s=i*t,u=a*t,l=o/(t*t),c=this.readSync(e.dataId),f=new Float32Array(r*s*u*l),d=0,p=0;p<r;++p)for(var h=0;h<s;++h)for(var v=Math.floor(h/t),y=h%t,m=0;m<u;++m)for(var g=Math.floor(m/t),b=(y*t+m%t)*l,x=0;x<l;++x){var w=x+b+o*(g+a*(v+i*p));f[d++]=c[w]}return Oc(f,[r,s,u,l])},t.prototype.broadcastedBinaryOp=function(e,t,n,r){var i=Zf(e.shape,t.shape),a=ef(i,n),o=this.readSync(e.dataId),s=this.readSync(t.dataId),u=$f(e.shape,i),l=$f(t.shape,i),c=a.values;if(u.length+l.length===0)for(var f=0;f<c.length;++f)c[f]=r(o[f%o.length],s[f%s.length]);else{var d=this.bufferSync(e),p=this.bufferSync(t),h=function(n){var i=a.indexToLoc(n),f=i.slice(-e.rank);u.forEach((function(e){return f[e]=0}));var h=d.locToIndex(f),v=i.slice(-t.rank);l.forEach((function(e){return v[e]=0}));var y=p.locToIndex(v);c[n]=r(o[h],s[y])};for(f=0;f<c.length;++f)h(f)}return a.toTensor()},t.prototype.broadcastedBinaryComplexOp=function(e,t,n){var r=Zf(e.shape,t.shape),i=ef(r,"float32"),a=ef(r,"float32"),o=this.readSync(e.dataId),s=this.readSync(t.dataId),u=$f(e.shape,r),l=$f(t.shape,r),c=i.values,f=a.values;if(u.length+l.length===0)for(var d=0;d<c.length;d++){var p=d%o.length,h=d%s.length,v=n(o[2*p],o[2*p+1],s[2*h],s[2*h+1]);c[d]=v.real,f[d]=v.imag}else{var y=this.bufferSync(this.data.get(e.dataId).complexTensors.real),m=this.bufferSync(this.data.get(t.dataId).complexTensors.real),g=function(r){var a=i.indexToLoc(r),d=a.slice(-e.rank);u.forEach((function(e){return d[e]=0}));var p=y.locToIndex(d),h=a.slice(-t.rank);l.forEach((function(e){return h[e]=0}));var v=m.locToIndex(h),g=n(o[2*p],o[2*p+1],s[2*v],s[2*v+1]);c[r]=g.real,f[r]=g.imag};for(d=0;d<c.length;d++)g(d)}return this.complex(i.toTensor(),a.toTensor())},t.prototype.split=function(e,t,n){return Cd(e,t,n)},t.prototype.dispose=function(){},t.prototype.floatPrecision=function(){return 32},t.prototype.epsilon=function(){return 1e-7},t.prototype.cropAndResize=function(e,t,n,r,i,a){for(var o=e.shape,s=o[0],u=o[1],l=o[2],c=o[3],f=t.shape[0],d=r[0],p=r[1],h=ef([f,d,p,c],"float32"),v=this.readSync(t.dataId),y=this.readSync(n.dataId),m=this.readSync(e.dataId),g=e.strides,b=h.strides,x=0;x<f;x++){var w=4*x,S=v[w],T=v[w+1],E=v[w+2],k=v[w+3],_=y[x];if(!(_>=s))for(var C=d>1?(E-S)*(u-1)/(d-1):0,P=p>1?(k-T)*(l-1)/(p-1):0,O=0;O<d;O++){var I=d>1?S*(u-1)+O*C:.5*(S+E)*(u-1);if(I<0||I>u-1)for(var A=0;A<p;A++)for(var D=0;D<c;D++){var R=D+A*b[2]+O*b[1]+x*b[0];h.values[R]=a}else if("bilinear"===i){var N=Math.floor(I),M=Math.ceil(I),F=I-N;for(A=0;A<p;A++)if((H=p>1?T*(l-1)+A*P:.5*(T+k)*(l-1))<0||H>l-1)for(D=0;D<c;D++)R=D+A*b[2]+O*b[1]+x*b[0],h.values[R]=a;else{var L=Math.floor(H),B=Math.ceil(H),j=H-L;for(D=0;D<c;D++){var z=m[R=D+L*g[2]+N*g[1]+_*g[0]],W=m[R=D+B*g[2]+N*g[1]+_*g[0]],V=m[R=D+L*g[2]+M*g[1]+_*g[0]],U=z+(W-z)*j,K=V+(m[R=D+B*g[2]+M*g[1]+_*g[0]]-V)*j;R=D+A*b[2]+O*b[1]+x*b[0],h.values[R]=U+(K-U)*F}}}else for(A=0;A<p;++A){var H;if((H=p>1?T*(l-1)+A*P:.5*(T+k)*(l-1))<0||H>l-1)for(D=0;D<c;D++)R=D+A*b[2]+O*b[1]+x*b[0],h.values[R]=a;else{var q=Math.round(H),G=Math.round(I);for(D=0;D<c;D++){var X=D+q*g[2]+G*g[1]+_*g[0],Y=D+A*b[2]+O*b[1]+x*b[0];h.values[Y]=m[X]}}}}}return h.toTensor()},t.prototype.sparseToDense=function(e,t,n,r){var i=Lf(0,e,n),a=i.sliceRank,o=i.numUpdates,s=i.sliceSize,u=i.strides,l=i.outputSize;return this.scatter(e,t,n,l,s,o,a,u,r,!1)},t.prototype.gatherND=function(e,t){var n=t.shape,r=n[n.length-1],i=Rf(e,t),a=i[0],o=i[1],s=i[2],u=i[3];if(0===o)return Tc([],a,e.dtype);for(var l=new Ou([o,s],e.dtype),c=this.readSync(t.dataId),f=this.readSync(e.dataId),d=0;d<o;d++){for(var p=[],h=0,v=0;v<r;v++){var y=c[d*r+v];h+=y*u[v],p.push(y)}if(h<0||h>=e.size/s)throw new Error("Invalid indices: "+p+" does not index into "+e.shape);for(var m=0;m<s;m++)l.values[d*s+m]=f[h*s+m]}return l.toTensor().reshape(a)},t.prototype.scatterND=function(e,t,n){var r=Lf(0,e,n),i=r.sliceRank,a=r.numUpdates,o=r.sliceSize,s=r.strides,u=r.outputSize,l=kc(0);return this.scatter(e,t,n,u,o,a,i,s,l,!0)},t.prototype.fill=function(e,t,n){var r=Zs(n=n||lu(t),Vs(e));return r.fill(t),Ju.makeTensor(r,e,n,this)},t.prototype.onesLike=function(e){if("string"===e.dtype)throw new Error("onesLike is not supported for string tensors");return this.fill(e.shape,1,e.dtype)},t.prototype.zerosLike=function(e){var t=Zs(e.dtype,Vs(e.shape));return this.makeOutput(t,e.shape,e.dtype)},t.prototype.linspace=function(e,t,n){return hd(e,t,n)},t.prototype.scatter=function(e,t,n,r,i,a,o,s,u,l){var c=[r/i,i],f=this.readSync(e.dataId),d=this.readSync(t.dataId);if(0===r)return Tc([],n,t.dtype);var p=new Ou(c,t.dtype);p.values.fill(this.readSync(u.dataId)[0]);for(var h=0;h<a;h++){for(var v=[],y=0,m=0;m<o;m++){var g=f[h*o+m];v.push(g),y+=g*s[m]}if(y<0||y>=r/i)throw new Error("Invalid indices: "+v+" does not index into "+n);for(var b=0;b<i;b++)l?p.values[y*i+b]+=d[h*i+b]:p.values[y*i+b]=0===t.rank?d[0]:d[h*i+b]}return p.toTensor().reshape(n)},t}(Yf);Ju.registerBackend("cpu",(function(){return new lb}),1);for(var cb=0,fb=[{kernelName:"NonMaxSuppressionV5",backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t,a=i.boxes,o=i.scores,s=r,u=s.maxOutputSize,l=s.iouThreshold,c=s.scoreThreshold,f=s.softNmsSigma,d=n;sb(a,"NonMaxSuppressionWithScore");var p=Sd(d.data.get(a.dataId).values,d.data.get(o.dataId).values,u,l,c,f);return[p.selectedIndices,p.selectedScores]}},{kernelName:"Square",backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.x,i=n;sb(r,"square");for(var a=i.data.get(r.dataId).values,o=new Float32Array(a.length),s=0;s<a.length;++s){var u=a[s];o[s]=u*u}return{dataId:i.write(o,r.shape,r.dtype),shape:r.shape,dtype:r.dtype}}},{kernelName:Sv,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t,i=r.a,a=r.b,o=n;sb([i,a],Sv);var s=o.data.get(i.dataId).values,u=o.data.get(a.dataId).values,l=function(e,t,n,r,i,a){var o=Zf(e,t),s=o.length,u=du(o),l=Qs(i,Vs(o)),c=e.length,f=t.length,d=du(e),p=du(t),h=$f(e,o),v=$f(t,o);if(h.length+v.length===0)for(var y=0;y<l.length;++y)l[y]=a(n[y%n.length],r[y%r.length]);else{var m=function(e){var t=Su(e,s,u),i=t.slice(-c);h.forEach((function(e){return i[e]=0}));var o=wu(i,c,d),y=t.slice(-f);v.forEach((function(e){return y[e]=0}));var m=wu(y,f,p);l[e]=a(n[o],r[m])};for(y=0;y<l.length;++y)m(y)}return[l,o]}(i.shape,a.shape,s,u,i.dtype,(function(e,t){var n=e-t;return n*n})),c=l[0],f=l[1];return{dataId:o.write(c,f,i.dtype),shape:f,dtype:i.dtype}}}];cb<fb.length;cb++)As(fb[cb]);for(var db,pb=function(e){this.variableNames=["A"];var t=Fd(),n=e[0],r=e[1];this.outputShape=e,this.userCode="\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int texR = coords[0];\n        int texC = coords[1];\n        int depth = coords[2];\n        vec2 uv = (vec2(texC, texR) + halfCR) / vec2("+r+".0, "+n+".0);\n\n        vec4 values = "+t.texture2D+"(A, uv);\n        float value;\n        if (depth == 0) {\n          value = values.r;\n        } else if (depth == 1) {\n          value = values.g;\n        } else if (depth == 2) {\n          value = values.b;\n        } else if (depth == 3) {\n          value = values.a;\n        }\n\n        setOutput(floor(value * 255.0 + 0.5));\n      }\n    "},hb=function(e){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0;var t=Fd(),n=e[0],r=e[1];this.outputShape=e,this.userCode="\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int texR = coords[0];\n        int texC = coords[1];\n        int depth = coords[2];\n\n        vec4 result = vec4(0.);\n\n        for(int row=0; row<=1; row++) {\n          for(int col=0; col<=1; col++) {\n            texC = coords[1] + row;\n            depth = coords[2] + col;\n\n            vec2 uv = (vec2(texC, texR) + halfCR) /\n                       vec2("+r+".0, "+n+".0);\n            vec4 values = "+t.texture2D+"(A, uv);\n            float value;\n            if (depth == 0) {\n              value = values.r;\n            } else if (depth == 1) {\n              value = values.g;\n            } else if (depth == 2) {\n              value = values.b;\n            } else if (depth == 3) {\n              value = values.a;\n            }\n\n            result[row * 2 + col] = floor(value * 255.0 + 0.5);\n          }\n        }\n\n        "+t.output+" = result;\n      }\n    "},vb=0,yb=[{kernelName:"FromPixels",backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.pixels,a=r.numChannels,o="undefined"!=typeof HTMLVideoElement&&i instanceof HTMLVideoElement,s="undefined"!=typeof HTMLImageElement&&i instanceof HTMLImageElement,u=o?[i.videoWidth,i.videoHeight]:[i.width,i.height],l=u[0],c=u[1],f=[c,l],d=[c,l,a];(s||o)&&(null==db&&(db=document.createElement("canvas").getContext("2d")),db.canvas.width=l,db.canvas.height=c,db.drawImage(i,0,0,l,c),i=db.canvas);var p=n.makeTensorInfo(f,"int32");n.texData.get(p.dataId).usage=el.PIXELS,n.gpgpu.uploadPixelDataToTexture(n.getTexture(p.dataId),i);var h=ks().getBool("WEBGL_PACK")?new hb(d):new pb(d),v=n.runWebGLProgram(h,[p],"int32");return n.disposeData(p.dataId),v}},{kernelName:"NonMaxSuppressionV5",backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs;ic("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");var i=t,a=i.boxes,o=i.scores,s=r,u=s.maxOutputSize,l=s.iouThreshold,c=s.scoreThreshold,f=s.softNmsSigma,d=n,p=Sd(d.readSync(a.dataId),d.readSync(o.dataId),u,l,c,f);return[p.selectedIndices,p.selectedScores]}},{kernelName:"Square",backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.x,i=n,a=new qh(r.shape,"return x * x;");return i.runWebGLProgram(a,[r],r.dtype)}},{kernelName:Sv,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t,i=r.a,a=r.b,o=n,s=ks().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new cp("return (a - b) * (a - b);",i.shape,a.shape):new up("return (a - b) * (a - b);",i.shape,a.shape);return o.compileAndRun(s,[i,a])}}];vb<yb.length;vb++)As(yb[vb]);for(var mb=0,gb=[{kernelName:"Square",gradFunc:function(e,t){var n=t[0];return{x:function(){return e.mul(n.toFloat().mul(2))}}}},{kernelName:Sv,gradFunc:function(e,t){var n=t[0],r=t[1],i=kc(2);return{a:function(){return By(e,By(i,Uy(n,r)))},b:function(){return By(e,By(i,Uy(r,n)))}}}}];mb<gb.length;mb++)Ds(gb[mb]);var bb=function(){function e(){}return e.prototype.fetch=function(e,t){return fetch(e,t)},e.prototype.now=function(){return performance.now()},e.prototype.encode=function(e,t){if("utf-8"!==t&&"utf8"!==t)throw new Error("Browser's encoder only supports utf-8, but got "+t);return null==this.textEncoder&&(this.textEncoder=new TextEncoder),this.textEncoder.encode(e)},e.prototype.decode=function(e,t){return new TextDecoder(t).decode(e)},e}();ks().get("IS_BROWSER")&&ks().setPlatform("browser",new bb);var xb,wb=function(){function e(){this.util=n(753),this.textEncoder=new this.util.TextEncoder}return e.prototype.fetch=function(e,t){return null!=ks().global.fetch?ks().global.fetch(e,t):(null==xb&&(xb=n(522)),xb(e,t))},e.prototype.now=function(){var e=process.hrtime();return 1e3*e[0]+e[1]/1e6},e.prototype.encode=function(e,t){if("utf-8"!==t&&"utf8"!==t)throw new Error("Node built-in encoder only supports utf-8, but got "+t);return this.textEncoder.encode(e)},e.prototype.decode=function(e,t){return 0===e.length?"":new this.util.TextDecoder(t).decode(e)},e}();ks().get("IS_NODE")&&ks().setPlatform("node",new wb);var Sb={float32:4,int32:4,uint16:2,uint8:1,bool:1},Tb=4;function Eb(e,t){for(var n={},r=0,i=function(t){var i=t.name,a=t.dtype,o=t.shape,s=Vs(o),u=void 0;if("quantization"in t){var l=t.quantization;if("uint8"!==l.dtype&&"uint16"!==l.dtype)throw new Error("Weight "+t.name+" has unknown quantization dtype "+l.dtype+". Supported quantization dtypes are: 'uint8' and 'uint16'.");var c=Sb[l.dtype],f=e.slice(r,r+s*c),d="uint8"===l.dtype?new Uint8Array(f):new Uint16Array(f);if("float32"===a)u=Float32Array.from(d,(function(e){return e*l.scale+l.min}));else{if("int32"!==a)throw new Error("Unsupported dtype in weight '"+i+"': "+a);u=Int32Array.from(d,(function(e){return Math.round(e*l.scale+l.min)}))}r+=s*c}else if("string"===a){var p=Vs(t.shape);u=[];for(var h=0;h<p;h++){var v=new Uint32Array(e.slice(r,r+Tb))[0];r+=Tb;var y=new Uint8Array(e.slice(r,r+v));u.push(y),r+=v}}else{var m=Sb[a];if(f=e.slice(r,r+s*m),"float32"===a)u=new Float32Array(f);else if("int32"===a)u=new Int32Array(f);else{if("bool"!==a)throw new Error("Unsupported dtype in weight '"+i+"': "+a);u=new Uint8Array(f)}r+=s*m}n[i]=Tc(u,o,a)},a=0,o=t;a<o.length;a++)i(o[a]);return n}function kb(e){if(null===e)throw new Error("Invalid input value: "+JSON.stringify(e));var t=0,n=[];e.forEach((function(e){if(t+=e.byteLength,n.push(e.byteLength===e.buffer.byteLength?e:new e.constructor(e)),!(e instanceof Float32Array||e instanceof Int32Array||e instanceof Uint8Array))throw new Error("Unsupported TypedArray subtype: "+e.constructor.name)}));var r=new Uint8Array(t),i=0;return n.forEach((function(e){r.set(new Uint8Array(e.buffer),i),i+=e.byteLength})),r.buffer}var _b="undefined"!=typeof Buffer&&("undefined"==typeof Blob||"undefined"==typeof atob||"undefined"==typeof btoa);function Cb(e){return _b?Buffer.byteLength(e):new Blob([e]).size}function Pb(e){var t=0;e.forEach((function(e){t+=e.byteLength}));var n=new Uint8Array(t),r=0;return e.forEach((function(e){n.set(new Uint8Array(e),r),r+=e.byteLength})),n.buffer}function Ob(e){for(e=e.trim();e.endsWith("/");)e=e.slice(0,e.length-1);var t=e.split("/");return t[t.length-1]}function Ib(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("Expected JSON model topology, received ArrayBuffer.");return{dateSaved:new Date,modelTopologyType:"JSON",modelTopologyBytes:null==e.modelTopology?0:Cb(JSON.stringify(e.modelTopology)),weightSpecsBytes:null==e.weightSpecs?0:Cb(JSON.stringify(e.weightSpecs)),weightDataBytes:null==e.weightData?0:e.weightData.byteLength}}var Ab=function(){function e(){this.saveRouters=[],this.loadRouters=[]}return e.getInstance=function(){return null==e.instance&&(e.instance=new e),e.instance},e.registerSaveRouter=function(t){e.getInstance().saveRouters.push(t)},e.registerLoadRouter=function(t){e.getInstance().loadRouters.push(t)},e.getSaveHandlers=function(t){return e.getHandlers(t,"save")},e.getLoadHandlers=function(t,n){return e.getHandlers(t,"load",n)},e.getHandlers=function(t,n,r){var i=[];return("load"===n?e.getInstance().loadRouters:e.getInstance().saveRouters).forEach((function(e){var n=e(t,r);null!==n&&i.push(n)})),i},e}(),Db="://",Rb=function(){function e(){this.managers={}}return e.getInstance=function(){return null==e.instance&&(e.instance=new e),e.instance},e.registerManager=function(t,n){Bs(null!=t,(function(){return"scheme must not be undefined or null."})),t.endsWith(Db)&&(t=t.slice(0,t.indexOf(Db))),Bs(t.length>0,(function(){return"scheme must not be an empty string."}));var r=e.getInstance();Bs(null==r.managers[t],(function(){return"A model store manager is already registered for scheme '"+t+"'."})),r.managers[t]=n},e.getManager=function(e){var t=this.getInstance().managers[e];if(null==t)throw new Error("Cannot find model manager for scheme '"+e+"'");return t},e.getSchemes=function(){return Object.keys(this.getInstance().managers)},e}();function Nb(e){if(-1===e.indexOf(Db))throw new Error("The url string provided does not contain a scheme. Supported schemes are: "+Rb.getSchemes().join(","));return{scheme:e.split(Db)[0],path:e.split(Db)[1]}}function Mb(e,t,n){return void 0===n&&(n=!1),Ss(this,void 0,void 0,(function(){var r,i,a,o,s,u,l,c,f;return Ts(this,(function(d){switch(d.label){case 0:return Bs(e!==t,(function(){return"Old path and new path are the same: '"+e+"'"})),Bs((r=Ab.getLoadHandlers(e)).length>0,(function(){return"Copying failed because no load handler is found for source URL "+e+"."})),Bs(r.length<2,(function(){return"Copying failed because more than one ("+r.length+") load handlers for source URL "+e+"."})),i=r[0],Bs((a=Ab.getSaveHandlers(t)).length>0,(function(){return"Copying failed because no save handler is found for destination URL "+t+"."})),Bs(a.length<2,(function(){return"Copying failed because more than one ("+r.length+") save handlers for destination URL "+t+"."})),o=a[0],s=Nb(e).scheme,u=Nb(e).path,l=s===Nb(e).scheme,[4,i.load()];case 1:return c=d.sent(),n&&l?[4,Rb.getManager(s).removeModel(u)]:[3,3];case 2:d.sent(),d.label=3;case 3:return[4,o.save(c)];case 4:return f=d.sent(),!n||l?[3,6]:[4,Rb.getManager(s).removeModel(u)];case 5:d.sent(),d.label=6;case 6:return[2,f.modelArtifactsInfo]}}))}))}var Fb="models_store",Lb="model_info_store";function Bb(){if(!ks().getBool("IS_BROWSER"))throw new Error("Failed to obtain IndexedDB factory because the current environmentis not a web browser.");var e=window||self,t=e.indexedDB||e.mozIndexedDB||e.webkitIndexedDB||e.msIndexedDB||e.shimIndexedDB;if(null==t)throw new Error("The current browser does not appear to support IndexedDB.");return t}function jb(e){var t=e.result;t.createObjectStore(Fb,{keyPath:"modelPath"}),t.createObjectStore(Lb,{keyPath:"modelPath"})}var zb=function(){function e(e){if(this.indexedDB=Bb(),null==e||!e)throw new Error("For IndexedDB, modelPath must not be null, undefined or empty.");this.modelPath=e}return e.prototype.save=function(e){return Ss(this,void 0,void 0,(function(){return Ts(this,(function(t){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");return[2,this.databaseAction(this.modelPath,e)]}))}))},e.prototype.load=function(){return Ss(this,void 0,void 0,(function(){return Ts(this,(function(e){return[2,this.databaseAction(this.modelPath)]}))}))},e.prototype.databaseAction=function(e,t){var n=this;return new Promise((function(e,r){var i=n.indexedDB.open("tensorflowjs",1);i.onupgradeneeded=function(){return jb(i)},i.onsuccess=function(){var a=i.result;if(null==t){var o=a.transaction(Fb,"readonly"),s=o.objectStore(Fb).get(n.modelPath);s.onsuccess=function(){if(null==s.result)return a.close(),r(new Error("Cannot find model with path '"+n.modelPath+"' in IndexedDB."));e(s.result.modelArtifacts)},s.onerror=function(e){return a.close(),r(s.error)},o.oncomplete=function(){return a.close()}}else{var u,l=Ib(t),c=a.transaction(Lb,"readwrite"),f=c.objectStore(Lb),d=f.put({modelPath:n.modelPath,modelArtifactsInfo:l});d.onsuccess=function(){var i=(u=a.transaction(Fb,"readwrite")).objectStore(Fb).put({modelPath:n.modelPath,modelArtifacts:t,modelArtifactsInfo:l});i.onsuccess=function(){return e({modelArtifactsInfo:l})},i.onerror=function(e){var t=(f=c.objectStore(Lb)).delete(n.modelPath);t.onsuccess=function(){return a.close(),r(i.error)},t.onerror=function(e){return a.close(),r(i.error)}}},d.onerror=function(e){return a.close(),r(d.error)},c.oncomplete=function(){null==u?a.close():u.oncomplete=function(){return a.close()}}}},i.onerror=function(e){return r(i.error)}}))},e.URL_SCHEME="indexeddb://",e}(),Wb=function(e){return ks().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(zb.URL_SCHEME)?(t=e.slice(zb.URL_SCHEME.length),new zb(t)):null;var t};Ab.registerSaveRouter(Wb),Ab.registerLoadRouter(Wb);var Vb=function(){function e(){this.indexedDB=Bb()}return e.prototype.listModels=function(){return Ss(this,void 0,void 0,(function(){var e=this;return Ts(this,(function(t){return[2,new Promise((function(t,n){var r=e.indexedDB.open("tensorflowjs",1);r.onupgradeneeded=function(){return jb(r)},r.onsuccess=function(){var e=r.result,i=e.transaction(Lb,"readonly"),a=i.objectStore(Lb).getAll();a.onsuccess=function(){for(var e={},n=0,r=a.result;n<r.length;n++){var i=r[n];e[i.modelPath]=i.modelArtifactsInfo}t(e)},a.onerror=function(t){return e.close(),n(a.error)},i.oncomplete=function(){return e.close()}},r.onerror=function(e){return n(r.error)}}))]}))}))},e.prototype.removeModel=function(e){return Ss(this,void 0,void 0,(function(){var t=this;return Ts(this,(function(n){var r;return e=(r=e).startsWith(zb.URL_SCHEME)?r.slice(zb.URL_SCHEME.length):r,[2,new Promise((function(n,r){var i=t.indexedDB.open("tensorflowjs",1);i.onupgradeneeded=function(){return jb(i)},i.onsuccess=function(){var t,a=i.result,o=a.transaction(Lb,"readwrite"),s=o.objectStore(Lb),u=s.get(e);u.onsuccess=function(){if(null==u.result)return a.close(),r(new Error("Cannot find model with path '"+e+"' in IndexedDB."));var i=s.delete(e),o=function(){var i=(t=a.transaction(Fb,"readwrite")).objectStore(Fb).delete(e);i.onsuccess=function(){return n(u.result.modelArtifactsInfo)},i.onerror=function(e){return r(u.error)}};i.onsuccess=o,i.onerror=function(e){return o(),a.close(),r(u.error)}},u.onerror=function(e){return a.close(),r(u.error)},o.oncomplete=function(){null==t?a.close():t.oncomplete=function(){return a.close()}}},i.onerror=function(e){return r(i.error)}}))]}))}))},e}();if(ks().getBool("IS_BROWSER"))try{Rb.registerManager(zb.URL_SCHEME,new Vb)}catch(ju){}var Ub="/",Kb="tensorflowjs_models",Hb="info",qb="model_topology",Gb="weight_specs",Xb="weight_data",Yb="model_metadata";function Jb(e){return{info:[Kb,e,Hb].join(Ub),topology:[Kb,e,qb].join(Ub),weightSpecs:[Kb,e,Gb].join(Ub),weightData:[Kb,e,Xb].join(Ub),modelMetadata:[Kb,e,Yb].join(Ub)}}function $b(e){var t=e.split(Ub);if(t.length<3)throw new Error("Invalid key format: "+e);return t.slice(1,t.length-1).join(Ub)}var Qb=function(){function e(e){if(!ks().getBool("IS_BROWSER")||"undefined"==typeof window||void 0===window.localStorage)throw new Error("The current environment does not support local storage.");if(this.LS=window.localStorage,null==e||!e)throw new Error("For local storage, modelPath must not be null, undefined or empty.");this.modelPath=e,this.keys=Jb(this.modelPath)}return e.prototype.save=function(e){return Ss(this,void 0,void 0,(function(){var t,n,r;return Ts(this,(function(i){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");t=JSON.stringify(e.modelTopology),n=JSON.stringify(e.weightSpecs),r=Ib(e);try{return this.LS.setItem(this.keys.info,JSON.stringify(r)),this.LS.setItem(this.keys.topology,t),this.LS.setItem(this.keys.weightSpecs,n),this.LS.setItem(this.keys.weightData,function(e){if(_b)return Buffer.from(e).toString("base64");for(var t=new Uint8Array(e),n="",r=0,i=t.length;r<i;r++)n+=String.fromCharCode(t[r]);return btoa(n)}(e.weightData)),this.LS.setItem(this.keys.modelMetadata,JSON.stringify({format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,userDefinedMetadata:e.userDefinedMetadata})),[2,{modelArtifactsInfo:r}]}catch(e){throw this.LS.removeItem(this.keys.info),this.LS.removeItem(this.keys.topology),this.LS.removeItem(this.keys.weightSpecs),this.LS.removeItem(this.keys.weightData),this.LS.removeItem(this.keys.modelMetadata),new Error("Failed to save model '"+this.modelPath+"' to local storage: size quota being exceeded is a possible cause of this failure: modelTopologyBytes="+r.modelTopologyBytes+", weightSpecsBytes="+r.weightSpecsBytes+", weightDataBytes="+r.weightDataBytes+".")}return[2]}))}))},e.prototype.load=function(){return Ss(this,void 0,void 0,(function(){var e,t,n,r,i,a,o;return Ts(this,(function(s){if(null==(e=JSON.parse(this.LS.getItem(this.keys.info))))throw new Error("In local storage, there is no model with name '"+this.modelPath+"'");if("JSON"!==e.modelTopologyType)throw new Error("BrowserLocalStorage does not support loading non-JSON model topology yet.");if(t={},null==(n=JSON.parse(this.LS.getItem(this.keys.topology))))throw new Error("In local storage, the topology of model '"+this.modelPath+"' is missing.");if(t.modelTopology=n,null==(r=JSON.parse(this.LS.getItem(this.keys.weightSpecs))))throw new Error("In local storage, the weight specs of model '"+this.modelPath+"' are missing.");if(t.weightSpecs=r,null!=(i=this.LS.getItem(this.keys.modelMetadata))&&(a=JSON.parse(i),t.format=a.format,t.generatedBy=a.generatedBy,t.convertedBy=a.convertedBy,t.userDefinedMetadata=a.userDefinedMetadata),null==(o=this.LS.getItem(this.keys.weightData)))throw new Error("In local storage, the binary weight values of model '"+this.modelPath+"' are missing.");return t.weightData=function(e){if(_b){var t=Buffer.from(e,"base64");return t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength)}for(var n=atob(e),r=new Uint8Array(n.length),i=0;i<n.length;++i)r.set([n.charCodeAt(i)],i);return r.buffer}(o),[2,t]}))}))},e.URL_SCHEME="localstorage://",e}(),Zb=function(e){return ks().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(Qb.URL_SCHEME)?(t=e.slice(Qb.URL_SCHEME.length),new Qb(t)):null;var t};Ab.registerSaveRouter(Zb),Ab.registerLoadRouter(Zb);var ex=function(){function e(){Bs(ks().getBool("IS_BROWSER"),(function(){return"Current environment is not a web browser"})),Bs("undefined"==typeof window||void 0!==window.localStorage,(function(){return"Current browser does not appear to support localStorage"})),this.LS=window.localStorage}return e.prototype.listModels=function(){return Ss(this,void 0,void 0,(function(){var e,t,n,r,i,a;return Ts(this,(function(o){for(e={},t=Kb+Ub,n=Ub+Hb,r=0;r<this.LS.length;++r)(i=this.LS.key(r)).startsWith(t)&&i.endsWith(n)&&(a=$b(i),e[a]=JSON.parse(this.LS.getItem(i)));return[2,e]}))}))},e.prototype.removeModel=function(e){return Ss(this,void 0,void 0,(function(){var t,n;return Ts(this,(function(r){var i;if(e=(i=e).startsWith(Qb.URL_SCHEME)?i.slice(Qb.URL_SCHEME.length):i,t=Jb(e),null==this.LS.getItem(t.info))throw new Error("Cannot find model at path '"+e+"'");return n=JSON.parse(this.LS.getItem(t.info)),this.LS.removeItem(t.info),this.LS.removeItem(t.topology),this.LS.removeItem(t.weightSpecs),this.LS.removeItem(t.weightData),[2,n]}))}))},e}();if(ks().getBool("IS_BROWSER"))try{Rb.registerManager(Qb.URL_SCHEME,new ex)}catch(ju){}function tx(e){return new Promise((function(e){return setTimeout(e)})).then(e)}var nx=function(){function e(t){if(!ks().getBool("IS_BROWSER"))throw new Error("browserDownloads() cannot proceed because the current environment is not a browser.");t.startsWith(e.URL_SCHEME)&&(t=t.slice(e.URL_SCHEME.length)),null!=t&&0!==t.length||(t="model"),this.modelTopologyFileName=t+".json",this.weightDataFileName=t+".weights.bin"}return e.prototype.save=function(e){return Ss(this,void 0,void 0,(function(){var t,n,r,i,a,o;return Ts(this,(function(s){switch(s.label){case 0:if("undefined"==typeof document)throw new Error("Browser downloads are not supported in this environment since `document` is not present");if(t=window.URL.createObjectURL(new Blob([e.weightData],{type:"application/octet-stream"})),!(e.modelTopology instanceof ArrayBuffer))return[3,1];throw new Error("BrowserDownloads.save() does not support saving model topology in binary formats yet.");case 1:return n=[{paths:["./"+this.weightDataFileName],weights:e.weightSpecs}],r={modelTopology:e.modelTopology,format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,weightsManifest:n},i=window.URL.createObjectURL(new Blob([JSON.stringify(r)],{type:"application/json"})),(a=null==this.jsonAnchor?document.createElement("a"):this.jsonAnchor).download=this.modelTopologyFileName,a.href=i,[4,tx((function(){return a.dispatchEvent(new MouseEvent("click"))}))];case 2:return s.sent(),null==e.weightData?[3,4]:((o=null==this.weightDataAnchor?document.createElement("a"):this.weightDataAnchor).download=this.weightDataFileName,o.href=t,[4,tx((function(){return o.dispatchEvent(new MouseEvent("click"))}))]);case 3:s.sent(),s.label=4;case 4:return[2,{modelArtifactsInfo:Ib(e)}]}}))}))},e.URL_SCHEME="downloads://",e}(),rx=function(){function e(e){if(null==e||e.length<1)throw new Error("When calling browserFiles, at least 1 file is required, but received "+e);this.files=e}return e.prototype.load=function(){return Ss(this,void 0,void 0,(function(){var e,t,n=this;return Ts(this,(function(r){return e=this.files[0],t=this.files.slice(1),[2,new Promise((function(r,i){var a=new FileReader;a.onload=function(a){var o=JSON.parse(a.target.result),s=o.modelTopology;if(null!=s){0===t.length&&r({modelTopology:s});var u=o.weightsManifest;if(null!=u){var l;try{l=n.checkManifestAndWeightFiles(u,t)}catch(e){return void i(e)}var c=[],f=[],d=[];u.forEach((function(e){e.paths.forEach((function(e){f.push(e),d.push(null)})),c.push.apply(c,e.weights)})),u.forEach((function(e){e.paths.forEach((function(e){var t=new FileReader;t.onload=function(t){var n=t.target.result,i=f.indexOf(e);d[i]=n,-1===d.indexOf(null)&&r({modelTopology:s,weightSpecs:c,weightData:Pb(d),format:o.format,generatedBy:o.generatedBy,convertedBy:o.convertedBy,userDefinedMetadata:o.userDefinedMetadata})},t.onerror=function(t){return i("Failed to weights data from file of path '"+e+"'.")},t.readAsArrayBuffer(l[e])}))}))}else i(new Error("weightManifest field is missing from file "+e.name))}else i(new Error("modelTopology field is missing from file "+e.name))},a.onerror=function(t){return i("Failed to read model topology and weights manifest JSON from file '"+e.name+"'. BrowserFiles supports loading Keras-style tf.Model artifacts only.")},a.readAsText(e)}))]}))}))},e.prototype.checkManifestAndWeightFiles=function(e,t){for(var n=[],r=t.map((function(e){return Ob(e.name)})),i={},a=0,o=e;a<o.length;a++)o[a].paths.forEach((function(e){var a=Ob(e);if(-1!==n.indexOf(a))throw new Error("Duplicate file basename found in weights manifest: '"+a+"'");if(n.push(a),-1===r.indexOf(a))throw new Error("Weight file with basename '"+a+"' is not provided.");i[e]=t[r.indexOf(a)]}));if(n.length!==t.length)throw new Error("Mismatch in the number of files in weights manifest ("+n.length+") and the number of weight files provided ("+t.length+").");return i},e}();function ix(e,t,n,r){!function(e){Bs(null!=e&&Array.isArray(e)&&e.length>0,(function(){return"promises must be a none empty array"}))}(e),function(e,t){Bs(e>=0&&e<=1,(function(){return"Progress fraction must be in range [0, 1], but got startFraction "+e})),Bs(t>=0&&t<=1,(function(){return"Progress fraction must be in range [0, 1], but got endFraction "+t})),Bs(t>=e,(function(){return"startFraction must be no more than endFraction, but got startFraction "+e+" and endFraction "+t}))}(n=null==n?0:n,r=null==r?1:r);var i=0;return Promise.all(e.map((function(a){return a.then((function(a){var o=n+ ++i/e.length*(r-n);return t(o),a})),a})))}function ax(e,t){return Ss(this,void 0,void 0,(function(){var n,r,i,a,o,s,u,l,c;return Ts(this,(function(f){switch(f.label){case 0:return null==t&&(t={}),n=null==t.fetchFunc?ks().platform.fetch:t.fetchFunc,r=e.map((function(e){return n(e,t.requestInit,{isBinary:!0})})),i=0,a=.5,null!=t.onProgress?[3,2]:[4,Promise.all(r)];case 1:return o=f.sent(),[3,4];case 2:return[4,ix(r,t.onProgress,i,a)];case 3:o=f.sent(),f.label=4;case 4:return s=o.map((function(e){return e.arrayBuffer()})),u=.5,l=1,null!=t.onProgress?[3,6]:[4,Promise.all(s)];case 5:return c=f.sent(),[3,8];case 6:return[4,ix(s,t.onProgress,u,l)];case 7:c=f.sent(),f.label=8;case 8:return[2,c]}}))}))}function ox(e){var t=this;return function(n,r,i){return void 0===r&&(r=""),Ss(t,void 0,void 0,(function(){var t,a,o,s,u,l,c,f,d,p;return Ts(this,(function(h){switch(h.label){case 0:if(t=n.map((function(){return!1})),a={},o=null!=i?i.map((function(){return!1})):[],s=[],n.forEach((function(e,n){var r=0;e.weights.forEach((function(e){var u="quantization"in e?e.quantization.dtype:e.dtype,l=Sb[u]*Vs(e.shape),c=function(){t[n]=!0,null==a[n]&&(a[n]=[]),a[n].push({manifestEntry:e,groupOffset:r,sizeBytes:l})};null!=i?i.forEach((function(t,n){t===e.name&&(c(),o[n]=!0)})):c(),s.push(e.name),r+=l}))})),!o.every((function(e){return e})))throw u=i.filter((function(e,t){return!o[t]})),new Error("Could not find weights in manifest with names: "+u.join(", ")+". \nManifest JSON has weights with names: "+s.join(", ")+".");return l=t.reduce((function(e,t,n){return t&&e.push(n),e}),[]),c=[],l.forEach((function(e){n[e].paths.forEach((function(e){var t=r+(r.endsWith("/")?"":"/")+e;c.push(t)}))})),[4,e(c)];case 1:return f=h.sent(),d={},p=0,l.forEach((function(e){for(var t=n[e].paths.length,r=0,i=0;i<t;i++)r+=f[p+i].byteLength;for(var o=new ArrayBuffer(r),s=new Uint8Array(o),u=0,l=0;l<t;l++){var c=new Uint8Array(f[p+l]);s.set(c,u),u+=c.byteLength}a[e].forEach((function(e){var t=Eb(o.slice(e.groupOffset,e.groupOffset+e.sizeBytes),[e.manifestEntry]);for(var n in t)d[n]=t[n]})),p+=t})),[2,d]}}))}))}}Ab.registerSaveRouter((function(e){return ks().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(nx.URL_SCHEME)?function(e){return void 0===e&&(e="model"),new nx(e)}(e.slice(nx.URL_SCHEME.length)):null}));var sx=function(){function e(e,t){if(this.DEFAULT_METHOD="POST",null==t&&(t={}),this.weightPathPrefix=t.weightPathPrefix,this.onProgress=t.onProgress,null!=t.fetchFunc?(Bs("function"==typeof t.fetchFunc,(function(){return"Must pass a function that matches the signature of `fetch` (see https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API)"})),this.fetch=t.fetchFunc):this.fetch=ks().platform.fetch,Bs(null!=e&&e.length>0,(function(){return"URL path for http must not be null, undefined or empty."})),Array.isArray(e)&&Bs(2===e.length,(function(){return"URL paths for http must have a length of 2, (actual length is "+e.length+")."})),this.path=e,null!=t.requestInit&&null!=t.requestInit.body)throw new Error("requestInit is expected to have no pre-existing body, but has one.");this.requestInit=t.requestInit||{}}return e.prototype.save=function(e){return Ss(this,void 0,void 0,(function(){var t,n,r,i;return Ts(this,(function(a){switch(a.label){case 0:if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserHTTPRequest.save() does not support saving model topology in binary formats yet.");return(t=Object.assign({method:this.DEFAULT_METHOD},this.requestInit)).body=new FormData,n=[{paths:["./model.weights.bin"],weights:e.weightSpecs}],r={modelTopology:e.modelTopology,format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,userDefinedMetadata:e.userDefinedMetadata,weightsManifest:n},t.body.append("model.json",new Blob([JSON.stringify(r)],{type:"application/json"}),"model.json"),null!=e.weightData&&t.body.append("model.weights.bin",new Blob([e.weightData],{type:"application/octet-stream"}),"model.weights.bin"),[4,this.fetch(this.path,t)];case 1:if((i=a.sent()).ok)return[2,{modelArtifactsInfo:Ib(e),responses:[i]}];throw new Error("BrowserHTTPRequest.save() failed due to HTTP response status "+i.status+".")}}))}))},e.prototype.load=function(){return Ss(this,void 0,void 0,(function(){var e,t,n,r,i,a,o,s,u,l,c,f;return Ts(this,(function(d){switch(d.label){case 0:return[4,this.fetch(this.path,this.requestInit)];case 1:if(!(e=d.sent()).ok)throw new Error("Request to "+this.path+" failed with status code "+e.status+". Please verify this URL points to the model JSON of the model to load.");d.label=2;case 2:return d.trys.push([2,4,,5]),[4,e.json()];case 3:return t=d.sent(),[3,5];case 4:throw d.sent(),n="Failed to parse model JSON of response from "+this.path+".",this.path.endsWith(".pb")?n+=" Your path contains a .pb file extension. Support for .pb models have been removed in TensorFlow.js 1.0 in favor of .json models. You can re-convert your Python TensorFlow model using the TensorFlow.js 1.0 conversion scripts or you can convert your.pb models with the 'pb2json'NPM script in the tensorflow/tfjs-converter repository.":n+=" Please make sure the server is serving valid JSON for this request.",new Error(n);case 5:if(r=t.modelTopology,i=t.weightsManifest,a=t.generatedBy,o=t.convertedBy,s=t.format,u=t.userDefinedMetadata,null==r&&null==i)throw new Error("The JSON from HTTP path "+this.path+" contains neither model topology or manifest for weights.");return null==i?[3,7]:[4,this.loadWeights(i)];case 6:f=d.sent(),l=f[0],c=f[1],d.label=7;case 7:return[2,{modelTopology:r,weightSpecs:l,weightData:c,userDefinedMetadata:u,generatedBy:a,convertedBy:o,format:s}]}}))}))},e.prototype.loadWeights=function(e){return Ss(this,void 0,void 0,(function(){var t,n,r,i,a,o,s,u,l,c,f;return Ts(this,(function(d){switch(d.label){case 0:for(t=Array.isArray(this.path)?this.path[1]:this.path,n=function(e){var t=e.lastIndexOf("/"),n=e.lastIndexOf("?");return[e.substring(0,t)+"/",n>t?e.substring(n):""]}(t),r=n[0],i=n[1],a=this.weightPathPrefix||r,o=[],s=0,u=e;s<u.length;s++)l=u[s],o.push.apply(o,l.weights);return c=[],e.forEach((function(e){e.paths.forEach((function(e){c.push(a+e+i)}))})),[4,ax(c,{requestInit:this.requestInit,fetchFunc:this.fetch,onProgress:this.onProgress})];case 1:return f=d.sent(),[2,[o,Pb(f)]]}}))}))},e.URL_SCHEME_REGEX=/^https?:\/\//,e}();function ux(e){return null!=e.match(sx.URL_SCHEME_REGEX)}var lx=function(e,t){return"undefined"==typeof fetch?null:(Array.isArray(e)?e.every((function(e){return ux(e)})):ux(e))?cx(e,{onProgress:t}):null};function cx(e,t){return new sx(e,t)}Ab.registerSaveRouter(lx),Ab.registerLoadRouter(lx);var fx,dx=function(){function e(e){this.modelArtifacts=e}return e.prototype.load=function(){return Ss(this,void 0,void 0,(function(){return Ts(this,(function(e){return[2,this.modelArtifacts]}))}))},e}(),px=function(){function e(e){this.saveHandler=e}return e.prototype.save=function(e){return Ss(this,void 0,void 0,(function(){return Ts(this,(function(t){return[2,this.saveHandler(e)]}))}))},e}(),hx=Object.freeze({browserFiles:function(e){return new rx(e)},browserHTTPRequest:function(e,t){return cx(e,t)},concatenateArrayBuffers:Pb,decodeWeights:Eb,encodeWeights:function(e,t){return Ss(this,void 0,void 0,(function(){var n,r,i,a,o,s=this;return Ts(this,(function(u){switch(u.label){case 0:for(n=[],r=[],i=Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e),a=function(a){var o=i[a],u=Array.isArray(e)?e[a].tensor:e[o];if("float32"!==u.dtype&&"int32"!==u.dtype&&"bool"!==u.dtype&&"string"!==u.dtype)throw new Error("Unsupported dtype in weight '"+o+"': "+u.dtype);var l={name:o,shape:u.shape,dtype:u.dtype};if("string"===u.dtype){var c=new Promise((function(e){return Ss(s,void 0,void 0,(function(){var t,n,r,i,a,o,s;return Ts(this,(function(l){switch(l.label){case 0:return[4,u.bytes()];case 1:for(t=l.sent(),n=t.reduce((function(e,t){return e+t.length}),0)+Tb*t.length,r=new Uint8Array(n),i=0,a=0;a<t.length;a++)o=t[a],s=new Uint8Array(new Uint32Array([o.length]).buffer),r.set(s,i),i+=Tb,r.set(o,i),i+=o.length;return e(r),[2]}}))}))}));r.push(c)}else r.push(u.data());null!=t&&(l.group=t),n.push(l)},o=0;o<i.length;++o)a(o);return[4,Promise.all(r)];case 1:return[2,{data:kb(u.sent()),specs:n}]}}))}))},fromMemory:function(e,t,n,r){return 1===arguments.length?null!=e.modelTopology||null!=e.weightSpecs?new dx(e):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new dx({modelTopology:e})):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new dx({modelTopology:e,weightSpecs:t,weightData:n,trainingConfig:r}))},getLoadHandlers:function(e,t){return Ab.getLoadHandlers(e,t)},getModelArtifactsInfoForJSON:Ib,getSaveHandlers:function(e){return Ab.getSaveHandlers(e)},http:cx,isHTTPScheme:ux,loadWeights:function(e,t,n,r){return void 0===t&&(t=""),Ss(this,void 0,void 0,(function(){return Ts(this,(function(i){return[2,ox((function(e){return ax(e,{requestInit:r})}))(e,t,n)]}))}))},registerLoadRouter:function(e){return Ab.registerLoadRouter(e)},registerSaveRouter:function(e){return Ab.registerSaveRouter(e)},weightsLoaderFactory:ox,withSaveHandler:function(e){return new px(e)},copyModel:function(e,t){return Ss(this,void 0,void 0,(function(){return Ts(this,(function(n){return[2,Mb(e,t,!1)]}))}))},listModels:function(){return Ss(this,void 0,void 0,(function(){var e,t,n,r,i,a,o;return Ts(this,(function(s){switch(s.label){case 0:e=Rb.getSchemes(),t={},n=0,r=e,s.label=1;case 1:return n<r.length?(i=r[n],[4,Rb.getManager(i).listModels()]):[3,4];case 2:for(o in a=s.sent())t[i+Db+o]=a[o];s.label=3;case 3:return n++,[3,1];case 4:return[2,t]}}))}))},moveModel:function(e,t){return Ss(this,void 0,void 0,(function(){return Ts(this,(function(n){return[2,Mb(e,t,!0)]}))}))},removeModel:function(e){return Ss(this,void 0,void 0,(function(){var t;return Ts(this,(function(n){return t=Nb(e),[2,Rb.getManager(t.scheme).removeModel(t.path)]}))}))}}),vx=bc({confusionMatrix_:function(e,t,n){var r=sc(e,"labels","confusionMatrix"),i=sc(t,"predictions","confusionMatrix");Bs(null==n||n>0&&Number.isInteger(n),(function(){return"If provided, numClasses must be a positive integer, but got "+n})),Bs(1===r.rank,(function(){return"Expected the rank of labels to be 1, but got "+r.rank})),Bs(1===i.rank,(function(){return"Expected the rank of predictions to be 1, but got "+i.rank})),Bs(r.shape[0]===i.shape[0],(function(){return"Mismatch in the number of examples: "+r.shape[0]+" vs. "+i.shape[0]+". Labels and predictions should have the same number of elements."})),Bs(n>0&&Number.isInteger(n),(function(){return"numClasses is required to be a positive integer, but got "+n}));var a=ff(r.asType("int32"),n),o=ff(i.asType("int32"),n);return a.transpose().matMul(o).asType("int32")}}),yx=(Object.freeze({confusionMatrix:vx}),bc({fromPixels_:function(e,t){if(void 0===t&&(t=3),t>4)throw new Error("Cannot construct Tensor with more than 4 channels from pixels.");if(null==e)throw new Error("pixels passed to tf.browser.fromPixels() can not be null");var n=!1,r=!1,i=!1,a=!1,o=!1;if(e.data instanceof Uint8Array)n=!0;else if("undefined"!=typeof ImageData&&e instanceof ImageData)r=!0;else if("undefined"!=typeof HTMLVideoElement&&e instanceof HTMLVideoElement)i=!0;else if("undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement)a=!0;else{if(null==e.getContext)throw new Error("pixels passed to tf.browser.fromPixels() must be either an HTMLVideoElement, HTMLImageElement, HTMLCanvasElement, ImageData in browser, or OffscreenCanvas, ImageData in webworker or {data: Uint32Array, width: number, height: number}, but was "+e.constructor.name);o=!0}if(i&&i&&e.readyState<2)throw new Error("The video element has not loaded data yet. Please wait for `loadeddata` event on the <video> element.");if(null!=Os("FromPixels",Ju.backendName))return Ju.runKernel("FromPixels",{pixels:e},{numChannels:t});var s,u,l=i?[e.videoWidth,e.videoHeight]:[e.width,e.height],c=l[0],f=l[1];if(o?s=e.getContext("2d").getImageData(0,0,c,f).data:r||n?s=e.data:(a||i)&&(null==fx&&(fx=document.createElement("canvas").getContext("2d")),fx.canvas.width=c,fx.canvas.height=f,fx.drawImage(e,0,0,c,f),s=fx.getImageData(0,0,c,f).data),4===t)u=new Int32Array(s);else{var d=c*f;u=new Int32Array(d*t);for(var p=0;p<d;p++)for(var h=0;h<t;++h)u[p*t+h]=s[4*p+h]}return Pc(u,[f,c,t],"int32")}})),mx=Object.freeze({toPixels:function(e,t){return Ss(this,void 0,void 0,(function(){var n,r,i,a,o,s,u,l,c,f,d,p,h,v,y,m,g,b,x,w,S,T,E;return Ts(this,(function(k){switch(k.label){case 0:if(n=sc(e,"img","toPixels"),e instanceof Ru||(n=n.toInt()),2!==n.rank&&3!==n.rank)throw new Error("toPixels only supports rank 2 or 3 tensors, got rank "+n.rank+".");if(r=n.shape.slice(0,2),i=r[0],a=r[1],(o=2===n.rank?1:n.shape[2])>4||2===o)throw new Error("toPixels only supports depth of size 1, 3 or 4 but got "+o);return[4,n.data()];case 1:return s=k.sent(),u=n.min(),l=n.max(),[4,Promise.all([u.data(),l.data()])];case 2:if(c=k.sent(),f=c[0],d=c[1],p=f[0],h=d[0],u.dispose(),l.dispose(),"float32"===n.dtype){if(p<0||h>1)throw new Error("Tensor values for a float32 Tensor must be in the range [0 - 1] but got range ["+p+" - "+h+"].")}else{if("int32"!==n.dtype)throw new Error("Unsupported type for toPixels: "+n.dtype+". Please use float32 or int32 tensors.");if(p<0||h>255)throw new Error("Tensor values for a int32 Tensor must be in the range [0 - 255] but got range ["+p+" - "+h+"].")}for(v="float32"===n.dtype?255:1,y=new Uint8ClampedArray(a*i*4),m=0;m<i*a;++m)g=void 0,b=void 0,x=void 0,w=void 0,1===o?(g=s[m]*v,b=s[m]*v,x=s[m]*v,w=255):3===o?(g=s[3*m]*v,b=s[3*m+1]*v,x=s[3*m+2]*v,w=255):4===o&&(g=s[4*m]*v,b=s[4*m+1]*v,x=s[4*m+2]*v,w=s[4*m+3]*v),y[0+(S=4*m)]=Math.round(g),y[S+1]=Math.round(b),y[S+2]=Math.round(x),y[S+3]=Math.round(w);return null!=t&&(t.width=a,t.height=i,T=t.getContext("2d"),E=new ImageData(y,a,i),T.putImageData(E,0,0)),n!==e&&n.dispose(),[2,y]}}))}))},fromPixels:yx}),gx=function(){function e(){}return e.prototype.getClassName=function(){return this.constructor.className},e.fromConfig=function(e,t){return new e(t)},e}(),bx=function(){function e(){this.classNameMap={}}return e.getMap=function(){return null==e.instance&&(e.instance=new e),e.instance},e.register=function(t){e.getMap().classNameMap[t.className]=[t,t.fromConfig]},e}();function xx(e){Bs(null!=e.className,(function(){return"Class being registered does not have the static className property defined."})),Bs("string"==typeof e.className,(function(){return"className is required to be a string, but got type "+typeof e.className})),Bs(e.className.length>0,(function(){return"Class being registered has an empty-string as its className, which is disallowed."})),bx.register(e)}Object.freeze({Serializable:gx,SerializationMap:bx,registerClass:xx});function wx(){return 32===Ju.backend.floatPrecision()?.001:.1}function Sx(e,t,n){var r=!0;if((ru(e)||ru(t))&&(r=!1),ru(e)&&ru(t)&&(r=!0),r){var i=e.constructor.name,a=t.constructor.name;if(i!==a)throw new Error("Arrays are of different type. Actual: "+i+". Expected: "+a)}if(Array.isArray(e)&&Array.isArray(t)){var o=ac(e),s=ac(t);if(!Us(o,s))throw new Error("Arrays have different shapes. Actual: ["+o+"]. Expected: ["+s+"]")}var u=ru(e)?e:Ws(e),l=ru(t)?t:Ws(t);if(u.length!==l.length)throw new Error("Arrays have different lengths actual: "+u.length+" vs expected: "+l.length+".\nActual:   "+u+".\nExpected: "+l+".");for(var c=0;c<l.length;++c){var f=u[c],d=l[c];if(!n(f,d))throw new Error("Arrays differ: actual["+c+"] = "+f+", expected["+c+"] = "+d+".\nActual:   "+u+".\nExpected: "+l+".")}}function Tx(e,t,n){return!isFinite(e)&&!isFinite(t)||!(isNaN(e)||isNaN(t)||Math.abs(e-t)>n)}Object.freeze({TEST_EPSILON_FLOAT16:.1,expectArraysClose:function(e,t,n){return null==n&&(n=wx()),Sx(e,t,(function(e,t){return Tx(e,t,n)}))},testEpsilon:wx,expectPromiseToFail:function(e,t){e().then((function(){return t.fail()}),(function(){return t()}))},expectArraysEqual:function(e,t){var n="string"==typeof t||"number"==typeof t||"boolean"==typeof t?[t]:t;return ou(e)||ou(e[0])||ou(t)||ou(t[0])?Sx(e,n,(function(e,t){return e==t})):Sx(e,t,(function(e,t){return Tx(e,t,0)}))},expectNumbersClose:function(e,t,n){if(null==n&&(n=wx()),!Tx(e,t,n))throw new Error("Numbers differ: actual === "+e+", expected === "+t)},expectValuesInRange:function(e,t,n){for(var r=0;r<e.length;r++)if(e[r]<t||e[r]>n)throw new Error("Value out of range:"+e[r]+" low: "+t+", high: "+n)},expectArrayBuffersEqual:function(e,t){expect(new Float32Array(e)).toEqual(new Float32Array(t))}}),Object.freeze({gpgpu_util:ah,webgl_util:Zl,forceHalfFloat:function(){ks().set("WEBGL_FORCE_F16_TEXTURES",!0)},MathBackendWebGL:xv,setWebGLContext:il,GPGPUContext:oh});var Ex=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ws(t,e),t.prototype.minimize=function(e,t,n){void 0===t&&(t=!1);var r=this.computeGradients(e,n),i=r.value,a=r.grads;if(null!=n){var o=n.map((function(e){return{name:e.name,tensor:a[e.name]}}));this.applyGradients(o)}else this.applyGradients(a);return rc(a),t?i:(i.dispose(),null)},Object.defineProperty(t.prototype,"iterations",{get:function(){return null==this.iterations_&&(this.iterations_=0),this.iterations_},enumerable:!0,configurable:!0}),t.prototype.incrementIterations=function(){this.iterations_=this.iterations+1},t.prototype.computeGradients=function(e,t){return function(e,t){Bs(cu(e),(function(){return"The f passed in variableGrads(f) must be a function"})),Bs(null==t||Array.isArray(t)&&t.every((function(e){return e instanceof zu})),(function(){return"The varList passed in variableGrads(f, varList) must be an array of variables"}));var n=null!=t;if(!n)for(var r in t=[],Ju.registeredVariables)t.push(Ju.registeredVariables[r]);var i=n?t.filter((function(e){return!e.trainable})):null,a=t.length;Bs((t=t.filter((function(e){return e.trainable}))).length>0,(function(){return"variableGrads() expects at least one of the input variables to be trainable, but none of the "+a+" variables is trainable."}));var o=Ju.gradients(e,t,null,!0),s=o.value,u=o.grads;Bs(u.some((function(e){return null!=e})),(function(){return"Cannot find a connection between any variable and the result of the loss function y=f(x). Please make sure the operations that use variables are inside the function f passed to minimize()."})),Bs(0===s.rank,(function(){return"The f passed in variableGrads(f) must return a scalar, but it returned a rank-"+s.rank+" tensor"}));var l={};return t.forEach((function(e,t){null!=u[t]&&(l[e.name]=u[t])})),null!=i&&i.forEach((function(e){return l[e.name]=null})),{value:s,grads:l}}(e,t)},t.prototype.dispose=function(){null!=this.iterations_&&rc(this.iterations_)},t.prototype.saveIterations=function(){return Ss(this,void 0,void 0,(function(){return Ts(this,(function(e){return null==this.iterations_&&(this.iterations_=0),[2,{name:"iter",tensor:kc(this.iterations_,"int32")}]}))}))},t.prototype.getWeights=function(){return Ss(this,void 0,void 0,(function(){return Ts(this,(function(e){throw new Error("getWeights() is not implemented for this optimizer yet.")}))}))},t.prototype.setWeights=function(e){return Ss(this,void 0,void 0,(function(){return Ts(this,(function(e){throw new Error("setWeights() is not implemented for this optimizer class "+this.getClassName())}))}))},t.prototype.extractIterations=function(e){return Ss(this,void 0,void 0,(function(){var t;return Ts(this,(function(n){switch(n.label){case 0:return t=this,[4,e[0].tensor.data()];case 1:return t.iterations_=n.sent()[0],[2,e.slice(1)]}}))}))},t}(gx);Object.defineProperty(Ex,Symbol.hasInstance,{value:function(e){return null!=e.minimize&&null!=e.computeGradients&&null!=e.applyGradients}});var kx=function(e){function t(t,n,r){void 0===r&&(r=null);var i=e.call(this)||this;return i.learningRate=t,i.rho=n,i.epsilon=r,i.accumulatedGrads=[],i.accumulatedUpdates=[],null==r&&(i.epsilon=Ju.backend.epsilon()),i}return ws(t,e),t.prototype.applyGradients=function(e){var t=this;(Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e)).forEach((function(n,r){var i=Ju.registeredVariables[n];null==t.accumulatedGrads[r]&&(t.accumulatedGrads[r]={originalName:n+"/accum_grad",variable:nc((function(){return Mc(i).variable(!1)}))}),null==t.accumulatedUpdates[r]&&(t.accumulatedUpdates[r]={originalName:n+"/accum_var",variable:nc((function(){return Mc(i).variable(!1)}))});var a=Array.isArray(e)?e[r].tensor:e[n];if(null!=a){var o=t.accumulatedGrads[r].variable,s=t.accumulatedUpdates[r].variable;nc((function(){var e=o.mul(t.rho).add(a.square().mul(1-t.rho)),n=s.add(t.epsilon).sqrt().div(o.add(t.epsilon).sqrt()).mul(a),r=s.mul(t.rho).add(n.square().mul(1-t.rho));o.assign(e),s.assign(r);var u=n.mul(-t.learningRate).add(i);i.assign(u)}))}})),this.incrementIterations()},t.prototype.dispose=function(){null!=this.accumulatedUpdates&&(rc(this.accumulatedGrads.map((function(e){return e.variable}))),rc(this.accumulatedUpdates.map((function(e){return e.variable}))))},t.prototype.getWeights=function(){return Ss(this,void 0,void 0,(function(){var e;return Ts(this,(function(t){switch(t.label){case 0:return e=this.accumulatedGrads.concat(this.accumulatedUpdates),[4,this.saveIterations()];case 1:return[2,[t.sent()].concat(e.map((function(e){return{name:e.originalName,tensor:e.variable}})))]}}))}))},t.prototype.setWeights=function(e){return Ss(this,void 0,void 0,(function(){var t;return Ts(this,(function(n){switch(n.label){case 0:return[4,this.extractIterations(e)];case 1:return e=n.sent(),t=e.length/2,this.accumulatedGrads=e.slice(0,t).map((function(e){return{originalName:e.name,variable:e.tensor.variable(!1)}})),this.accumulatedUpdates=e.slice(t,2*t).map((function(e){return{originalName:e.name,variable:e.tensor.variable(!1)}})),[2]}}))}))},t.prototype.getConfig=function(){return{learningRate:this.learningRate,rho:this.rho,epsilon:this.epsilon}},t.fromConfig=function(e,t){return new e(t.learningRate,t.rho,t.epsilon)},t.className="Adadelta",t}(Ex);xx(kx);var _x=function(e){function t(t,n){void 0===n&&(n=.1);var r=e.call(this)||this;return r.learningRate=t,r.initialAccumulatorValue=n,r.accumulatedGrads=[],r}return ws(t,e),t.prototype.applyGradients=function(e){var t=this;(Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e)).forEach((function(n,r){var i=Ju.registeredVariables[n];null==t.accumulatedGrads[r]&&(t.accumulatedGrads[r]={originalName:n+"/accumulator",variable:nc((function(){return Dc(i.shape,t.initialAccumulatorValue).variable(!1)}))});var a=Array.isArray(e)?e[r].tensor:e[n];if(null!=a){var o=t.accumulatedGrads[r].variable;nc((function(){var e=o.add(a.square());o.assign(e);var n=a.div(e.add(Ju.backend.epsilon()).sqrt()).mul(-t.learningRate).add(i);i.assign(n)}))}})),this.incrementIterations()},t.prototype.dispose=function(){null!=this.accumulatedGrads&&rc(this.accumulatedGrads.map((function(e){return e.variable})))},t.prototype.getWeights=function(){return Ss(this,void 0,void 0,(function(){return Ts(this,(function(e){switch(e.label){case 0:return[4,this.saveIterations()];case 1:return[2,[e.sent()].concat(this.accumulatedGrads.map((function(e){return{name:e.originalName,tensor:e.variable}})))]}}))}))},t.prototype.setWeights=function(e){return Ss(this,void 0,void 0,(function(){return Ts(this,(function(t){switch(t.label){case 0:return[4,this.extractIterations(e)];case 1:return e=t.sent(),this.accumulatedGrads=e.map((function(e){return{originalName:e.name,variable:e.tensor.variable(!1)}})),[2]}}))}))},t.prototype.getConfig=function(){return{learningRate:this.learningRate,initialAccumulatorValue:this.initialAccumulatorValue}},t.fromConfig=function(e,t){return new e(t.learningRate,t.initialAccumulatorValue)},t.className="Adagrad",t}(Ex);xx(_x);var Cx=function(e){function t(t,n,r,i){void 0===i&&(i=null);var a=e.call(this)||this;return a.learningRate=t,a.beta1=n,a.beta2=r,a.epsilon=i,a.accumulatedFirstMoment=[],a.accumulatedSecondMoment=[],nc((function(){a.accBeta1=kc(n).variable(),a.accBeta2=kc(r).variable()})),null==i&&(a.epsilon=Ju.backend.epsilon()),a}return ws(t,e),t.prototype.applyGradients=function(e){var t=this,n=Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e);nc((function(){var r=Uy(1,t.accBeta1),i=Uy(1,t.accBeta2);n.forEach((function(n,a){var o=Ju.registeredVariables[n];null==t.accumulatedFirstMoment[a]&&(t.accumulatedFirstMoment[a]={originalName:n+"/m",variable:nc((function(){return Mc(o).variable(!1)}))}),null==t.accumulatedSecondMoment[a]&&(t.accumulatedSecondMoment[a]={originalName:n+"/v",variable:nc((function(){return Mc(o).variable(!1)}))});var s=Array.isArray(e)?e[a].tensor:e[n];if(null!=s){var u=t.accumulatedFirstMoment[a].variable,l=t.accumulatedSecondMoment[a].variable,c=u.mul(t.beta1).add(s.mul(1-t.beta1)),f=l.mul(t.beta2).add(s.square().mul(1-t.beta2)),d=c.div(r),p=f.div(i);u.assign(c),l.assign(f);var h=d.div(p.sqrt().add(t.epsilon)).mul(-t.learningRate).add(o);o.assign(h)}})),t.accBeta1.assign(t.accBeta1.mul(t.beta1)),t.accBeta2.assign(t.accBeta2.mul(t.beta2))})),this.incrementIterations()},t.prototype.dispose=function(){this.accBeta1.dispose(),this.accBeta2.dispose(),null!=this.accumulatedFirstMoment&&rc(this.accumulatedFirstMoment.map((function(e){return e.variable}))),null!=this.accumulatedSecondMoment&&rc(this.accumulatedSecondMoment.map((function(e){return e.variable})))},t.prototype.getWeights=function(){return Ss(this,void 0,void 0,(function(){var e;return Ts(this,(function(t){switch(t.label){case 0:return e=this.accumulatedFirstMoment.concat(this.accumulatedSecondMoment),[4,this.saveIterations()];case 1:return[2,[t.sent()].concat(e.map((function(e){return{name:e.originalName,tensor:e.variable}})))]}}))}))},t.prototype.setWeights=function(e){return Ss(this,void 0,void 0,(function(){var t,n=this;return Ts(this,(function(r){switch(r.label){case 0:return[4,this.extractIterations(e)];case 1:return e=r.sent(),nc((function(){n.accBeta1.assign(zy(n.beta1,n.iterations_+1)),n.accBeta2.assign(zy(n.beta2,n.iterations_+1))})),t=e.length/2,this.accumulatedFirstMoment=e.slice(0,t).map((function(e){return{originalName:e.name,variable:e.tensor.variable(!1)}})),this.accumulatedSecondMoment=e.slice(t,2*t).map((function(e){return{originalName:e.name,variable:e.tensor.variable(!1)}})),[2]}}))}))},t.prototype.getConfig=function(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon}},t.fromConfig=function(e,t){return new e(t.learningRate,t.beta1,t.beta2,t.epsilon)},t.className="Adam",t}(Ex);xx(Cx);var Px=function(e){function t(t,n,r,i,a){void 0===i&&(i=null),void 0===a&&(a=0);var o=e.call(this)||this;return o.learningRate=t,o.beta1=n,o.beta2=r,o.epsilon=i,o.decay=a,o.accumulatedFirstMoment=[],o.accumulatedWeightedInfNorm=[],nc((function(){o.iteration=kc(0).variable(),o.accBeta1=kc(n).variable()})),null==i&&(o.epsilon=Ju.backend.epsilon()),o}return ws(t,e),t.prototype.applyGradients=function(e){var t=this,n=Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e);nc((function(){var r=Uy(1,t.accBeta1),i=Py(-t.learningRate,t.iteration.mul(t.decay).add(1));n.forEach((function(n,a){var o=Ju.registeredVariables[n];null==t.accumulatedFirstMoment[a]&&(t.accumulatedFirstMoment[a]={originalName:n+"/m",variable:Mc(o).variable(!1)}),null==t.accumulatedWeightedInfNorm[a]&&(t.accumulatedWeightedInfNorm[a]={originalName:n+"/v",variable:Mc(o).variable(!1)});var s=Array.isArray(e)?e[a].tensor:e[n];if(null!=s){var u=t.accumulatedFirstMoment[a].variable,l=t.accumulatedWeightedInfNorm[a].variable,c=u.mul(t.beta1).add(s.mul(1-t.beta1)),f=l.mul(t.beta2),d=s.abs(),p=f.maximum(d);u.assign(c),l.assign(p);var h=i.div(r).mul(c.div(p.add(t.epsilon))).add(o);o.assign(h)}})),t.iteration.assign(t.iteration.add(1)),t.accBeta1.assign(t.accBeta1.mul(t.beta1))})),this.incrementIterations()},t.prototype.dispose=function(){this.accBeta1.dispose(),this.iteration.dispose(),null!=this.accumulatedFirstMoment&&rc(this.accumulatedFirstMoment.map((function(e){return e.variable}))),null!=this.accumulatedWeightedInfNorm&&rc(this.accumulatedWeightedInfNorm.map((function(e){return e.variable})))},t.prototype.getWeights=function(){return Ss(this,void 0,void 0,(function(){return Ts(this,(function(e){throw new Error("getWeights() is not implemented for Adamax yet.")}))}))},t.prototype.setWeights=function(e){return Ss(this,void 0,void 0,(function(){return Ts(this,(function(e){throw new Error("setWeights() is not implemented for Adamax yet.")}))}))},t.prototype.getConfig=function(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon,decay:this.decay}},t.fromConfig=function(e,t){return new e(t.learningRate,t.beta1,t.beta2,t.epsilon,t.decay)},t.className="Adamax",t}(Ex);xx(Px);var Ox=function(e){function t(t){var n=e.call(this)||this;return n.learningRate=t,n.setLearningRate(t),n}return ws(t,e),t.prototype.applyGradients=function(e){var t=this;(Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e)).forEach((function(n,r){var i=Array.isArray(e)?e[r].tensor:e[n];if(null!=i){var a=Ju.registeredVariables[n];nc((function(){var e=t.c.mul(i).add(a);a.assign(e)}))}})),this.incrementIterations()},t.prototype.setLearningRate=function(e){this.learningRate=e,null!=this.c&&this.c.dispose(),this.c=function(e){return Ju.keep(e)}(kc(-e))},t.prototype.dispose=function(){this.c.dispose()},t.prototype.getWeights=function(){return Ss(this,void 0,void 0,(function(){return Ts(this,(function(e){switch(e.label){case 0:return[4,this.saveIterations()];case 1:return[2,[e.sent()]]}}))}))},t.prototype.setWeights=function(e){return Ss(this,void 0,void 0,(function(){return Ts(this,(function(t){switch(t.label){case 0:return[4,this.extractIterations(e)];case 1:if(0!==(e=t.sent()).length)throw new Error("SGD optimizer does not have settable weights.");return[2]}}))}))},t.prototype.getConfig=function(){return{learningRate:this.learningRate}},t.fromConfig=function(e,t){return new e(t.learningRate)},t.className="SGD",t}(Ex);xx(Ox);var Ix=function(e){function t(t,n,r){void 0===r&&(r=!1);var i=e.call(this,t)||this;return i.learningRate=t,i.momentum=n,i.useNesterov=r,i.accumulations=[],i.m=kc(i.momentum),i}return ws(t,e),t.prototype.applyGradients=function(e){var t=this;(Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e)).forEach((function(n,r){var i=Ju.registeredVariables[n];null==t.accumulations[r]&&(t.accumulations[r]={originalName:n+"/momentum",variable:nc((function(){return Mc(i).variable(!1)}))});var a=t.accumulations[r].variable,o=Array.isArray(e)?e[r].tensor:e[n];null!=o&&nc((function(){var e,n=t.m.mul(a).add(o);e=t.useNesterov?t.c.mul(o.add(n.mul(t.m))).add(i):t.c.mul(n).add(i),a.assign(n),i.assign(e)}))})),this.incrementIterations()},t.prototype.dispose=function(){this.m.dispose(),null!=this.accumulations&&rc(this.accumulations.map((function(e){return e.variable})))},t.prototype.setMomentum=function(e){this.momentum=e},t.prototype.getWeights=function(){return Ss(this,void 0,void 0,(function(){return Ts(this,(function(e){switch(e.label){case 0:return[4,this.saveIterations()];case 1:return[2,[e.sent()].concat(this.accumulations.map((function(e){return{name:e.originalName,tensor:e.variable}})))]}}))}))},t.prototype.setWeights=function(e){return Ss(this,void 0,void 0,(function(){return Ts(this,(function(t){switch(t.label){case 0:return[4,this.extractIterations(e)];case 1:return e=t.sent(),this.accumulations=e.map((function(e){return{originalName:e.name,variable:e.tensor.variable(!1)}})),[2]}}))}))},t.prototype.getConfig=function(){return{learningRate:this.learningRate,momentum:this.momentum,useNesterov:this.useNesterov}},t.fromConfig=function(e,t){return new e(t.learningRate,t.momentum,t.useNesterov)},t.className="Momentum",t}(Ox);xx(Ix);var Ax=function(e){function t(t,n,r,i,a){void 0===n&&(n=.9),void 0===r&&(r=0),void 0===i&&(i=null),void 0===a&&(a=!1);var o=e.call(this)||this;if(o.learningRate=t,o.decay=n,o.momentum=r,o.epsilon=i,o.accumulatedMeanSquares=[],o.accumulatedMoments=[],o.accumulatedMeanGrads=[],o.centered=a,null==i&&(o.epsilon=Ju.backend.epsilon()),null==t)throw new Error("learningRate for RMSPropOptimizer must be defined.");return o}return ws(t,e),t.prototype.applyGradients=function(e){var t=this;(Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e)).forEach((function(n,r){var i=Ju.registeredVariables[n];null==t.accumulatedMeanSquares[r]&&(t.accumulatedMeanSquares[r]={originalName:n+"/rms",variable:nc((function(){return Mc(i).variable(!1)}))}),null==t.accumulatedMoments[r]&&(t.accumulatedMoments[r]={originalName:n+"/momentum",variable:nc((function(){return Mc(i).variable(!1)}))}),null==t.accumulatedMeanGrads[r]&&t.centered&&(t.accumulatedMeanGrads[r]={originalName:n+"/mg",variable:nc((function(){return Mc(i).variable(!1)}))});var a=Array.isArray(e)?e[r].tensor:e[n];if(null!=a){var o=t.accumulatedMeanSquares[r].variable,s=t.accumulatedMoments[r].variable;nc((function(){var e=o.mul(t.decay).add(a.square().mul(1-t.decay));if(t.centered){var n=t.accumulatedMeanGrads[r].variable,u=n.mul(t.decay).add(a.mul(1-t.decay)),l=s.mul(t.momentum).add(a.mul(t.learningRate).div(e.sub(u.square().add(t.epsilon)).sqrt()));o.assign(e),n.assign(u),s.assign(l);var c=i.sub(l);i.assign(c)}else{var f=o.mul(t.decay).add(a.square().mul(1-t.decay));l=s.mul(t.momentum).add(a.mul(t.learningRate).div(f.add(t.epsilon).sqrt())),o.assign(f),s.assign(l),c=i.sub(l),i.assign(c)}}))}})),this.incrementIterations()},t.prototype.dispose=function(){null!=this.accumulatedMeanSquares&&rc(this.accumulatedMeanSquares.map((function(e){return e.variable}))),null!=this.accumulatedMeanGrads&&this.centered&&rc(this.accumulatedMeanGrads.map((function(e){return e.variable}))),null!=this.accumulatedMoments&&rc(this.accumulatedMoments.map((function(e){return e.variable})))},t.prototype.getWeights=function(){return Ss(this,void 0,void 0,(function(){var e;return Ts(this,(function(t){switch(t.label){case 0:return e=this.accumulatedMeanSquares.concat(this.accumulatedMoments),this.centered&&e.push.apply(e,this.accumulatedMeanGrads),[4,this.saveIterations()];case 1:return[2,[t.sent()].concat(e.map((function(e){return{name:e.originalName,tensor:e.variable}})))]}}))}))},t.prototype.setWeights=function(e){return Ss(this,void 0,void 0,(function(){var t;return Ts(this,(function(n){switch(n.label){case 0:return[4,this.extractIterations(e)];case 1:return e=n.sent(),t=this.centered?e.length/3:e.length/2,this.accumulatedMeanSquares=e.slice(0,t).map((function(e){return{originalName:e.name,variable:e.tensor.variable(!1)}})),this.accumulatedMoments=e.slice(t,2*t).map((function(e){return{originalName:e.name,variable:e.tensor.variable(!1)}})),this.centered&&(this.accumulatedMeanGrads=e.slice(2*t,3*t).map((function(e){return{originalName:e.name,variable:e.tensor.variable(!1)}}))),[2]}}))}))},t.prototype.getConfig=function(){return{learningRate:this.learningRate,decay:this.decay,momentum:this.momentum,epsilon:this.epsilon,centered:this.centered}},t.fromConfig=function(e,t){return new e(t.learningRate,t.decay,t.momentum,t.epsilon,t.centered)},t.className="RMSProp",t}(Ex);xx(Ax);var Dx=function(){function e(){}return e.sgd=function(e){return new Ox(e)},e.momentum=function(e,t,n){return void 0===n&&(n=!1),new Ix(e,t,n)},e.rmsprop=function(e,t,n,r,i){return void 0===t&&(t=.9),void 0===n&&(n=0),void 0===r&&(r=null),void 0===i&&(i=!1),new Ax(e,t,n,r,i)},e.adam=function(e,t,n,r){return void 0===e&&(e=.001),void 0===t&&(t=.9),void 0===n&&(n=.999),void 0===r&&(r=null),new Cx(e,t,n,r)},e.adadelta=function(e,t,n){return void 0===e&&(e=.001),void 0===t&&(t=.95),void 0===n&&(n=null),new kx(e,t,n)},e.adamax=function(e,t,n,r,i){return void 0===e&&(e=.002),void 0===t&&(t=.9),void 0===n&&(n=.999),void 0===r&&(r=null),void 0===i&&(i=0),new Px(e,t,n,r,i)},e.adagrad=function(e,t){return void 0===t&&(t=.1),new _x(e,t)},e}();Dx.sgd,Dx.momentum,Dx.adadelta,Dx.adagrad,Dx.rmsprop,Dx.adamax,Dx.adam,"undefined"!=typeof requestAnimationFrame?requestAnimationFrame:"undefined"!=typeof setImmediate&&setImmediate;function Rx(e,t,n){if(void 0===n&&(n=!1),e.beginPath(),t.slice(1).forEach((function(n,r){var i=n.x,a=n.y,o=t[r];e.moveTo(o.x,o.y),e.lineTo(i,a)})),n){var r=t[t.length-1],i=t[0];if(!r||!i)return;e.moveTo(r.x,r.y),e.lineTo(i.x,i.y)}e.stroke()}Ru.prototype.squaredDifference=function(e){return Tv(this,e)},Au=ob;var Nx=function(e,t){return Nx=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},Nx(e,t)};function Mx(e,t){function n(){this.constructor=e}Nx(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var Fx=function(){return Fx=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Fx.apply(this,arguments)};function Lx(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{u(r.next(e))}catch(ws){a(ws)}}function s(e){try{u(r.throw(e))}catch(ws){a(ws)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}u((r=r.apply(e,t||[])).next())}))}function Bx(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(ws){a=[6,ws],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}function jx(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var a=arguments[t],o=0,s=a.length;o<s;o++,i++)r[i]=a[o];return r}var zx=function(){function e(e,t){if(!Yx(e)||!Yx(t))throw new Error("Dimensions.constructor - expected width and height to be valid numbers, instead have "+JSON.stringify({width:e,height:t}));this._width=e,this._height=t}return Object.defineProperty(e.prototype,"width",{get:function(){return this._width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},enumerable:!0,configurable:!0}),e.prototype.reverse=function(){return new e(1/this.width,1/this.height)},e}();function Wx(e,t){return e instanceof Ru&&e.shape.length===t}function Vx(e){return Wx(e,3)}function Ux(e){return Wx(e,4)}function Kx(e){return e%2===0}function Hx(e,t){void 0===t&&(t=2);var n=Math.pow(10,t);return Math.floor(e*n)/n}function qx(e){return e&&e.width&&e.height}function Gx(e){return e.reduce((function(e,t){return e.add(t)}),new $x(0,0)).div(new $x(e.length,e.length))}function Xx(e,t,n){return Array(e).fill(0).map((function(e,r){return t+r*n}))}function Yx(e){return!!e&&e!==1/0&&e!==-1/0&&!isNaN(e)||0===e}function Jx(e){return Yx(e)&&0<=e&&e<=1}var $x=function(){function e(e,t){this._x=e,this._y=t}return Object.defineProperty(e.prototype,"x",{get:function(){return this._x},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this._y},enumerable:!0,configurable:!0}),e.prototype.add=function(t){return new e(this.x+t.x,this.y+t.y)},e.prototype.sub=function(t){return new e(this.x-t.x,this.y-t.y)},e.prototype.mul=function(t){return new e(this.x*t.x,this.y*t.y)},e.prototype.div=function(t){return new e(this.x/t.x,this.y/t.y)},e.prototype.abs=function(){return new e(Math.abs(this.x),Math.abs(this.y))},e.prototype.magnitude=function(){return Math.sqrt(Math.pow(this.x,2)+Math.pow(this.y,2))},e.prototype.floor=function(){return new e(Math.floor(this.x),Math.floor(this.y))},e}(),Qx=function(){function e(t,n){void 0===n&&(n=!0);var r=t||{},i=[r.left,r.top,r.right,r.bottom].every(Yx),a=[r.x,r.y,r.width,r.height].every(Yx);if(!a&&!i)throw new Error("Box.constructor - expected box to be IBoundingBox | IRect, instead have "+JSON.stringify(r));var o=a?[r.x,r.y,r.width,r.height]:[r.left,r.top,r.right-r.left,r.bottom-r.top],s=o[0],u=o[1],l=o[2],c=o[3];e.assertIsValidBox({x:s,y:u,width:l,height:c},"Box.constructor",n),this._x=s,this._y=u,this._width=l,this._height=c}return e.isRect=function(e){return!!e&&[e.x,e.y,e.width,e.height].every(Yx)},e.assertIsValidBox=function(t,n,r){if(void 0===r&&(r=!1),!e.isRect(t))throw new Error(n+" - invalid box: "+JSON.stringify(t)+", expected object with properties x, y, width, height");if(!r&&(t.width<0||t.height<0))throw new Error(n+" - width ("+t.width+") and height ("+t.height+") must be positive numbers")},Object.defineProperty(e.prototype,"x",{get:function(){return this._x},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this._y},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this._width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){return this.x},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"top",{get:function(){return this.y},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){return this.x+this.width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"area",{get:function(){return this.width*this.height},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"topLeft",{get:function(){return new $x(this.left,this.top)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"topRight",{get:function(){return new $x(this.right,this.top)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bottomLeft",{get:function(){return new $x(this.left,this.bottom)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bottomRight",{get:function(){return new $x(this.right,this.bottom)},enumerable:!0,configurable:!0}),e.prototype.round=function(){var t=[this.x,this.y,this.width,this.height].map((function(e){return Math.round(e)}));return new e({x:t[0],y:t[1],width:t[2],height:t[3]})},e.prototype.floor=function(){var t=[this.x,this.y,this.width,this.height].map((function(e){return Math.floor(e)}));return new e({x:t[0],y:t[1],width:t[2],height:t[3]})},e.prototype.toSquare=function(){var t=this,n=t.x,r=t.y,i=t.width,a=t.height,o=Math.abs(i-a);return i<a&&(n-=o/2,i+=o),a<i&&(r-=o/2,a+=o),new e({x:n,y:r,width:i,height:a})},e.prototype.rescale=function(t){var n=qx(t)?t.width:t,r=qx(t)?t.height:t;return new e({x:this.x*n,y:this.y*r,width:this.width*n,height:this.height*r})},e.prototype.pad=function(t,n){var r=[this.x-t/2,this.y-n/2,this.width+t,this.height+n];return new e({x:r[0],y:r[1],width:r[2],height:r[3]})},e.prototype.clipAtImageBorders=function(t,n){var r=this,i=r.x,a=r.y,o=r.right,s=r.bottom,u=Math.max(i,0),l=Math.max(a,0),c=o-u,f=s-l;return new e({x:u,y:l,width:Math.min(c,t-u),height:Math.min(f,n-l)}).floor()},e.prototype.shift=function(t,n){var r=this.width,i=this.height;return new e({x:this.x+t,y:this.y+n,width:r,height:i})},e.prototype.padAtBorders=function(e,t){var n=this.width+1,r=this.height+1,i=n,a=r,o=this.left,s=this.top,u=this.right,l=this.bottom;return u>t&&(i=-u+t+n,u=t),l>e&&(a=-l+e+r,l=e),o<1&&(a=2-o,o=1),s<1&&(a=2-s,s=1),{dy:1,edy:a,dx:1,edx:i,y:s,ey:l,x:o,ex:u,w:n,h:r}},e.prototype.calibrate=function(t){return new e({left:this.left+t.left*this.width,top:this.top+t.top*this.height,right:this.right+t.right*this.width,bottom:this.bottom+t.bottom*this.height}).toSquare().round()},e}(),Zx=function(e){function t(t,n,r,i,a){return void 0===a&&(a=!1),e.call(this,{left:t,top:n,right:r,bottom:i},a)||this}return Mx(t,e),t}(Qx),ew=function(){function e(e,t,n,r,i){this._imageDims=new zx(i.width,i.height),this._score=e,this._classScore=t,this._className=n,this._box=new Qx(r).rescale(this._imageDims)}return Object.defineProperty(e.prototype,"score",{get:function(){return this._score},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"classScore",{get:function(){return this._classScore},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"className",{get:function(){return this._className},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"box",{get:function(){return this._box},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"imageDims",{get:function(){return this._imageDims},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"imageWidth",{get:function(){return this.imageDims.width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"imageHeight",{get:function(){return this.imageDims.height},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"relativeBox",{get:function(){return new Qx(this._box).rescale(this.imageDims.reverse())},enumerable:!0,configurable:!0}),e.prototype.forSize=function(t,n){return new e(this.score,this.classScore,this.className,this.relativeBox,{width:t,height:n})},e}(),tw=function(e){function t(t,n,r){return e.call(this,t,t,"",n,r)||this}return Mx(t,e),t.prototype.forSize=function(n,r){var i=e.prototype.forSize.call(this,n,r);return new t(i.score,i.relativeBox,i.imageDims)},t}(ew);function nw(e,t,n){void 0===n&&(n=!0);var r=Math.max(0,Math.min(e.right,t.right)-Math.max(e.left,t.left))*Math.max(0,Math.min(e.bottom,t.bottom)-Math.max(e.top,t.top));return n?r/(e.area+t.area-r):r/Math.min(e.area,t.area)}function rw(e,t,n,r){void 0===r&&(r=!0);for(var i=t.map((function(e,t){return{score:e,boxIndex:t}})).sort((function(e,t){return e.score-t.score})).map((function(e){return e.boxIndex})),a=[],o=function(){var t=i.pop();a.push(t);for(var o=i,s=[],u=0;u<o.length;u++){var l=o[u],c=e[t],f=e[l];s.push(nw(c,f,r))}i=i.filter((function(e,t){return s[t]<=n}))};i.length>0;)o();return a}function iw(e,t){return nc((function(){var n=t[0],r=t[1],i=t[2],a=Dc(jx(e.shape.slice(0,3),[1]),n),o=Dc(jx(e.shape.slice(0,3),[1]),r),s=Dc(jx(e.shape.slice(0,3),[1]),i),u=Fc([a,o,s],3);return Uy(e,u)}))}function aw(e){return 1/(1+Math.exp(-e))}var ow,sw=function(e){function t(t,n,r,i,a){return void 0===a&&(a=!1),e.call(this,{x:t,y:n,width:r,height:i},a)||this}return Mx(t,e),t}(Qx),uw=function(){function e(e,t,n){void 0===n&&(n=new $x(0,0));var r=t.width,i=t.height;this._imgDims=new zx(r,i),this._shift=n,this._positions=e.map((function(e){return e.mul(new $x(r,i)).add(n)}))}return Object.defineProperty(e.prototype,"shift",{get:function(){return new $x(this._shift.x,this._shift.y)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"imageWidth",{get:function(){return this._imgDims.width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"imageHeight",{get:function(){return this._imgDims.height},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"positions",{get:function(){return this._positions},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"relativePositions",{get:function(){var e=this;return this._positions.map((function(t){return t.sub(e._shift).div(new $x(e.imageWidth,e.imageHeight))}))},enumerable:!0,configurable:!0}),e.prototype.forSize=function(e,t){return new this.constructor(this.relativePositions,{width:e,height:t})},e.prototype.shiftBy=function(e,t){return new this.constructor(this.relativePositions,this._imgDims,new $x(e,t))},e.prototype.shiftByPoint=function(e){return this.shiftBy(e.x,e.y)},e.prototype.align=function(e,t){if(void 0===t&&(t={}),e){var n=e instanceof tw?e.box.floor():new Qx(e);return this.shiftBy(n.x,n.y).align(null,t)}var r=Object.assign({},{useDlibAlignment:!1,minBoxPadding:.2},t),i=r.useDlibAlignment,a=r.minBoxPadding;return i?this.alignDlib():this.alignMinBbox(a)},e.prototype.alignDlib=function(){var e=this.getRefPointsForAlignment(),t=e[0],n=e[1],r=e[2],i=function(e){return r.sub(e).magnitude()},a=(i(t)+i(n))/2,o=Math.floor(a/.45),s=Gx(e),u=Math.floor(Math.max(0,s.x-.5*o)),l=Math.floor(Math.max(0,s.y-.43*o));return new sw(u,l,Math.min(o,this.imageWidth+u),Math.min(o,this.imageHeight+l))},e.prototype.alignMinBbox=function(e){var t=function(e){var t=e.map((function(e){return e.x})),n=e.map((function(e){return e.y})),r=t.reduce((function(e,t){return t<e?t:e}),1/0),i=n.reduce((function(e,t){return t<e?t:e}),1/0),a=t.reduce((function(e,t){return e<t?t:e}),0),o=n.reduce((function(e,t){return e<t?t:e}),0);return new Zx(r,i,a,o)}(this.positions);return t.pad(t.width*e,t.height*e)},e.prototype.getRefPointsForAlignment=function(){throw new Error("getRefPointsForAlignment not implemented by base class")},e}(),lw=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Mx(t,e),t.prototype.getRefPointsForAlignment=function(){var e=this.positions;return[e[0],e[1],Gx([e[3],e[4]])]},t}(uw),cw=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Mx(t,e),t.prototype.getJawOutline=function(){return this.positions.slice(0,17)},t.prototype.getLeftEyeBrow=function(){return this.positions.slice(17,22)},t.prototype.getRightEyeBrow=function(){return this.positions.slice(22,27)},t.prototype.getNose=function(){return this.positions.slice(27,36)},t.prototype.getLeftEye=function(){return this.positions.slice(36,42)},t.prototype.getRightEye=function(){return this.positions.slice(42,48)},t.prototype.getMouth=function(){return this.positions.slice(48,68)},t.prototype.getRefPointsForAlignment=function(){return[this.getLeftEye(),this.getRightEye(),this.getMouth()].map(Gx)},t}(uw),fw=function(){function e(e,t){this._label=e,this._distance=t}return Object.defineProperty(e.prototype,"label",{get:function(){return this._label},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"distance",{get:function(){return this._distance},enumerable:!0,configurable:!0}),e.prototype.toString=function(e){return void 0===e&&(e=!0),this.label+(e?" ("+Hx(this.distance)+")":"")},e}(),dw=function(e){function t(t,n){var r=e.call(this,t)||this;return r._label=n,r}return Mx(t,e),t.assertIsValidLabeledBox=function(e,t){if(Qx.assertIsValidBox(e,t),!Yx(e.label))throw new Error(t+" - expected property label ("+e.label+") to be a number")},Object.defineProperty(t.prototype,"label",{get:function(){return this._label},enumerable:!0,configurable:!0}),t}(Qx),pw=function(){function e(e,t){if("string"!==typeof e)throw new Error("LabeledFaceDescriptors - constructor expected label to be a string");if(!Array.isArray(t)||t.some((function(e){return!(e instanceof Float32Array)})))throw new Error("LabeledFaceDescriptors - constructor expected descriptors to be an array of Float32Array");this._label=e,this._descriptors=t}return Object.defineProperty(e.prototype,"label",{get:function(){return this._label},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"descriptors",{get:function(){return this._descriptors},enumerable:!0,configurable:!0}),e.prototype.toJSON=function(){return{label:this.label,descriptors:this.descriptors.map((function(e){return Array.from(e)}))}},e.fromJSON=function(t){var n=t.descriptors.map((function(e){return new Float32Array(e)}));return new e(t.label,n)},e}();!function(e){function t(t,n,r,i){var a=e.call(this,t,n)||this;return a._score=r,a._classScore=i,a}Mx(t,e),t.assertIsValidPredictedBox=function(e,t){if(dw.assertIsValidLabeledBox(e,t),!Jx(e.score)||!Jx(e.classScore))throw new Error(t+" - expected properties score ("+e.score+") and ("+e.classScore+") to be a number between [0, 1]")},Object.defineProperty(t.prototype,"score",{get:function(){return this._score},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"classScore",{get:function(){return this._classScore},enumerable:!0,configurable:!0})}(dw);function hw(e){return e.detection instanceof tw}function vw(e,t){var n={detection:t};return Object.assign({},e,n)}function yw(){var e=window.fetch||function(){throw new Error("fetch - missing fetch implementation for browser environment")};return{Canvas:HTMLCanvasElement,CanvasRenderingContext2D:CanvasRenderingContext2D,Image:HTMLImageElement,ImageData:ImageData,Video:HTMLVideoElement,createCanvasElement:function(){return document.createElement("canvas")},createImageElement:function(){return document.createElement("img")},fetch:e,readFile:function(){throw new Error("readFile - filesystem not available for browser environment")}}}function mw(e){var t="";if(!e)try{e=n(Object(function(){var e=new Error("Cannot find module 'fs'");throw e.code="MODULE_NOT_FOUND",e}()))}catch(r){t=r.toString()}return{readFile:e?function(t){return new Promise((function(n,r){e.readFile(t,(function(e,t){return e?r(e):n(t)}))}))}:function(){throw new Error("readFile - failed to require fs in nodejs environment with error: "+t)}}}function gw(){var e=n.g.Canvas||n.g.HTMLCanvasElement,t=n.g.Image||n.g.HTMLImageElement,r=n.g.fetch||function(){throw new Error("fetch - missing fetch implementation for nodejs environment")},i=mw();return Fx({Canvas:e||function(){},CanvasRenderingContext2D:n.g.CanvasRenderingContext2D||function(){},Image:t||function(){},ImageData:n.g.ImageData||function(){},Video:n.g.HTMLVideoElement||function(){},createCanvasElement:function(){if(e)return new e;throw new Error("createCanvasElement - missing Canvas implementation for nodejs environment")},createImageElement:function(){if(t)return new t;throw new Error("createImageElement - missing Image implementation for nodejs environment")},fetch:r},i)}function bw(){return"object"===typeof window&&"undefined"!==typeof document&&"undefined"!==typeof HTMLImageElement&&"undefined"!==typeof HTMLCanvasElement&&"undefined"!==typeof HTMLVideoElement&&"undefined"!==typeof ImageData&&"undefined"!==typeof CanvasRenderingContext2D}function xw(){return"object"===typeof n.g&&"undefined"!==typeof process&&!!process.version}function ww(e){ow=e}function Sw(){bw()&&ww(yw()),xw()&&ww(gw())}var Tw,Ew={getEnv:function(){if(!ow)throw new Error("getEnv - environment is not defined, check isNodejs() and isBrowser()");return ow},setEnv:ww,initialize:Sw,createBrowserEnv:yw,createFileSystem:mw,createNodejsEnv:gw,monkeyPatch:function(e){if(ow||Sw(),!ow)throw new Error("monkeyPatch - environment is not defined, check isNodejs() and isBrowser()");var t=e.Canvas,n=void 0===t?ow.Canvas:t,r=e.Image,i=void 0===r?ow.Image:r;ow.Canvas=n,ow.Image=i,ow.createCanvasElement=e.createCanvasElement||function(){return new n},ow.createImageElement=e.createImageElement||function(){return new i},ow.ImageData=e.ImageData||ow.ImageData,ow.Video=e.Video||ow.Video,ow.fetch=e.fetch||ow.fetch,ow.readFile=e.readFile||ow.readFile},isBrowser:bw,isNodejs:xw};function kw(e){return Ew.isNodejs()||"string"!==typeof e?e:document.getElementById(e)}function _w(e){var t=Ew.getEnv(),n=t.Canvas;if(e instanceof t.CanvasRenderingContext2D)return e;var r=kw(e);if(!(r instanceof n))throw new Error("resolveContext2d - expected canvas to be of instance of Canvas");var i=r.getContext("2d");if(!i)throw new Error("resolveContext2d - canvas 2d context is null");return i}Sw(),function(e){e.TOP_LEFT="TOP_LEFT",e.TOP_RIGHT="TOP_RIGHT",e.BOTTOM_LEFT="BOTTOM_LEFT",e.BOTTOM_RIGHT="BOTTOM_RIGHT"}(Tw||(Tw={}));var Cw=function(e){void 0===e&&(e={});var t=e.anchorPosition,n=e.backgroundColor,r=e.fontColor,i=e.fontSize,a=e.fontStyle,o=e.padding;this.anchorPosition=t||Tw.TOP_LEFT,this.backgroundColor=n||"rgba(0, 0, 0, 0.5)",this.fontColor=r||"rgba(255, 255, 255, 1)",this.fontSize=i||14,this.fontStyle=a||"Georgia",this.padding=o||4},Pw=function(){function e(t,n,r){void 0===r&&(r={}),this.text="string"===typeof t?[t]:t instanceof e?t.text:t,this.anchor=n,this.options=new Cw(r)}return e.prototype.measureWidth=function(e){var t=this.options.padding;return this.text.map((function(t){return e.measureText(t).width})).reduce((function(e,t){return e<t?t:e}),0)+2*t},e.prototype.measureHeight=function(){var e=this.options,t=e.fontSize,n=e.padding;return this.text.length*t+2*n},e.prototype.getUpperLeft=function(e,t){var n=this.options.anchorPosition,r=n===Tw.BOTTOM_RIGHT||n===Tw.TOP_RIGHT,i=n===Tw.BOTTOM_LEFT||n===Tw.BOTTOM_RIGHT,a=this.measureWidth(e),o=this.measureHeight(),s=r?this.anchor.x-a:this.anchor.x,u=i?this.anchor.y-o:this.anchor.y;if(t){var l=t.width,c=t.height;return{x:Math.max(Math.min(s,l-a),0),y:Math.max(Math.min(u,c-o),0)}}return{x:s,y:u}},e.prototype.draw=function(e){var t=kw(e),n=_w(t),r=this.options,i=r.backgroundColor,a=r.fontColor,o=r.fontSize,s=r.fontStyle,u=r.padding;n.font=o+"px "+s;var l=this.measureWidth(n),c=this.measureHeight();n.fillStyle=i;var f=this.getUpperLeft(n,t);n.fillRect(f.x,f.y,l,c),n.fillStyle=a,this.text.forEach((function(e,t){var r=u+f.x,i=u+f.y+(t+1)*o;n.fillText(e,r,i)}))},e}(),Ow=function(e){void 0===e&&(e={});var t=e.boxColor,n=e.lineWidth,r=e.label,i=e.drawLabelOptions;this.boxColor=t||"rgba(0, 0, 255, 1)",this.lineWidth=n||2,this.label=r;var a={anchorPosition:Tw.BOTTOM_LEFT,backgroundColor:this.boxColor};this.drawLabelOptions=new Cw(Object.assign({},a,i))},Iw=function(){function e(e,t){void 0===t&&(t={}),this.box=new Qx(e),this.options=new Ow(t)}return e.prototype.draw=function(e){var t=_w(e),n=this.options,r=n.boxColor,i=n.lineWidth,a=this.box,o=a.x,s=a.y,u=a.width,l=a.height;t.strokeStyle=r,t.lineWidth=i,t.strokeRect(o,s,u,l);var c=this.options.label;c&&new Pw([c],{x:o-i/2,y:s},this.options.drawLabelOptions).draw(e)},e}();function Aw(e,t){(Array.isArray(t)?t:[t]).forEach((function(t){var n=t instanceof tw?t.score:hw(t)?t.detection.score:void 0,r=t instanceof tw?t.box:hw(t)?t.detection.box:new Qx(t),i=n?""+Hx(n):void 0;new Iw(r,{label:i}).draw(e)}))}function Dw(e){var t=Ew.getEnv(),n=t.Image,r=t.Video;return e instanceof n&&e.complete||e instanceof r&&e.readyState>=3}function Rw(e){var t=Ew.getEnv(),n=t.Image,r=t.Video;return e instanceof n?new zx(e.naturalWidth,e.naturalHeight):e instanceof r?new zx(e.videoWidth,e.videoHeight):new zx(e.width,e.height)}function Nw(e){var t=e.width,n=e.height,r=(0,Ew.getEnv().createCanvasElement)();return r.width=t,r.height=n,r}function Mw(e,t){var n=Ew.getEnv().ImageData;if(!(e instanceof n)&&!Dw(e))throw new Error("createCanvasFromMedia - media has not finished loading yet");var r=t||Rw(e),i=r.width,a=r.height,o=Nw({width:i,height:a});return e instanceof n?_w(o).putImageData(e,0,0):_w(o).drawImage(e,0,0,i,a),o}function Fw(e,t){return Lx(this,void 0,void 0,(function(){var n,r,i,a,o,s;return Bx(this,(function(u){switch(u.label){case 0:return n=t||Ew.getEnv().createCanvasElement(),r=e.shape.slice(Ux(e)?1:0),i=r[0],a=r[1],o=r[2],s=nc((function(){return e.as3D(i,a,o).toInt()})),[4,mx.toPixels(s,n)];case 1:return u.sent(),s.dispose(),[2,n]}}))}))}function Lw(e){var t=Ew.getEnv(),n=t.Image,r=t.Canvas,i=t.Video;return e instanceof n||e instanceof r||e instanceof i}var Bw=function(){function e(e,t){var n=this;if(void 0===t&&(t=!1),this._imageTensors=[],this._canvases=[],this._treatAsBatchInput=!1,this._inputDimensions=[],!Array.isArray(e))throw new Error("NetInput.constructor - expected inputs to be an Array of TResolvedNetInput or to be instanceof tf.Tensor4D, instead have "+e);this._treatAsBatchInput=t,this._batchSize=e.length,e.forEach((function(e,t){if(Vx(e))return n._imageTensors[t]=e,void(n._inputDimensions[t]=e.shape);if(Ux(e)){var r=e.shape[0];if(1!==r)throw new Error("NetInput - tf.Tensor4D with batchSize "+r+" passed, but not supported in input array");return n._imageTensors[t]=e,void(n._inputDimensions[t]=e.shape.slice(1))}var i=e instanceof Ew.getEnv().Canvas?e:Mw(e);n._canvases[t]=i,n._inputDimensions[t]=[i.height,i.width,3]}))}return Object.defineProperty(e.prototype,"imageTensors",{get:function(){return this._imageTensors},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"canvases",{get:function(){return this._canvases},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isBatchInput",{get:function(){return this.batchSize>1||this._treatAsBatchInput},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"batchSize",{get:function(){return this._batchSize},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inputDimensions",{get:function(){return this._inputDimensions},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inputSize",{get:function(){return this._inputSize},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"reshapedInputDimensions",{get:function(){var e=this;return Xx(this.batchSize,0,1).map((function(t,n){return e.getReshapedInputDimensions(n)}))},enumerable:!0,configurable:!0}),e.prototype.getInput=function(e){return this.canvases[e]||this.imageTensors[e]},e.prototype.getInputDimensions=function(e){return this._inputDimensions[e]},e.prototype.getInputHeight=function(e){return this._inputDimensions[e][0]},e.prototype.getInputWidth=function(e){return this._inputDimensions[e][1]},e.prototype.getReshapedInputDimensions=function(e){if("number"!==typeof this.inputSize)throw new Error("getReshapedInputDimensions - inputSize not set, toBatchTensor has not been called yet");return function(e,t){var n=e.width,r=e.height,i=t/Math.max(r,n);return new zx(Math.round(n*i),Math.round(r*i))}({width:this.getInputWidth(e),height:this.getInputHeight(e)},this.inputSize)},e.prototype.toBatchTensor=function(e,t){var n=this;return void 0===t&&(t=!0),this._inputSize=e,nc((function(){var r=Xx(n.batchSize,0,1).map((function(r){var i=n.getInput(r);if(i instanceof Ru){var a=Ux(i)?i:i.expandDims();return a=function(e,t){return void 0===t&&(t=!1),nc((function(){var n=e.shape.slice(1),r=n[0],i=n[1];if(r===i)return e;var a=Math.abs(r-i),o=Math.round(a*(t?.5:1)),s=r>i?2:1,u=function(t){var n=e.shape.slice();return n[s]=t,Dc(n,0)},l=u(o),c=a-l.shape[s],f=[t&&c?u(c):null,e,l].filter((function(e){return!!e})).map((function(e){return e.toFloat()}));return Fc(f,s)}))}(a,t),a.shape[1]===e&&a.shape[2]===e||(a=$g.resizeBilinear(a,[e,e])),a.as3D(e,e,3)}if(i instanceof Ew.getEnv().Canvas)return mx.fromPixels(function(e,t,n){void 0===n&&(n=!1);var r=Ew.getEnv(),i=r.Image,a=r.Canvas;if(!(e instanceof i||e instanceof a))throw new Error("imageToSquare - expected arg0 to be HTMLImageElement | HTMLCanvasElement");var o=Rw(e),s=t/Math.max(o.height,o.width),u=s*o.width,l=s*o.height,c=Nw({width:t,height:t}),f=e instanceof a?e:Mw(e),d=Math.abs(u-l)/2,p=n&&u<l?d:0,h=n&&l<u?d:0;return _w(c).drawImage(f,p,h,u,l),c}(i,e,t));throw new Error("toBatchTensor - at batchIdx "+r+", expected input to be instanceof tf.Tensor or instanceof HTMLCanvasElement, instead have "+i)})),i=Ef(r.map((function(e){return e.toFloat()}))).as4D(n.batchSize,e,e,3);return i}))},e}();function jw(e){return Lx(this,void 0,void 0,(function(){var t,n,r;return Bx(this,(function(i){switch(i.label){case 0:if(e instanceof Bw)return[2,e];if(!(t=Array.isArray(e)?e:[e]).length)throw new Error("toNetInput - empty array passed as input");return n=function(t){return Array.isArray(e)?" at input index "+t+":":""},(r=t.map(kw)).forEach((function(e,r){if(!Lw(e)&&!Vx(e)&&!Ux(e)){if("string"===typeof t[r])throw new Error("toNetInput -"+n(r)+" string passed, but could not resolve HTMLElement for element id "+t[r]);throw new Error("toNetInput -"+n(r)+" expected media to be of type HTMLImageElement | HTMLVideoElement | HTMLCanvasElement | tf.Tensor3D, or to be an element id")}if(Ux(e)){var i=e.shape[0];if(1!==i)throw new Error("toNetInput -"+n(r)+" tf.Tensor4D with batchSize "+i+" passed, but not supported in input array")}})),[4,Promise.all(r.map((function(e){return Lw(e)&&(t=e,new Promise((function(e,n){if(t instanceof Ew.getEnv().Canvas||Dw(t))return e();function r(t){t.currentTarget&&(t.currentTarget.removeEventListener("load",r),t.currentTarget.removeEventListener("error",i),e(t))}function i(e){e.currentTarget&&(e.currentTarget.removeEventListener("load",r),e.currentTarget.removeEventListener("error",i),n(e))}t.addEventListener("load",r),t.addEventListener("error",i)})));var t})))];case 1:return i.sent(),[2,new Bw(r,Array.isArray(e))]}}))}))}function zw(e,t){return Lx(this,void 0,void 0,(function(){var n,r,i,a,o,s;return Bx(this,(function(u){switch(u.label){case 0:return n=Ew.getEnv().Canvas,r=e,e instanceof n?[3,5]:[4,jw(e)];case 1:if((i=u.sent()).batchSize>1)throw new Error("extractFaces - batchSize > 1 not supported");return(a=i.getInput(0))instanceof n?(o=a,[3,4]):[3,2];case 2:return[4,Fw(a)];case 3:o=u.sent(),u.label=4;case 4:r=o,u.label=5;case 5:return s=_w(r),[2,t.map((function(e){return e instanceof tw?e.forSize(r.width,r.height).box.floor():e})).map((function(e){return e.clipAtImageBorders(r.width,r.height)})).map((function(e){var t=e.x,n=e.y,r=e.width,i=e.height,a=Nw({width:r,height:i});return _w(a).putImageData(s.getImageData(t,n,r,i),0,0),a}))]}}))}))}function Ww(e,t){return Lx(this,void 0,void 0,(function(){return Bx(this,(function(n){if(!Vx(e)&&!Ux(e))throw new Error("extractFaceTensors - expected image tensor to be 3D or 4D");if(Ux(e)&&e.shape[0]>1)throw new Error("extractFaceTensors - batchSize > 1 not supported");return[2,nc((function(){var n=e.shape.slice(Ux(e)?1:0),r=n[0],i=n[1],a=n[2],o=t.map((function(e){return e instanceof tw?e.forSize(i,r).box:e})).map((function(e){return e.clipAtImageBorders(i,r)})).map((function(t){var n=t.x,o=t.y,s=t.width,u=t.height;return jm(e.as3D(r,i,a),[o,n,0],[u,s,a])}));return o}))]}))}))}function Vw(e,t){return Lx(this,void 0,void 0,(function(){var n;return Bx(this,(function(r){switch(r.label){case 0:return[4,(0,Ew.getEnv().fetch)(e,t)];case 1:if(!((n=r.sent()).status<400))throw new Error("failed to fetch: ("+n.status+") "+n.statusText+", from url: "+n.url);return[2,n]}}))}))}function Uw(e){return Lx(this,void 0,void 0,(function(){return Bx(this,(function(t){switch(t.label){case 0:return[4,Vw(e)];case 1:return[2,t.sent().json()]}}))}))}function Kw(e,t){var n=t+"-weights_manifest.json";if(!e)return{modelBaseUri:"",manifestUri:n};if("/"===e)return{modelBaseUri:"/",manifestUri:"/"+n};var r=e.startsWith("http://")?"http://":e.startsWith("https://")?"https://":"",i=(e=e.replace(r,"")).split("/").filter((function(e){return e})),a=e.endsWith(".json")?i[i.length-1]:n,o=r+(e.endsWith(".json")?i.slice(0,i.length-1):i).join("/");return{modelBaseUri:o=e.startsWith("/")?"/"+o:o,manifestUri:"/"===o?"/"+a:o+"/"+a}}function Hw(e,t){return Lx(this,void 0,void 0,(function(){var n,r,i,a;return Bx(this,(function(o){switch(o.label){case 0:return n=Kw(e,t),r=n.manifestUri,i=n.modelBaseUri,[4,Uw(r)];case 1:return a=o.sent(),[2,hx.loadWeights(a,i)]}}))}))}function qw(e,t,n){void 0===n&&(n=!1);var r=n?Rw(t):t,i=r.width,a=r.height;return e.width=i,e.height=a,{width:i,height:a}}var Gw=function(){function e(e){this._name=e,this._params=void 0,this._paramMappings=[]}return Object.defineProperty(e.prototype,"params",{get:function(){return this._params},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"paramMappings",{get:function(){return this._paramMappings},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isLoaded",{get:function(){return!!this.params},enumerable:!0,configurable:!0}),e.prototype.getParamFromPath=function(e){var t=this.traversePropertyPath(e);return t.obj[t.objProp]},e.prototype.reassignParamFromPath=function(e,t){var n=this.traversePropertyPath(e),r=n.obj,i=n.objProp;r[i].dispose(),r[i]=t},e.prototype.getParamList=function(){var e=this;return this._paramMappings.map((function(t){var n=t.paramPath;return{path:n,tensor:e.getParamFromPath(n)}}))},e.prototype.getTrainableParams=function(){return this.getParamList().filter((function(e){return e.tensor instanceof zu}))},e.prototype.getFrozenParams=function(){return this.getParamList().filter((function(e){return!(e.tensor instanceof zu)}))},e.prototype.variable=function(){var e=this;this.getFrozenParams().forEach((function(t){var n=t.path,r=t.tensor;e.reassignParamFromPath(n,r.variable())}))},e.prototype.freeze=function(){var e=this;this.getTrainableParams().forEach((function(t){var n=t.path,r=t.tensor,i=Tc(r.dataSync());r.dispose(),e.reassignParamFromPath(n,i)}))},e.prototype.dispose=function(e){void 0===e&&(e=!0),this.getParamList().forEach((function(t){if(e&&t.tensor.isDisposed)throw new Error("param tensor has already been disposed for path "+t.path);t.tensor.dispose()})),this._params=void 0},e.prototype.serializeParams=function(){return new Float32Array(this.getParamList().map((function(e){var t=e.tensor;return Array.from(t.dataSync())})).reduce((function(e,t){return e.concat(t)})))},e.prototype.load=function(e){return Lx(this,void 0,void 0,(function(){return Bx(this,(function(t){switch(t.label){case 0:return e instanceof Float32Array?(this.extractWeights(e),[2]):[4,this.loadFromUri(e)];case 1:return t.sent(),[2]}}))}))},e.prototype.loadFromUri=function(e){return Lx(this,void 0,void 0,(function(){var t;return Bx(this,(function(n){switch(n.label){case 0:if(e&&"string"!==typeof e)throw new Error(this._name+".loadFromUri - expected model uri");return[4,Hw(e,this.getDefaultModelName())];case 1:return t=n.sent(),this.loadFromWeightMap(t),[2]}}))}))},e.prototype.loadFromDisk=function(e){return Lx(this,void 0,void 0,(function(){var t,n,r,i,a,o,s,u,l,c;return Bx(this,(function(f){switch(f.label){case 0:if(e&&"string"!==typeof e)throw new Error(this._name+".loadFromDisk - expected model file path");return t=Ew.getEnv().readFile,n=Kw(e,this.getDefaultModelName()),r=n.manifestUri,i=n.modelBaseUri,a=function(e){return Promise.all(e.map((function(e){return t(e).then((function(e){return e.buffer}))})))},o=hx.weightsLoaderFactory(a),l=(u=JSON).parse,[4,t(r)];case 1:return s=l.apply(u,[f.sent().toString()]),[4,o(s,i)];case 2:return c=f.sent(),this.loadFromWeightMap(c),[2]}}))}))},e.prototype.loadFromWeightMap=function(e){var t=this.extractParamsFromWeigthMap(e),n=t.paramMappings,r=t.params;this._paramMappings=n,this._params=r},e.prototype.extractWeights=function(e){var t=this.extractParams(e),n=t.paramMappings,r=t.params;this._paramMappings=n,this._params=r},e.prototype.traversePropertyPath=function(e){if(!this.params)throw new Error("traversePropertyPath - model has no loaded params");var t=e.split("/").reduce((function(t,n){if(!t.nextObj.hasOwnProperty(n))throw new Error("traversePropertyPath - object does not have property "+n+", for path "+e);return{obj:t.nextObj,objProp:n,nextObj:t.nextObj[n]}}),{nextObj:this.params}),n=t.obj,r=t.objProp;if(!n||!r||!(n[r]instanceof Ru))throw new Error("traversePropertyPath - parameter is not a tensor, for path "+e);return{obj:n,objProp:r}},e}();function Xw(e,t,n){return nc((function(){var r=gm(e,t.depthwise_filter,t.pointwise_filter,n,"same");return r=Ey(r,t.bias)}))}function Yw(e,t,n){return void 0===n&&(n=!1),nc((function(){var r=ng(n?Ey(fm(e,t.conv0.filters,[2,2],"same"),t.conv0.bias):Xw(e,t.conv0,[2,2])),i=Xw(r,t.conv1,[1,1]),a=Xw(ng(Ey(r,i)),t.conv2,[1,1]);return ng(Ey(r,Ey(i,a)))}))}function Jw(e,t,n,r){return void 0===n&&(n=!1),void 0===r&&(r=!0),nc((function(){var i=ng(n?Ey(fm(e,t.conv0.filters,r?[2,2]:[1,1],"same"),t.conv0.bias):Xw(e,t.conv0,r?[2,2]:[1,1])),a=Xw(i,t.conv1,[1,1]),o=Xw(ng(Ey(i,a)),t.conv2,[1,1]),s=Xw(ng(Ey(i,Ey(a,o))),t.conv3,[1,1]);return ng(Ey(i,Ey(a,Ey(o,s))))}))}function $w(e,t,n,r){return void 0===n&&(n="same"),void 0===r&&(r=!1),nc((function(){var i=Ey(fm(e,t.filters,[1,1],n),t.bias);return r?ng(i):i}))}function Qw(e,t){Object.keys(e).forEach((function(n){t.some((function(e){return e.originalPath===n}))||e[n].dispose()}))}function Zw(e,t){return function(n,r,i,a){var o=Oc(e(n*r*i*i),[i,i,n,r]),s=_c(e(r));return t.push({paramPath:a+"/filters"},{paramPath:a+"/bias"}),{filters:o,bias:s}}}function eS(e,t){return function(n,r,i){var a=Cc(e(n*r),[n,r]),o=_c(e(r));return t.push({paramPath:i+"/weights"},{paramPath:i+"/bias"}),{weights:a,bias:o}}}var tS=function(e,t,n){this.depthwise_filter=e,this.pointwise_filter=t,this.bias=n};function nS(e,t){return function(n,r,i){var a=Oc(e(9*n),[3,3,n,1]),o=Oc(e(n*r),[1,1,n,r]),s=_c(e(r));return t.push({paramPath:i+"/depthwise_filter"},{paramPath:i+"/pointwise_filter"},{paramPath:i+"/bias"}),new tS(a,o,s)}}function rS(e){return function(t){var n=e(t+"/depthwise_filter",4),r=e(t+"/pointwise_filter",4),i=e(t+"/bias",1);return new tS(n,r,i)}}function iS(e,t){return function(n,r,i){var a=e[n];if(!Wx(a,r))throw new Error("expected weightMap["+n+"] to be a Tensor"+r+"D, instead have "+a);return t.push({originalPath:n,paramPath:i||n}),a}}function aS(e){var t=e;return{extractWeights:function(e){var n=t.slice(0,e);return t=t.slice(e),n},getRemainingWeights:function(){return t}}}function oS(e,t){var n=Zw(e,t),r=nS(e,t);function i(e,t,i,a){return void 0===a&&(a=!1),{conv0:a?n(e,t,3,i+"/conv0"):r(e,t,i+"/conv0"),conv1:r(t,t,i+"/conv1"),conv2:r(t,t,i+"/conv2")}}return{extractDenseBlock3Params:i,extractDenseBlock4Params:function(e,t,n,a){void 0===a&&(a=!1);var o=i(e,t,n,a);return{conv0:o.conv0,conv1:o.conv1,conv2:o.conv2,conv3:r(t,t,n+"/conv3")}}}}function sS(e){return function(t){return{filters:e(t+"/filters",4),bias:e(t+"/bias",1)}}}function uS(e,t){var n=iS(e,t),r=sS(n),i=rS(n);return{extractDenseBlock3Params:function(e,t){return void 0===t&&(t=!1),{conv0:t?r(e+"/conv0"):i(e+"/conv0"),conv1:i(e+"/conv1"),conv2:i(e+"/conv2")}},extractDenseBlock4Params:function(e,t){return void 0===t&&(t=!1),{conv0:t?r(e+"/conv0"):i(e+"/conv0"),conv1:i(e+"/conv1"),conv2:i(e+"/conv2"),conv3:i(e+"/conv3")}}}}var lS=function(e){function t(){return e.call(this,"FaceFeatureExtractor")||this}return Mx(t,e),t.prototype.forwardInput=function(e){var t=this.params;if(!t)throw new Error("FaceFeatureExtractor - load model before inference");return nc((function(){var n=Jw(iw(e.toBatchTensor(112,!0),[122.782,117.001,104.298]).div(kc(255)),t.dense0,!0);return n=Jw(n,t.dense1),n=Jw(n,t.dense2),n=Jw(n,t.dense3),n=Dm(n,[7,7],[2,2],"valid")}))},t.prototype.forward=function(e){return Lx(this,void 0,void 0,(function(){var t;return Bx(this,(function(n){switch(n.label){case 0:return t=this.forwardInput,[4,jw(e)];case 1:return[2,t.apply(this,[n.sent()])]}}))}))},t.prototype.getDefaultModelName=function(){return"face_feature_extractor_model"},t.prototype.extractParamsFromWeigthMap=function(e){return function(e){var t=[],n=uS(e,t).extractDenseBlock4Params,r={dense0:n("dense0",!0),dense1:n("dense1"),dense2:n("dense2"),dense3:n("dense3")};return Qw(e,t),{params:r,paramMappings:t}}(e)},t.prototype.extractParams=function(e){return function(e){var t=[],n=aS(e),r=n.extractWeights,i=n.getRemainingWeights,a=oS(r,t).extractDenseBlock4Params,o=a(3,32,"dense0",!0),s=a(32,64,"dense1"),u=a(64,128,"dense2"),l=a(128,256,"dense3");if(0!==i().length)throw new Error("weights remaing after extract: "+i().length);return{paramMappings:t,params:{dense0:o,dense1:s,dense2:u,dense3:l}}}(e)},t}(Gw);function cS(e,t){return nc((function(){return Ey(wm(e,t.weights),t.bias)}))}function fS(e){var t={},n={};return Object.keys(e).forEach((function(r){(r.startsWith("fc")?n:t)[r]=e[r]})),{featureExtractorMap:t,classifierMap:n}}var dS=function(e){function t(t,n){var r=e.call(this,t)||this;return r._faceFeatureExtractor=n,r}return Mx(t,e),Object.defineProperty(t.prototype,"faceFeatureExtractor",{get:function(){return this._faceFeatureExtractor},enumerable:!0,configurable:!0}),t.prototype.runNet=function(e){var t=this,n=this.params;if(!n)throw new Error(this._name+" - load model before inference");return nc((function(){var r=e instanceof Bw?t.faceFeatureExtractor.forwardInput(e):e;return cS(r.as2D(r.shape[0],-1),n.fc)}))},t.prototype.dispose=function(t){void 0===t&&(t=!0),this.faceFeatureExtractor.dispose(t),e.prototype.dispose.call(this,t)},t.prototype.loadClassifierParams=function(e){var t=this.extractClassifierParams(e),n=t.params,r=t.paramMappings;this._params=n,this._paramMappings=r},t.prototype.extractClassifierParams=function(e){return function(e,t,n){var r=[],i=aS(e),a=i.extractWeights,o=i.getRemainingWeights,s=eS(a,r)(t,n,"fc");if(0!==o().length)throw new Error("weights remaing after extract: "+o().length);return{paramMappings:r,params:{fc:s}}}(e,this.getClassifierChannelsIn(),this.getClassifierChannelsOut())},t.prototype.extractParamsFromWeigthMap=function(e){var t=fS(e),n=t.featureExtractorMap,r=t.classifierMap;return this.faceFeatureExtractor.loadFromWeightMap(n),function(e){var t,n=[],r=iS(e,n),i={fc:(t="fc",{weights:r(t+"/weights",2),bias:r(t+"/bias",1)})};return Qw(e,n),{params:i,paramMappings:n}}(r)},t.prototype.extractParams=function(e){var t=this.getClassifierChannelsIn(),n=this.getClassifierChannelsOut(),r=n*t+n,i=e.slice(0,e.length-r),a=e.slice(e.length-r);return this.faceFeatureExtractor.extractWeights(i),this.extractClassifierParams(a)},t}(Gw),pS=["neutral","happy","sad","angry","fearful","disgusted","surprised"],hS=function(){function e(e){var t=this;if(7!==e.length)throw new Error("FaceExpressions.constructor - expected probabilities.length to be 7, have: "+e.length);pS.forEach((function(n,r){t[n]=e[r]}))}return e.prototype.asSortedArray=function(){var e=this;return pS.map((function(t){return{expression:t,probability:e[t]}})).sort((function(e,t){return t.probability-e.probability}))},e}(),vS=function(e){function t(t){return void 0===t&&(t=new lS),e.call(this,"FaceExpressionNet",t)||this}return Mx(t,e),t.prototype.forwardInput=function(e){var t=this;return nc((function(){return qf(t.runNet(e))}))},t.prototype.forward=function(e){return Lx(this,void 0,void 0,(function(){var t;return Bx(this,(function(n){switch(n.label){case 0:return t=this.forwardInput,[4,jw(e)];case 1:return[2,t.apply(this,[n.sent()])]}}))}))},t.prototype.predictExpressions=function(e){return Lx(this,void 0,void 0,(function(){var t,n,r,i,a=this;return Bx(this,(function(o){switch(o.label){case 0:return[4,jw(e)];case 1:return t=o.sent(),[4,this.forwardInput(t)];case 2:return n=o.sent(),[4,Promise.all(Cf(n).map((function(e){return Lx(a,void 0,void 0,(function(){var t;return Bx(this,(function(n){switch(n.label){case 0:return[4,e.data()];case 1:return t=n.sent(),e.dispose(),[2,t]}}))}))})))];case 3:return r=o.sent(),n.dispose(),i=r.map((function(e){return new hS(e)})),[2,t.isBatchInput?i:i[0]]}}))}))},t.prototype.getDefaultModelName=function(){return"face_expression_model"},t.prototype.getClassifierChannelsIn=function(){return 256},t.prototype.getClassifierChannelsOut=function(){return 7},t}(dS);function yS(e,t){var n={expressions:t};return Object.assign({},e,n)}function mS(e,t,n,r){void 0===n&&(n=.1),(Array.isArray(t)?t:[t]).forEach((function(t){var i=t instanceof hS?t:t.expressions instanceof hS?t.expressions:void 0;if(!i)throw new Error("drawFaceExpressions - expected faceExpressions to be FaceExpressions | WithFaceExpressions<{}> or array thereof");var a=i.asSortedArray().filter((function(e){return e.probability>n})),o=hw(t)?t.detection.box.bottomLeft:r||new $x(0,0),s=new Pw(a.map((function(e){return e.expression+" ("+Hx(e.probability)+")"})),o);s.draw(e)}))}function gS(e){return hw(e)&&e.landmarks instanceof uw&&e.unshiftedLandmarks instanceof uw&&e.alignedRect instanceof tw}function bS(e,t){var n=e.detection.box,r=t.shiftBy(n.x,n.y),i=r.align(),a=e.detection.imageDims,o={landmarks:r,unshiftedLandmarks:t,alignedRect:new tw(e.detection.score,i.rescale(a.reverse()),a)};return Object.assign({},e,o)}var xS=function(e){void 0===e&&(e={});var t=e.drawLines,n=void 0===t||t,r=e.drawPoints,i=void 0===r||r,a=e.lineWidth,o=e.lineColor,s=e.pointSize,u=e.pointColor;this.drawLines=n,this.drawPoints=i,this.lineWidth=a||1,this.pointSize=s||2,this.lineColor=o||"rgba(0, 255, 255, 1)",this.pointColor=u||"rgba(255, 0, 255, 1)"},wS=function(){function e(e,t){void 0===t&&(t={}),this.faceLandmarks=e,this.options=new xS(t)}return e.prototype.draw=function(e){var t=_w(e),n=this.options,r=n.drawLines,i=n.drawPoints,a=n.lineWidth,o=n.lineColor,s=n.pointSize,u=n.pointColor;if(r&&this.faceLandmarks instanceof cw&&(t.strokeStyle=o,t.lineWidth=a,Rx(t,this.faceLandmarks.getJawOutline()),Rx(t,this.faceLandmarks.getLeftEyeBrow()),Rx(t,this.faceLandmarks.getRightEyeBrow()),Rx(t,this.faceLandmarks.getNose()),Rx(t,this.faceLandmarks.getLeftEye(),!0),Rx(t,this.faceLandmarks.getRightEye(),!0),Rx(t,this.faceLandmarks.getMouth(),!0)),i){t.strokeStyle=u,t.fillStyle=u;this.faceLandmarks.positions.forEach((function(e){t.beginPath(),t.arc(e.x,e.y,s,0,2*Math.PI),t.fill()}))}},e}();function SS(e,t){(Array.isArray(t)?t:[t]).forEach((function(t){var n=t instanceof uw?t:gS(t)?t.landmarks:void 0;if(!n)throw new Error("drawFaceLandmarks - expected faceExpressions to be FaceLandmarks | WithFaceLandmarks<WithFaceDetection<{}>> or array thereof");new wS(n).draw(e)}))}function TS(e,t){var n=[],r=aS(e),i=r.extractWeights,a=r.getRemainingWeights,o=function(e,t){var n=Zw(e,t),r=nS(e,t);return{extractConvParams:n,extractSeparableConvParams:r,extractReductionBlockParams:function(e,t,i){return{separable_conv0:r(e,t,i+"/separable_conv0"),separable_conv1:r(t,t,i+"/separable_conv1"),expansion_conv:n(e,t,1,i+"/expansion_conv")}},extractMainBlockParams:function(e,t){return{separable_conv0:r(e,e,t+"/separable_conv0"),separable_conv1:r(e,e,t+"/separable_conv1"),separable_conv2:r(e,e,t+"/separable_conv2")}}}}(i,n),s=o.extractConvParams,u=o.extractSeparableConvParams,l=o.extractReductionBlockParams,c=o.extractMainBlockParams,f={conv_in:s(3,32,3,"entry_flow/conv_in"),reduction_block_0:l(32,64,"entry_flow/reduction_block_0"),reduction_block_1:l(64,128,"entry_flow/reduction_block_1")},d={};Xx(t,0,1).forEach((function(e){d["main_block_"+e]=c(128,"middle_flow/main_block_"+e)}));var p={reduction_block:l(128,256,"exit_flow/reduction_block"),separable_conv:u(256,512,"exit_flow/separable_conv")};if(0!==a().length)throw new Error("weights remaing after extract: "+a().length);return{paramMappings:n,params:{entry_flow:f,middle_flow:d,exit_flow:p}}}function ES(e,t){var n=[],r=function(e,t){var n=iS(e,t),r=sS(n),i=rS(n);return{extractConvParams:r,extractSeparableConvParams:i,extractReductionBlockParams:function(e){return{separable_conv0:i(e+"/separable_conv0"),separable_conv1:i(e+"/separable_conv1"),expansion_conv:r(e+"/expansion_conv")}},extractMainBlockParams:function(e){return{separable_conv0:i(e+"/separable_conv0"),separable_conv1:i(e+"/separable_conv1"),separable_conv2:i(e+"/separable_conv2")}}}}(e,n),i=r.extractConvParams,a=r.extractSeparableConvParams,o=r.extractReductionBlockParams,s=r.extractMainBlockParams,u={conv_in:i("entry_flow/conv_in"),reduction_block_0:o("entry_flow/reduction_block_0"),reduction_block_1:o("entry_flow/reduction_block_1")},l={};Xx(t,0,1).forEach((function(e){l["main_block_"+e]=s("middle_flow/main_block_"+e)}));var c={reduction_block:o("exit_flow/reduction_block"),separable_conv:a("exit_flow/separable_conv")};return Qw(e,n),{params:{entry_flow:u,middle_flow:l,exit_flow:c},paramMappings:n}}function kS(e,t,n){return Ey(fm(e,t.filters,n,"same"),t.bias)}function _S(e,t,n){void 0===n&&(n=!0);var r=n?ng(e):e;return r=Xw(r,t.separable_conv0,[1,1]),r=Xw(ng(r),t.separable_conv1,[1,1]),r=Am(r,[3,3],[2,2],"same"),r=Ey(r,kS(e,t.expansion_conv,[2,2]))}var CS,PS=function(e){function t(t){var n=e.call(this,"TinyXception")||this;return n._numMainBlocks=t,n}return Mx(t,e),t.prototype.forwardInput=function(e){var t=this,n=this.params;if(!n)throw new Error("TinyXception - load model before inference");return nc((function(){var r=iw(e.toBatchTensor(112,!0),[122.782,117.001,104.298]).div(kc(256)),i=ng(kS(r,n.entry_flow.conv_in,[2,2]));return i=_S(i,n.entry_flow.reduction_block_0,!1),i=_S(i,n.entry_flow.reduction_block_1),Xx(t._numMainBlocks,0,1).forEach((function(e){i=function(e,t){var n=Xw(ng(e),t.separable_conv0,[1,1]);return n=Xw(ng(n),t.separable_conv1,[1,1]),n=Xw(ng(n),t.separable_conv2,[1,1]),Ey(n,e)}(i,n.middle_flow["main_block_"+e])})),i=_S(i,n.exit_flow.reduction_block),i=ng(Xw(i,n.exit_flow.separable_conv,[1,1]))}))},t.prototype.forward=function(e){return Lx(this,void 0,void 0,(function(){var t;return Bx(this,(function(n){switch(n.label){case 0:return t=this.forwardInput,[4,jw(e)];case 1:return[2,t.apply(this,[n.sent()])]}}))}))},t.prototype.getDefaultModelName=function(){return"tiny_xception_model"},t.prototype.extractParamsFromWeigthMap=function(e){return ES(e,this._numMainBlocks)},t.prototype.extractParams=function(e){return TS(e,this._numMainBlocks)},t}(Gw);!function(e){e.FEMALE="female",e.MALE="male"}(CS||(CS={}));var OS=function(e){function t(t){void 0===t&&(t=new PS(2));var n=e.call(this,"AgeGenderNet")||this;return n._faceFeatureExtractor=t,n}return Mx(t,e),Object.defineProperty(t.prototype,"faceFeatureExtractor",{get:function(){return this._faceFeatureExtractor},enumerable:!0,configurable:!0}),t.prototype.runNet=function(e){var t=this,n=this.params;if(!n)throw new Error(this._name+" - load model before inference");return nc((function(){var r=e instanceof Bw?t.faceFeatureExtractor.forwardInput(e):e,i=Dm(r,[7,7],[2,2],"valid").as2D(r.shape[0],-1);return{age:cS(i,n.fc.age).as1D(),gender:cS(i,n.fc.gender)}}))},t.prototype.forwardInput=function(e){var t=this;return nc((function(){var n=t.runNet(e),r=n.age,i=n.gender;return{age:r,gender:qf(i)}}))},t.prototype.forward=function(e){return Lx(this,void 0,void 0,(function(){var t;return Bx(this,(function(n){switch(n.label){case 0:return t=this.forwardInput,[4,jw(e)];case 1:return[2,t.apply(this,[n.sent()])]}}))}))},t.prototype.predictAgeAndGender=function(e){return Lx(this,void 0,void 0,(function(){var t,n,r,i,a,o,s=this;return Bx(this,(function(u){switch(u.label){case 0:return[4,jw(e)];case 1:return t=u.sent(),[4,this.forwardInput(t)];case 2:return n=u.sent(),r=Cf(n.age),i=Cf(n.gender),a=r.map((function(e,t){return{ageTensor:e,genderTensor:i[t]}})),[4,Promise.all(a.map((function(e){var t=e.ageTensor,n=e.genderTensor;return Lx(s,void 0,void 0,(function(){var e,r,i,a,o;return Bx(this,(function(s){switch(s.label){case 0:return[4,t.data()];case 1:return e=s.sent()[0],[4,n.data()];case 2:return r=s.sent()[0],a=(i=r>.5)?CS.MALE:CS.FEMALE,o=i?r:1-r,t.dispose(),n.dispose(),[2,{age:e,gender:a,genderProbability:o}]}}))}))})))];case 3:return o=u.sent(),n.age.dispose(),n.gender.dispose(),[2,t.isBatchInput?o:o[0]]}}))}))},t.prototype.getDefaultModelName=function(){return"age_gender_model"},t.prototype.dispose=function(t){void 0===t&&(t=!0),this.faceFeatureExtractor.dispose(t),e.prototype.dispose.call(this,t)},t.prototype.loadClassifierParams=function(e){var t=this.extractClassifierParams(e),n=t.params,r=t.paramMappings;this._params=n,this._paramMappings=r},t.prototype.extractClassifierParams=function(e){return function(e){var t=[],n=aS(e),r=n.extractWeights,i=n.getRemainingWeights,a=eS(r,t),o=a(512,1,"fc/age"),s=a(512,2,"fc/gender");if(0!==i().length)throw new Error("weights remaing after extract: "+i().length);return{paramMappings:t,params:{fc:{age:o,gender:s}}}}(e)},t.prototype.extractParamsFromWeigthMap=function(e){var t=fS(e),n=t.featureExtractorMap,r=t.classifierMap;return this.faceFeatureExtractor.loadFromWeightMap(n),function(e){var t=[],n=iS(e,t);function r(e){return{weights:n(e+"/weights",2),bias:n(e+"/bias",1)}}var i={fc:{age:r("fc/age"),gender:r("fc/gender")}};return Qw(e,t),{params:i,paramMappings:t}}(r)},t.prototype.extractParams=function(e){var t=e.slice(0,e.length-1539),n=e.slice(e.length-1539);return this.faceFeatureExtractor.extractWeights(t),this.extractClassifierParams(n)},t}(Gw),IS=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Mx(t,e),t.prototype.postProcess=function(e,t,n){var r=n.map((function(e){var n=e.width,r=e.height,i=t/Math.max(r,n);return{width:n*i,height:r*i}})),i=r.length;return nc((function(){var n=function(e,t){return Ef([Dc([68],e),Dc([68],t)],1).as2D(1,136).as1D()},a=function(e,t){var n=r[e],i=n.width,a=n.height;return t(i,a)?Math.abs(i-a)/2:0},o=e.mul(Dc([i,136],t)).sub(Ef(Array.from(Array(i),(function(e,t){return n(function(e){return a(e,(function(e,t){return e<t}))}(t),function(e){return a(e,(function(e,t){return t<e}))}(t))})))).div(Ef(Array.from(Array(i),(function(e,t){return n(r[t].width,r[t].height)}))));return o}))},t.prototype.forwardInput=function(e){var t=this;return nc((function(){var n=t.runNet(e);return t.postProcess(n,e.inputSize,e.inputDimensions.map((function(e){return{height:e[0],width:e[1]}})))}))},t.prototype.forward=function(e){return Lx(this,void 0,void 0,(function(){var t;return Bx(this,(function(n){switch(n.label){case 0:return t=this.forwardInput,[4,jw(e)];case 1:return[2,t.apply(this,[n.sent()])]}}))}))},t.prototype.detectLandmarks=function(e){return Lx(this,void 0,void 0,(function(){var t,n,r,i=this;return Bx(this,(function(a){switch(a.label){case 0:return[4,jw(e)];case 1:return t=a.sent(),n=nc((function(){return Cf(i.forwardInput(t))})),[4,Promise.all(n.map((function(e,n){return Lx(i,void 0,void 0,(function(){var r,i,a,o,s;return Bx(this,(function(u){switch(u.label){case 0:return a=(i=Array).from,[4,e.data()];case 1:return r=a.apply(i,[u.sent()]),o=r.filter((function(e,t){return Kx(t)})),s=r.filter((function(e,t){return!Kx(t)})),[2,new cw(Array(68).fill(0).map((function(e,t){return new $x(o[t],s[t])})),{height:t.getInputHeight(n),width:t.getInputWidth(n)})]}}))}))})))];case 2:return r=a.sent(),n.forEach((function(e){return e.dispose()})),[2,t.isBatchInput?r:r[0]]}}))}))},t.prototype.getClassifierChannelsOut=function(){return 136},t}(dS),AS=function(e){function t(t){return void 0===t&&(t=new lS),e.call(this,"FaceLandmark68Net",t)||this}return Mx(t,e),t.prototype.getDefaultModelName=function(){return"face_landmark_68_model"},t.prototype.getClassifierChannelsIn=function(){return 256},t}(IS);var DS=function(e){function t(){return e.call(this,"TinyFaceFeatureExtractor")||this}return Mx(t,e),t.prototype.forwardInput=function(e){var t=this.params;if(!t)throw new Error("TinyFaceFeatureExtractor - load model before inference");return nc((function(){var n=Yw(iw(e.toBatchTensor(112,!0),[122.782,117.001,104.298]).div(kc(255)),t.dense0,!0);return n=Yw(n,t.dense1),n=Yw(n,t.dense2),n=Dm(n,[14,14],[2,2],"valid")}))},t.prototype.forward=function(e){return Lx(this,void 0,void 0,(function(){var t;return Bx(this,(function(n){switch(n.label){case 0:return t=this.forwardInput,[4,jw(e)];case 1:return[2,t.apply(this,[n.sent()])]}}))}))},t.prototype.getDefaultModelName=function(){return"face_feature_extractor_tiny_model"},t.prototype.extractParamsFromWeigthMap=function(e){return function(e){var t=[],n=uS(e,t).extractDenseBlock3Params,r={dense0:n("dense0",!0),dense1:n("dense1"),dense2:n("dense2")};return Qw(e,t),{params:r,paramMappings:t}}(e)},t.prototype.extractParams=function(e){return function(e){var t=[],n=aS(e),r=n.extractWeights,i=n.getRemainingWeights,a=oS(r,t).extractDenseBlock3Params,o=a(3,32,"dense0",!0),s=a(32,64,"dense1"),u=a(64,128,"dense2");if(0!==i().length)throw new Error("weights remaing after extract: "+i().length);return{paramMappings:t,params:{dense0:o,dense1:s,dense2:u}}}(e)},t}(Gw),RS=function(e){function t(t){return void 0===t&&(t=new DS),e.call(this,"FaceLandmark68TinyNet",t)||this}return Mx(t,e),t.prototype.getDefaultModelName=function(){return"face_landmark_68_tiny_model"},t.prototype.getClassifierChannelsIn=function(){return 128},t}(IS);!function(e){function t(){return null!==e&&e.apply(this,arguments)||this}Mx(t,e)}(AS);function NS(e,t,n,r,i){void 0===i&&(i="same");var a=t.conv,o=a.filters,s=a.bias,u=fm(e,o,n,i);return u=function(e,t){return Ey(By(e,t.weights),t.biases)}(u=Ey(u,s),t.scale),r?ng(u):u}function MS(e,t){return NS(e,t,[1,1],!1)}function FS(e,t){return NS(e,t,[2,2],!0,"valid")}function LS(e,t){function n(n,r,i,a){var o=function(t,n,r){var i=e(t),a=i.length/(n*r*r);if(a%1!==0)throw new Error("depth has to be an integer: "+a+", weights.length: "+i.length+", numFilters: "+n+", filterSize: "+r);return nc((function(){return ag(Oc(i,[n,a,r,r]),[2,3,1,0])}))}(n,r,i),s=_c(e(r));return t.push({paramPath:a+"/filters"},{paramPath:a+"/bias"}),{filters:o,bias:s}}function r(r,i,a,o){var s=n(r,i,a,o+"/conv"),u=function(n,r){var i=_c(e(n)),a=_c(e(n));return t.push({paramPath:r+"/weights"},{paramPath:r+"/biases"}),{weights:i,biases:a}}(i,o+"/scale");return{conv:s,scale:u}}return{extractConvLayerParams:r,extractResidualLayerParams:function(e,t,n,i,a){return void 0===a&&(a=!1),{conv1:r((a?.5:1)*e,t,n,i+"/conv1"),conv2:r(e,t,n,i+"/conv2")}}}}function BS(e,t){var n=iS(e,t);function r(e){var t=n(e+"/conv/filters",4),r=n(e+"/conv/bias",1),i=function(e){return{weights:n(e+"/scale/weights",1),biases:n(e+"/scale/biases",1)}}(e);return{conv:{filters:t,bias:r},scale:i}}return{extractConvLayerParams:r,extractResidualLayerParams:function(e){return{conv1:r(e+"/conv1"),conv2:r(e+"/conv2")}}}}function jS(e){var t=[],n=BS(e,t),r=n.extractConvLayerParams,i=n.extractResidualLayerParams,a=r("conv32_down"),o=i("conv32_1"),s=i("conv32_2"),u=i("conv32_3"),l=i("conv64_down"),c=i("conv64_1"),f=i("conv64_2"),d=i("conv64_3"),p=i("conv128_down"),h=i("conv128_1"),v=i("conv128_2"),y=i("conv256_down"),m=i("conv256_1"),g=i("conv256_2"),b=i("conv256_down_out"),x=e.fc;if(t.push({originalPath:"fc",paramPath:"fc"}),!Wx(x,2))throw new Error("expected weightMap[fc] to be a Tensor2D, instead have "+x);var w={conv32_down:a,conv32_1:o,conv32_2:s,conv32_3:u,conv64_down:l,conv64_1:c,conv64_2:f,conv64_3:d,conv128_down:p,conv128_1:h,conv128_2:v,conv256_down:y,conv256_1:m,conv256_2:g,conv256_down_out:b,fc:x};return Qw(e,t),{params:w,paramMappings:t}}function zS(e,t){var n=function(e,t){return NS(e,t,[1,1],!0)}(e,t.conv1);return n=MS(n,t.conv2),n=Ey(n,e),n=ng(n)}function WS(e,t){var n=FS(e,t.conv1);n=MS(n,t.conv2);var r=Dm(e,2,2,"valid"),i=Ac(r.shape),a=r.shape[3]!==n.shape[3];if(r.shape[1]!==n.shape[1]||r.shape[2]!==n.shape[2]){var o=jx(n.shape);o[1]=1;var s=Ac(o),u=jx((n=Fc([n,s],1)).shape);u[2]=1;var l=Ac(u);n=Fc([n,l],2)}return r=a?Fc([r,i],3):r,n=Ey(r,n),n=ng(n)}var VS=function(e){function t(){return e.call(this,"FaceRecognitionNet")||this}return Mx(t,e),t.prototype.forwardInput=function(e){var t=this.params;if(!t)throw new Error("FaceRecognitionNet - load model before inference");return nc((function(){var n=FS(iw(e.toBatchTensor(150,!0).toFloat(),[122.782,117.001,104.298]).div(kc(256)),t.conv32_down);n=zS(n=Am(n,3,2,"valid"),t.conv32_1),n=zS(n,t.conv32_2),n=zS(n,t.conv32_3),n=zS(n=WS(n,t.conv64_down),t.conv64_1),n=zS(n,t.conv64_2),n=zS(n,t.conv64_3),n=zS(n=WS(n,t.conv128_down),t.conv128_1),n=zS(n,t.conv128_2),n=zS(n=WS(n,t.conv256_down),t.conv256_1);var r=(n=WS(n=zS(n,t.conv256_2),t.conv256_down_out)).mean([1,2]);return wm(r,t.fc)}))},t.prototype.forward=function(e){return Lx(this,void 0,void 0,(function(){var t;return Bx(this,(function(n){switch(n.label){case 0:return t=this.forwardInput,[4,jw(e)];case 1:return[2,t.apply(this,[n.sent()])]}}))}))},t.prototype.computeFaceDescriptor=function(e){return Lx(this,void 0,void 0,(function(){var t,n,r,i=this;return Bx(this,(function(a){switch(a.label){case 0:return[4,jw(e)];case 1:return t=a.sent(),n=nc((function(){return Cf(i.forwardInput(t))})),[4,Promise.all(n.map((function(e){return e.data()})))];case 2:return r=a.sent(),n.forEach((function(e){return e.dispose()})),[2,t.isBatchInput?r:r[0]]}}))}))},t.prototype.getDefaultModelName=function(){return"face_recognition_model"},t.prototype.extractParamsFromWeigthMap=function(e){return jS(e)},t.prototype.extractParams=function(e){return function(e){var t=aS(e),n=t.extractWeights,r=t.getRemainingWeights,i=[],a=LS(n,i),o=a.extractConvLayerParams,s=a.extractResidualLayerParams,u=o(4704,32,7,"conv32_down"),l=s(9216,32,3,"conv32_1"),c=s(9216,32,3,"conv32_2"),f=s(9216,32,3,"conv32_3"),d=s(36864,64,3,"conv64_down",!0),p=s(36864,64,3,"conv64_1"),h=s(36864,64,3,"conv64_2"),v=s(36864,64,3,"conv64_3"),y=s(147456,128,3,"conv128_down",!0),m=s(147456,128,3,"conv128_1"),g=s(147456,128,3,"conv128_2"),b=s(589824,256,3,"conv256_down",!0),x=s(589824,256,3,"conv256_1"),w=s(589824,256,3,"conv256_2"),S=s(589824,256,3,"conv256_down_out"),T=nc((function(){return ag(Cc(n(32768),[128,256]),[1,0])}));if(i.push({paramPath:"fc"}),0!==r().length)throw new Error("weights remaing after extract: "+r().length);return{params:{conv32_down:u,conv32_1:l,conv32_2:c,conv32_3:f,conv64_down:d,conv64_1:p,conv64_2:h,conv64_3:v,conv128_down:y,conv128_1:m,conv128_2:g,conv256_down:b,conv256_1:x,conv256_2:w,conv256_down_out:S,fc:T},paramMappings:i}}(e)},t}(Gw);function US(e,t,n){var r={gender:t,genderProbability:n};return Object.assign({},e,r)}var KS=function(){function e(e){var t=void 0===e?{}:e,n=t.minFaceSize,r=t.scaleFactor,i=t.maxNumScales,a=t.scoreThresholds,o=t.scaleSteps;if(this._name="MtcnnOptions",this._minFaceSize=n||20,this._scaleFactor=r||.709,this._maxNumScales=i||10,this._scoreThresholds=a||[.6,.7,.7],this._scaleSteps=o,"number"!==typeof this._minFaceSize||this._minFaceSize<0)throw new Error(this._name+" - expected minFaceSize to be a number > 0");if("number"!==typeof this._scaleFactor||this._scaleFactor<=0||this._scaleFactor>=1)throw new Error(this._name+" - expected scaleFactor to be a number between 0 and 1");if("number"!==typeof this._maxNumScales||this._maxNumScales<0)throw new Error(this._name+" - expected maxNumScales to be a number > 0");if(!Array.isArray(this._scoreThresholds)||3!==this._scoreThresholds.length||this._scoreThresholds.some((function(e){return"number"!==typeof e})))throw new Error(this._name+" - expected scoreThresholds to be an array of numbers of length 3");if(this._scaleSteps&&(!Array.isArray(this._scaleSteps)||this._scaleSteps.some((function(e){return"number"!==typeof e}))))throw new Error(this._name+" - expected scaleSteps to be an array of numbers")}return Object.defineProperty(e.prototype,"minFaceSize",{get:function(){return this._minFaceSize},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scaleFactor",{get:function(){return this._scaleFactor},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxNumScales",{get:function(){return this._maxNumScales},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scoreThresholds",{get:function(){return this._scoreThresholds},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scaleSteps",{get:function(){return this._scaleSteps},enumerable:!0,configurable:!0}),e}();function HS(e,t){function n(n,r,i,a,o){var s=Oc(e(n*r*i*i),[i,i,n,r]),u=_c(e(r));return t.push({paramPath:a+"/filters"},{paramPath:a+"/"+(o?"batch_norm_offset":"bias")}),{filters:s,bias:u}}function r(e,t,r,i){var a=n(e,t,r,i,!0);return{filters:a.filters,batch_norm_offset:a.bias}}function i(n,i,a){var o=function(n,r){var i=Oc(e(9*n),[3,3,n,1]),a=_c(e(n)),o=_c(e(n)),s=_c(e(n)),u=_c(e(n));return t.push({paramPath:r+"/filters"},{paramPath:r+"/batch_norm_scale"},{paramPath:r+"/batch_norm_offset"},{paramPath:r+"/batch_norm_mean"},{paramPath:r+"/batch_norm_variance"}),{filters:i,batch_norm_scale:a,batch_norm_offset:o,batch_norm_mean:s,batch_norm_variance:u}}(n,a+"/depthwise_conv");return{depthwise_conv:o,pointwise_conv:r(n,i,1,a+"/pointwise_conv")}}return{extractMobilenetV1Params:function(){return{conv_0:r(3,32,3,"mobilenetv1/conv_0"),conv_1:i(32,64,"mobilenetv1/conv_1"),conv_2:i(64,128,"mobilenetv1/conv_2"),conv_3:i(128,128,"mobilenetv1/conv_3"),conv_4:i(128,256,"mobilenetv1/conv_4"),conv_5:i(256,256,"mobilenetv1/conv_5"),conv_6:i(256,512,"mobilenetv1/conv_6"),conv_7:i(512,512,"mobilenetv1/conv_7"),conv_8:i(512,512,"mobilenetv1/conv_8"),conv_9:i(512,512,"mobilenetv1/conv_9"),conv_10:i(512,512,"mobilenetv1/conv_10"),conv_11:i(512,512,"mobilenetv1/conv_11"),conv_12:i(512,1024,"mobilenetv1/conv_12"),conv_13:i(1024,1024,"mobilenetv1/conv_13")}},extractPredictionLayerParams:function(){return{conv_0:r(1024,256,1,"prediction_layer/conv_0"),conv_1:r(256,512,3,"prediction_layer/conv_1"),conv_2:r(512,128,1,"prediction_layer/conv_2"),conv_3:r(128,256,3,"prediction_layer/conv_3"),conv_4:r(256,128,1,"prediction_layer/conv_4"),conv_5:r(128,256,3,"prediction_layer/conv_5"),conv_6:r(256,64,1,"prediction_layer/conv_6"),conv_7:r(64,128,3,"prediction_layer/conv_7"),box_predictor_0:{box_encoding_predictor:n(512,12,1,"prediction_layer/box_predictor_0/box_encoding_predictor"),class_predictor:n(512,9,1,"prediction_layer/box_predictor_0/class_predictor")},box_predictor_1:{box_encoding_predictor:n(1024,24,1,"prediction_layer/box_predictor_1/box_encoding_predictor"),class_predictor:n(1024,18,1,"prediction_layer/box_predictor_1/class_predictor")},box_predictor_2:{box_encoding_predictor:n(512,24,1,"prediction_layer/box_predictor_2/box_encoding_predictor"),class_predictor:n(512,18,1,"prediction_layer/box_predictor_2/class_predictor")},box_predictor_3:{box_encoding_predictor:n(256,24,1,"prediction_layer/box_predictor_3/box_encoding_predictor"),class_predictor:n(256,18,1,"prediction_layer/box_predictor_3/class_predictor")},box_predictor_4:{box_encoding_predictor:n(256,24,1,"prediction_layer/box_predictor_4/box_encoding_predictor"),class_predictor:n(256,18,1,"prediction_layer/box_predictor_4/class_predictor")},box_predictor_5:{box_encoding_predictor:n(128,24,1,"prediction_layer/box_predictor_5/box_encoding_predictor"),class_predictor:n(128,18,1,"prediction_layer/box_predictor_5/class_predictor")}}}}}function qS(e){var t=[],n=function(e,t){var n=iS(e,t);function r(e,t,r){return{filters:n(e+"/Conv2d_"+t+"_pointwise/weights",4,r+"/filters"),batch_norm_offset:n(e+"/Conv2d_"+t+"_pointwise/convolution_bn_offset",1,r+"/batch_norm_offset")}}function i(e){var t="mobilenetv1/conv_"+e,i="MobilenetV1/Conv2d_"+e+"_depthwise",a=t+"/depthwise_conv",o=t+"/pointwise_conv";return{depthwise_conv:{filters:n(i+"/depthwise_weights",4,a+"/filters"),batch_norm_scale:n(i+"/BatchNorm/gamma",1,a+"/batch_norm_scale"),batch_norm_offset:n(i+"/BatchNorm/beta",1,a+"/batch_norm_offset"),batch_norm_mean:n(i+"/BatchNorm/moving_mean",1,a+"/batch_norm_mean"),batch_norm_variance:n(i+"/BatchNorm/moving_variance",1,a+"/batch_norm_variance")},pointwise_conv:r("MobilenetV1",e,o)}}function a(e,t){return{filters:n(e+"/weights",4,t+"/filters"),bias:n(e+"/biases",1,t+"/bias")}}function o(e){return{box_encoding_predictor:a("Prediction/BoxPredictor_"+e+"/BoxEncodingPredictor","prediction_layer/box_predictor_"+e+"/box_encoding_predictor"),class_predictor:a("Prediction/BoxPredictor_"+e+"/ClassPredictor","prediction_layer/box_predictor_"+e+"/class_predictor")}}return{extractMobilenetV1Params:function(){return{conv_0:r("MobilenetV1",0,"mobilenetv1/conv_0"),conv_1:i(1),conv_2:i(2),conv_3:i(3),conv_4:i(4),conv_5:i(5),conv_6:i(6),conv_7:i(7),conv_8:i(8),conv_9:i(9),conv_10:i(10),conv_11:i(11),conv_12:i(12),conv_13:i(13)}},extractPredictionLayerParams:function(){return{conv_0:r("Prediction",0,"prediction_layer/conv_0"),conv_1:r("Prediction",1,"prediction_layer/conv_1"),conv_2:r("Prediction",2,"prediction_layer/conv_2"),conv_3:r("Prediction",3,"prediction_layer/conv_3"),conv_4:r("Prediction",4,"prediction_layer/conv_4"),conv_5:r("Prediction",5,"prediction_layer/conv_5"),conv_6:r("Prediction",6,"prediction_layer/conv_6"),conv_7:r("Prediction",7,"prediction_layer/conv_7"),box_predictor_0:o(0),box_predictor_1:o(1),box_predictor_2:o(2),box_predictor_3:o(3),box_predictor_4:o(4),box_predictor_5:o(5)}}}}(e,t),r=n.extractMobilenetV1Params,i=n.extractPredictionLayerParams,a=e["Output/extra_dim"];if(t.push({originalPath:"Output/extra_dim",paramPath:"output_layer/extra_dim"}),!Vx(a))throw new Error("expected weightMap['Output/extra_dim'] to be a Tensor3D, instead have "+a);var o={mobilenetv1:r(),prediction_layer:i(),output_layer:{extra_dim:a}};return Qw(e,t),{params:o,paramMappings:t}}function GS(e,t,n){return nc((function(){var r=fm(e,t.filters,n,"same");return r=Ey(r,t.batch_norm_offset),Dv(r,0,6)}))}var XS=.0010000000474974513;function YS(e,t){return nc((function(){var n=null,r=GS(e,t.conv_0,[2,2]);if([t.conv_1,t.conv_2,t.conv_3,t.conv_4,t.conv_5,t.conv_6,t.conv_7,t.conv_8,t.conv_9,t.conv_10,t.conv_11,t.conv_12,t.conv_13].forEach((function(e,t){var i=t+1,a=function(e){return[2,4,6,12].some((function(t){return t===e}))?[2,2]:[1,1]}(i);r=function(e,t,n){return nc((function(){var r=vm(e,t.filters,n,"same");return r=hy(r,t.batch_norm_mean,t.batch_norm_variance,t.batch_norm_offset,t.batch_norm_scale,XS),Dv(r,0,6)}))}(r,e.depthwise_conv,a),r=GS(r,e.pointwise_conv,[1,1]),11===i&&(n=r)})),null===n)throw new Error("mobileNetV1 - output of conv layer 11 is null");return{out:r,conv11:n}}))}function JS(e,t,n){var r=e.arraySync(),i=Math.min(r[t][0],r[t][2]),a=Math.min(r[t][1],r[t][3]),o=Math.max(r[t][0],r[t][2]),s=Math.max(r[t][1],r[t][3]),u=Math.min(r[n][0],r[n][2]),l=Math.min(r[n][1],r[n][3]),c=Math.max(r[n][0],r[n][2]),f=Math.max(r[n][1],r[n][3]),d=(o-i)*(s-a),p=(c-u)*(f-l);if(d<=0||p<=0)return 0;var h=Math.max(i,u),v=Math.max(a,l),y=Math.min(o,c),m=Math.min(s,f),g=Math.max(y-h,0)*Math.max(m-v,0);return g/(d+p-g)}function $S(e,t){var n=function(e){var t=Cf(ag(e,[1,0])),n=[Uy(t[2],t[0]),Uy(t[3],t[1])];return{sizes:n,centers:[Ey(t[0],Py(n[0],kc(2))),Ey(t[1],Py(n[1],kc(2)))]}}(e),r=n.sizes,i=n.centers,a=Cf(ag(t,[1,0])),o=Py(By(Fv(Py(a[2],kc(5))),r[0]),kc(2)),s=Ey(By(Py(a[0],kc(10)),r[0]),i[0]),u=Py(By(Fv(Py(a[3],kc(5))),r[1]),kc(2)),l=Ey(By(Py(a[1],kc(10)),r[1]),i[1]);return ag(Ef([Uy(s,o),Uy(l,u),Ey(s,o),Ey(l,u)]),[1,0])}function QS(e,t){return nc((function(){var n=e.shape[0];return{boxPredictionEncoding:wf($w(e,t.box_encoding_predictor),[n,-1,1,4]),classPrediction:wf($w(e,t.class_predictor),[n,-1,3])}}))}var ZS=function(){function e(e){var t=void 0===e?{}:e,n=t.minConfidence,r=t.maxResults;if(this._name="SsdMobilenetv1Options",this._minConfidence=n||.5,this._maxResults=r||100,"number"!==typeof this._minConfidence||this._minConfidence<=0||this._minConfidence>=1)throw new Error(this._name+" - expected minConfidence to be a number between 0 and 1");if("number"!==typeof this._maxResults)throw new Error(this._name+" - expected maxResults to be a number")}return Object.defineProperty(e.prototype,"minConfidence",{get:function(){return this._minConfidence},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxResults",{get:function(){return this._maxResults},enumerable:!0,configurable:!0}),e}(),eT=function(e){function t(){return e.call(this,"SsdMobilenetv1")||this}return Mx(t,e),t.prototype.forwardInput=function(e){var t=this.params;if(!t)throw new Error("SsdMobilenetv1 - load model before inference");return nc((function(){var n=e.toBatchTensor(512,!1).toFloat(),r=YS(Uy(By(n,kc(.007843137718737125)),kc(1)),t.mobilenetv1),i=function(e,t,n){return nc((function(){var r=GS(e,n.conv_0,[1,1]),i=GS(r,n.conv_1,[2,2]),a=GS(i,n.conv_2,[1,1]),o=GS(a,n.conv_3,[2,2]),s=GS(o,n.conv_4,[1,1]),u=GS(s,n.conv_5,[2,2]),l=GS(u,n.conv_6,[1,1]),c=GS(l,n.conv_7,[2,2]),f=QS(t,n.box_predictor_0),d=QS(e,n.box_predictor_1),p=QS(i,n.box_predictor_2),h=QS(o,n.box_predictor_3),v=QS(u,n.box_predictor_4),y=QS(c,n.box_predictor_5);return{boxPredictions:Fc([f.boxPredictionEncoding,d.boxPredictionEncoding,p.boxPredictionEncoding,h.boxPredictionEncoding,v.boxPredictionEncoding,y.boxPredictionEncoding],1),classPredictions:Fc([f.classPrediction,d.classPrediction,p.classPrediction,h.classPrediction,v.classPrediction,y.classPrediction],1)}}))}(r.out,r.conv11,t.prediction_layer);return function(e,t,n){return nc((function(){var r=e.shape[0],i=$S(wf(kf(n.extra_dim,[r,1,1]),[-1,4]),wf(e,[-1,4]));i=wf(i,[r,i.shape[0]/r,4]);var a=qv(Fm(t,[0,0,1],[-1,-1,-1])),o=Fm(a,[0,0,0],[-1,-1,1]);return o=wf(o,[r,o.shape[1]]),{boxes:Cf(i),scores:Cf(o)}}))}(i.boxPredictions,i.classPredictions,t.output_layer)}))},t.prototype.forward=function(e){return Lx(this,void 0,void 0,(function(){var t;return Bx(this,(function(n){switch(n.label){case 0:return t=this.forwardInput,[4,jw(e)];case 1:return[2,t.apply(this,[n.sent()])]}}))}))},t.prototype.locateFaces=function(e,t){return void 0===t&&(t={}),Lx(this,void 0,void 0,(function(){var n,r,i,a,o,s,u,l,c,f,d,p,h,v,y,m,g,b,x,w;return Bx(this,(function(S){switch(S.label){case 0:return n=new ZS(t),r=n.maxResults,i=n.minConfidence,[4,jw(e)];case 1:for(a=S.sent(),o=this.forwardInput(a),s=o.boxes,u=o.scores,l=s[0],c=u[0],f=1;f<s.length;f++)s[f].dispose(),u[f].dispose();return h=(p=Array).from,[4,c.data()];case 2:return d=h.apply(p,[S.sent()]),.5,v=function(e,t,n,r,i){var a=e.shape[0],o=Math.min(n,a),s=t.map((function(e,t){return{score:e,boxIndex:t}})).filter((function(e){return e.score>i})).sort((function(e,t){return t.score-e.score})),u=function(e){return e<=r?1:0},l=[];return s.forEach((function(t){if(!(l.length>=o)){for(var n=t.score,r=l.length-1;r>=0;--r){var a=JS(e,t.boxIndex,l[r]);if(0!==a&&(t.score*=u(a),t.score<=i))break}n===t.score&&l.push(t.boxIndex)}})),l}(l,d,r,.5,i),y=a.getReshapedInputDimensions(0),m=a.inputSize,g=m/y.width,b=m/y.height,x=l.arraySync(),w=v.map((function(e){var t=[Math.max(0,x[e][0]),Math.min(1,x[e][2])].map((function(e){return e*b})),n=t[0],r=t[1],i=[Math.max(0,x[e][1]),Math.min(1,x[e][3])].map((function(e){return e*g})),o=i[0],s=i[1];return new tw(d[e],new sw(o,n,s-o,r-n),{height:a.getInputHeight(0),width:a.getInputWidth(0)})})),l.dispose(),c.dispose(),[2,w]}}))}))},t.prototype.getDefaultModelName=function(){return"ssd_mobilenetv1_model"},t.prototype.extractParamsFromWeigthMap=function(e){return qS(e)},t.prototype.extractParams=function(e){return function(e){var t=[],n=aS(e),r=n.extractWeights,i=n.getRemainingWeights,a=HS(r,t),o=a.extractMobilenetV1Params,s=a.extractPredictionLayerParams,u=o(),l=s(),c={extra_dim:Pc(r(20472),[1,5118,4])};if(t.push({paramPath:"output_layer/extra_dim"}),0!==i().length)throw new Error("weights remaing after extract: "+i().length);return{params:{mobilenetv1:u,prediction_layer:l,output_layer:c},paramMappings:t}}(e)},t}(Gw);!function(e){function t(){return null!==e&&e.apply(this,arguments)||this}Mx(t,e)}(eT);var tT,nT=[new $x(.738768,.874946),new $x(2.42204,2.65704),new $x(4.30971,7.04493),new $x(10.246,4.59428),new $x(12.6868,11.8741)],rT=[new $x(1.603231,2.094468),new $x(6.041143,7.080126),new $x(2.882459,3.518061),new $x(4.266906,5.178857),new $x(9.041765,10.66308)],iT=[117.001,114.697,97.404],aT=function(e){return"number"===typeof e};function oT(e){return nc((function(){var t=By(e,kc(.10000000149011612));return Ey(ng(Uy(e,t)),t)}))}function sT(e,t){return nc((function(){var n=df(e,[[0,0],[1,1],[1,1],[0,0]]);return n=fm(n,t.conv.filters,[1,1],"valid"),n=Uy(n,t.bn.sub),n=By(n,t.bn.truediv),oT(n=Ey(n,t.conv.bias))}))}function uT(e,t){return nc((function(){var n=df(e,[[0,0],[1,1],[1,1],[0,0]]);return n=gm(n,t.depthwise_filter,t.pointwise_filter,[1,1],"valid"),oT(n=Ey(n,t.bias))}))}function lT(e,t){var n=Zw(e,t);var r=nS(e,t);return{extractConvParams:n,extractConvWithBatchNormParams:function(r,i,a){var o=n(r,i,3,a+"/conv"),s=function(n,r){var i=_c(e(n)),a=_c(e(n));return t.push({paramPath:r+"/sub"},{paramPath:r+"/truediv"}),{sub:i,truediv:a}}(i,a+"/bn");return{conv:o,bn:s}},extractSeparableConvParams:r}}function cT(e,t){var n=iS(e,t);function r(e){return{filters:n(e+"/filters",4),bias:n(e+"/bias",1)}}return{extractConvParams:r,extractConvWithBatchNormParams:function(e){var t=r(e+"/conv"),i=function(e){return{sub:n(e+"/sub",1),truediv:n(e+"/truediv",1)}}(e+"/bn");return{conv:t,bn:i}},extractSeparableConvParams:rS(n)}}!function(e){e[e.XS=224]="XS",e[e.SM=320]="SM",e[e.MD=416]="MD",e[e.LG=608]="LG"}(tT||(tT={}));var fT=function(){function e(e){var t=void 0===e?{}:e,n=t.inputSize,r=t.scoreThreshold;if(this._name="TinyYolov2Options",this._inputSize=n||416,this._scoreThreshold=r||.5,"number"!==typeof this._inputSize||this._inputSize%32!==0)throw new Error(this._name+" - expected inputSize to be a number divisible by 32");if("number"!==typeof this._scoreThreshold||this._scoreThreshold<=0||this._scoreThreshold>=1)throw new Error(this._name+" - expected scoreThreshold to be a number between 0 and 1")}return Object.defineProperty(e.prototype,"inputSize",{get:function(){return this._inputSize},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scoreThreshold",{get:function(){return this._scoreThreshold},enumerable:!0,configurable:!0}),e}(),dT=function(e){function t(t){var n=e.call(this,"TinyYolov2")||this;return function(e){if(!e)throw new Error("invalid config: "+e);if("boolean"!==typeof e.withSeparableConvs)throw new Error("config.withSeparableConvs has to be a boolean, have: "+e.withSeparableConvs);if(!aT(e.iouThreshold)||e.iouThreshold<0||e.iouThreshold>1)throw new Error("config.iouThreshold has to be a number between [0, 1], have: "+e.iouThreshold);if(!Array.isArray(e.classes)||!e.classes.length||!e.classes.every((function(e){return"string"===typeof e})))throw new Error("config.classes has to be an array class names: string[], have: "+JSON.stringify(e.classes));if(!Array.isArray(e.anchors)||!e.anchors.length||!e.anchors.map((function(e){return e||{}})).every((function(e){return aT(e.x)&&aT(e.y)})))throw new Error("config.anchors has to be an array of { x: number, y: number }, have: "+JSON.stringify(e.anchors));if(e.meanRgb&&(!Array.isArray(e.meanRgb)||3!==e.meanRgb.length||!e.meanRgb.every(aT)))throw new Error("config.meanRgb has to be an array of shape [number, number, number], have: "+JSON.stringify(e.meanRgb))}(t),n._config=t,n}return Mx(t,e),Object.defineProperty(t.prototype,"config",{get:function(){return this._config},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"withClassScores",{get:function(){return this.config.withClassScores||this.config.classes.length>1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"boxEncodingSize",{get:function(){return 5+(this.withClassScores?this.config.classes.length:0)},enumerable:!0,configurable:!0}),t.prototype.runTinyYolov2=function(e,t){var n=sT(e,t.conv0);return n=sT(n=Am(n,[2,2],[2,2],"same"),t.conv1),n=sT(n=Am(n,[2,2],[2,2],"same"),t.conv2),n=sT(n=Am(n,[2,2],[2,2],"same"),t.conv3),n=sT(n=Am(n,[2,2],[2,2],"same"),t.conv4),n=sT(n=Am(n,[2,2],[2,2],"same"),t.conv5),n=sT(n=Am(n,[2,2],[1,1],"same"),t.conv6),$w(n=sT(n,t.conv7),t.conv8,"valid",!1)},t.prototype.runMobilenet=function(e,t){var n=this.config.isFirstLayerConv2d?oT($w(e,t.conv0,"valid",!1)):uT(e,t.conv0);return n=uT(n=Am(n,[2,2],[2,2],"same"),t.conv1),n=uT(n=Am(n,[2,2],[2,2],"same"),t.conv2),n=uT(n=Am(n,[2,2],[2,2],"same"),t.conv3),n=uT(n=Am(n,[2,2],[2,2],"same"),t.conv4),n=uT(n=Am(n,[2,2],[2,2],"same"),t.conv5),n=Am(n,[2,2],[1,1],"same"),n=t.conv6?uT(n,t.conv6):n,$w(n=t.conv7?uT(n,t.conv7):n,t.conv8,"valid",!1)},t.prototype.forwardInput=function(e,t){var n=this,r=this.params;if(!r)throw new Error("TinyYolov2 - load model before inference");return nc((function(){var i=e.toBatchTensor(t,!1).toFloat();return i=(i=n.config.meanRgb?iw(i,n.config.meanRgb):i).div(kc(256)),n.config.withSeparableConvs?n.runMobilenet(i,r):n.runTinyYolov2(i,r)}))},t.prototype.forward=function(e,t){return Lx(this,void 0,void 0,(function(){var n;return Bx(this,(function(r){switch(r.label){case 0:return n=this.forwardInput,[4,jw(e)];case 1:return[4,n.apply(this,[r.sent(),t])];case 2:return[2,r.sent()]}}))}))},t.prototype.detect=function(e,t){return void 0===t&&(t={}),Lx(this,void 0,void 0,(function(){var n,r,i,a,o,s,u,l,c,f,d,p,h,v=this;return Bx(this,(function(y){switch(y.label){case 0:return n=new fT(t),r=n.inputSize,i=n.scoreThreshold,[4,jw(e)];case 1:return a=y.sent(),[4,this.forwardInput(a,r)];case 2:return o=y.sent(),s=nc((function(){return Cf(o)[0].expandDims()})),u={width:a.getInputWidth(0),height:a.getInputHeight(0)},[4,this.extractBoxes(s,a.getReshapedInputDimensions(0),i)];case 3:return l=y.sent(),o.dispose(),s.dispose(),c=l.map((function(e){return e.box})),f=l.map((function(e){return e.score})),d=l.map((function(e){return e.classScore})),p=l.map((function(e){return v.config.classes[e.label]})),h=rw(c.map((function(e){return e.rescale(r)})),f,this.config.iouThreshold,!0),[2,h.map((function(e){return new ew(f[e],d[e],p[e],c[e],u)}))]}}))}))},t.prototype.getDefaultModelName=function(){return""},t.prototype.extractParamsFromWeigthMap=function(e){return function(e,t){var n,r=[],i=cT(e,r),a=i.extractConvParams,o=i.extractConvWithBatchNormParams,s=i.extractSeparableConvParams;if(t.withSeparableConvs){var u=t.filterSizes&&t.filterSizes.length||9;n={conv0:t.isFirstLayerConv2d?a("conv0"):s("conv0"),conv1:s("conv1"),conv2:s("conv2"),conv3:s("conv3"),conv4:s("conv4"),conv5:s("conv5"),conv6:u>7?s("conv6"):void 0,conv7:u>8?s("conv7"):void 0,conv8:a("conv8")}}else n={conv0:o("conv0"),conv1:o("conv1"),conv2:o("conv2"),conv3:o("conv3"),conv4:o("conv4"),conv5:o("conv5"),conv6:o("conv6"),conv7:o("conv7"),conv8:a("conv8")};return Qw(e,r),{params:n,paramMappings:r}}(e,this.config)},t.prototype.extractParams=function(e){var n=this.config.filterSizes||t.DEFAULT_FILTER_SIZES,r=n?n.length:void 0;if(7!==r&&8!==r&&9!==r)throw new Error("TinyYolov2 - expected 7 | 8 | 9 convolutional filters, but found "+r+" filterSizes in config");return function(e,t,n,r){var i,a=aS(e),o=a.extractWeights,s=a.getRemainingWeights,u=[],l=lT(o,u),c=l.extractConvParams,f=l.extractConvWithBatchNormParams,d=l.extractSeparableConvParams;if(t.withSeparableConvs){var p=r[0],h=r[1],v=r[2],y=r[3],m=r[4],g=r[5],b=r[6],x=r[7],w=r[8];i={conv0:t.isFirstLayerConv2d?c(p,h,3,"conv0"):d(p,h,"conv0"),conv1:d(h,v,"conv1"),conv2:d(v,y,"conv2"),conv3:d(y,m,"conv3"),conv4:d(m,g,"conv4"),conv5:d(g,b,"conv5"),conv6:x?d(b,x,"conv6"):void 0,conv7:w?d(x,w,"conv7"):void 0,conv8:c(w||x||b,5*n,1,"conv8")}}else p=r[0],h=r[1],v=r[2],y=r[3],m=r[4],g=r[5],b=r[6],x=r[7],w=r[8],i={conv0:f(p,h,"conv0"),conv1:f(h,v,"conv1"),conv2:f(v,y,"conv2"),conv3:f(y,m,"conv3"),conv4:f(m,g,"conv4"),conv5:f(g,b,"conv5"),conv6:f(b,x,"conv6"),conv7:f(x,w,"conv7"),conv8:c(w,5*n,1,"conv8")};if(0!==s().length)throw new Error("weights remaing after extract: "+s().length);return{params:i,paramMappings:u}}(e,this.config,this.boxEncodingSize,n)},t.prototype.extractBoxes=function(e,t,n){return Lx(this,void 0,void 0,(function(){var r,i,a,o,s,u,l,c,f,d,p,h,v,y,m,g,b,x,w,S,T,E,k,_,C,P,O,I,A,D=this;return Bx(this,(function(R){switch(R.label){case 0:return r=t.width,i=t.height,a=Math.max(r,i),o=a/r,s=a/i,u=e.shape[1],l=this.config.anchors.length,c=nc((function(){var t=e.reshape([u,u,l,D.boxEncodingSize]);return[t.slice([0,0,0,0],[u,u,l,4]),t.slice([0,0,0,4],[u,u,l,1]),D.withClassScores?qf(t.slice([0,0,0,5],[u,u,l,D.config.classes.length]),3):kc(0)]})),f=c[0],d=c[1],p=c[2],h=[],[4,d.array()];case 1:return v=R.sent(),[4,f.array()];case 2:y=R.sent(),m=0,R.label=3;case 3:if(!(m<u))return[3,12];g=0,R.label=4;case 4:if(!(g<u))return[3,11];b=0,R.label=5;case 5:return b<l?(x=aw(v[m][g][b][0]),!n||x>n?(w=(g+aw(y[m][g][b][0]))/u*o,S=(m+aw(y[m][g][b][1]))/u*s,T=Math.exp(y[m][g][b][2])*this.config.anchors[b].x/u*o,E=Math.exp(y[m][g][b][3])*this.config.anchors[b].y/u*s,k=w-T/2,_=S-E/2,C={row:m,col:g,anchor:b},this.withClassScores?[4,this.extractPredictedClass(p,C)]:[3,7]):[3,9]):[3,10];case 6:return A=R.sent(),[3,8];case 7:A={classScore:1,label:0},R.label=8;case 8:O=(P=A).classScore,I=P.label,h.push(Fx({box:new Zx(k,_,k+T,_+E),score:x,classScore:x*O,label:I},C)),R.label=9;case 9:return b++,[3,5];case 10:return g++,[3,4];case 11:return m++,[3,3];case 12:return f.dispose(),d.dispose(),p.dispose(),[2,h]}}))}))},t.prototype.extractPredictedClass=function(e,t){return Lx(this,void 0,void 0,(function(){var n,r,i,a;return Bx(this,(function(o){switch(o.label){case 0:return n=t.row,r=t.col,i=t.anchor,[4,e.array()];case 1:return a=o.sent(),[2,Array(this.config.classes.length).fill(0).map((function(e,t){return a[n][r][i][t]})).map((function(e,t){return{classScore:e,label:t}})).reduce((function(e,t){return e.classScore>t.classScore?e:t}))]}}))}))},t.DEFAULT_FILTER_SIZES=[3,16,32,64,128,256,512,1024,1024],t}(Gw),pT=function(e){function t(t){void 0===t&&(t=!0);var n=Object.assign({},{withSeparableConvs:t,iouThreshold:.4,classes:["face"]},t?{anchors:rT,meanRgb:iT}:{anchors:nT,withClassScores:!0});return e.call(this,n)||this}return Mx(t,e),Object.defineProperty(t.prototype,"withSeparableConvs",{get:function(){return this.config.withSeparableConvs},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"anchors",{get:function(){return this.config.anchors},enumerable:!0,configurable:!0}),t.prototype.locateFaces=function(e,t){return Lx(this,void 0,void 0,(function(){return Bx(this,(function(n){switch(n.label){case 0:return[4,this.detect(e,t)];case 1:return[2,n.sent().map((function(e){return new tw(e.score,e.relativeBox,{width:e.imageWidth,height:e.imageHeight})}))]}}))}))},t.prototype.getDefaultModelName=function(){return this.withSeparableConvs?"tiny_yolov2_separable_conv_model":"tiny_yolov2_model"},t.prototype.extractParamsFromWeigthMap=function(t){return e.prototype.extractParamsFromWeigthMap.call(this,t)},t}(dT);var hT=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._name="TinyFaceDetectorOptions",t}return Mx(t,e),t}(fT),vT=function(){function e(){}return e.prototype.then=function(e){return Lx(this,void 0,void 0,(function(){var t;return Bx(this,(function(n){switch(n.label){case 0:return t=e,[4,this.run()];case 1:return[2,t.apply(void 0,[n.sent()])]}}))}))},e.prototype.run=function(){return Lx(this,void 0,void 0,(function(){return Bx(this,(function(e){throw new Error("ComposableTask - run is not implemented")}))}))},e}();function yT(e,t){var n={descriptor:t};return Object.assign({},e,n)}function mT(e,t,n,r,i){return void 0===i&&(i=function(e){return e.alignedRect}),Lx(this,void 0,void 0,(function(){var a,o,s,u,l;return Bx(this,(function(c){switch(c.label){case 0:return a=e.map((function(e){return gS(e)?i(e):e.detection})),(s=r)?[3,5]:t instanceof Ru?[4,Ww(t,a)]:[3,2];case 1:return u=c.sent(),[3,4];case 2:return[4,zw(t,a)];case 3:u=c.sent(),c.label=4;case 4:s=u,c.label=5;case 5:return[4,n(o=s)];case 6:return l=c.sent(),o.forEach((function(e){return e instanceof Ru&&e.dispose()})),[2,l]}}))}))}function gT(e,t,n,r,i){return Lx(this,void 0,void 0,(function(){var a=this;return Bx(this,(function(o){return[2,mT([e],t,(function(e){return Lx(a,void 0,void 0,(function(){return Bx(this,(function(t){return[2,n(e[0])]}))}))}),r,i)]}))}))}var bT=2,xT=12;function wT(e){var t=aS(e),n=t.extractWeights,r=t.getRemainingWeights,i=[],a=function(e,t){var n=Zw(e,t),r=eS(e,t);function i(n,r){var i=_c(e(n));return t.push({paramPath:r}),i}function a(e,t,r){return void 0===r&&(r=!1),{conv1:n(e[0],e[1],3,t+"/conv1"),prelu1_alpha:i(e[1],t+"/prelu1_alpha"),conv2:n(e[1],e[2],3,t+"/conv2"),prelu2_alpha:i(e[2],t+"/prelu2_alpha"),conv3:n(e[2],e[3],r?2:3,t+"/conv3"),prelu3_alpha:i(e[3],t+"/prelu3_alpha")}}return{extractPNetParams:function(){var e=a([3,10,16,32],"pnet"),t=n(32,2,1,"pnet/conv4_1"),r=n(32,4,1,"pnet/conv4_2");return Fx(Fx({},e),{conv4_1:t,conv4_2:r})},extractRNetParams:function(){var e=a([3,28,48,64],"rnet",!0),t=r(576,128,"rnet/fc1"),n=i(128,"rnet/prelu4_alpha"),o=r(128,2,"rnet/fc2_1"),s=r(128,4,"rnet/fc2_2");return Fx(Fx({},e),{fc1:t,prelu4_alpha:n,fc2_1:o,fc2_2:s})},extractONetParams:function(){var e=a([3,32,64,64],"onet"),t=n(64,128,2,"onet/conv4"),o=i(128,"onet/prelu4_alpha"),s=r(1152,256,"onet/fc1"),u=i(256,"onet/prelu5_alpha"),l=r(256,2,"onet/fc2_1"),c=r(256,4,"onet/fc2_2"),f=r(256,10,"onet/fc2_3");return Fx(Fx({},e),{conv4:t,prelu4_alpha:o,fc1:s,prelu5_alpha:u,fc2_1:l,fc2_2:c,fc2_3:f})}}}(n,i),o=a.extractPNetParams,s=a.extractRNetParams,u=a.extractONetParams,l=o(),c=s(),f=u();if(0!==r().length)throw new Error("weights remaing after extract: "+r().length);return{params:{pnet:l,rnet:c,onet:f},paramMappings:i}}function ST(e){var t=[],n=function(e,t){var n=iS(e,t);function r(e){return{filters:n(e+"/weights",4,e+"/filters"),bias:n(e+"/bias",1)}}function i(e){return{weights:n(e+"/weights",2),bias:n(e+"/bias",1)}}function a(e){return n(e,1)}function o(e){return{conv1:r(e+"/conv1"),prelu1_alpha:a(e+"/prelu1_alpha"),conv2:r(e+"/conv2"),prelu2_alpha:a(e+"/prelu2_alpha"),conv3:r(e+"/conv3"),prelu3_alpha:a(e+"/prelu3_alpha")}}return{extractPNetParams:function(){var e=o("pnet"),t=r("pnet/conv4_1"),n=r("pnet/conv4_2");return Fx(Fx({},e),{conv4_1:t,conv4_2:n})},extractRNetParams:function(){var e=o("rnet"),t=i("rnet/fc1"),n=a("rnet/prelu4_alpha"),r=i("rnet/fc2_1"),s=i("rnet/fc2_2");return Fx(Fx({},e),{fc1:t,prelu4_alpha:n,fc2_1:r,fc2_2:s})},extractONetParams:function(){var e=o("onet"),t=r("onet/conv4"),n=a("onet/prelu4_alpha"),s=i("onet/fc1"),u=a("onet/prelu5_alpha"),l=i("onet/fc2_1"),c=i("onet/fc2_2"),f=i("onet/fc2_3");return Fx(Fx({},e),{conv4:t,prelu4_alpha:n,fc1:s,prelu5_alpha:u,fc2_1:l,fc2_2:c,fc2_3:f})}}}(e,t),r=n.extractPNetParams,i=n.extractRNetParams,a=n.extractONetParams,o=r(),s=i(),u=a();return Qw(e,t),{params:{pnet:o,rnet:s,onet:u},paramMappings:t}}function TT(e,t){var n=t[0],r=t[1];return{height:Math.floor(n*e),width:Math.floor(r*e)}}var ET=function(e){function t(t,n,r,i){return e.call(this,{left:t,top:n,right:r,bottom:i},!0)||this}return Mx(t,e),t}(Qx);function kT(e){return nc((function(){return By(Uy(e,kc(127.5)),kc(.0078125))}))}function _T(e,t){return nc((function(){return Ey(ng(e),By(t,Vv(ng(Vv(e)))))}))}function CT(e,t,n){return void 0===n&&(n=!1),nc((function(){var r=$w(e,t.conv1,"valid");return r=_T(r,t.prelu1_alpha),r=_T(r=$w(r=Am(r,n?[2,2]:[3,3],[2,2],"same"),t.conv2,"valid"),t.prelu2_alpha),r=_T(r=$w(r=n?r:Am(r,[3,3],[2,2],"valid"),t.conv3,"valid"),t.prelu3_alpha)}))}function PT(e,t,n,r,i){i.stage1=[];var a=t.map((function(t){return nc((function(){var n={scale:t},i=function(e,t){return nc((function(){var n=TT(t,e.shape.slice(1)),r=n.height,i=n.width,a=kT($g.resizeBilinear(e,[r,i]));return ag(a,[0,2,1,3])}))}(e,t),a=Date.now(),o=function(e,t){return nc((function(){var n=CT(e,t,!0),r=$w(n,t.conv4_1,"valid"),i=uf(Gm(r,3),3);return{prob:qf(Uy(r,i),3),regions:$w(n,t.conv4_2,"valid")}}))}(i,r),s=o.prob,u=o.regions;return n.pnet=Date.now()-a,{scoresTensor:Cf(Cf(s,3)[1])[0],regionsTensor:Cf(u)[0],scale:t,statsForScale:n}}))})),o=a.map((function(e){var t=e.scoresTensor,r=e.regionsTensor,a=e.scale,o=e.statsForScale,s=function(e,t,n,r){for(var i=[],a=e.arraySync(),o=0;o<e.shape[0];o++)for(var s=0;s<e.shape[1];s++)a[o][s]>=r&&i.push(new $x(s,o));return i.map((function(e){var r=new Zx(Math.round((e.y*bT+1)/n),Math.round((e.x*bT+1)/n),Math.round((e.y*bT+xT)/n),Math.round((e.x*bT+xT)/n)),i=a[e.y][e.x],o=t.arraySync();return{cell:r,score:i,region:new ET(o[e.y][e.x][0],o[e.y][e.x][1],o[e.y][e.x][2],o[e.y][e.x][3])}}))}(t,r,a,n);if(t.dispose(),r.dispose(),!s.length)return i.stage1.push(o),[];var u=Date.now(),l=rw(s.map((function(e){return e.cell})),s.map((function(e){return e.score})),.5);return o.nms=Date.now()-u,o.numBoxes=l.length,i.stage1.push(o),l.map((function(e){return s[e]}))})),s=o.reduce((function(e,t){return e.concat(t)}),[]),u=[],l=[];if(s.length>0){var c=Date.now(),f=rw(s.map((function(e){return e.cell})),s.map((function(e){return e.score})),.7);i.stage1_nms=Date.now()-c,l=f.map((function(e){return s[e].score})),u=f.map((function(e){return s[e]})).map((function(e){var t=e.cell,n=e.region;return new Zx(t.left+n.left*t.width,t.top+n.top*t.height,t.right+n.right*t.width,t.bottom+n.bottom*t.height).toSquare().round()}))}return{boxes:u,scores:l}}function OT(e,t,n){var r=n.width,i=n.height;return Lx(this,void 0,void 0,(function(){var n,a,o,s=this;return Bx(this,(function(u){switch(u.label){case 0:return n=_w(e),[4,Promise.all(t.map((function(t){return Lx(s,void 0,void 0,(function(){var r,i,a,o,s,u,l,c;return Bx(this,(function(f){return r=t.padAtBorders(e.height,e.width),i=r.y,a=r.ey,o=r.x,s=r.ex,u=o-1,l=i-1,c=n.getImageData(u,l,s-u,a-l),[2,Ew.isNodejs()?Mw(c):createImageBitmap(c)]}))}))})))];case 1:return a=u.sent(),o=[],a.forEach((function(e){var t=_w(Nw({width:r,height:i}));t.drawImage(e,0,0,r,i);for(var n=t.getImageData(0,0,r,i).data,a=[],s=0;s<n.length;s+=4)a.push(n[s+2]),a.push(n[s+1]),a.push(n[s]);o.push(a)})),[2,o.map((function(e){return nc((function(){return kT(ag(Oc(e,[1,r,i,3]),[0,2,1,3]).toFloat())}))}))]}}))}))}function IT(e,t,n,r,i){return Lx(this,void 0,void 0,(function(){var a,o,s,u,l,c,f,d,p,h,v,y,m,g;return Bx(this,(function(b){switch(b.label){case 0:return a=Date.now(),[4,OT(e,t,{width:24,height:24})];case 1:return o=b.sent(),i.stage2_extractImagePatches=Date.now()-a,a=Date.now(),s=o.map((function(e){var t=function(e,t){return nc((function(){var n=CT(e,t),r=_T(cS(wf(n,[n.shape[0],t.fc1.weights.shape[0]]),t.fc1),t.prelu4_alpha),i=cS(r,t.fc2_1),a=uf(Gm(i,1),1),o=qf(Uy(i,a),1),s=cS(r,t.fc2_2);return{scores:Cf(o,1)[1],regions:s}}))}(e,r);return e.dispose(),t})),i.stage2_rnet=Date.now()-a,u=s.length>1?Fc(s.map((function(e){return e.scores}))):s[0].scores,f=(c=Array).from,[4,u.data()];case 2:return l=f.apply(c,[b.sent()]),u.dispose(),d=l.map((function(e,t){return{score:e,idx:t}})).filter((function(e){return e.score>n})).map((function(e){return e.idx})),p=d.map((function(e){return t[e]})),h=d.map((function(e){return l[e]})),v=[],y=[],p.length>0&&(a=Date.now(),m=rw(p,h,.7),i.stage2_nms=Date.now()-a,g=m.map((function(e){var t=s[d[e]].regions.arraySync();return new ET(t[0][0],t[0][1],t[0][2],t[0][3])})),y=m.map((function(e){return h[e]})),v=m.map((function(e,t){return p[e].calibrate(g[t])}))),s.forEach((function(e){e.regions.dispose(),e.scores.dispose()})),[2,{boxes:v,scores:y}]}}))}))}function AT(e,t,n,r,i){return Lx(this,void 0,void 0,(function(){var a,o,s,u,l,c,f,d,p,h,v,y,m,g,b;return Bx(this,(function(x){switch(x.label){case 0:return a=Date.now(),[4,OT(e,t,{width:48,height:48})];case 1:return o=x.sent(),i.stage3_extractImagePatches=Date.now()-a,a=Date.now(),s=o.map((function(e){var t=function(e,t){return nc((function(){var n=CT(e,t);n=_T(n=$w(n=Am(n,[2,2],[2,2],"same"),t.conv4,"valid"),t.prelu4_alpha);var r=_T(cS(wf(n,[n.shape[0],t.fc1.weights.shape[0]]),t.fc1),t.prelu5_alpha),i=cS(r,t.fc2_1),a=uf(Gm(i,1),1),o=qf(Uy(i,a),1),s=cS(r,t.fc2_2),u=cS(r,t.fc2_3);return{scores:Cf(o,1)[1],regions:s,points:u}}))}(e,r);return e.dispose(),t})),i.stage3_onet=Date.now()-a,u=s.length>1?Fc(s.map((function(e){return e.scores}))):s[0].scores,f=(c=Array).from,[4,u.data()];case 2:return l=f.apply(c,[x.sent()]),u.dispose(),d=l.map((function(e,t){return{score:e,idx:t}})).filter((function(e){return e.score>n})).map((function(e){return e.idx})),p=d.map((function(e){var t=s[e].regions.arraySync();return new ET(t[0][0],t[0][1],t[0][2],t[0][3])})),h=d.map((function(e,n){return t[e].calibrate(p[n])})),v=d.map((function(e){return l[e]})),y=[],m=[],g=[],h.length>0&&(a=Date.now(),b=rw(h,v,.7,!1),i.stage3_nms=Date.now()-a,y=b.map((function(e){return h[e]})),m=b.map((function(e){return v[e]})),g=b.map((function(e,t){return Array(5).fill(0).map((function(n,r){var i=s[e].points.arraySync();return new $x(i[0][r]*(y[t].width+1)+y[t].left,i[0][r+5]*(y[t].height+1)+y[t].top)}))}))),s.forEach((function(e){e.regions.dispose(),e.scores.dispose(),e.points.dispose()})),[2,{boxes:y,scores:m,points:g}]}}))}))}var DT=function(e){function t(){return e.call(this,"Mtcnn")||this}return Mx(t,e),t.prototype.load=function(t){return Lx(this,void 0,void 0,(function(){return Bx(this,(function(n){return console.warn("mtcnn is deprecated and will be removed soon"),[2,e.prototype.load.call(this,t)]}))}))},t.prototype.loadFromDisk=function(t){return Lx(this,void 0,void 0,(function(){return Bx(this,(function(n){return console.warn("mtcnn is deprecated and will be removed soon"),[2,e.prototype.loadFromDisk.call(this,t)]}))}))},t.prototype.forwardInput=function(e,t){return void 0===t&&(t={}),Lx(this,void 0,void 0,(function(){var n,r,i,a,o,s,u,l,c,f,d,p,h,v,y,m,g,b,x,w,S;return Bx(this,(function(T){switch(T.label){case 0:if(!(n=this.params))throw new Error("Mtcnn - load model before inference");if(!(r=e.canvases[0]))throw new Error("Mtcnn - inputCanvas is not defined, note that passing tensors into Mtcnn.forwardInput is not supported yet.");return i={},a=Date.now(),o=nc((function(){return e=uf(mx.fromPixels(r)).toFloat(),nc((function(){return Ef(Cf(e,3).reverse(),3)}));var e})),s=function(e){return o.dispose(),i.total=Date.now()-a,e},u=o.shape.slice(1),l=u[0],c=u[1],f=new KS(t),d=f.minFaceSize,p=f.scaleFactor,h=f.maxNumScales,v=f.scoreThresholds,y=f.scaleSteps,m=(y||function(e,t,n){for(var r=n[0],i=n[1],a=xT/e,o=[],s=Math.min(r,i)*a,u=0;s>=12;)o.push(a*Math.pow(t,u)),s*=t,u+=1;return o}(d,p,[l,c])).filter((function(e){var t=TT(e,[l,c]);return Math.min(t.width,t.height)>xT})).slice(0,h),i.scales=m,i.pyramid=m.map((function(e){return TT(e,[l,c])})),g=Date.now(),[4,PT(o,m,v[0],n.pnet,i)];case 1:return b=T.sent(),i.total_stage1=Date.now()-g,b.boxes.length?(i.stage2_numInputBoxes=b.boxes.length,g=Date.now(),[4,IT(r,b.boxes,v[1],n.rnet,i)]):[2,s({results:[],stats:i})];case 2:return x=T.sent(),i.total_stage2=Date.now()-g,x.boxes.length?(i.stage3_numInputBoxes=x.boxes.length,g=Date.now(),[4,AT(r,x.boxes,v[2],n.onet,i)]):[2,s({results:[],stats:i})];case 3:return w=T.sent(),i.total_stage3=Date.now()-g,S=w.boxes.map((function(e,t){return bS(vw({},new tw(w.scores[t],new sw(e.left/c,e.top/l,e.width/c,e.height/l),{height:l,width:c})),new lw(w.points[t].map((function(t){return t.sub(new $x(e.left,e.top)).div(new $x(e.width,e.height))})),{width:e.width,height:e.height}))})),[2,s({results:S,stats:i})]}}))}))},t.prototype.forward=function(e,t){return void 0===t&&(t={}),Lx(this,void 0,void 0,(function(){var n;return Bx(this,(function(r){switch(r.label){case 0:return n=this.forwardInput,[4,jw(e)];case 1:return[4,n.apply(this,[r.sent(),t])];case 2:return[2,r.sent().results]}}))}))},t.prototype.forwardWithStats=function(e,t){return void 0===t&&(t={}),Lx(this,void 0,void 0,(function(){var n;return Bx(this,(function(r){switch(r.label){case 0:return n=this.forwardInput,[4,jw(e)];case 1:return[2,n.apply(this,[r.sent(),t])]}}))}))},t.prototype.getDefaultModelName=function(){return"mtcnn_model"},t.prototype.extractParamsFromWeigthMap=function(e){return ST(e)},t.prototype.extractParams=function(e){return wT(e)},t}(Gw),RT=[new $x(1.603231,2.094468),new $x(6.041143,7.080126),new $x(2.882459,3.518061),new $x(4.266906,5.178857),new $x(9.041765,10.66308)],NT=[117.001,114.697,97.404],MT=function(e){function t(){var t={withSeparableConvs:!0,iouThreshold:.4,classes:["face"],anchors:RT,meanRgb:NT,isFirstLayerConv2d:!0,filterSizes:[3,16,32,64,128,256,512]};return e.call(this,t)||this}return Mx(t,e),Object.defineProperty(t.prototype,"anchors",{get:function(){return this.config.anchors},enumerable:!0,configurable:!0}),t.prototype.locateFaces=function(e,t){return Lx(this,void 0,void 0,(function(){return Bx(this,(function(n){switch(n.label){case 0:return[4,this.detect(e,t)];case 1:return[2,n.sent().map((function(e){return new tw(e.score,e.relativeBox,{width:e.imageWidth,height:e.imageHeight})}))]}}))}))},t.prototype.getDefaultModelName=function(){return"tiny_face_detector_model"},t.prototype.extractParamsFromWeigthMap=function(t){return e.prototype.extractParamsFromWeigthMap.call(this,t)},t}(dT),FT={ssdMobilenetv1:new eT,tinyFaceDetector:new MT,tinyYolov2:new pT,mtcnn:new DT,faceLandmark68Net:new AS,faceLandmark68TinyNet:new RS,faceRecognitionNet:new VS,faceExpressionNet:new vS,ageGenderNet:new OS};function LT(e,t){var n={age:t};return Object.assign({},e,n)}var BT=function(e){function t(t,n,r){var i=e.call(this)||this;return i.parentTask=t,i.input=n,i.extractedFaces=r,i}return Mx(t,e),t}(vT),jT=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Mx(t,e),t.prototype.run=function(){return Lx(this,void 0,void 0,(function(){var e,t,n=this;return Bx(this,(function(r){switch(r.label){case 0:return[4,this.parentTask];case 1:return[4,mT(e=r.sent(),this.input,(function(e){return Lx(n,void 0,void 0,(function(){return Bx(this,(function(t){switch(t.label){case 0:return[4,Promise.all(e.map((function(e){return FT.faceExpressionNet.predictExpressions(e)})))];case 1:return[2,t.sent()]}}))}))}),this.extractedFaces)];case 2:return t=r.sent(),[2,e.map((function(e,n){return yS(e,t[n])}))]}}))}))},t.prototype.withAgeAndGender=function(){return new KT(this,this.input)},t}(BT),zT=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Mx(t,e),t.prototype.run=function(){return Lx(this,void 0,void 0,(function(){var e,t;return Bx(this,(function(n){switch(n.label){case 0:return[4,this.parentTask];case 1:return(e=n.sent())?[4,gT(e,this.input,(function(e){return FT.faceExpressionNet.predictExpressions(e)}),this.extractedFaces)]:[2];case 2:return t=n.sent(),[2,yS(e,t)]}}))}))},t.prototype.withAgeAndGender=function(){return new HT(this,this.input)},t}(BT),WT=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Mx(t,e),t.prototype.withAgeAndGender=function(){return new qT(this,this.input)},t.prototype.withFaceDescriptors=function(){return new YT(this,this.input)},t}(jT),VT=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Mx(t,e),t.prototype.withAgeAndGender=function(){return new GT(this,this.input)},t.prototype.withFaceDescriptor=function(){return new JT(this,this.input)},t}(zT),UT=function(e){function t(t,n,r){var i=e.call(this)||this;return i.parentTask=t,i.input=n,i.extractedFaces=r,i}return Mx(t,e),t}(vT),KT=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Mx(t,e),t.prototype.run=function(){return Lx(this,void 0,void 0,(function(){var e,t,n=this;return Bx(this,(function(r){switch(r.label){case 0:return[4,this.parentTask];case 1:return[4,mT(e=r.sent(),this.input,(function(e){return Lx(n,void 0,void 0,(function(){return Bx(this,(function(t){switch(t.label){case 0:return[4,Promise.all(e.map((function(e){return FT.ageGenderNet.predictAgeAndGender(e)})))];case 1:return[2,t.sent()]}}))}))}),this.extractedFaces)];case 2:return t=r.sent(),[2,e.map((function(e,n){var r=t[n],i=r.age;return LT(US(e,r.gender,r.genderProbability),i)}))]}}))}))},t.prototype.withFaceExpressions=function(){return new jT(this,this.input)},t}(UT),HT=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Mx(t,e),t.prototype.run=function(){return Lx(this,void 0,void 0,(function(){var e,t,n,r,i;return Bx(this,(function(a){switch(a.label){case 0:return[4,this.parentTask];case 1:return(e=a.sent())?[4,gT(e,this.input,(function(e){return FT.ageGenderNet.predictAgeAndGender(e)}),this.extractedFaces)]:[2];case 2:return t=a.sent(),n=t.age,r=t.gender,i=t.genderProbability,[2,LT(US(e,r,i),n)]}}))}))},t.prototype.withFaceExpressions=function(){return new zT(this,this.input)},t}(UT),qT=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Mx(t,e),t.prototype.withFaceExpressions=function(){return new WT(this,this.input)},t.prototype.withFaceDescriptors=function(){return new YT(this,this.input)},t}(KT),GT=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Mx(t,e),t.prototype.withFaceExpressions=function(){return new VT(this,this.input)},t.prototype.withFaceDescriptor=function(){return new JT(this,this.input)},t}(HT),XT=function(e){function t(t,n){var r=e.call(this)||this;return r.parentTask=t,r.input=n,r}return Mx(t,e),t}(vT),YT=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Mx(t,e),t.prototype.run=function(){return Lx(this,void 0,void 0,(function(){var e;return Bx(this,(function(t){switch(t.label){case 0:return[4,this.parentTask];case 1:return[4,mT(e=t.sent(),this.input,(function(e){return Promise.all(e.map((function(e){return FT.faceRecognitionNet.computeFaceDescriptor(e)})))}),null,(function(e){return e.landmarks.align(null,{useDlibAlignment:!0})}))];case 2:return[2,t.sent().map((function(t,n){return yT(e[n],t)}))]}}))}))},t.prototype.withFaceExpressions=function(){return new WT(this,this.input)},t.prototype.withAgeAndGender=function(){return new qT(this,this.input)},t}(XT),JT=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Mx(t,e),t.prototype.run=function(){return Lx(this,void 0,void 0,(function(){var e,t;return Bx(this,(function(n){switch(n.label){case 0:return[4,this.parentTask];case 1:return(e=n.sent())?[4,gT(e,this.input,(function(e){return FT.faceRecognitionNet.computeFaceDescriptor(e)}),null,(function(e){return e.landmarks.align(null,{useDlibAlignment:!0})}))]:[2];case 2:return t=n.sent(),[2,yT(e,t)]}}))}))},t.prototype.withFaceExpressions=function(){return new VT(this,this.input)},t.prototype.withAgeAndGender=function(){return new GT(this,this.input)},t}(XT),$T=function(e){function t(t,n,r){var i=e.call(this)||this;return i.parentTask=t,i.input=n,i.useTinyLandmarkNet=r,i}return Mx(t,e),Object.defineProperty(t.prototype,"landmarkNet",{get:function(){return this.useTinyLandmarkNet?FT.faceLandmark68TinyNet:FT.faceLandmark68Net},enumerable:!0,configurable:!0}),t}(vT),QT=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Mx(t,e),t.prototype.run=function(){return Lx(this,void 0,void 0,(function(){var e,t,n,r,i,a=this;return Bx(this,(function(o){switch(o.label){case 0:return[4,this.parentTask];case 1:return e=o.sent(),t=e.map((function(e){return e.detection})),this.input instanceof Ru?[4,Ww(this.input,t)]:[3,3];case 2:return r=o.sent(),[3,5];case 3:return[4,zw(this.input,t)];case 4:r=o.sent(),o.label=5;case 5:return n=r,[4,Promise.all(n.map((function(e){return a.landmarkNet.detectLandmarks(e)})))];case 6:return i=o.sent(),n.forEach((function(e){return e instanceof Ru&&e.dispose()})),[2,e.map((function(e,t){return bS(e,i[t])}))]}}))}))},t.prototype.withFaceExpressions=function(){return new WT(this,this.input)},t.prototype.withAgeAndGender=function(){return new qT(this,this.input)},t.prototype.withFaceDescriptors=function(){return new YT(this,this.input)},t}($T),ZT=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Mx(t,e),t.prototype.run=function(){return Lx(this,void 0,void 0,(function(){var e,t,n,r,i;return Bx(this,(function(a){switch(a.label){case 0:return[4,this.parentTask];case 1:return(e=a.sent())?(t=e.detection,this.input instanceof Ru?[4,Ww(this.input,[t])]:[3,3]):[2];case 2:return r=a.sent(),[3,5];case 3:return[4,zw(this.input,[t])];case 4:r=a.sent(),a.label=5;case 5:return n=r,[4,this.landmarkNet.detectLandmarks(n[0])];case 6:return i=a.sent(),n.forEach((function(e){return e instanceof Ru&&e.dispose()})),[2,bS(e,i)]}}))}))},t.prototype.withFaceExpressions=function(){return new VT(this,this.input)},t.prototype.withAgeAndGender=function(){return new GT(this,this.input)},t.prototype.withFaceDescriptor=function(){return new JT(this,this.input)},t}($T),eE=function(e){function t(t,n){void 0===n&&(n=new ZS);var r=e.call(this)||this;return r.input=t,r.options=n,r}return Mx(t,e),t}(vT),tE=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Mx(t,e),t.prototype.run=function(){return Lx(this,void 0,void 0,(function(){var e,t,n,r;return Bx(this,(function(i){switch(i.label){case 0:return t=(e=this).input,(n=e.options)instanceof KS?[4,FT.mtcnn.forward(t,n)]:[3,2];case 1:return[2,i.sent().map((function(e){return e.detection}))];case 2:if(r=n instanceof hT?function(e){return FT.tinyFaceDetector.locateFaces(e,n)}:n instanceof ZS?function(e){return FT.ssdMobilenetv1.locateFaces(e,n)}:n instanceof fT?function(e){return FT.tinyYolov2.locateFaces(e,n)}:null,!r)throw new Error("detectFaces - expected options to be instance of TinyFaceDetectorOptions | SsdMobilenetv1Options | MtcnnOptions | TinyYolov2Options");return[2,r(t)]}}))}))},t.prototype.runAndExtendWithFaceDetections=function(){var e=this;return new Promise((function(t){return Lx(e,void 0,void 0,(function(){var e;return Bx(this,(function(n){switch(n.label){case 0:return[4,this.run()];case 1:return e=n.sent(),[2,t(e.map((function(e){return vw({},e)})))]}}))}))}))},t.prototype.withFaceLandmarks=function(e){return void 0===e&&(e=!1),new QT(this.runAndExtendWithFaceDetections(),this.input,e)},t.prototype.withFaceExpressions=function(){return new jT(this.runAndExtendWithFaceDetections(),this.input)},t.prototype.withAgeAndGender=function(){return new KT(this.runAndExtendWithFaceDetections(),this.input)},t}(eE);!function(e){function t(){return null!==e&&e.apply(this,arguments)||this}Mx(t,e),t.prototype.run=function(){return Lx(this,void 0,void 0,(function(){var e,t;return Bx(this,(function(n){switch(n.label){case 0:return[4,new tE(this.input,this.options)];case 1:return e=n.sent(),t=e[0],e.forEach((function(e){e.score>t.score&&(t=e)})),[2,t]}}))}))},t.prototype.runAndExtendWithFaceDetection=function(){var e=this;return new Promise((function(t){return Lx(e,void 0,void 0,(function(){var e;return Bx(this,(function(n){switch(n.label){case 0:return[4,this.run()];case 1:return e=n.sent(),[2,t(e?vw({},e):void 0)]}}))}))}))},t.prototype.withFaceLandmarks=function(e){return void 0===e&&(e=!1),new ZT(this.runAndExtendWithFaceDetection(),this.input,e)},t.prototype.withFaceExpressions=function(){return new zT(this.runAndExtendWithFaceDetection(),this.input)},t.prototype.withAgeAndGender=function(){return new HT(this.runAndExtendWithFaceDetection(),this.input)}}(eE);function nE(e,t){return void 0===t&&(t=new ZS),new tE(e,t)}!function(){function e(e,t){void 0===t&&(t=.6),this._distanceThreshold=t;var n=Array.isArray(e)?e:[e];if(!n.length)throw new Error("FaceRecognizer.constructor - expected atleast one input");var r=1,i=function(){return"person "+r++};this._labeledDescriptors=n.map((function(e){if(e instanceof pw)return e;if(e instanceof Float32Array)return new pw(i(),[e]);if(e.descriptor&&e.descriptor instanceof Float32Array)return new pw(i(),[e.descriptor]);throw new Error("FaceRecognizer.constructor - expected inputs to be of type LabeledFaceDescriptors | WithFaceDescriptor<any> | Float32Array | Array<LabeledFaceDescriptors | WithFaceDescriptor<any> | Float32Array>")}))}Object.defineProperty(e.prototype,"labeledDescriptors",{get:function(){return this._labeledDescriptors},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"distanceThreshold",{get:function(){return this._distanceThreshold},enumerable:!0,configurable:!0}),e.prototype.computeMeanDistance=function(e,t){return t.map((function(t){return function(e,t){if(e.length!==t.length)throw new Error("euclideanDistance: arr1.length !== arr2.length");var n=Array.from(e),r=Array.from(t);return Math.sqrt(n.map((function(e,t){return e-r[t]})).reduce((function(e,t){return e+Math.pow(t,2)}),0))}(t,e)})).reduce((function(e,t){return e+t}),0)/(t.length||1)},e.prototype.matchDescriptor=function(e){var t=this;return this.labeledDescriptors.map((function(n){var r=n.descriptors,i=n.label;return new fw(i,t.computeMeanDistance(e,r))})).reduce((function(e,t){return e.distance<t.distance?e:t}))},e.prototype.findBestMatch=function(e){var t=this.matchDescriptor(e);return t.distance<this.distanceThreshold?t:new fw("unknown",t.distance)},e.prototype.toJSON=function(){return{distanceThreshold:this.distanceThreshold,labeledDescriptors:this.labeledDescriptors.map((function(e){return e.toJSON()}))}},e.fromJSON=function(t){var n=t.labeledDescriptors.map((function(e){return pw.fromJSON(e)}));return new e(n,t.distanceThreshold)}}();function rE(e,t){var n=new zx(t.width,t.height),r=n.width,i=n.height;if(r<=0||i<=0)throw new Error("resizeResults - invalid dimensions: "+JSON.stringify({width:r,height:i}));if(Array.isArray(e))return e.map((function(e){return rE(e,{width:r,height:i})}));if(gS(e)){var a=e.detection.forSize(r,i),o=e.unshiftedLandmarks.forSize(a.box.width,a.box.height);return bS(vw(e,a),o)}return hw(e)?vw(e,e.detection.forSize(r,i)):e instanceof uw||e instanceof tw?e.forSize(r,i):e}var iE=function(){var e=l((0,t.useState)({neutral:0,happy:0,sad:0,angry:0,fearful:0}),2),n=e[0],r=e[1],i=l(t.useState(!1),2),a=i[0],o=i[1],s=l(t.useState(!1),2),u=s[0],c=s[1],f=t.useRef(),d=t.useRef();return t.useEffect((function(){var e=function(){var e=Ne(De().mark((function e(){var t;return De().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t="/ignitionhacks2023/models",Promise.all([FT.tinyFaceDetector.loadFromUri(t),FT.faceLandmark68Net.loadFromUri(t),FT.faceRecognitionNet.loadFromUri(t),FT.faceExpressionNet.loadFromUri(t)]).then(o(!0));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]),(0,hs.jsxs)("div",{children:[(0,hs.jsx)("div",{style:{textAlign:"center",padding:"10px"},children:u&&a?(0,hs.jsx)("button",{onClick:function(){f.current.pause(),f.current.srcObject.getTracks()[0].stop(),c(!1)},style:{cursor:"pointer",backgroundColor:"green",color:"white",padding:"15px",fontSize:"25px",border:"none",borderRadius:"10px"},children:"Close Webcam"}):(0,hs.jsx)("button",{onClick:function(){c(!0),navigator.mediaDevices.getUserMedia({video:{width:300}}).then((function(e){var t=f.current;t.srcObject=e,t.play()})).catch((function(e){console.error("error:",e)}))},style:{cursor:"pointer",backgroundColor:"green",color:"white",padding:"15px",fontSize:"25px",border:"none",borderRadius:"10px"},children:"Open Webcam"})}),u?a?(0,hs.jsx)("div",{children:(0,hs.jsxs)("div",{style:{display:"flex",justifyContent:"center",padding:"10px"},children:[(0,hs.jsx)("video",{ref:f,height:480,width:640,onPlay:function(){setInterval(Ne(De().mark((function e(){var t,n,i;return De().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!d||!d.current){e.next=13;break}return d.current.innerHTML=Mw(f.current),t={width:640,height:480},qw(d.current,t),e.next=6,nE(f.current,new hT).withFaceLandmarks().withFaceExpressions();case 6:(n=e.sent).forEach((function(e){var t=e.expressions;r({neutral:t.neutral,happy:t.happy,sad:t.sad,angry:t.angry,fearful:t.fearful})})),i=rE(n,t),d&&d.current&&d.current.getContext("2d").clearRect(0,0,640,480),d&&d.current&&Aw(d.current,i),d&&d.current&&SS(d.current,i),d&&d.current&&mS(d.current,i);case 13:case"end":return e.stop()}}),e)}))),100)},style:{borderRadius:"10px"}}),(0,hs.jsx)("canvas",{ref:d,style:{position:"absolute"}})]})}):(0,hs.jsx)("div",{children:"loading..."}):(0,hs.jsx)(hs.Fragment,{}),(0,hs.jsxs)("div",{children:["NEUTRAL ",n.neutral,(0,hs.jsx)("br",{}),"HAPPY ",n.happy,(0,hs.jsx)("br",{}),"SAD ",n.sad,(0,hs.jsx)("br",{}),"ANGRY ",n.angry,(0,hs.jsx)("br",{}),"FEARFUL ",n.fearful]})]})};function aE(){var e=l((0,t.useState)(0),2),n=e[0],r=e[1],i=l((0,t.useState)(!1),2),a=i[0],o=i[1];return(0,t.useEffect)((function(){n<100&&a&&setTimeout((function(){return r((function(e){return e+2}))}),50)}),[n,a]),(0,hs.jsxs)("div",{children:[(0,hs.jsxs)("div",{className:"progressbar",children:[(0,hs.jsx)("div",{style:{height:"100%",width:"".concat(n,"%"),backgroundColor:"#a66cff",transition:"width 0.5s"}}),(0,hs.jsxs)("span",{className:"progressPercent",children:[n,"%"]})]}),(0,hs.jsx)("button",{className:"btn",onClick:function(){o(!0)},children:"Run"})]})}function oE(){return(0,hs.jsxs)("div",{children:[(0,hs.jsx)(iE,{}),(0,hs.jsx)(aE,{progress:19})]})}function sE(){return(0,hs.jsxs)("div",{children:[(0,hs.jsx)(vs,{}),"this is how to use the website."]})}var uE=n(1694),lE=n.n(uE),cE=["xxl","xl","lg","md","sm","xs"],fE=t.createContext({prefixes:{},breakpoints:cE,minBreakpoint:"xs"});fE.Consumer,fE.Provider;function dE(e,n){var r=(0,t.useContext)(fE).prefixes;return e||r[n]||n}var pE=["bsPrefix","fluid","as","className"],hE=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.fluid,i=void 0!==r&&r,a=e.as,o=void 0===a?"div":a,s=e.className,u=He(e,pE),l=dE(n,"container"),c="string"===typeof i?"-".concat(i):"-fluid";return(0,hs.jsx)(o,Le(Le({ref:t},u),{},{className:lE()(s,i?"".concat(l).concat(c):l)}))}));hE.displayName="Container";var vE=hE;n(3573);function yE(){return yE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yE.apply(this,arguments)}n(2176);function mE(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function gE(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}function bE(e,n){return Object.keys(n).reduce((function(r,i){var a,o=r,s=o[mE(i)],u=o[i],l=Ke(o,[mE(i),i].map(gE)),c=n[i],f=function(e,n,r){var i=(0,t.useRef)(void 0!==e),a=(0,t.useState)(n),o=a[0],s=a[1],u=void 0!==e,l=i.current;return i.current=u,!u&&l&&o!==n&&s(n),[u?e:o,(0,t.useCallback)((function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];r&&r.apply(void 0,[e].concat(n)),s(e)}),[r])]}(u,s,e[c]),d=f[0],p=f[1];return yE({},l,((a={})[i]=d,a[c]=p,a))}),e)}function xE(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function wE(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function SE(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}xE.__suppressDeprecationWarning=!0,wE.__suppressDeprecationWarning=!0,SE.__suppressDeprecationWarning=!0;var TE=Function.prototype.bind.call(Function.prototype.call,[].slice);function EE(e,t){return TE(e.querySelectorAll(t))}function kE(){return l((0,t.useReducer)((function(e){return!e}),!1),2)[1]}var _E=function(e){return e&&"function"!==typeof e?function(t){e.current=t}:e};var CE=function(e,n){return(0,t.useMemo)((function(){return function(e,t){var n=_E(e),r=_E(t);return function(e){n&&n(e),r&&r(e)}}(e,n)}),[e,n])},PE=t.createContext(null);PE.displayName="NavContext";var OE=PE,IE=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return null!=e?String(e):t||null},AE=t.createContext(null),DE=t.createContext(null),RE="data-rr-ui-";function NE(e){return"".concat(RE).concat(e)}var ME=function(e){var n=(0,t.useRef)(e);return(0,t.useEffect)((function(){n.current=e}),[e]),n};function FE(e){var n=ME(e);return(0,t.useCallback)((function(){return n.current&&n.current.apply(n,arguments)}),[n])}var LE=["as","disabled"];function BE(e){var t=e.tagName,n=e.disabled,r=e.href,i=e.target,a=e.rel,o=e.role,s=e.onClick,u=e.tabIndex,l=void 0===u?0:u,c=e.type;t||(t=null!=r||null!=i||null!=a?"a":"button");var f={tagName:t};if("button"===t)return[{type:c||"button",disabled:n},f];var d=function(e){(n||"a"===t&&function(e){return!e||"#"===e.trim()}(r))&&e.preventDefault(),n?e.stopPropagation():null==s||s(e)};return"a"===t&&(r||(r="#"),n&&(r=void 0)),[{role:null!=o?o:"button",disabled:void 0,tabIndex:n?void 0:l,href:r,target:"a"===t?i:void 0,"aria-disabled":n||void 0,rel:"a"===t?a:void 0,onClick:d,onKeyDown:function(e){" "===e.key&&(e.preventDefault(),d(e))}},f]}var jE=t.forwardRef((function(e,t){var n=e.as,r=e.disabled,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,LE),a=l(BE(Object.assign({tagName:n,disabled:r},i)),2),o=a[0],s=a[1].tagName;return(0,hs.jsx)(s,Object.assign({},i,o,{ref:t}))}));jE.displayName="Button";var zE=jE,WE=["as","active","eventKey"];function VE(e){var n=e.key,r=e.onClick,i=e.active,a=e.id,o=e.role,s=e.disabled,u=(0,t.useContext)(AE),l=(0,t.useContext)(OE),c=(0,t.useContext)(DE),f=i,d={role:o};if(l){o||"tablist"!==l.role||(d.role="tab");var p=l.getControllerId(null!=n?n:null),h=l.getControlledId(null!=n?n:null);d[NE("event-key")]=n,d.id=p||a,!(f=null==i&&null!=n?l.activeKey===n:i)&&(null!=c&&c.unmountOnExit||null!=c&&c.mountOnEnter)||(d["aria-controls"]=h)}return"tab"===d.role&&(d["aria-selected"]=f,f||(d.tabIndex=-1),s&&(d.tabIndex=-1,d["aria-disabled"]=!0)),d.onClick=FE((function(e){s||(null==r||r(e),null!=n&&u&&!e.isPropagationStopped()&&u(n,e))})),[d,{isActive:f}]}var UE=t.forwardRef((function(e,t){var n=e.as,r=void 0===n?zE:n,i=e.active,a=e.eventKey,o=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,WE),s=l(VE(Object.assign({key:IE(a,o.href),active:i},o)),2),u=s[0],c=s[1];return u[NE("active")]=c.isActive,(0,hs.jsx)(r,Object.assign({},o,u,{ref:t}))}));UE.displayName="NavItem";var KE=UE,HE=["as","onSelect","activeKey","role","onKeyDown"];var qE=function(){},GE=NE("event-key"),XE=t.forwardRef((function(e,n){var r,i,a=e.as,o=void 0===a?"div":a,s=e.onSelect,u=e.activeKey,l=e.role,c=e.onKeyDown,f=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,HE),d=kE(),p=(0,t.useRef)(!1),h=(0,t.useContext)(AE),v=(0,t.useContext)(DE);v&&(l=l||"tablist",u=v.activeKey,r=v.getControlledId,i=v.getControllerId);var y=(0,t.useRef)(null),m=function(e){var t=y.current;if(!t)return null;var n=EE(t,"[".concat(GE,"]:not([aria-disabled=true])")),r=t.querySelector("[aria-selected=true]");if(!r||r!==document.activeElement)return null;var i=n.indexOf(r);if(-1===i)return null;var a=i+e;return a>=n.length&&(a=0),a<0&&(a=n.length-1),n[a]},g=function(e,t){null!=e&&(null==s||s(e,t),null==h||h(e,t))};(0,t.useEffect)((function(){if(y.current&&p.current){var e=y.current.querySelector("[".concat(GE,"][aria-selected=true]"));null==e||e.focus()}p.current=!1}));var b=CE(n,y);return(0,hs.jsx)(AE.Provider,{value:g,children:(0,hs.jsx)(OE.Provider,{value:{role:l,activeKey:IE(u),getControlledId:r||qE,getControllerId:i||qE},children:(0,hs.jsx)(o,Object.assign({},f,{onKeyDown:function(e){if(null==c||c(e),v){var t,n;switch(e.key){case"ArrowLeft":case"ArrowUp":t=m(-1);break;case"ArrowRight":case"ArrowDown":t=m(1);break;default:return}if(t)e.preventDefault(),g(t.dataset[(n="EventKey","".concat("rrUi").concat(n))]||null,e),p.current=!0,d()}},ref:b,role:l}))})})}));XE.displayName="Nav";var YE=Object.assign(XE,{Item:KE}),JE=t.createContext(null);JE.displayName="NavbarContext";var $E=JE,QE=t.createContext(null);QE.displayName="CardHeaderContext";var ZE=QE,ek=/-(.)/g;var tk=["className","bsPrefix","as"],nk=function(e){return e[0].toUpperCase()+(t=e,t.replace(ek,(function(e,t){return t.toUpperCase()}))).slice(1);var t};function rk(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.displayName,i=void 0===r?nk(e):r,a=n.Component,o=n.defaultProps,s=t.forwardRef((function(t,n){var r=t.className,i=t.bsPrefix,s=t.as,u=void 0===s?a||"div":s,l=He(t,tk),c=Le(Le({},o),l),f=dE(i,e);return(0,hs.jsx)(u,Le({ref:n,className:lE()(r,f)},c))}));return s.displayName=i,s}var ik=rk("nav-item");function ak(){var e=(0,t.useRef)(!0),n=(0,t.useRef)((function(){return e.current}));return(0,t.useEffect)((function(){return e.current=!0,function(){e.current=!1}}),[]),n.current}function ok(e){var n=(0,t.useRef)(null);return(0,t.useEffect)((function(){n.current=e})),n.current}var sk="undefined"!==typeof n.g&&n.g.navigator&&"ReactNative"===n.g.navigator.product,uk="undefined"!==typeof document||sk?t.useLayoutEffect:t.useEffect;new WeakMap;var lk=["onKeyDown"];var ck=t.forwardRef((function(e,t){var n,r=e.onKeyDown,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,lk),a=l(BE(Object.assign({tagName:"a"},i)),1)[0],o=FE((function(e){a.onKeyDown(e),null==r||r(e)}));return(n=i.href)&&"#"!==n.trim()&&"button"!==i.role?(0,hs.jsx)("a",Object.assign({ref:t},i,{onKeyDown:r})):(0,hs.jsx)("a",Object.assign({ref:t},i,a,{onKeyDown:o}))}));ck.displayName="Anchor";var fk=ck,dk=["bsPrefix","className","as","active","eventKey","disabled"],pk=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.as,a=void 0===i?fk:i,o=e.active,s=e.eventKey,u=e.disabled,c=void 0!==u&&u,f=He(e,dk);n=dE(n,"nav-link");var d=l(VE(Le({key:IE(s,f.href),active:o,disabled:c},f)),2),p=d[0],h=d[1];return(0,hs.jsx)(a,Le(Le(Le({},f),p),{},{ref:t,disabled:c,className:lE()(r,n,c&&"disabled",h.isActive&&"active")}))}));pk.displayName="NavLink";var hk=pk,vk=["as","bsPrefix","variant","fill","justify","navbar","navbarScroll","className","activeKey"],yk=t.forwardRef((function(e,n){var r,i,a,o=bE(e,{activeKey:"onSelect"}),s=o.as,u=void 0===s?"div":s,l=o.bsPrefix,c=o.variant,f=o.fill,d=void 0!==f&&f,p=o.justify,h=void 0!==p&&p,v=o.navbar,y=o.navbarScroll,m=o.className,g=o.activeKey,b=He(o,vk),x=dE(l,"nav"),w=!1,S=(0,t.useContext)($E),T=(0,t.useContext)(ZE);return S?(i=S.bsPrefix,w=null==v||v):T&&(a=T.cardHeaderBsPrefix),(0,hs.jsx)(YE,Le({as:u,ref:n,activeKey:g,className:lE()(m,(r={},Me(r,x,!w),Me(r,"".concat(i,"-nav"),w),Me(r,"".concat(i,"-nav-scroll"),w&&y),Me(r,"".concat(a,"-").concat(c),!!a),Me(r,"".concat(x,"-").concat(c),!!c),Me(r,"".concat(x,"-fill"),d),Me(r,"".concat(x,"-justified"),h),r))},b))}));yk.displayName="Nav";var mk=Object.assign(yk,{Item:ik,Link:hk}),gk=["bsPrefix","className","as"],bk=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.as,a=He(e,gk);n=dE(n,"navbar-brand");var o=i||(a.href?"a":"span");return(0,hs.jsx)(o,Le(Le({},a),{},{ref:t,className:lE()(r,n)}))}));bk.displayName="NavbarBrand";var xk=bk;function wk(e){return e&&e.ownerDocument||document}function Sk(e,t){return function(e){var t=wk(e);return t&&t.defaultView||window}(e).getComputedStyle(e,t)}var Tk=/([A-Z])/g;var Ek=/^ms-/;function kk(e){return function(e){return e.replace(Tk,"-$1").toLowerCase()}(e).replace(Ek,"-ms-")}var _k=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;var Ck=function(e,t){var n="",r="";if("string"===typeof t)return e.style.getPropertyValue(kk(t))||Sk(e).getPropertyValue(kk(t));Object.keys(t).forEach((function(i){var a=t[i];a||0===a?!function(e){return!(!e||!_k.test(e))}(i)?n+=kk(i)+": "+a+";":r+=i+"("+a+") ":e.style.removeProperty(kk(i))})),r&&(n+="transform: "+r+";"),e.style.cssText+=";"+n};var Pk=n(4164),Ok=!1,Ik=t.createContext(null),Ak="unmounted",Dk="exited",Rk="entering",Nk="entered",Mk="exiting",Fk=function(e){var n,r;function i(t,n){var r;r=e.call(this,t,n)||this;var i,a=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?a?(i=Dk,r.appearStatus=Rk):i=Nk:i=t.unmountOnExit||t.mountOnEnter?Ak:Dk,r.state={status:i},r.nextCallback=null,r}r=e,(n=i).prototype=Object.create(r.prototype),n.prototype.constructor=n,m(n,r),i.getDerivedStateFromProps=function(e,t){return e.in&&t.status===Ak?{status:Dk}:null};var a=i.prototype;return a.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},a.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==Rk&&n!==Nk&&(t=Rk):n!==Rk&&n!==Nk||(t=Mk)}this.updateStatus(!1,t)},a.componentWillUnmount=function(){this.cancelNextCallback()},a.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},a.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===Rk){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:Pk.findDOMNode(this);n&&function(e){e.scrollTop}(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Dk&&this.setState({status:Ak})},a.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[Pk.findDOMNode(this),r],a=i[0],o=i[1],s=this.getTimeouts(),u=r?s.appear:s.enter;!e&&!n||Ok?this.safeSetState({status:Nk},(function(){t.props.onEntered(a)})):(this.props.onEnter(a,o),this.safeSetState({status:Rk},(function(){t.props.onEntering(a,o),t.onTransitionEnd(u,(function(){t.safeSetState({status:Nk},(function(){t.props.onEntered(a,o)}))}))})))},a.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:Pk.findDOMNode(this);t&&!Ok?(this.props.onExit(r),this.safeSetState({status:Mk},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:Dk},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:Dk},(function(){e.props.onExited(r)}))},a.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},a.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},a.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},a.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:Pk.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],a=i[0],o=i[1];this.props.addEndListener(a,o)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},a.render=function(){var e=this.state.status;if(e===Ak)return null;var n=this.props,r=n.children,i=(n.in,n.mountOnEnter,n.unmountOnExit,n.appear,n.enter,n.exit,n.timeout,n.addEndListener,n.onEnter,n.onEntering,n.onEntered,n.onExit,n.onExiting,n.onExited,n.nodeRef,Ke(n,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return t.createElement(Ik.Provider,{value:null},"function"===typeof r?r(e,i):t.cloneElement(t.Children.only(r),i))},i}(t.Component);function Lk(){}Fk.contextType=Ik,Fk.propTypes={},Fk.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Lk,onEntering:Lk,onEntered:Lk,onExit:Lk,onExiting:Lk,onExited:Lk},Fk.UNMOUNTED=Ak,Fk.EXITED=Dk,Fk.ENTERING=Rk,Fk.ENTERED=Nk,Fk.EXITING=Mk;var Bk=Fk,jk=!("undefined"===typeof window||!window.document||!window.document.createElement),zk=!1,Wk=!1;try{var Vk={get passive(){return zk=!0},get once(){return Wk=zk=!0}};jk&&(window.addEventListener("test",Vk,Vk),window.removeEventListener("test",Vk,!0))}catch(ws){}var Uk=function(e,t,n,r){if(r&&"boolean"!==typeof r&&!Wk){var i=r.once,a=r.capture,o=n;!Wk&&i&&(o=n.__once||function e(r){this.removeEventListener(t,e,a),n.call(this,r)},n.__once=o),e.addEventListener(t,o,zk?r:a)}e.addEventListener(t,n,r)};var Kk=function(e,t,n,r){var i=r&&"boolean"!==typeof r?r.capture:r;e.removeEventListener(t,n,i),n.__once&&e.removeEventListener(t,n.__once,i)};var Hk=function(e,t,n,r){return Uk(e,t,n,r),function(){Kk(e,t,n,r)}};function qk(e,t,n){void 0===n&&(n=5);var r=!1,i=setTimeout((function(){r||function(e,t,n,r){if(void 0===n&&(n=!1),void 0===r&&(r=!0),e){var i=document.createEvent("HTMLEvents");i.initEvent(t,n,r),e.dispatchEvent(i)}}(e,"transitionend",!0)}),t+n),a=Hk(e,"transitionend",(function(){r=!0}),{once:!0});return function(){clearTimeout(i),a()}}function Gk(e,t,n,r){null==n&&(n=function(e){var t=Ck(e,"transitionDuration")||"",n=-1===t.indexOf("ms")?1e3:1;return parseFloat(t)*n}(e)||0);var i=qk(e,n,r),a=Hk(e,"transitionend",t);return function(){i(),a()}}function Xk(e,t){var n=Ck(e,t)||"",r=-1===n.indexOf("ms")?1e3:1;return parseFloat(n)*r}function Yk(e,t){var n=Xk(e,"transitionDuration"),r=Xk(e,"transitionDelay"),i=Gk(e,(function(n){n.target===e&&(i(),t(n))}),n+r)}var Jk=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return null!=e})).reduce((function(e,t){if("function"!==typeof t)throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return null===e?t:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}}),null)};function $k(e){e.offsetHeight}var Qk,Zk=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children","childRef"],e_=t.forwardRef((function(e,n){var r=e.onEnter,i=e.onEntering,a=e.onEntered,o=e.onExit,s=e.onExiting,u=e.onExited,l=e.addEndListener,c=e.children,f=e.childRef,d=He(e,Zk),p=(0,t.useRef)(null),h=CE(p,f),v=function(e){var t;h((t=e)&&"setState"in t?Pk.findDOMNode(t):null!=t?t:null)},y=function(e){return function(t){e&&p.current&&e(p.current,t)}},m=(0,t.useCallback)(y(r),[r]),g=(0,t.useCallback)(y(i),[i]),b=(0,t.useCallback)(y(a),[a]),x=(0,t.useCallback)(y(o),[o]),w=(0,t.useCallback)(y(s),[s]),S=(0,t.useCallback)(y(u),[u]),T=(0,t.useCallback)(y(l),[l]);return(0,hs.jsx)(Bk,Le(Le({ref:n},d),{},{onEnter:m,onEntered:b,onEntering:g,onExit:x,onExited:S,onExiting:w,addEndListener:T,nodeRef:p,children:"function"===typeof c?function(e,t){return c(e,Le(Le({},t),{},{ref:v}))}:t.cloneElement(c,{ref:v})}))})),t_=e_,n_=["onEnter","onEntering","onEntered","onExit","onExiting","className","children","dimension","in","timeout","mountOnEnter","unmountOnExit","appear","getDimensionValue"],r_={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function i_(e,t){var n=t["offset".concat(e[0].toUpperCase()).concat(e.slice(1))],r=r_[e];return n+parseInt(Ck(t,r[0]),10)+parseInt(Ck(t,r[1]),10)}var a_=(Me(Qk={},Dk,"collapse"),Me(Qk,Mk,"collapsing"),Me(Qk,Rk,"collapsing"),Me(Qk,Nk,"collapse show"),Qk),o_=t.forwardRef((function(e,n){var r=e.onEnter,i=e.onEntering,a=e.onEntered,o=e.onExit,s=e.onExiting,u=e.className,l=e.children,c=e.dimension,f=void 0===c?"height":c,d=e.in,p=void 0!==d&&d,h=e.timeout,v=void 0===h?300:h,y=e.mountOnEnter,m=void 0!==y&&y,g=e.unmountOnExit,b=void 0!==g&&g,x=e.appear,w=void 0!==x&&x,S=e.getDimensionValue,T=void 0===S?i_:S,E=He(e,n_),k="function"===typeof f?f():f,_=(0,t.useMemo)((function(){return Jk((function(e){e.style[k]="0"}),r)}),[k,r]),C=(0,t.useMemo)((function(){return Jk((function(e){var t="scroll".concat(k[0].toUpperCase()).concat(k.slice(1));e.style[k]="".concat(e[t],"px")}),i)}),[k,i]),P=(0,t.useMemo)((function(){return Jk((function(e){e.style[k]=null}),a)}),[k,a]),O=(0,t.useMemo)((function(){return Jk((function(e){e.style[k]="".concat(T(k,e),"px"),$k(e)}),o)}),[o,T,k]),I=(0,t.useMemo)((function(){return Jk((function(e){e.style[k]=null}),s)}),[k,s]);return(0,hs.jsx)(t_,Le(Le({ref:n,addEndListener:Yk},E),{},{"aria-expanded":E.role?p:null,onEnter:_,onEntering:C,onEntered:P,onExit:O,onExiting:I,childRef:l.ref,in:p,timeout:v,mountOnEnter:m,unmountOnExit:b,appear:w,children:function(e,n){return t.cloneElement(l,Le(Le({},n),{},{className:lE()(u,l.props.className,a_[e],"width"===k&&"collapse-horizontal")}))}}))})),s_=o_,u_=["children","bsPrefix"],l_=t.forwardRef((function(e,n){var r=e.children,i=e.bsPrefix,a=He(e,u_);i=dE(i,"navbar-collapse");var o=(0,t.useContext)($E);return(0,hs.jsx)(s_,Le(Le({in:!(!o||!o.expanded)},a),{},{children:(0,hs.jsx)("div",{ref:n,className:i,children:r})}))}));l_.displayName="NavbarCollapse";var c_=l_,f_=["bsPrefix","className","children","label","as","onClick"],d_=t.forwardRef((function(e,n){var r=e.bsPrefix,i=e.className,a=e.children,o=e.label,s=void 0===o?"Toggle navigation":o,u=e.as,l=void 0===u?"button":u,c=e.onClick,f=He(e,f_);r=dE(r,"navbar-toggler");var d=(0,t.useContext)($E)||{},p=d.onToggle,h=d.expanded,v=FE((function(e){c&&c(e),p&&p()}));return"button"===l&&(f.type="button"),(0,hs.jsx)(l,Le(Le({},f),{},{ref:n,onClick:v,"aria-label":s,className:lE()(i,r,!h&&"collapsed"),children:a||(0,hs.jsx)("span",{className:"".concat(r,"-icon")})}))}));d_.displayName="NavbarToggle";var p_=d_,h_=new WeakMap,v_=function(e,t){if(e&&t){var n=h_.get(t)||new Map;h_.set(t,n);var r=n.get(e);return r||((r=t.matchMedia(e)).refCount=0,n.set(r.media,r)),r}};function y_(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"undefined"===typeof window?void 0:window,r=v_(e,n),i=l((0,t.useState)((function(){return!!r&&r.matches})),2),a=i[0],o=i[1];return uk((function(){var t=v_(e,n);if(!t)return o(!1);var r=h_.get(n),i=function(){o(t.matches)};return t.refCount++,t.addListener(i),i(),function(){t.removeListener(i),t.refCount--,t.refCount<=0&&(null==r||r.delete(t.media)),t=void 0}}),[e]),a}var m_=function(e){var n=Object.keys(e);function r(e,t){return e===t?t:e?"".concat(e," and ").concat(t):t}function i(t){var r=function(e){return n[Math.min(n.indexOf(e)+1,n.length-1)]}(t),i=e[r];return i="number"===typeof i?"".concat(i-.2,"px"):"calc(".concat(i," - 0.2px)"),"(max-width: ".concat(i,")")}return function(n,a,o){var s;return"object"===typeof n?(s=n,o=a,a=!0):s=Me({},n,a=a||!0),y_((0,t.useMemo)((function(){return Object.entries(s).reduce((function(t,n){var a=l(n,2),o=a[0],s=a[1];return"up"!==s&&!0!==s||(t=r(t,function(t){var n=e[t];return"number"===typeof n&&(n="".concat(n,"px")),"(min-width: ".concat(n,")")}(o))),"down"!==s&&!0!==s||(t=r(t,i(o))),t}),"")}),[JSON.stringify(s)]),o)}}({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400});function g_(e){void 0===e&&(e=wk());try{var t=e.activeElement;return t&&t.nodeName?t:null}catch(ws){return e.body}}function b_(e,t){return e.contains?e.contains(t):e.compareDocumentPosition?e===t||!!(16&e.compareDocumentPosition(t)):void 0}function x_(e){var n=function(e){var n=(0,t.useRef)(e);return n.current=e,n}(e);(0,t.useEffect)((function(){return function(){return n.current()}}),[])}var w_=NE("modal-open"),S_=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.ownerDocument,r=t.handleContainerOverflow,i=void 0===r||r,a=t.isRTL,o=void 0!==a&&a;d(this,e),this.handleContainerOverflow=i,this.isRTL=o,this.modals=[],this.ownerDocument=n}return y(e,[{key:"getScrollbarWidth",value:function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,t=e.defaultView;return Math.abs(t.innerWidth-e.documentElement.clientWidth)}(this.ownerDocument)}},{key:"getElement",value:function(){return(this.ownerDocument||document).body}},{key:"setModalAttributes",value:function(e){}},{key:"removeModalAttributes",value:function(e){}},{key:"setContainerStyle",value:function(e){var t={overflow:"hidden"},n=this.isRTL?"paddingLeft":"paddingRight",r=this.getElement();e.style=Me({overflow:r.style.overflow},n,r.style[n]),e.scrollBarWidth&&(t[n]="".concat(parseInt(Ck(r,n)||"0",10)+e.scrollBarWidth,"px")),r.setAttribute(w_,""),Ck(r,t)}},{key:"reset",value:function(){var e=this;f(this.modals).forEach((function(t){return e.remove(t)}))}},{key:"removeContainerStyle",value:function(e){var t=this.getElement();t.removeAttribute(w_),Object.assign(t.style,e.style)}},{key:"add",value:function(e){var t=this.modals.indexOf(e);return-1!==t?t:(t=this.modals.length,this.modals.push(e),this.setModalAttributes(e),0!==t||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),t)}},{key:"remove",value:function(e){var t=this.modals.indexOf(e);-1!==t&&(this.modals.splice(t,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}},{key:"isTopModal",value:function(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}]),e}(),T_=S_,E_=(0,t.createContext)(jk?window:void 0);E_.Provider;function k_(){return(0,t.useContext)(E_)}var __=function(e,t){return jk?null==e?(t||wk()).body:("function"===typeof e&&(e=e()),e&&"current"in e&&(e=e.current),e&&("nodeType"in e||e.getBoundingClientRect)?e:null):null};var C_=function(e){var n=e.children,r=e.in,i=e.onExited,a=e.mountOnEnter,o=e.unmountOnExit,s=(0,t.useRef)(null),u=(0,t.useRef)(r),l=FE(i);(0,t.useEffect)((function(){r?u.current=!0:l(s.current)}),[r,l]);var c=CE(s,n.ref),f=(0,t.cloneElement)(n,{ref:c});return r?f:o||!u.current&&a?null:f};function P_(e){var n=e.children,r=e.in,i=e.onExited,a=e.onEntered,o=e.transition,s=l((0,t.useState)(!r),2),u=s[0],c=s[1];r&&u&&c(!1);var f=function(e){var n=e.in,r=e.onTransition,i=(0,t.useRef)(null),a=(0,t.useRef)(!0),o=FE(r);return uk((function(){if(i.current){var e=!1;return o({in:n,element:i.current,initial:a.current,isStale:function(){return e}}),function(){e=!0}}}),[n,o]),uk((function(){return a.current=!1,function(){a.current=!0}}),[]),i}({in:!!r,onTransition:function(e){Promise.resolve(o(e)).then((function(){e.isStale()||(e.in?null==a||a(e.element,e.initial):(c(!0),null==i||i(e.element)))}),(function(t){throw e.in||c(!0),t}))}}),d=CE(f,n.ref);return u&&!r?null:(0,t.cloneElement)(n,{ref:d})}function O_(e,t,n){return e?(0,hs.jsx)(e,Object.assign({},n)):t?(0,hs.jsx)(P_,Object.assign({},n,{transition:t})):(0,hs.jsx)(C_,Object.assign({},n))}var I_,A_=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function D_(e){var n=k_(),r=e||function(e){return I_||(I_=new T_({ownerDocument:null==e?void 0:e.document})),I_}(n),i=(0,t.useRef)({dialog:null,backdrop:null});return Object.assign(i.current,{add:function(){return r.add(i.current)},remove:function(){return r.remove(i.current)},isTopModal:function(){return r.isTopModal(i.current)},setDialogRef:(0,t.useCallback)((function(e){i.current.dialog=e}),[]),setBackdropRef:(0,t.useCallback)((function(e){i.current.backdrop=e}),[])})}var R_=(0,t.forwardRef)((function(e,n){var r=e.show,i=void 0!==r&&r,a=e.role,o=void 0===a?"dialog":a,s=e.className,u=e.style,c=e.children,f=e.backdrop,d=void 0===f||f,p=e.keyboard,h=void 0===p||p,v=e.onBackdropClick,y=e.onEscapeKeyDown,m=e.transition,g=e.runTransition,b=e.backdropTransition,x=e.runBackdropTransition,w=e.autoFocus,S=void 0===w||w,T=e.enforceFocus,E=void 0===T||T,k=e.restoreFocus,_=void 0===k||k,C=e.restoreFocusOptions,P=e.renderDialog,O=e.renderBackdrop,I=void 0===O?function(e){return(0,hs.jsx)("div",Object.assign({},e))}:O,A=e.manager,D=e.container,R=e.onShow,N=e.onHide,M=void 0===N?function(){}:N,F=e.onExit,L=e.onExited,B=e.onExiting,j=e.onEnter,z=e.onEntering,W=e.onEntered,V=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,A_),U=k_(),K=function(e,n){var r=k_(),i=l((0,t.useState)((function(){return __(e,null==r?void 0:r.document)})),2),a=i[0],o=i[1];if(!a){var s=__(e);s&&o(s)}return(0,t.useEffect)((function(){n&&a&&n(a)}),[n,a]),(0,t.useEffect)((function(){var t=__(e);t!==a&&o(t)}),[e,a]),a}(D),H=D_(A),q=ak(),G=ok(i),X=l((0,t.useState)(!i),2),Y=X[0],J=X[1],$=(0,t.useRef)(null);(0,t.useImperativeHandle)(n,(function(){return H}),[H]),jk&&!G&&i&&($.current=g_(null==U?void 0:U.document)),i&&Y&&J(!1);var Q=FE((function(){if(H.add(),ie.current=Hk(document,"keydown",ne),re.current=Hk(document,"focus",(function(){return setTimeout(ee)}),!0),R&&R(),S){var e,t,n=g_(null!=(e=null==(t=H.dialog)?void 0:t.ownerDocument)?e:null==U?void 0:U.document);H.dialog&&n&&!b_(H.dialog,n)&&($.current=n,H.dialog.focus())}})),Z=FE((function(){var e;(H.remove(),null==ie.current||ie.current(),null==re.current||re.current(),_)&&(null==(e=$.current)||null==e.focus||e.focus(C),$.current=null)}));(0,t.useEffect)((function(){i&&K&&Q()}),[i,K,Q]),(0,t.useEffect)((function(){Y&&Z()}),[Y,Z]),x_((function(){Z()}));var ee=FE((function(){if(E&&q()&&H.isTopModal()){var e=g_(null==U?void 0:U.document);H.dialog&&e&&!b_(H.dialog,e)&&H.dialog.focus()}})),te=FE((function(e){e.target===e.currentTarget&&(null==v||v(e),!0===d&&M())})),ne=FE((function(e){h&&function(e){return"Escape"===e.code||27===e.keyCode}(e)&&H.isTopModal()&&(null==y||y(e),e.defaultPrevented||M())})),re=(0,t.useRef)(),ie=(0,t.useRef)();if(!K)return null;var ae=Object.assign({role:o,ref:H.setDialogRef,"aria-modal":"dialog"===o||void 0},V,{style:u,className:s,tabIndex:-1}),oe=P?P(ae):(0,hs.jsx)("div",Object.assign({},ae,{children:t.cloneElement(c,{role:"document"})}));oe=O_(m,g,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!i,onExit:F,onExiting:B,onExited:function(){J(!0),null==L||L.apply(void 0,arguments)},onEnter:j,onEntering:z,onEntered:W,children:oe});var se=null;return d&&(se=I({ref:H.setBackdropRef,onClick:te}),se=O_(b,x,{in:!!i,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:se})),(0,hs.jsx)(hs.Fragment,{children:Pk.createPortal((0,hs.jsxs)(hs.Fragment,{children:[se,oe]}),K)})}));R_.displayName="Modal";var N_,M_=Object.assign(R_,{Manager:T_}),F_=["className","children","transitionClasses","onEnter"],L_=(Me(N_={},Rk,"show"),Me(N_,Nk,"show"),N_),B_=t.forwardRef((function(e,n){var r=e.className,i=e.children,a=e.transitionClasses,o=void 0===a?{}:a,s=e.onEnter,u=Le({in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1},He(e,F_)),l=(0,t.useCallback)((function(e,t){$k(e),null==s||s(e,t)}),[s]);return(0,hs.jsx)(t_,Le(Le({ref:n,addEndListener:Yk},u),{},{onEnter:l,childRef:i.ref,children:function(e,n){return t.cloneElement(i,Le(Le({},n),{},{className:lE()("fade",r,i.props.className,L_[e],o[e])}))}}))}));B_.displayName="Fade";var j_,z_=B_,W_=rk("offcanvas-body"),V_=["bsPrefix","className","children","in","mountOnEnter","unmountOnExit","appear"],U_=(Me(j_={},Rk,"show"),Me(j_,Nk,"show"),j_),K_=t.forwardRef((function(e,n){var r=e.bsPrefix,i=e.className,a=e.children,o=e.in,s=void 0!==o&&o,u=e.mountOnEnter,l=void 0!==u&&u,c=e.unmountOnExit,f=void 0!==c&&c,d=e.appear,p=void 0!==d&&d,h=He(e,V_);return r=dE(r,"offcanvas"),(0,hs.jsx)(t_,Le(Le({ref:n,addEndListener:Yk,in:s,mountOnEnter:l,unmountOnExit:f,appear:p},h),{},{childRef:a.ref,children:function(e,n){return t.cloneElement(a,Le(Le({},n),{},{className:lE()(i,a.props.className,(e===Rk||e===Mk)&&"".concat(r,"-toggling"),U_[e])}))}}))}));K_.displayName="OffcanvasToggling";var H_=K_,q_=t.createContext({onHide:function(){}}),G_=n(2007),X_=n.n(G_),Y_=["className","variant","aria-label"],J_={"aria-label":X_().string,onClick:X_().func,variant:X_().oneOf(["white"])},$_=t.forwardRef((function(e,t){var n=e.className,r=e.variant,i=e["aria-label"],a=void 0===i?"Close":i,o=He(e,Y_);return(0,hs.jsx)("button",Le({ref:t,type:"button",className:lE()("btn-close",r&&"btn-close-".concat(r),n),"aria-label":a},o))}));$_.displayName="CloseButton",$_.propTypes=J_;var Q_=$_,Z_=["closeLabel","closeVariant","closeButton","onHide","children"],eC=t.forwardRef((function(e,n){var r=e.closeLabel,i=void 0===r?"Close":r,a=e.closeVariant,o=e.closeButton,s=void 0!==o&&o,u=e.onHide,l=e.children,c=He(e,Z_),f=(0,t.useContext)(q_),d=FE((function(){null==f||f.onHide(),null==u||u()}));return(0,hs.jsxs)("div",Le(Le({ref:n},c),{},{children:[l,s&&(0,hs.jsx)(Q_,{"aria-label":i,variant:a,onClick:d})]}))})),tC=eC,nC=["bsPrefix","className","closeLabel","closeButton"],rC=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.closeLabel,a=void 0===i?"Close":i,o=e.closeButton,s=void 0!==o&&o,u=He(e,nC);return n=dE(n,"offcanvas-header"),(0,hs.jsx)(tC,Le(Le({ref:t},u),{},{className:lE()(r,n),closeLabel:a,closeButton:s}))}));rC.displayName="OffcanvasHeader";var iC,aC=rC,oC=(iC="h5",t.forwardRef((function(e,t){return(0,hs.jsx)("div",Le(Le({},e),{},{ref:t,className:lE()(e.className,iC)}))}))),sC=rk("offcanvas-title",{Component:oC});function uC(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}var lC,cC=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",fC=".sticky-top",dC=".navbar-toggler",pC=function(e){g(n,e);var t=S(n);function n(){return d(this,n),t.apply(this,arguments)}return y(n,[{key:"adjustAndStore",value:function(e,t,n){var r=t.style[e];t.dataset[e]=r,Ck(t,Me({},e,"".concat(parseFloat(Ck(t,e))+n,"px")))}},{key:"restore",value:function(e,t){var n=t.dataset[e];void 0!==n&&(delete t.dataset[e],Ck(t,Me({},e,n)))}},{key:"setContainerStyle",value:function(e){var t=this;Be(b(n.prototype),"setContainerStyle",this).call(this,e);var r=this.getElement();if(function(e,t){e.classList?e.classList.add(t):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(e,t)||("string"===typeof e.className?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}(r,"modal-open"),e.scrollBarWidth){var i=this.isRTL?"paddingLeft":"paddingRight",a=this.isRTL?"marginLeft":"marginRight";EE(r,cC).forEach((function(n){return t.adjustAndStore(i,n,e.scrollBarWidth)})),EE(r,fC).forEach((function(n){return t.adjustAndStore(a,n,-e.scrollBarWidth)})),EE(r,dC).forEach((function(n){return t.adjustAndStore(a,n,e.scrollBarWidth)}))}}},{key:"removeContainerStyle",value:function(e){var t=this;Be(b(n.prototype),"removeContainerStyle",this).call(this,e);var r=this.getElement();!function(e,t){e.classList?e.classList.remove(t):"string"===typeof e.className?e.className=uC(e.className,t):e.setAttribute("class",uC(e.className&&e.className.baseVal||"",t))}(r,"modal-open");var i=this.isRTL?"paddingLeft":"paddingRight",a=this.isRTL?"marginLeft":"marginRight";EE(r,cC).forEach((function(e){return t.restore(i,e)})),EE(r,fC).forEach((function(e){return t.restore(a,e)})),EE(r,dC).forEach((function(e){return t.restore(a,e)}))}}]),n}(T_);var hC=pC,vC=["bsPrefix","className","children","aria-labelledby","placement","responsive","show","backdrop","keyboard","scroll","onEscapeKeyDown","onShow","onHide","container","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","onEntered","onExit","onExiting","onEnter","onEntering","onExited","backdropClassName","manager","renderStaticNode"];function yC(e){return(0,hs.jsx)(H_,Le({},e))}function mC(e){return(0,hs.jsx)(z_,Le({},e))}var gC=t.forwardRef((function(e,n){var r=e.bsPrefix,i=e.className,a=e.children,o=e["aria-labelledby"],s=e.placement,u=void 0===s?"start":s,c=e.responsive,f=e.show,d=void 0!==f&&f,p=e.backdrop,h=void 0===p||p,v=e.keyboard,y=void 0===v||v,m=e.scroll,g=void 0!==m&&m,b=e.onEscapeKeyDown,x=e.onShow,w=e.onHide,S=e.container,T=e.autoFocus,E=void 0===T||T,k=e.enforceFocus,_=void 0===k||k,C=e.restoreFocus,P=void 0===C||C,O=e.restoreFocusOptions,I=e.onEntered,A=e.onExit,D=e.onExiting,R=e.onEnter,N=e.onEntering,M=e.onExited,F=e.backdropClassName,L=e.manager,B=e.renderStaticNode,j=void 0!==B&&B,z=He(e,vC),W=(0,t.useRef)();r=dE(r,"offcanvas");var V=((0,t.useContext)($E)||{}).onToggle,U=l((0,t.useState)(!1),2),K=U[0],H=U[1],q=m_(c||"xs","up");(0,t.useEffect)((function(){H(c?d&&!q:d)}),[d,c,q]);var G=FE((function(){null==V||V(),null==w||w()})),X=(0,t.useMemo)((function(){return{onHide:G}}),[G]);var Y=(0,t.useCallback)((function(e){return(0,hs.jsx)("div",Le(Le({},e),{},{className:lE()("".concat(r,"-backdrop"),F)}))}),[F,r]),J=function(e){return(0,hs.jsx)("div",Le(Le(Le({},e),z),{},{className:lE()(i,c?"".concat(r,"-").concat(c):r,"".concat(r,"-").concat(u)),"aria-labelledby":o,children:a}))};return(0,hs.jsxs)(hs.Fragment,{children:[!K&&(c||j)&&J({}),(0,hs.jsx)(q_.Provider,{value:X,children:(0,hs.jsx)(M_,{show:K,ref:n,backdrop:h,container:S,keyboard:y,autoFocus:E,enforceFocus:_&&!g,restoreFocus:P,restoreFocusOptions:O,onEscapeKeyDown:b,onShow:x,onHide:G,onEnter:function(e){e&&(e.style.visibility="visible");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];null==R||R.apply(void 0,[e].concat(n))},onEntering:N,onEntered:I,onExit:A,onExiting:D,onExited:function(e){e&&(e.style.visibility="");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];null==M||M.apply(void 0,n)},manager:L||(g?(W.current||(W.current=new hC({handleContainerOverflow:!1})),W.current):function(e){return lC||(lC=new pC(e)),lC}()),transition:yC,backdropTransition:mC,renderBackdrop:Y,renderDialog:J})})]})}));gC.displayName="Offcanvas";var bC=Object.assign(gC,{Body:W_,Header:aC,Title:sC}),xC=t.forwardRef((function(e,n){var r=(0,t.useContext)($E);return(0,hs.jsx)(bC,Le(Le({ref:n,show:!(null==r||!r.expanded)},e),{},{renderStaticNode:!0}))}));xC.displayName="NavbarOffcanvas";var wC=xC,SC=["bsPrefix","expand","variant","bg","fixed","sticky","className","as","expanded","onToggle","onSelect","collapseOnSelect"],TC=rk("navbar-text",{Component:"span"}),EC=t.forwardRef((function(e,n){var r=bE(e,{expanded:"onToggle"}),i=r.bsPrefix,a=r.expand,o=void 0===a||a,s=r.variant,u=void 0===s?"light":s,l=r.bg,c=r.fixed,f=r.sticky,d=r.className,p=r.as,h=void 0===p?"nav":p,v=r.expanded,y=r.onToggle,m=r.onSelect,g=r.collapseOnSelect,b=void 0!==g&&g,x=He(r,SC),w=dE(i,"navbar"),S=(0,t.useCallback)((function(){null==m||m.apply(void 0,arguments),b&&v&&(null==y||y(!1))}),[m,b,v,y]);void 0===x.role&&"nav"!==h&&(x.role="navigation");var T="".concat(w,"-expand");"string"===typeof o&&(T="".concat(T,"-").concat(o));var E=(0,t.useMemo)((function(){return{onToggle:function(){return null==y?void 0:y(!v)},bsPrefix:w,expanded:!!v,expand:o}}),[w,v,o,y]);return(0,hs.jsx)($E.Provider,{value:E,children:(0,hs.jsx)(AE.Provider,{value:S,children:(0,hs.jsx)(h,Le(Le({ref:n},x),{},{className:lE()(d,w,o&&T,u&&"".concat(w,"-").concat(u),l&&"bg-".concat(l),f&&"sticky-".concat(f),c&&"fixed-".concat(c))}))})})}));EC.displayName="Navbar";var kC=Object.assign(EC,{Brand:xk,Collapse:c_,Offcanvas:wC,Text:TC,Toggle:p_});function _C(e,n,r){var i=(0,t.useRef)(void 0!==e),a=l((0,t.useState)(n),2),o=a[0],s=a[1],u=void 0!==e,c=i.current;return i.current=u,!u&&c&&o!==n&&s(n),[u?e:o,(0,t.useCallback)((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=t[0],a=t.slice(1),o=null==r?void 0:r.apply(void 0,[i].concat(f(a)));return s(i),o}),[r])]}var CC=t.createContext(null),PC=Object.prototype.hasOwnProperty;function OC(e,t,n){var r,i=k(e.keys());try{for(i.s();!(r=i.n()).done;)if(IC(n=r.value,t))return n}catch(a){i.e(a)}finally{i.f()}}function IC(e,t){var n,r,i;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((r=e.length)===t.length)for(;r--&&IC(e[r],t[r]););return-1===r}if(n===Set){if(e.size!==t.size)return!1;var a,o=k(e);try{for(o.s();!(a=o.n()).done;){if((i=r=a.value)&&"object"===typeof i&&!(i=OC(t,i)))return!1;if(!t.has(i))return!1}}catch(l){o.e(l)}finally{o.f()}return!0}if(n===Map){if(e.size!==t.size)return!1;var s,u=k(e);try{for(u.s();!(s=u.n()).done;){if((i=(r=s.value)[0])&&"object"===typeof i&&!(i=OC(t,i)))return!1;if(!IC(r[1],t.get(i)))return!1}}catch(l){u.e(l)}finally{u.f()}return!0}if(n===ArrayBuffer)e=new Uint8Array(e),t=new Uint8Array(t);else if(n===DataView){if((r=e.byteLength)===t.byteLength)for(;r--&&e.getInt8(r)===t.getInt8(r););return-1===r}if(ArrayBuffer.isView(e)){if((r=e.byteLength)===t.byteLength)for(;r--&&e[r]===t[r];);return-1===r}if(!n||"object"===typeof e){for(n in r=0,e){if(PC.call(e,n)&&++r&&!PC.call(t,n))return!1;if(!(n in t)||!IC(e[n],t[n]))return!1}return Object.keys(t).length===r}}return e!==e&&t!==t}var AC=function(e){var n=ak();return[e[0],(0,t.useCallback)((function(t){if(n())return e[1](t)}),[n,e[1]])]};function DC(e){return e.split("-")[0]}function RC(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function NC(e){return e instanceof RC(e).Element||e instanceof Element}function MC(e){return e instanceof RC(e).HTMLElement||e instanceof HTMLElement}function FC(e){return"undefined"!==typeof ShadowRoot&&(e instanceof RC(e).ShadowRoot||e instanceof ShadowRoot)}var LC=Math.max,BC=Math.min,jC=Math.round;function zC(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map((function(e){return e.brand+"/"+e.version})).join(" "):navigator.userAgent}function WC(){return!/^((?!chrome|android).)*safari/i.test(zC())}function VC(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var r=e.getBoundingClientRect(),i=1,a=1;t&&MC(e)&&(i=e.offsetWidth>0&&jC(r.width)/e.offsetWidth||1,a=e.offsetHeight>0&&jC(r.height)/e.offsetHeight||1);var o=(NC(e)?RC(e):window).visualViewport,s=!WC()&&n,u=(r.left+(s&&o?o.offsetLeft:0))/i,l=(r.top+(s&&o?o.offsetTop:0))/a,c=r.width/i,f=r.height/a;return{width:c,height:f,top:l,right:u+c,bottom:l+f,left:u,x:u,y:l}}function UC(e){var t=VC(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function KC(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&FC(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function HC(e){return e?(e.nodeName||"").toLowerCase():null}function qC(e){return RC(e).getComputedStyle(e)}function GC(e){return["table","td","th"].indexOf(HC(e))>=0}function XC(e){return((NC(e)?e.ownerDocument:e.document)||window.document).documentElement}function YC(e){return"html"===HC(e)?e:e.assignedSlot||e.parentNode||(FC(e)?e.host:null)||XC(e)}function JC(e){return MC(e)&&"fixed"!==qC(e).position?e.offsetParent:null}function $C(e){for(var t=RC(e),n=JC(e);n&&GC(n)&&"static"===qC(n).position;)n=JC(n);return n&&("html"===HC(n)||"body"===HC(n)&&"static"===qC(n).position)?t:n||function(e){var t=/firefox/i.test(zC());if(/Trident/i.test(zC())&&MC(e)&&"fixed"===qC(e).position)return null;var n=YC(e);for(FC(n)&&(n=n.host);MC(n)&&["html","body"].indexOf(HC(n))<0;){var r=qC(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}function QC(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function ZC(e,t,n){return LC(e,BC(t,n))}function eP(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function tP(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}var nP="top",rP="bottom",iP="right",aP="left",oP="auto",sP=[nP,rP,iP,aP],uP="start",lP="end",cP="clippingParents",fP="viewport",dP="popper",pP="reference",hP=sP.reduce((function(e,t){return e.concat([t+"-"+uP,t+"-"+lP])}),[]),vP=[].concat(sP,[oP]).reduce((function(e,t){return e.concat([t,t+"-"+uP,t+"-"+lP])}),[]),yP=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];var mP={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,r=e.name,i=e.options,a=n.elements.arrow,o=n.modifiersData.popperOffsets,s=DC(n.placement),u=QC(s),l=[aP,iP].indexOf(s)>=0?"height":"width";if(a&&o){var c=function(e,t){return eP("number"!==typeof(e="function"===typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:tP(e,sP))}(i.padding,n),f=UC(a),d="y"===u?nP:aP,p="y"===u?rP:iP,h=n.rects.reference[l]+n.rects.reference[u]-o[u]-n.rects.popper[l],v=o[u]-n.rects.reference[u],y=$C(a),m=y?"y"===u?y.clientHeight||0:y.clientWidth||0:0,g=h/2-v/2,b=c[d],x=m-f[l]-c[p],w=m/2-f[l]/2+g,S=ZC(b,w,x),T=u;n.modifiersData[r]=((t={})[T]=S,t.centerOffset=S-w,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!==typeof r||(r=t.elements.popper.querySelector(r)))&&KC(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function gP(e){return e.split("-")[1]}var bP={top:"auto",right:"auto",bottom:"auto",left:"auto"};function xP(e){var t,n=e.popper,r=e.popperRect,i=e.placement,a=e.variation,o=e.offsets,s=e.position,u=e.gpuAcceleration,l=e.adaptive,c=e.roundOffsets,f=e.isFixed,d=o.x,p=void 0===d?0:d,h=o.y,v=void 0===h?0:h,y="function"===typeof c?c({x:p,y:v}):{x:p,y:v};p=y.x,v=y.y;var m=o.hasOwnProperty("x"),g=o.hasOwnProperty("y"),b=aP,x=nP,w=window;if(l){var S=$C(n),T="clientHeight",E="clientWidth";if(S===RC(n)&&"static"!==qC(S=XC(n)).position&&"absolute"===s&&(T="scrollHeight",E="scrollWidth"),i===nP||(i===aP||i===iP)&&a===lP)x=rP,v-=(f&&S===w&&w.visualViewport?w.visualViewport.height:S[T])-r.height,v*=u?1:-1;if(i===aP||(i===nP||i===rP)&&a===lP)b=iP,p-=(f&&S===w&&w.visualViewport?w.visualViewport.width:S[E])-r.width,p*=u?1:-1}var k,_=Object.assign({position:s},l&&bP),C=!0===c?function(e,t){var n=e.x,r=e.y,i=t.devicePixelRatio||1;return{x:jC(n*i)/i||0,y:jC(r*i)/i||0}}({x:p,y:v},RC(n)):{x:p,y:v};return p=C.x,v=C.y,u?Object.assign({},_,((k={})[x]=g?"0":"",k[b]=m?"0":"",k.transform=(w.devicePixelRatio||1)<=1?"translate("+p+"px, "+v+"px)":"translate3d("+p+"px, "+v+"px, 0)",k)):Object.assign({},_,((t={})[x]=g?v+"px":"",t[b]=m?p+"px":"",t.transform="",t))}var wP={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=void 0===r||r,a=n.adaptive,o=void 0===a||a,s=n.roundOffsets,u=void 0===s||s,l={placement:DC(t.placement),variation:gP(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,xP(Object.assign({},l,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:u})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,xP(Object.assign({},l,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:u})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},SP={passive:!0};var TP={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,a=void 0===i||i,o=r.resize,s=void 0===o||o,u=RC(t.elements.popper),l=[].concat(t.scrollParents.reference,t.scrollParents.popper);return a&&l.forEach((function(e){e.addEventListener("scroll",n.update,SP)})),s&&u.addEventListener("resize",n.update,SP),function(){a&&l.forEach((function(e){e.removeEventListener("scroll",n.update,SP)})),s&&u.removeEventListener("resize",n.update,SP)}},data:{}},EP={left:"right",right:"left",bottom:"top",top:"bottom"};function kP(e){return e.replace(/left|right|bottom|top/g,(function(e){return EP[e]}))}var _P={start:"end",end:"start"};function CP(e){return e.replace(/start|end/g,(function(e){return _P[e]}))}function PP(e){var t=RC(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function OP(e){return VC(XC(e)).left+PP(e).scrollLeft}function IP(e){var t=qC(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function AP(e){return["html","body","#document"].indexOf(HC(e))>=0?e.ownerDocument.body:MC(e)&&IP(e)?e:AP(YC(e))}function DP(e,t){var n;void 0===t&&(t=[]);var r=AP(e),i=r===(null==(n=e.ownerDocument)?void 0:n.body),a=RC(r),o=i?[a].concat(a.visualViewport||[],IP(r)?r:[]):r,s=t.concat(o);return i?s:s.concat(DP(YC(o)))}function RP(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function NP(e,t,n){return t===fP?RP(function(e,t){var n=RC(e),r=XC(e),i=n.visualViewport,a=r.clientWidth,o=r.clientHeight,s=0,u=0;if(i){a=i.width,o=i.height;var l=WC();(l||!l&&"fixed"===t)&&(s=i.offsetLeft,u=i.offsetTop)}return{width:a,height:o,x:s+OP(e),y:u}}(e,n)):NC(t)?function(e,t){var n=VC(e,!1,"fixed"===t);return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}(t,n):RP(function(e){var t,n=XC(e),r=PP(e),i=null==(t=e.ownerDocument)?void 0:t.body,a=LC(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=LC(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),s=-r.scrollLeft+OP(e),u=-r.scrollTop;return"rtl"===qC(i||n).direction&&(s+=LC(n.clientWidth,i?i.clientWidth:0)-a),{width:a,height:o,x:s,y:u}}(XC(e)))}function MP(e,t,n,r){var i="clippingParents"===t?function(e){var t=DP(YC(e)),n=["absolute","fixed"].indexOf(qC(e).position)>=0&&MC(e)?$C(e):e;return NC(n)?t.filter((function(e){return NC(e)&&KC(e,n)&&"body"!==HC(e)})):[]}(e):[].concat(t),a=[].concat(i,[n]),o=a[0],s=a.reduce((function(t,n){var i=NP(e,n,r);return t.top=LC(i.top,t.top),t.right=BC(i.right,t.right),t.bottom=BC(i.bottom,t.bottom),t.left=LC(i.left,t.left),t}),NP(e,o,r));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function FP(e){var t,n=e.reference,r=e.element,i=e.placement,a=i?DC(i):null,o=i?gP(i):null,s=n.x+n.width/2-r.width/2,u=n.y+n.height/2-r.height/2;switch(a){case nP:t={x:s,y:n.y-r.height};break;case rP:t={x:s,y:n.y+n.height};break;case iP:t={x:n.x+n.width,y:u};break;case aP:t={x:n.x-r.width,y:u};break;default:t={x:n.x,y:n.y}}var l=a?QC(a):null;if(null!=l){var c="y"===l?"height":"width";switch(o){case uP:t[l]=t[l]-(n[c]/2-r[c]/2);break;case lP:t[l]=t[l]+(n[c]/2-r[c]/2)}}return t}function LP(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=void 0===r?e.placement:r,a=n.strategy,o=void 0===a?e.strategy:a,s=n.boundary,u=void 0===s?cP:s,l=n.rootBoundary,c=void 0===l?fP:l,f=n.elementContext,d=void 0===f?dP:f,p=n.altBoundary,h=void 0!==p&&p,v=n.padding,y=void 0===v?0:v,m=eP("number"!==typeof y?y:tP(y,sP)),g=d===dP?pP:dP,b=e.rects.popper,x=e.elements[h?g:d],w=MP(NC(x)?x:x.contextElement||XC(e.elements.popper),u,c,o),S=VC(e.elements.reference),T=FP({reference:S,element:b,strategy:"absolute",placement:i}),E=RP(Object.assign({},b,T)),k=d===dP?E:S,_={top:w.top-k.top+m.top,bottom:k.bottom-w.bottom+m.bottom,left:w.left-k.left+m.left,right:k.right-w.right+m.right},C=e.modifiersData.offset;if(d===dP&&C){var P=C[i];Object.keys(_).forEach((function(e){var t=[iP,rP].indexOf(e)>=0?1:-1,n=[nP,rP].indexOf(e)>=0?"y":"x";_[e]+=P[n]*t}))}return _}var BP={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,a=void 0===i||i,o=n.altAxis,s=void 0===o||o,u=n.fallbackPlacements,l=n.padding,c=n.boundary,f=n.rootBoundary,d=n.altBoundary,p=n.flipVariations,h=void 0===p||p,v=n.allowedAutoPlacements,y=t.options.placement,m=DC(y),g=u||(m===y||!h?[kP(y)]:function(e){if(DC(e)===oP)return[];var t=kP(e);return[CP(e),t,CP(t)]}(y)),b=[y].concat(g).reduce((function(e,n){return e.concat(DC(n)===oP?function(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=n.boundary,a=n.rootBoundary,o=n.padding,s=n.flipVariations,u=n.allowedAutoPlacements,l=void 0===u?vP:u,c=gP(r),f=c?s?hP:hP.filter((function(e){return gP(e)===c})):sP,d=f.filter((function(e){return l.indexOf(e)>=0}));0===d.length&&(d=f);var p=d.reduce((function(t,n){return t[n]=LP(e,{placement:n,boundary:i,rootBoundary:a,padding:o})[DC(n)],t}),{});return Object.keys(p).sort((function(e,t){return p[e]-p[t]}))}(t,{placement:n,boundary:c,rootBoundary:f,padding:l,flipVariations:h,allowedAutoPlacements:v}):n)}),[]),x=t.rects.reference,w=t.rects.popper,S=new Map,T=!0,E=b[0],k=0;k<b.length;k++){var _=b[k],C=DC(_),P=gP(_)===uP,O=[nP,rP].indexOf(C)>=0,I=O?"width":"height",A=LP(t,{placement:_,boundary:c,rootBoundary:f,altBoundary:d,padding:l}),D=O?P?iP:aP:P?rP:nP;x[I]>w[I]&&(D=kP(D));var R=kP(D),N=[];if(a&&N.push(A[C]<=0),s&&N.push(A[D]<=0,A[R]<=0),N.every((function(e){return e}))){E=_,T=!1;break}S.set(_,N)}if(T)for(var M=function(e){var t=b.find((function(t){var n=S.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return E=t,"break"},F=h?3:1;F>0;F--){if("break"===M(F))break}t.placement!==E&&(t.modifiersData[r]._skip=!0,t.placement=E,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function jP(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function zP(e){return[nP,iP,rP,aP].some((function(t){return e[t]>=0}))}var WP={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.offset,a=void 0===i?[0,0]:i,o=vP.reduce((function(e,n){return e[n]=function(e,t,n){var r=DC(e),i=[aP,nP].indexOf(r)>=0?-1:1,a="function"===typeof n?n(Object.assign({},t,{placement:e})):n,o=a[0],s=a[1];return o=o||0,s=(s||0)*i,[aP,iP].indexOf(r)>=0?{x:s,y:o}:{x:o,y:s}}(n,t.rects,a),e}),{}),s=o[t.placement],u=s.x,l=s.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=u,t.modifiersData.popperOffsets.y+=l),t.modifiersData[r]=o}};var VP={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,a=void 0===i||i,o=n.altAxis,s=void 0!==o&&o,u=n.boundary,l=n.rootBoundary,c=n.altBoundary,f=n.padding,d=n.tether,p=void 0===d||d,h=n.tetherOffset,v=void 0===h?0:h,y=LP(t,{boundary:u,rootBoundary:l,padding:f,altBoundary:c}),m=DC(t.placement),g=gP(t.placement),b=!g,x=QC(m),w="x"===x?"y":"x",S=t.modifiersData.popperOffsets,T=t.rects.reference,E=t.rects.popper,k="function"===typeof v?v(Object.assign({},t.rects,{placement:t.placement})):v,_="number"===typeof k?{mainAxis:k,altAxis:k}:Object.assign({mainAxis:0,altAxis:0},k),C=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,P={x:0,y:0};if(S){if(a){var O,I="y"===x?nP:aP,A="y"===x?rP:iP,D="y"===x?"height":"width",R=S[x],N=R+y[I],M=R-y[A],F=p?-E[D]/2:0,L=g===uP?T[D]:E[D],B=g===uP?-E[D]:-T[D],j=t.elements.arrow,z=p&&j?UC(j):{width:0,height:0},W=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},V=W[I],U=W[A],K=ZC(0,T[D],z[D]),H=b?T[D]/2-F-K-V-_.mainAxis:L-K-V-_.mainAxis,q=b?-T[D]/2+F+K+U+_.mainAxis:B+K+U+_.mainAxis,G=t.elements.arrow&&$C(t.elements.arrow),X=G?"y"===x?G.clientTop||0:G.clientLeft||0:0,Y=null!=(O=null==C?void 0:C[x])?O:0,J=R+q-Y,$=ZC(p?BC(N,R+H-Y-X):N,R,p?LC(M,J):M);S[x]=$,P[x]=$-R}if(s){var Q,Z="x"===x?nP:aP,ee="x"===x?rP:iP,te=S[w],ne="y"===w?"height":"width",re=te+y[Z],ie=te-y[ee],ae=-1!==[nP,aP].indexOf(m),oe=null!=(Q=null==C?void 0:C[w])?Q:0,se=ae?re:te-T[ne]-E[ne]-oe+_.altAxis,ue=ae?te+T[ne]+E[ne]-oe-_.altAxis:ie,le=p&&ae?function(e,t,n){var r=ZC(e,t,n);return r>n?n:r}(se,te,ue):ZC(p?se:re,te,p?ue:ie);S[w]=le,P[w]=le-te}t.modifiersData[r]=P}},requiresIfExists:["offset"]};function UP(e,t,n){void 0===n&&(n=!1);var r=MC(t),i=MC(t)&&function(e){var t=e.getBoundingClientRect(),n=jC(t.width)/e.offsetWidth||1,r=jC(t.height)/e.offsetHeight||1;return 1!==n||1!==r}(t),a=XC(t),o=VC(e,i,n),s={scrollLeft:0,scrollTop:0},u={x:0,y:0};return(r||!r&&!n)&&(("body"!==HC(t)||IP(a))&&(s=function(e){return e!==RC(e)&&MC(e)?{scrollLeft:(t=e).scrollLeft,scrollTop:t.scrollTop}:PP(e);var t}(t)),MC(t)?((u=VC(t,!0)).x+=t.clientLeft,u.y+=t.clientTop):a&&(u.x=OP(a))),{x:o.left+s.scrollLeft-u.x,y:o.top+s.scrollTop-u.y,width:o.width,height:o.height}}function KP(e){var t=new Map,n=new Set,r=[];function i(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var r=t.get(e);r&&i(r)}})),r.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||i(e)})),r}function HP(e){var t;return function(){return t||(t=new Promise((function(n){Promise.resolve().then((function(){t=void 0,n(e())}))}))),t}}var qP={placement:"bottom",modifiers:[],strategy:"absolute"};function GP(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"===typeof e.getBoundingClientRect)}))}function XP(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,i=t.defaultOptions,a=void 0===i?qP:i;return function(e,t,n){void 0===n&&(n=a);var i={placement:"bottom",orderedModifiers:[],options:Object.assign({},qP,a),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},o=[],s=!1,u={state:i,setOptions:function(n){var s="function"===typeof n?n(i.options):n;l(),i.options=Object.assign({},a,i.options,s),i.scrollParents={reference:NC(e)?DP(e):e.contextElement?DP(e.contextElement):[],popper:DP(t)};var c=function(e){var t=KP(e);return yP.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}(function(e){var t=e.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}([].concat(r,i.options.modifiers)));return i.orderedModifiers=c.filter((function(e){return e.enabled})),i.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,a=e.effect;if("function"===typeof a){var s=a({state:i,name:t,instance:u,options:r}),l=function(){};o.push(s||l)}})),u.update()},forceUpdate:function(){if(!s){var e=i.elements,t=e.reference,n=e.popper;if(GP(t,n)){i.rects={reference:UP(t,$C(n),"fixed"===i.options.strategy),popper:UC(n)},i.reset=!1,i.placement=i.options.placement,i.orderedModifiers.forEach((function(e){return i.modifiersData[e.name]=Object.assign({},e.data)}));for(var r=0;r<i.orderedModifiers.length;r++)if(!0!==i.reset){var a=i.orderedModifiers[r],o=a.fn,l=a.options,c=void 0===l?{}:l,f=a.name;"function"===typeof o&&(i=o({state:i,options:c,name:f,instance:u})||i)}else i.reset=!1,r=-1}}},update:HP((function(){return new Promise((function(e){u.forceUpdate(),e(i)}))})),destroy:function(){l(),s=!0}};if(!GP(e,t))return u;function l(){o.forEach((function(e){return e()})),o=[]}return u.setOptions(n).then((function(e){!s&&n.onFirstUpdate&&n.onFirstUpdate(e)})),u}}var YP=XP({defaultModifiers:[{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,a=t.modifiersData.preventOverflow,o=LP(t,{elementContext:"reference"}),s=LP(t,{altBoundary:!0}),u=jP(o,r),l=jP(s,i,a),c=zP(u),f=zP(l);t.modifiersData[n]={referenceClippingOffsets:u,popperEscapeOffsets:l,isReferenceHidden:c,hasPopperEscaped:f},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":f})}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=FP({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},wP,TP,WP,BP,VP,mP]}),JP=["enabled","placement","strategy","modifiers"];var $P={name:"applyStyles",enabled:!1,phase:"afterWrite",fn:function(){}},QP={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:function(e){var t=e.state;return function(){var e=t.elements,n=e.reference,r=e.popper;if("removeAttribute"in n){var i=(n.getAttribute("aria-describedby")||"").split(",").filter((function(e){return e.trim()!==r.id}));i.length?n.setAttribute("aria-describedby",i.join(",")):n.removeAttribute("aria-describedby")}}},fn:function(e){var t,n=e.state.elements,r=n.popper,i=n.reference,a=null==(t=r.getAttribute("role"))?void 0:t.toLowerCase();if(r.id&&"tooltip"===a&&"setAttribute"in i){var o=i.getAttribute("aria-describedby");if(o&&-1!==o.split(",").indexOf(r.id))return;i.setAttribute("aria-describedby",o?"".concat(o,",").concat(r.id):r.id)}}},ZP=[];var eO=function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=r.enabled,a=void 0===i||i,o=r.placement,s=void 0===o?"bottom":o,u=r.strategy,c=void 0===u?"absolute":u,d=r.modifiers,p=void 0===d?ZP:d,h=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(r,JP),v=(0,t.useRef)(p),y=(0,t.useRef)(),m=(0,t.useCallback)((function(){var e;null==(e=y.current)||e.update()}),[]),g=(0,t.useCallback)((function(){var e;null==(e=y.current)||e.forceUpdate()}),[]),b=l(AC((0,t.useState)({placement:s,update:m,forceUpdate:g,attributes:{},styles:{popper:{},arrow:{}}})),2),x=b[0],w=b[1],S=(0,t.useMemo)((function(){return{name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:function(e){var t=e.state,n={},r={};Object.keys(t.elements).forEach((function(e){n[e]=t.styles[e],r[e]=t.attributes[e]})),w({state:t,styles:n,attributes:r,update:m,forceUpdate:g,placement:t.placement})}}}),[m,g,w]),T=(0,t.useMemo)((function(){return IC(v.current,p)||(v.current=p),v.current}),[p]);return(0,t.useEffect)((function(){y.current&&a&&y.current.setOptions({placement:s,strategy:c,modifiers:[].concat(f(T),[S,$P])})}),[c,s,S,a,T]),(0,t.useEffect)((function(){if(a&&null!=e&&null!=n)return y.current=YP(e,n,Object.assign({},h,{placement:s,strategy:c,modifiers:[].concat(f(T),[QP,S])})),function(){null!=y.current&&(y.current.destroy(),y.current=void 0,w((function(e){return Object.assign({},e,{attributes:{},styles:{popper:{}}})})))}}),[a,e,n]),x},tO=n(2391),nO=n.n(tO),rO=function(){};var iO=function(e){return e&&("current"in e?e.current:e)},aO={click:"mousedown",mouseup:"mousedown",pointerup:"pointerdown"};var oO=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:rO,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=r.disabled,a=r.clickTrigger,o=void 0===a?"click":a,s=(0,t.useRef)(!1),u=(0,t.useRef)(!1),l=(0,t.useCallback)((function(t){var n,r=iO(e);nO()(!!r,"ClickOutside captured a close event but does not have a ref to compare it to. useClickOutside(), should be passed a ref that resolves to a DOM node"),s.current=!r||!!((n=t).metaKey||n.altKey||n.ctrlKey||n.shiftKey)||!function(e){return 0===e.button}(t)||!!b_(r,t.target)||u.current,u.current=!1}),[e]),c=FE((function(t){var n=iO(e);n&&b_(n,t.target)&&(u.current=!0)})),f=FE((function(e){s.current||n(e)}));(0,t.useEffect)((function(){var t,n;if(!i&&null!=e){var r=wk(iO(e)),a=r.defaultView||window,s=null!=(t=a.event)?t:null==(n=a.parent)?void 0:n.event,u=null;aO[o]&&(u=Hk(r,aO[o],c,!0));var d=Hk(r,o,l,!0),p=Hk(r,o,(function(e){e!==s?f(e):s=void 0})),h=[];return"ontouchstart"in r.documentElement&&(h=[].slice.call(r.body.children).map((function(e){return Hk(e,"mousemove",rO)}))),function(){null==u||u(),d(),p(),h.forEach((function(e){return e()}))}}}),[e,i,o,l,c,f])};function sO(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Array.isArray(e)?e:Object.keys(e).map((function(t){return e[t].name=t,e[t]}))}function uO(e){var t,n,r,i,a,o=e.enabled,s=e.enableEvents,u=e.placement,l=e.flip,c=e.offset,f=e.fixed,d=e.containerPadding,p=e.arrowElement,h=e.popperConfig,v=void 0===h?{}:h,y=function(e){var t={};return Array.isArray(e)?(null==e||e.forEach((function(e){t[e.name]=e})),t):e||t}(v.modifiers);return Object.assign({},v,{placement:u,enabled:o,strategy:f?"fixed":v.strategy,modifiers:sO(Object.assign({},y,{eventListeners:{enabled:s,options:null==(t=y.eventListeners)?void 0:t.options},preventOverflow:Object.assign({},y.preventOverflow,{options:d?Object.assign({padding:d},null==(n=y.preventOverflow)?void 0:n.options):null==(r=y.preventOverflow)?void 0:r.options}),offset:{options:Object.assign({offset:c},null==(i=y.offset)?void 0:i.options)},arrow:Object.assign({},y.arrow,{enabled:!!p,options:Object.assign({},null==(a=y.arrow)?void 0:a.options,{element:p})}),flip:Object.assign({enabled:!!l},y.flip)}))})}var lO=["children"];var cO=function(){};function fO(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=(0,t.useContext)(CC),r=l((0,t.useState)(null),2),i=r[0],a=r[1],o=(0,t.useRef)(!1),s=e.flip,u=e.offset,c=e.rootCloseEvent,f=e.fixed,d=void 0!==f&&f,p=e.placement,h=e.popperConfig,v=void 0===h?{}:h,y=e.enableEventListeners,m=void 0===y||y,g=e.usePopper,b=void 0===g?!!n:g,x=null==(null==n?void 0:n.show)?!!e.show:n.show;x&&!o.current&&(o.current=!0);var w=n||{},S=w.placement,T=w.setMenu,E=w.menuElement,k=w.toggleElement,_=eO(k,E,uO({placement:p||S||"bottom-start",enabled:b,enableEvents:null==m?x:m,offset:u,flip:s,fixed:d,arrowElement:i,popperConfig:v})),C=Object.assign({ref:T||cO,"aria-labelledby":null==k?void 0:k.id},_.attributes.popper,{style:_.styles.popper}),P={show:x,placement:S,hasShown:o.current,toggle:null==n?void 0:n.toggle,popper:b?_:null,arrowProps:b?Object.assign({ref:a},_.attributes.arrow,{style:_.styles.arrow}):{}};return oO(E,(function(e){null==n||n.toggle(!1,e)}),{clickTrigger:c,disabled:!x}),[C,P]}function dO(e){var t=e.children,n=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,lO),r=l(fO(n),2),i=r[0],a=r[1];return(0,hs.jsx)(hs.Fragment,{children:t(i,a)})}dO.displayName="DropdownMenu",dO.defaultProps={usePopper:!0};var pO=dO,hO={prefix:String(Math.round(1e10*Math.random())),current:0,isSSR:!1},vO=t.createContext(hO);var yO=Boolean("undefined"!==typeof window&&window.document&&window.document.createElement),mO=new WeakMap;function gO(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=(0,t.useContext)(vO),r=(0,t.useRef)(null);if(null===r.current&&!e){var i,a,o=null===(i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)||void 0===i||null===(a=i.ReactCurrentOwner)||void 0===a?void 0:a.current;if(o){var s=mO.get(o);null==s?mO.set(o,{id:n.current,state:o.memoizedState}):o.memoizedState!==s.state&&(n.current=s.id,mO.delete(o))}r.current=++n.current}return r.current}var bO="function"===typeof t.useId?function(e){var n=t.useId(),r=l((0,t.useState)("function"===typeof t.useSyncExternalStore?t.useSyncExternalStore(SO,xO,wO):(0,t.useContext)(vO).isSSR),1)[0]?"react-aria":"react-aria".concat(hO.prefix);return e||"".concat(r,"-").concat(n)}:function(e){var n=(0,t.useContext)(vO);n!==hO||yO||console.warn("When server rendering, you must wrap your application in an <SSRProvider> to ensure consistent ids are generated between the client and server.");var r=gO(!!e),i="react-aria".concat(n.prefix);return e||"".concat(i,"-").concat(r)};function xO(){return!1}function wO(){return!0}function SO(e){return function(){}}var TO=function(e){var t;return"menu"===(null==(t=e.getAttribute("role"))?void 0:t.toLowerCase())},EO=function(){};function kO(){var e=bO(),n=(0,t.useContext)(CC)||{},r=n.show,i=void 0!==r&&r,a=n.toggle,o=void 0===a?EO:a,s=n.setToggle,u=n.menuElement,l=(0,t.useCallback)((function(e){o(!i,e)}),[i,o]),c={id:e,ref:s||EO,onClick:l,"aria-expanded":!!i};return u&&TO(u)&&(c["aria-haspopup"]=!0),[c,{show:i,toggle:o}]}function _O(e){var t=e.children,n=l(kO(),2),r=n[0],i=n[1];return(0,hs.jsx)(hs.Fragment,{children:t(r,i)})}_O.displayName="DropdownToggle";var CO=_O,PO=["eventKey","disabled","onClick","active","as"];function OO(e){var n=e.key,r=e.href,i=e.active,a=e.disabled,o=e.onClick,s=(0,t.useContext)(AE),u=((0,t.useContext)(OE)||{}).activeKey,l=IE(n,r),c=null==i&&null!=n?IE(u)===l:i;return[Me({onClick:FE((function(e){a||(null==o||o(e),s&&!e.isPropagationStopped()&&s(l,e))})),"aria-disabled":a||void 0,"aria-selected":c},NE("dropdown-item"),""),{isActive:c}]}var IO=t.forwardRef((function(e,t){var n=e.eventKey,r=e.disabled,i=e.onClick,a=e.active,o=e.as,s=void 0===o?zE:o,u=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,PO),c=l(OO({key:n,href:u.href,disabled:r,onClick:i,active:a}),1)[0];return(0,hs.jsx)(s,Object.assign({},u,{ref:t},c))}));IO.displayName="DropdownItem";var AO=IO;function DO(){var e=kE(),n=(0,t.useRef)(null),r=(0,t.useCallback)((function(t){n.current=t,e()}),[e]);return[n,r]}function RO(e){var n=e.defaultShow,r=e.show,i=e.onSelect,a=e.onToggle,o=e.itemSelector,s=void 0===o?"* [".concat(NE("dropdown-item"),"]"):o,u=e.focusFirstItemOnShow,c=e.placement,f=void 0===c?"bottom-start":c,d=e.children,p=k_(),h=l(_C(r,n,a),2),v=h[0],y=h[1],m=l(DO(),2),g=m[0],b=m[1],x=g.current,w=l(DO(),2),S=w[0],T=w[1],E=S.current,k=ok(v),_=(0,t.useRef)(null),C=(0,t.useRef)(!1),P=(0,t.useContext)(AE),O=(0,t.useCallback)((function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null==t?void 0:t.type;y(e,{originalEvent:t,source:n})}),[y]),I=FE((function(e,t){null==i||i(e,t),O(!1,t,"select"),t.isPropagationStopped()||null==P||P(e,t)})),A=(0,t.useMemo)((function(){return{toggle:O,placement:f,show:v,menuElement:x,toggleElement:E,setMenu:b,setToggle:T}}),[O,f,v,x,E,b,T]);x&&k&&!v&&(C.current=x.contains(x.ownerDocument.activeElement));var D=FE((function(){E&&E.focus&&E.focus()})),R=FE((function(){var e=_.current,t=u;if(null==t&&(t=!(!g.current||!TO(g.current))&&"keyboard"),!1!==t&&("keyboard"!==t||/^key.+$/.test(e))){var n=EE(g.current,s)[0];n&&n.focus&&n.focus()}}));(0,t.useEffect)((function(){v?R():C.current&&(C.current=!1,D())}),[v,C,D,R]),(0,t.useEffect)((function(){_.current=null}));var N=function(e,t){if(!g.current)return null;var n=EE(g.current,s),r=n.indexOf(e)+t;return n[r=Math.max(0,Math.min(r,n.length))]};return function(e,n,r){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=FE(r);(0,t.useEffect)((function(){var t="function"===typeof e?e():e;return t.addEventListener(n,a,i),function(){return t.removeEventListener(n,a,i)}}),[e])}((0,t.useCallback)((function(){return p.document}),[p]),"keydown",(function(e){var t,n,r=e.key,i=e.target,a=null==(t=g.current)?void 0:t.contains(i),o=null==(n=S.current)?void 0:n.contains(i);if((!/input|textarea/i.test(i.tagName)||!(" "===r||"Escape"!==r&&a||"Escape"===r&&"search"===i.type))&&(a||o)&&("Tab"!==r||g.current&&v)){_.current=e.type;var s={originalEvent:e,source:e.type};switch(r){case"ArrowUp":var u=N(i,-1);return u&&u.focus&&u.focus(),void e.preventDefault();case"ArrowDown":if(e.preventDefault(),v){var l=N(i,1);l&&l.focus&&l.focus()}else y(!0,s);return;case"Tab":Uk(i.ownerDocument,"keyup",(function(e){var t;("Tab"!==e.key||e.target)&&null!=(t=g.current)&&t.contains(e.target)||y(!1,s)}),{once:!0});break;case"Escape":"Escape"===r&&(e.preventDefault(),e.stopPropagation()),y(!1,s)}}})),(0,hs.jsx)(AE.Provider,{value:I,children:(0,hs.jsx)(CC.Provider,{value:A,children:d})})}RO.displayName="Dropdown",RO.Menu=pO,RO.Toggle=CO,RO.Item=AO;var NO=RO,MO=t.createContext({});MO.displayName="DropdownContext";var FO=MO,LO=["bsPrefix","className","eventKey","disabled","onClick","active","as"],BO=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.eventKey,a=e.disabled,o=void 0!==a&&a,s=e.onClick,u=e.active,c=e.as,f=void 0===c?fk:c,d=He(e,LO),p=dE(n,"dropdown-item"),h=l(OO({key:i,href:d.href,disabled:o,onClick:s,active:u}),2),v=h[0],y=h[1];return(0,hs.jsx)(f,Le(Le(Le({},d),v),{},{ref:t,className:lE()(r,p,y.isActive&&"active",o&&"disabled")}))}));BO.displayName="DropdownItem";var jO=BO,zO=t.createContext(null);zO.displayName="InputGroupContext";var WO=zO;function VO(e,t){return e}var UO=["bsPrefix","className","align","rootCloseEvent","flip","show","renderOnMount","as","popperConfig","variant"];function KO(e,t,n){var r=e?n?"bottom-start":"bottom-end":n?"bottom-end":"bottom-start";return"up"===t?r=e?n?"top-start":"top-end":n?"top-end":"top-start":"end"===t?r=e?n?"left-end":"right-end":n?"left-start":"right-start":"start"===t?r=e?n?"right-end":"left-end":n?"right-start":"left-start":"down-centered"===t?r="bottom":"up-centered"===t&&(r="top"),r}var HO=t.forwardRef((function(e,n){var r=e.bsPrefix,i=e.className,a=e.align,o=e.rootCloseEvent,s=e.flip,u=void 0===s||s,c=e.show,f=e.renderOnMount,d=e.as,p=void 0===d?"div":d,h=e.popperConfig,v=e.variant,y=He(e,UO),m=!1,g=(0,t.useContext)($E),b=dE(r,"dropdown-menu"),x=(0,t.useContext)(FO),w=x.align,S=x.drop,T=x.isRTL;a=a||w;var E=(0,t.useContext)(WO),k=[];if(a)if("object"===typeof a){var _=Object.keys(a);if(_.length){var C=_[0],P=a[C];m="start"===P,k.push("".concat(b,"-").concat(C,"-").concat(P))}}else"end"===a&&(m=!0);var O=KO(m,S,T),I=l(fO({flip:u,rootCloseEvent:o,show:c,usePopper:!g&&0===k.length,offset:[0,2],popperConfig:h,placement:O}),2),A=I[0],D=I[1],R=D.hasShown,N=D.popper,M=D.show,F=D.toggle;if(A.ref=CE(VO(n),A.ref),uk((function(){M&&(null==N||N.update())}),[M]),!R&&!f&&!E)return null;"string"!==typeof p&&(A.show=M,A.close=function(){return null==F?void 0:F(!1)},A.align=a);var L=y.style;return null!=N&&N.placement&&(L=Le(Le({},y.style),A.style),y["x-placement"]=N.placement),(0,hs.jsx)(p,Le(Le(Le(Le({},y),A),{},{style:L},(k.length||g)&&{"data-bs-popper":"static"}),{},{className:lE().apply(void 0,[i,b,M&&"show",m&&"".concat(b,"-end"),v&&"".concat(b,"-").concat(v)].concat(k))}))}));HO.displayName="DropdownMenu";var qO=HO,GO=["as","bsPrefix","variant","size","active","disabled","className"],XO=t.forwardRef((function(e,t){var n=e.as,r=e.bsPrefix,i=e.variant,a=void 0===i?"primary":i,o=e.size,s=e.active,u=void 0!==s&&s,c=e.disabled,f=void 0!==c&&c,d=e.className,p=He(e,GO),h=dE(r,"btn"),v=l(BE(Le({tagName:n,disabled:f},p)),2),y=v[0],m=v[1].tagName;return(0,hs.jsx)(m,Le(Le(Le({},y),p),{},{ref:t,disabled:f,className:lE()(d,h,u&&"active",a&&"".concat(h,"-").concat(a),o&&"".concat(h,"-").concat(o),p.href&&f&&"disabled")}))}));XO.displayName="Button";var YO=XO,JO=["bsPrefix","split","className","childBsPrefix","as"],$O=t.forwardRef((function(e,n){var r=e.bsPrefix,i=e.split,a=e.className,o=e.childBsPrefix,s=e.as,u=void 0===s?YO:s,c=He(e,JO),f=dE(r,"dropdown-toggle"),d=(0,t.useContext)(CC);void 0!==o&&(c.bsPrefix=o);var p=l(kO(),1)[0];return p.ref=CE(p.ref,VO(n)),(0,hs.jsx)(u,Le(Le({className:lE()(a,f,i&&"".concat(f,"-split"),(null==d?void 0:d.show)&&"show")},p),c))}));$O.displayName="DropdownToggle";var QO=$O,ZO=["bsPrefix","drop","show","className","align","onSelect","onToggle","focusFirstItemOnShow","as","navbar","autoClose"],eI=rk("dropdown-header",{defaultProps:{role:"heading"}}),tI=rk("dropdown-divider",{Component:"hr",defaultProps:{role:"separator"}}),nI=rk("dropdown-item-text",{Component:"span"}),rI=t.forwardRef((function(e,n){var r=bE(e,{show:"onToggle"}),i=r.bsPrefix,a=r.drop,o=void 0===a?"down":a,s=r.show,u=r.className,l=r.align,c=void 0===l?"start":l,f=r.onSelect,d=r.onToggle,p=r.focusFirstItemOnShow,h=r.as,v=void 0===h?"div":h,y=(r.navbar,r.autoClose),m=void 0===y||y,g=He(r,ZO),b=(0,t.useContext)(WO),x=dE(i,"dropdown"),w="rtl"===(0,t.useContext)(fE).dir,S=FE((function(e,t){var n;t.originalEvent.currentTarget!==document||"keydown"===t.source&&"Escape"!==t.originalEvent.key||(t.source="rootClose"),n=t.source,(!1===m?"click"===n:"inside"===m?"rootClose"!==n:"outside"!==m||"select"!==n)&&(null==d||d(e,t))})),T=KO("end"===c,o,w),E=(0,t.useMemo)((function(){return{align:c,drop:o,isRTL:w}}),[c,o,w]),k={down:x,"down-centered":"".concat(x,"-center"),up:"dropup","up-centered":"dropup-center dropup",end:"dropend",start:"dropstart"};return(0,hs.jsx)(FO.Provider,{value:E,children:(0,hs.jsx)(NO,{placement:T,show:s,onSelect:f,onToggle:S,focusFirstItemOnShow:p,itemSelector:".".concat(x,"-item:not(.disabled):not(:disabled)"),children:b?g.children:(0,hs.jsx)(v,Le(Le({},g),{},{ref:n,className:lE()(u,s&&"show",k[o])}))})})}));rI.displayName="Dropdown";var iI=Object.assign(rI,{Toggle:QO,Menu:qO,Item:jO,ItemText:nI,Divider:tI,Header:eI}),aI=["id","title","children","bsPrefix","className","rootCloseEvent","menuRole","disabled","active","renderMenuOnMount","menuVariant"],oI=t.forwardRef((function(e,t){var n=e.id,r=e.title,i=e.children,a=e.bsPrefix,o=e.className,s=e.rootCloseEvent,u=e.menuRole,l=e.disabled,c=e.active,f=e.renderMenuOnMount,d=e.menuVariant,p=He(e,aI),h=dE(void 0,"nav-item");return(0,hs.jsxs)(iI,Le(Le({ref:t},p),{},{className:lE()(o,h),children:[(0,hs.jsx)(iI.Toggle,{id:n,eventKey:null,active:c,disabled:l,childBsPrefix:a,as:hk,children:r}),(0,hs.jsx)(iI.Menu,{role:u,renderOnMount:f,rootCloseEvent:s,variant:d,children:i})]}))}));oI.displayName="NavDropdown";var sI=Object.assign(oI,{Item:iI.Item,ItemText:iI.ItemText,Divider:iI.Divider,Header:iI.Header});var uI=function(){return(0,hs.jsx)(kC,{className:"navbar",children:(0,hs.jsxs)(vE,{children:[(0,hs.jsx)(kC.Brand,{href:"/",children:"Teaching App"}),(0,hs.jsx)(kC.Toggle,{"aria-controls":"basic-navbar-nav"}),(0,hs.jsx)(kC.Collapse,{id:"basic-navbar-nav",children:(0,hs.jsxs)(mk,{className:"me-auto",children:[(0,hs.jsx)(mk.Link,{href:"/student",children:"Student"}),(0,hs.jsx)(mk.Link,{href:"/teacher",children:"Teacher"}),(0,hs.jsx)(mk.Link,{href:"/about",children:"About"}),(0,hs.jsxs)(sI,{title:"Options",id:"basic-nav-dropdown",children:[(0,hs.jsx)(sI.Item,{href:"#action/3.1",children:"Action"}),(0,hs.jsx)(sI.Item,{href:"#action/3.2",children:"Another action"}),(0,hs.jsx)(sI.Item,{href:"#action/3.3",children:"Something"}),(0,hs.jsx)(sI.Divider,{}),(0,hs.jsx)(sI.Item,{href:"#action/3.4",children:"Separated link"})]})]})})]})})};function lI(){return(0,hs.jsxs)(Oe,{children:[(0,hs.jsx)("div",{className:"",children:(0,hs.jsx)(uI,{})}),(0,hs.jsxs)(Ee,{children:[(0,hs.jsx)(Se,{path:"/",element:(0,hs.jsx)(ms,{})}),(0,hs.jsx)(Se,{path:"/teacher",element:(0,hs.jsx)(bs,{})}),(0,hs.jsx)(Se,{path:"/student",element:(0,hs.jsx)(oE,{})}),(0,hs.jsx)(Se,{path:"/about",element:(0,hs.jsx)(sE,{})})]})]})}var cI=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),i(e),a(e),o(e)}))};i.createRoot(document.getElementById("root")).render((0,hs.jsx)(t.StrictMode,{children:(0,hs.jsx)(lI,{})})),cI()}()}();
//# sourceMappingURL=main.23fa678d.js.map